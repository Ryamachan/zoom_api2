(self.webpackChunkvideosdk_ui_toolkit_angular_sample=self.webpackChunkvideosdk_ui_toolkit_angular_sample||[]).push([[792],{922:(Ro,Fh,Rd)=>{"use strict";let Ft=null,Ar=1;const $o=Symbol("SIGNAL");function Xe(e){const n=Ft;return Ft=e,n}function pE(e){if((!_a(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ar)){if(!e.producerMustRecompute(e)&&!Qt(e))return e.dirty=!1,void(e.lastCleanEpoch=Ar);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ar}}function Qt(e){Xc(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==r.version||(pE(r),s!==r.version))return!0}return!1}function Yc(e,n){if(function hE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Xc(e),1===e.liveConsumerNode.length)for(let s=0;s<e.producerNode.length;s++)Yc(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],u=e.liveConsumerNode[n];Xc(u),u.producerIndexOfThis[s]=n}}function _a(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Xc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Uh=null;function It(e){return"function"==typeof e}function Bh(e){const r=e(s=>{Error.call(s),s.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const mE=Bh(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((s,u)=>`${u+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function vE(e,n){if(e){const r=e.indexOf(n);0<=r&&e.splice(r,1)}}class Rn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const d of r)d.remove(this);else r.remove(this);const{initialTeardown:s}=this;if(It(s))try{s()}catch(d){n=d instanceof mE?d.errors:[d]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const d of u)try{pv(d)}catch(f){n=n??[],f instanceof mE?n=[...n,...f.errors]:n.push(f)}}if(n)throw new mE(n)}}add(n){var r;if(n&&n!==this)if(this.closed)pv(n);else{if(n instanceof Rn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(n)}}_hasParent(n){const{_parentage:r}=this;return r===n||Array.isArray(r)&&r.includes(n)}_addParent(n){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n}_removeParent(n){const{_parentage:r}=this;r===n?this._parentage=null:Array.isArray(r)&&vE(r,n)}remove(n){const{_finalizers:r}=this;r&&vE(r,n),n instanceof Rn&&n._removeParent(this)}}Rn.EMPTY=(()=>{const e=new Rn;return e.closed=!0,e})();const yE=Rn.EMPTY;function hD(e){return e instanceof Rn||e&&"closed"in e&&It(e.remove)&&It(e.add)&&It(e.unsubscribe)}function pv(e){It(e)?e():e.unsubscribe()}const tl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hv={setTimeout(e,n,...r){const{delegate:s}=hv;return s?.setTimeout?s.setTimeout(e,n,...r):setTimeout(e,n,...r)},clearTimeout(e){const{delegate:n}=hv;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fv(e){hv.setTimeout(()=>{const{onUnhandledError:n}=tl;if(!n)throw e;n(e)})}function $h(){}const iN=bE("C",void 0,void 0);function bE(e,n,r){return{kind:e,value:n,error:r}}let Da=null;function gv(e){if(tl.useDeprecatedSynchronousErrorHandling){const n=!Da;if(n&&(Da={errorThrown:!1,error:null}),e(),n){const{errorThrown:r,error:s}=Da;if(Da=null,r)throw s}}else e()}class Hh extends Rn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,hD(n)&&n.add(this)):this.destination=CE}static create(n,r,s){return new EE(n,r,s)}next(n){this.isStopped?mv(function fD(e){return bE("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?mv(function SE(e){return bE("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?mv(iN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pd=Function.prototype.bind;function Ui(e,n){return Pd.call(e,n)}class sN{constructor(n){this.partialObserver=n}next(n){const{partialObserver:r}=this;if(r.next)try{r.next(n)}catch(s){Gh(s)}}error(n){const{partialObserver:r}=this;if(r.error)try{r.error(n)}catch(s){Gh(s)}else Gh(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(r){Gh(r)}}}class EE extends Hh{constructor(n,r,s){let u;if(super(),It(n)||!n)u={next:n??void 0,error:r??void 0,complete:s??void 0};else{let d;this&&tl.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe(),u={next:n.next&&Ui(n.next,d),error:n.error&&Ui(n.error,d),complete:n.complete&&Ui(n.complete,d)}):u=n}this.destination=new sN(u)}}function Gh(e){tl.useDeprecatedSynchronousErrorHandling?function gD(e){tl.useDeprecatedSynchronousErrorHandling&&Da&&(Da.errorThrown=!0,Da.error=e)}(e):fv(e)}function mv(e,n){const{onStoppedNotification:r}=tl;r&&hv.setTimeout(()=>r(e,n))}const CE={closed:!0,next:$h,error:function Se(e){throw e},complete:$h},vv="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hs(e){return e}function wE(e){return 0===e.length?Hs:1===e.length?e[0]:function(r){return e.reduce((s,u)=>u(s),r)}}let gr=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const s=new e;return s.source=this,s.operator=r,s}subscribe(r,s,u){const d=function vD(e){return e&&e instanceof Hh||function mD(e){return e&&It(e.next)&&It(e.error)&&It(e.complete)}(e)&&hD(e)}(r)?r:new EE(r,s,u);return gv(()=>{const{operator:f,source:m}=this;d.add(f?f.call(d,m):m?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(r){try{return this._subscribe(r)}catch(s){r.error(s)}}forEach(r,s){return new(s=_E(s))((u,d)=>{const f=new EE({next:m=>{try{r(m)}catch(y){d(y),f.unsubscribe()}},error:d,complete:u});this.subscribe(f)})}_subscribe(r){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(r)}[vv](){return this}pipe(...r){return wE(r)(this)}toPromise(r){return new(r=_E(r))((s,u)=>{let d;this.subscribe(f=>d=f,f=>u(f),()=>s(d))})}}return e.create=n=>new e(n),e})();function _E(e){var n;return null!==(n=e??tl.Promise)&&void 0!==n?n:Promise}const yD=Bh(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pi=(()=>{class e extends gr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const s=new DE(this,this);return s.operator=r,s}_throwIfClosed(){if(this.closed)throw new yD}next(r){gv(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(r)}})}error(r){gv(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:s}=this;for(;s.length;)s.shift().error(r)}})}complete(){gv(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:s,isStopped:u,observers:d}=this;return s||u?yE:(this.currentObservers=null,d.push(r),new Rn(()=>{this.currentObservers=null,vE(d,r)}))}_checkFinalizedStatuses(r){const{hasError:s,thrownError:u,isStopped:d}=this;s?r.error(u):d&&r.complete()}asObservable(){const r=new gr;return r.source=this,r}}return e.create=(n,r)=>new DE(n,r),e})();class DE extends pi{constructor(n,r){super(),this.destination=n,this.source=r}next(n){var r,s;null===(s=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===s||s.call(r,n)}error(n){var r,s;null===(s=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===s||s.call(r,n)}complete(){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===r||r.call(n)}_subscribe(n){var r,s;return null!==(s=null===(r=this.source)||void 0===r?void 0:r.subscribe(n))&&void 0!==s?s:yE}}class un extends pi{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return!r.closed&&n.next(this._value),r}getValue(){const{hasError:n,thrownError:r,_value:s}=this;if(n)throw r;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function AE(e){return It(e?.lift)}function Fn(e){return n=>{if(AE(n))return n.lift(function(r){try{return e(r,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(e,n,r,s,u){return new TE(e,n,r,s,u)}class TE extends Hh{constructor(n,r,s,u,d,f){super(n),this.onFinalize=d,this.shouldUnsubscribe=f,this._next=r?function(m){try{r(m)}catch(y){n.error(y)}}:super._next,this._error=u?function(m){try{u(m)}catch(y){n.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Jt(e,n){return Fn((r,s)=>{let u=0;r.subscribe(Ht(s,d=>{s.next(e.call(n,d,u++))}))})}class Ee extends Error{constructor(n,r){super(function Nd(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function ye(e){return{toString:e}.toString()}const Pu="__parameters__";function xd(e,n,r){return ye(()=>{const s=function OE(e){return function(...r){if(e){const s=e(...r);for(const u in s)this[u]=s[u]}}}(n);function u(...d){if(this instanceof u)return s.apply(this,d),this;const f=new u(...d);return m.annotation=f,m;function m(y,C,D){const R=y.hasOwnProperty(Pu)?y[Pu]:Object.defineProperty(y,Pu,{value:[]})[Pu];for(;R.length<=D;)R.push(null);return(R[D]=R[D]||[]).push(f),y}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}const on=globalThis;function cn(e){for(let n in e)if(e[n]===cn)return n;throw Error("Could not find renamed property on target object.")}function Tr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Tr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function pn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Nu=cn({__forward_ref__:cn});function On(e){return e.__forward_ref__=On,e.toString=function(){return Tr(this())},e}function it(e){return Kn(e)?e():e}function Kn(e){return"function"==typeof e&&e.hasOwnProperty(Nu)&&e.__forward_ref__===On}function qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vn(e){return{providers:e.providers||[],imports:e.imports||[]}}function qh(e){return Kh(e,Vd)||Kh(e,kE)}function Kh(e,n){return e.hasOwnProperty(n)?e[n]:null}function Qh(e){return e&&(e.hasOwnProperty(NE)||e.hasOwnProperty(Me))?e[NE]:null}const Vd=cn({\u0275prov:cn}),NE=cn({\u0275inj:cn}),kE=cn({ngInjectableDef:cn}),Me=cn({ngInjectorDef:cn});class Ue{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=qe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zh(e){return e&&!!e.\u0275providers}const nl=cn({\u0275cmp:cn}),$d=cn({\u0275dir:cn}),Ta=cn({\u0275pipe:cn}),LE=cn({\u0275mod:cn}),Bt=cn({\u0275fac:cn}),Gs=cn({__NG_ELEMENT_ID__:cn}),xE=cn({__NG_ENV_ID__:cn});function sn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function St(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function bv(e,n){throw new Ee(-201,!1)}var Lt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Lt||{});let Yh;function Xh(){return Yh}function ao(e){const n=Yh;return Yh=e,n}function FE(e,n,r){const s=qh(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Lt.Optional?null:void 0!==n?n:void bv()}const Lu={},VE="__NG_DI_FLAG__",Qn="ngTempTokenPath",_D=/\n/gm,DD="__source";let mr;function zs(e){const n=mr;return mr=e,n}function ls(e,n=Lt.Default){if(void 0===mr)throw new Ee(-203,!1);return null===mr?FE(e,void 0,n):mr.get(e,n&Lt.Optional?null:void 0,n)}function et(e,n=Lt.Default){return(Xh()||ls)(it(e),n)}function be(e,n=Lt.Default){return et(e,ef(n))}function ef(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tf(e){const n=[];for(let r=0;r<e.length;r++){const s=it(e[r]);if(Array.isArray(s)){if(0===s.length)throw new Ee(900,!1);let u,d=Lt.Default;for(let f=0;f<s.length;f++){const m=s[f],y=Ra(m);"number"==typeof y?-1===y?u=m.token:d|=y:u=m}n.push(et(u,d))}else n.push(et(s))}return n}function Hd(e,n){return e[VE]=n,e.prototype[VE]=n,e}function Ra(e){return e[VE]}const rl=Hd(xd("Optional"),8),nf=Hd(xd("SkipSelf"),4);function Fu(e,n){return e.hasOwnProperty(Bt)?e[Bt]:null}function Vu(e,n){e.forEach(r=>Array.isArray(r)?Vu(r,n):n(r))}function Iv(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function zd(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}const ds={},Gt=[],sl=new Ue(""),HE=new Ue("",-1),qr=new Ue("");class Ce{get(n,r=Lu){if(r===Lu){const s=new Error(`NullInjectorError: No provider for ${Tr(n)}!`);throw s.name="NullInjectorError",s}return r}}var ps=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ps||{}),co=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(co||{}),ur=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ur||{});function Qe(e,n,r){let s=e.length;for(;;){const u=e.indexOf(n,r);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const d=n.length;if(u+d===s||e.charCodeAt(u+d)<=32)return u}r=u+1}}function sf(e,n,r){let s=0;for(;s<r.length;){const u=r[s];if("number"==typeof u){if(0!==u)break;s++;const d=r[s++],f=r[s++],m=r[s++];e.setAttribute(n,f,m,d)}else{const d=u,f=r[++s];RD(d)?e.setProperty(n,d,f):e.setAttribute(n,d,f),s++}}return s}function GE(e){return 3===e||4===e||6===e}function RD(e){return 64===e.charCodeAt(0)}function af(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const u=n[s];"number"==typeof u?r=u:0===r||OD(e,r,u,null,-1===r||2===r?n[++s]:null)}}return e}function OD(e,n,r,s,u){let d=0,f=e.length;if(-1===n)f=-1;else for(;d<e.length;){const m=e[d++];if("number"==typeof m){if(m===n){f=-1;break}if(m>n){f=d-1;break}}}for(;d<e.length;){const m=e[d];if("number"==typeof m)break;if(m===r){if(null===s)return void(null!==u&&(e[d+1]=u));if(s===e[d+1])return void(e[d+2]=u)}d++,null!==s&&d++,null!==u&&d++}-1!==f&&(e.splice(f,0,n),d=f+1),e.splice(d++,0,r),null!==s&&e.splice(d++,0,s),null!==u&&e.splice(d++,0,u)}const al="ng-template";function MD(e,n,r,s){let u=0;if(s){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==Qe(n[u+1].toLowerCase(),r,0))return!0}else if(Dv(e))return!1;if(u=n.indexOf(1,u),u>-1){let d;for(;++u<n.length&&"string"==typeof(d=n[u]);)if(d.toLowerCase()===r)return!0}return!1}function Dv(e){return 4===e.type&&e.value!==al}function uf(e,n,r){return n===(4!==e.type||r?e.value:al)}function Av(e,n,r){let s=4;const u=e.attrs,d=null!==u?function ND(e){for(let n=0;n<e.length;n++)if(GE(e[n]))return n;return e.length}(u):0;let f=!1;for(let m=0;m<n.length;m++){const y=n[m];if("number"!=typeof y){if(!f)if(4&s){if(s=2|1&s,""!==y&&!uf(e,y,r)||""===y&&1===n.length){if(hs(s))return!1;f=!0}}else if(8&s){if(null===u||!MD(e,u,y,r)){if(hs(s))return!1;f=!0}}else{const C=n[++m],D=Kr(y,u,Dv(e),r);if(-1===D){if(hs(s))return!1;f=!0;continue}if(""!==C){let R;if(R=D>d?"":u[D+1].toLowerCase(),2&s&&C!==R){if(hs(s))return!1;f=!0}}}}else{if(!f&&!hs(s)&&!hs(y))return!1;if(f&&hs(y))continue;f=!1,s=y|1&s}}return hs(s)||f}function hs(e){return!(1&e)}function Kr(e,n,r,s){if(null===n)return-1;let u=0;if(s||!r){let d=!1;for(;u<n.length;){const f=n[u];if(f===e)return u;if(3===f||6===f)d=!0;else{if(1===f||2===f){let m=n[++u];for(;"string"==typeof m;)m=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=d?1:2}return-1}return function kD(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,e)}function zE(e,n,r=!1){for(let s=0;s<n.length;s++)if(Av(e,n[s],r))return!0;return!1}function Tv(e,n){return e?":not("+n.trim()+")":n}function Rv(e){let n=e[0],r=1,s=2,u="",d=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&s){const m=e[++r];u+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&s?u+="."+f:4&s&&(u+=" "+f);else""!==u&&!hs(f)&&(n+=Tv(d,u),u=""),s=f,d=d||!hs(s);r++}return""!==u&&(n+=Tv(d,u)),n}function Wd(e){return ye(()=>{const n=qE(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ps.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||co.Emulated,styles:e.styles||Gt,_:null,schemas:e.schemas||null,tView:null,id:""};Ov(r);const s=e.dependencies;return r.directiveDefs=cf(s,!1),r.pipeDefs=cf(s,!0),r.id=function VD(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of r)n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function LD(e){return At(e)||cr(e)}function qd(e){return null!==e}function Oa(e){return ye(()=>({type:e.type,bootstrap:e.bootstrap||Gt,declarations:e.declarations||Gt,imports:e.imports||Gt,exports:e.exports||Gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function xD(e,n){if(null==e)return ds;const r={};for(const s in e)if(e.hasOwnProperty(s)){const u=e[s];let d,f,m=ur.None;Array.isArray(u)?(m=u[0],d=u[1],f=u[2]??d):(d=u,f=u),n?(r[d]=m!==ur.None?[s,m]:s,n[d]=f):r[d]=s}return r}function Oo(e){return ye(()=>{const n=qE(e);return Ov(n),n})}function At(e){return e[nl]||null}function cr(e){return e[$d]||null}function jr(e){return e[Ta]||null}function lo(e,n){const r=e[LE]||null;if(!r&&!0===n)throw new Error(`Type ${Tr(e)} does not have '\u0275mod' property.`);return r}function qE(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ds,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Gt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xD(e.inputs,n),outputs:xD(e.outputs),debugInfo:null}}function Ov(e){e.features?.forEach(n=>n(e))}function cf(e,n){if(!e)return null;const r=n?jr:LD;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(qd)}function Mn(...e){return{\u0275providers:gi(0,e),\u0275fromNgModule:!0}}function gi(e,...n){const r=[],s=new Set;let u;const d=f=>{r.push(f)};return Vu(n,f=>{const m=f;Mv(m,d,[],s)&&(u||=[],u.push(m))}),void 0!==u&&KE(u,d),r}function KE(e,n){for(let r=0;r<e.length;r++){const{ngModule:s,providers:u}=e[r];Pv(u,d=>{n(d,s)})}}function Mv(e,n,r,s){if(!(e=it(e)))return!1;let u=null,d=Qh(e);const f=!d&&At(e);if(d||f){if(f&&!f.standalone)return!1;u=e}else{const y=e.ngModule;if(d=Qh(y),!d)return!1;u=y}const m=s.has(u);if(f){if(m)return!1;if(s.add(u),f.dependencies){const y="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const C of y)Mv(C,n,r,s)}}else{if(!d)return!1;{if(null!=d.imports&&!m){let C;s.add(u);try{Vu(d.imports,D=>{Mv(D,n,r,s)&&(C||=[],C.push(D))})}finally{}void 0!==C&&KE(C,n)}if(!m){const C=Fu(u)||(()=>new u);n({provide:u,useFactory:C,deps:Gt},u),n({provide:qr,useValue:u,multi:!0},u),n({provide:sl,useValue:()=>et(u),multi:!0},u)}const y=d.providers;if(null!=y&&!m){const C=e;Pv(y,D=>{n(D,C)})}}}return u!==e&&void 0!==e.providers}function Pv(e,n){for(let r of e)Zh(r)&&(r=r.\u0275providers),Array.isArray(r)?Pv(r,n):n(r)}const lf=cn({provide:String,useValue:cn});function Kd(e){return null!==e&&"object"==typeof e&&lf in e}function Ws(e){return"function"==typeof e}const mi=new Ue(""),qs={},QE={};let Nv;function df(){return void 0===Nv&&(Nv=new Ce),Nv}class Po{}class Na extends Po{get destroyed(){return this._destroyed}constructor(n,r,s,u){super(),this.parent=r,this.source=s,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kv(n,f=>this.processProvider(f)),this.records.set(HE,an(void 0,this)),u.has("environment")&&this.records.set(Po,an(void 0,this));const d=this.records.get(mi);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(qr,Gt,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Xe(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Xe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=zs(this),s=ao(void 0);try{return n()}finally{zs(r),ao(s)}}get(n,r=Lu,s=Lt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(xE))return n[xE](this);s=ef(s);const d=zs(this),f=ao(void 0);try{if(!(s&Lt.SkipSelf)){let y=this.records.get(n);if(void 0===y){const C=function IN(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ue}(n)&&qh(n);y=C&&this.injectableDefInScope(C)?an(ho(n),qs):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(s&Lt.Self?df():this.parent).get(n,r=s&Lt.Optional&&r===Lu?null:r)}catch(m){if("NullInjectorError"===m.name){if((m[Qn]=m[Qn]||[]).unshift(Tr(n)),d)throw m;return function Gd(e,n,r,s){const u=e[Qn];throw n[DD]&&u.unshift(n[DD]),e.message=function AD(e,n,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=Tr(n);if(Array.isArray(n))u=n.map(Tr).join(" -> ");else if("object"==typeof n){let d=[];for(let f in n)if(n.hasOwnProperty(f)){let m=n[f];d.push(f+":"+("string"==typeof m?JSON.stringify(m):Tr(m)))}u=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${u}]: ${e.replace(_D,"\n  ")}`}("\n"+e.message,u,r,s),e.ngTokenPath=u,e[Qn]=null,e}(m,n,"R3InjectorError",this.source)}throw m}finally{ao(f),zs(d)}}resolveInjectorInitializers(){const n=Xe(null),r=zs(this),s=ao(void 0);try{const d=this.get(sl,Gt,Lt.Self);for(const f of d)f()}finally{zs(r),ao(s),Xe(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(Tr(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(n){let r=Ws(n=it(n))?n:it(n&&n.provide);const s=function CN(e){return Kd(e)?an(void 0,e.useValue):an(function Bi(e,n,r){let s;if(Ws(e)){const u=it(e);return Fu(u)||ho(u)}if(Kd(e))s=()=>it(e.useValue);else if(function po(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...tf(e.deps||[]));else if(function Qd(e){return!(!e||!e.useExisting)}(e))s=()=>et(it(e.useExisting));else{const u=it(e&&(e.useClass||e.provide));if(!function UD(e){return!!e.deps}(e))return Fu(u)||ho(u);s=()=>new u(...tf(e.deps))}return s}(e),qs)}(n);if(!Ws(n)&&!0===n.multi){let u=this.records.get(r);u||(u=an(void 0,qs,!0),u.factory=()=>tf(u.multi),this.records.set(r,u)),r=n,u.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=Xe(null);try{return r.value===qs&&(r.value=QE,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Ks(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Xe(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=it(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ho(e){const n=qh(e),r=null!==n?n.factory:Fu(e);if(null!==r)return r;if(e instanceof Ue)throw new Ee(204,!1);if(e instanceof Function)return function ka(e){if(e.length>0)throw new Ee(204,!1);const r=function CD(e){return e&&(e[Vd]||e[kE])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ee(204,!1)}function an(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function kv(e,n){for(const r of e)Array.isArray(r)?kv(r,n):r&&Zh(r)?kv(r.\u0275providers,n):n(r)}function vi(e,n){e instanceof Na&&e.assertNotDestroyed();const s=zs(e),u=ao(void 0);try{return n()}finally{zs(s),ao(u)}}function ul(){return void 0!==Xh()||null!=function Ev(){return mr}()}const mn=0,Ae=1,Ze=2,tr=3,go=4,Qr=5,zo=6,cl=7,vn=8,Rr=9,Hi=10,lt=11,Yd=12,$D=13,Qs=14,jn=15,Xd=16,ll=17,Js=18,ep=19,YE=20,La=21,dl=22,ju=23,bt=25,xv=1,mo=7,Gi=9,wt=10;var zi=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(zi||{});function zt(e){return Array.isArray(e)&&"object"==typeof e[xv]}function vo(e){return Array.isArray(e)&&!0===e[xv]}function Tt(e){return!!(4&e.flags)}function Bu(e){return e.componentOffset>-1}function ot(e){return!(1&~e.flags)}function Rt(e){return!!e.template}function pf(e){return!!(512&e[Ze])}class yi{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function jv(e,n,r,s){null!==n?n.applyValueToInputSignal(n,s):e[r]=s}function $u(){return gf}function gf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bv),n0}function n0(){const e=Sn(this),n=e?.current;if(n){const r=e.previous;if(r===ds)e.previous=n;else for(let s in n)r[s]=n[s];e.current=null,this.ngOnChanges(n)}}function Bv(e,n,r,s,u){const d=this.declaredInputs[s],f=Sn(e)||function hl(e,n){return e[$v]=n}(e,{previous:ds,current:null}),m=f.current||(f.current={}),y=f.previous,C=y[d];m[d]=new yi(C&&C.currentValue,r,y===ds),jv(e,n,u,r)}$u.ngInherit=!0;const $v="__ngSimpleChanges__";function Sn(e){return e[$v]||null}const Wi=function(e,n,r){};let mf=!1;function Zt(e){for(;Array.isArray(e);)e=e[mn];return e}function rn(e,n){return Zt(n[e.index])}function hn(e,n){const r=n[e];return zt(r)?r:r[mn]}function Ot(e){return!(128&~e[Ze])}function fs(e,n){return null==n?null:e[n]}function o0(e){e[ll]=0}function QD(e){1024&e[Ze]||(e[Ze]|=1024,Ot(e)&&Fa(e))}function Hu(e){return!!(9216&e[Ze]||e[ju]?.dirty)}function Ye(e){e[Hi].changeDetectionScheduler?.notify(1),Hu(e)?Fa(e):64&e[Ze]&&(function PN(){return mf}()?(e[Ze]|=1024,Fa(e)):e[Hi].changeDetectionScheduler?.notify())}function Fa(e){e[Hi].changeDetectionScheduler?.notify();let n=yo(e);for(;null!==n&&!(8192&n[Ze])&&(n[Ze]|=8192,Ot(n));)n=yo(n)}function Br(e,n){if(!(256&~e[Ze]))throw new Ee(911,!1);null===e[La]&&(e[La]=[]),e[La].push(n)}function yo(e){const n=e[tr];return vo(n)?n[tr]:n}const ut={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gu(){return ut.bindingsEnabled}function pe(){return ut.lFrame.lView}function ft(){return ut.lFrame.tView}function ln(){let e=Wu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wu(){return ut.lFrame.currentTNode}function ms(e,n){const r=ut.lFrame;r.currentTNode=e,r.isParent=n}function rp(){return ut.lFrame.isParent}function ko(e,n){const r=ut.lFrame;r.bindingIndex=r.bindingRootIndex=e,fl(n)}function fl(e){ut.lFrame.currentDirectiveIndex=e}function Si(e){ut.lFrame.currentQueryIndex=e}function eA(e){const n=e[Ae];return 2===n.type?n.declTNode:1===n.type?e[Qr]:null}function u0(e,n,r){if(r&Lt.SkipSelf){let u=n,d=e;for(;!(u=u.parent,null!==u||r&Lt.Host||(u=eA(d),null===u||(d=d[Qs],10&u.type))););if(null===u)return!1;n=u,e=d}const s=ut.lFrame=tA();return s.currentTNode=n,s.lView=e,!0}function ja(e){const n=tA(),r=e[Ae];ut.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function tA(){const e=ut.lFrame,n=null===e?null:e.child;return null===n?he(e):n}function he(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Eo(){const e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kv=Eo;function bi(){const e=Eo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qi(e){ut.lFrame.selectedIndex=e}let qo=!0;function gl(){return qo}function Ci(e){qo=e}function ap(e,n){for(let r=n.directiveStart,s=n.directiveEnd;r<s;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:y,ngAfterViewChecked:C,ngOnDestroy:D}=d;f&&(e.contentHooks??=[]).push(-r,f),m&&((e.contentHooks??=[]).push(r,m),(e.contentCheckHooks??=[]).push(r,m)),y&&(e.viewHooks??=[]).push(-r,y),C&&((e.viewHooks??=[]).push(r,C),(e.viewCheckHooks??=[]).push(r,C)),null!=D&&(e.destroyHooks??=[]).push(r,D)}}function ml(e,n,r){Ba(e,n,3,r)}function bf(e,n,r,s){(3&e[Ze])===r&&Ba(e,n,r,s)}function qu(e,n){let r=e[Ze];(3&r)===n&&(r&=16383,r+=1,e[Ze]=r)}function Ba(e,n,r,s){const d=s??-1,f=n.length-1;let m=0;for(let y=void 0!==s?65535&e[ll]:0;y<f;y++)if("number"==typeof n[y+1]){if(m=n[y],null!=s&&m>=s)break}else n[y]<0&&(e[ll]+=65536),(m<d||-1==d)&&(Ku(e,r,n,y),e[ll]=(4294901760&e[ll])+y+2),y++}function Ef(e,n){Wi(4,e,n);const r=Xe(null);try{n.call(e)}finally{Xe(r),Wi(5,e,n)}}function Ku(e,n,r,s){const u=r[s]<0,d=r[s+1],m=e[u?-r[s]:r[s]];u?e[Ze]>>14<e[ll]>>16&&(3&e[Ze])===n&&(e[Ze]+=16384,Ef(m,d)):Ef(m,d)}const vl=-1;class Ss{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}function Ys(e){return e!==vl}function br(e){return 32767&e}function Xs(e,n){let r=function Qu(e){return e>>16}(e),s=n;for(;r>0;)s=s[Qs],r--;return s}let p0=!0;function Jv(e){const n=p0;return p0=e,n}const Ki=255,xt=5;let Yv=0;const bn={};function yl(e,n){const r=up(e,n);if(-1!==r)return r;const s=n[Ae];s.firstCreatePass&&(e.injectorIndex=n.length,If(s.data,e),If(n,null),If(s.blueprint,null));const u=wf(e,n),d=e.injectorIndex;if(Ys(u)){const f=br(u),m=Xs(u,n),y=m[Ae].data;for(let C=0;C<8;C++)n[d+C]=m[f+C]|y[f+C]}return n[d+8]=u,d}function If(e,n){e.push(0,0,0,0,0,0,0,0,n)}function up(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function wf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,u=n;for(;null!==u;){if(s=y0(u),null===s)return vl;if(r++,u=u[Qs],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return vl}function ey(e,n,r){!function Xv(e,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Gs)&&(s=r[Gs]),null==s&&(s=r[Gs]=Yv++);const u=s&Ki;n.data[e+(u>>xt)]|=1<<u}(e,n,r)}function rA(e,n,r){if(r&Lt.Optional||void 0!==e)return e;bv()}function cp(e,n,r,s){if(r&Lt.Optional&&void 0===s&&(s=null),!(r&(Lt.Self|Lt.Host))){const u=e[Rr],d=ao(void 0);try{return u?u.get(n,s,r&Lt.Optional):FE(n,s,r&Lt.Optional)}finally{ao(d)}}return rA(s,0,r)}function f0(e,n,r,s=Lt.Default,u){if(null!==e){if(2048&n[Ze]&&!(s&Lt.Self)){const f=function iA(e,n,r,s,u){let d=e,f=n;for(;null!==d&&null!==f&&2048&f[Ze]&&!(512&f[Ze]);){const m=g0(d,f,r,s|Lt.Self,bn);if(m!==bn)return m;let y=d.parent;if(!y){const C=f[YE];if(C){const D=C.get(r,bn,s);if(D!==bn)return D}y=y0(f),f=f[Qs]}d=y}return u}(e,n,r,s,bn);if(f!==bn)return f}const d=g0(e,n,r,s,bn);if(d!==bn)return d}return cp(n,r,s,u)}function g0(e,n,r,s,u){const d=function m0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Gs)?e[Gs]:void 0;return"number"==typeof n?n>=0?n&Ki:v0:n}(r);if("function"==typeof d){if(!u0(n,e,s))return s&Lt.Host?rA(u,0,s):cp(n,r,s,u);try{let f;if(f=d(s),null!=f||s&Lt.Optional)return f;bv()}finally{Kv()}}else if("number"==typeof d){let f=null,m=up(e,n),y=vl,C=s&Lt.Host?n[jn][Qr]:null;for((-1===m||s&Lt.SkipSelf)&&(y=-1===m?wf(e,n):n[m+8],y!==vl&&ny(s,!1)?(f=n[Ae],m=br(y),n=Xs(y,n)):m=-1);-1!==m;){const D=n[Ae];if(ty(d,m,D.data)){const R=oA(m,n,r,f,s,C);if(R!==bn)return R}y=n[m+8],y!==vl&&ny(s,n[Ae].data[m+8]===C)&&ty(d,m,n)?(f=D,m=br(y),n=Xs(y,n)):m=-1}}return u}function oA(e,n,r,s,u,d){const f=n[Ae],m=f.data[e+8],D=function lp(e,n,r,s,u){const d=e.providerIndexes,f=n.data,m=1048575&d,y=e.directiveStart,D=d>>20,k=u?m+D:e.directiveEnd;for(let G=s?m:m+D;G<k;G++){const K=f[G];if(G<y&&r===K||G>=y&&K.type===r)return G}if(u){const G=f[y];if(G&&Rt(G)&&G.type===r)return y}return null}(m,f,r,null==s?Bu(m)&&p0:s!=f&&!!(3&m.type),u&Lt.Host&&d===m);return null!==D?Ju(n,f,D,m):bn}function Ju(e,n,r,s){let u=e[r];const d=n.data;if(function BN(e){return e instanceof Ss}(u)){const f=u;f.resolving&&function fN(e,n){throw n&&n.join(" > "),new Ee(-200,e)}(sn(d[r]));const m=Jv(f.canSeeViewProviders);f.resolving=!0;const C=f.injectImpl?ao(f.injectImpl):null;u0(e,s,Lt.Default);try{u=e[r]=f.factory(void 0,d,e,s),n.firstCreatePass&&r>=s.directiveStart&&function Qv(e,n,r){const{ngOnChanges:s,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(s){const f=gf(n);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}u&&(r.preOrderHooks??=[]).push(0-e,u),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==C&&ao(C),Jv(m),f.resolving=!1,Kv()}}return u}function ty(e,n,r){return!!(r[n+(e>>xt)]&1<<e)}function ny(e,n){return!(e&Lt.Self||e&Lt.Host&&n)}class Er{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return f0(this._tNode,this._lView,n,ef(s),r)}}function v0(){return new Er(ln(),pe())}function $a(e){return ye(()=>{const n=e.prototype.constructor,r=n[Bt]||Yu(n),s=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==s;){const d=u[Bt]||Yu(u);if(d&&d!==r)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Yu(e){return Kn(e)?()=>{const n=Yu(it(e));return n&&n()}:Fu(e)}function y0(e){const n=e[Ae],r=n.type;return 2===r?n.declTNode:1===r?e[Qr]:null}function E0(e,n=null,r=null,s){const u=Tf(e,n,r,s);return u.resolveInjectorInitializers(),u}function Tf(e,n=null,r=null,s,u=new Set){const d=[r||Gt,Mn(e)];return s=s||("object"==typeof e?void 0:Tr(e)),new Na(d,n||df(),s||null,u)}let Lo=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Lu;static#t=this.NULL=new Ce;static create(r,s){if(Array.isArray(r))return E0({name:""},s,r,"");{const u=r.name??"";return E0({name:u},r.parent,r.providers,u)}}static#n=this.\u0275prov=qe({token:e,providedIn:"any",factory:()=>et(HE)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function hp(e){return e.ngOriginalError}class xo{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&hp(n);for(;r&&hp(r);)r=hp(r);return r||null}}const sy=new Ue("",{providedIn:"root",factory:()=>be(xo).handleError.bind(void 0)});let ea=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=I0;static#t=this.__NG_ENV_ID__=r=>r}return e})();class C0 extends ea{constructor(n){super(),this._lView=n}onDestroy(n){return Br(this._lView,n),()=>function yf(e,n){if(null===e[La])return;const r=e[La].indexOf(n);-1!==r&&e[La].splice(r,1)}(this._lView,n)}}function I0(){return new C0(pe())}function dA(){return bl(ln(),pe())}function bl(e,n){return new Ha(rn(e,n))}let Ha=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=dA}return e})();function ay(e){return n=>{setTimeout(e,void 0,n)}}const Cr=class pA extends pi{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,ul()&&(this.destroyRef=be(ea,{optional:!0})??void 0)}emit(n){const r=Xe(null);try{super.next(n)}finally{Xe(r)}}subscribe(n,r,s){let u=n,d=r||(()=>null),f=s;if(n&&"object"==typeof n){const y=n;u=y.next?.bind(y),d=y.error?.bind(y),f=y.complete?.bind(y)}this.__isAsync&&(d=ay(d),u&&(u=ay(u)),f&&(f=ay(f)));const m=super.subscribe({next:u,error:d,complete:f});return n instanceof Rn&&n.add(m),m}};function Rf(e){return!(128&~e.flags)}Symbol;const Ii=new Map;let Cl=0;const dy="__ngContext__";function $r(e,n){zt(n)?(e[dy]=n[ep],function R0(e){Ii.set(e[ep],e)}(n)):e[dy]=n}function Xu(e){return L0(e[Yd])}function Pf(e){return L0(e[go])}function L0(e){for(;null!==e&&!vo(e);)e=e[go];return e}let gy;const Nf=new Ue("",{providedIn:"root",factory:()=>DA}),DA="ng",U0=new Ue(""),za=new Ue("",{providedIn:"platform",factory:()=>"unknown"}),B0=new Ue("",{providedIn:"root",factory:()=>function Ga(){if(void 0!==gy)return gy;if(typeof document<"u")return document;throw new Ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let RA=()=>null;function jf(e,n,r=!1){return RA(e,n,r)}const r1=new Ue("",{providedIn:"root",factory:()=>!1});function Io(e){return e instanceof Function?e():e}var Za=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Za||{});let Ll;function xy(e,n){return Ll(e,n)}function xl(e,n,r,s,u){if(null!=s){let d,f=!1;vo(s)?d=s:zt(s)&&(f=!0,s=s[mn]);const m=Zt(s);0===e&&null!==r?null==u?sC(n,r,m):rc(n,r,m,u||null,!0):1===e&&null!==r?rc(n,r,m,u||null,!0):2===e?function sc(e,n,r){const s=Ap(e,n);s&&function sT(e,n,r,s){e.removeChild(n,r,s)}(e,s,n,r)}(n,m,f):3===e&&n.destroyNode(m),null!=d&&function aT(e,n,r,s,u){const d=r[mo];d!==Zt(r)&&xl(n,e,s,d,u);for(let m=wt;m<r.length;m++){const y=r[m];ag(y[Ae],y,e,n,s,d)}}(n,e,d,r,u)}}function tg(e,n,r){return e.createElement(n,r)}function _p(e,n){n[Hi].changeDetectionScheduler?.notify(1),ag(e,n,n[lt],2,null,null)}function rC(e,n){const r=e[Gi],s=r.indexOf(n);r.splice(s,1)}function Ul(e,n){if(e.length<=wt)return;const r=wt+n,s=e[r];if(s){const u=s[Xd];null!==u&&u!==e&&rC(u,s),n>0&&(e[r-1][go]=s[go]);const d=zd(e,wt+n);!function rT(e,n){_p(e,n),n[mn]=null,n[Qr]=null}(s[Ae],s);const f=d[Js];null!==f&&f.detachView(d[Ae]),s[tr]=null,s[go]=null,s[Ze]&=-129}return s}function oC(e,n){if(!(256&n[Ze])){const r=n[lt];r.destroyNode&&ag(e,n,r,3,null,null),function Dp(e){let n=e[Yd];if(!n)return Yi(e[Ae],e);for(;n;){let r=null;if(zt(n))r=n[Yd];else{const s=n[wt];s&&(r=s)}if(!r){for(;n&&!n[go]&&n!==e;)zt(n)&&Yi(n[Ae],n),n=n[tr];null===n&&(n=e),zt(n)&&Yi(n[Ae],n),r=n&&n[go]}n=r}}(n)}}function Yi(e,n){if(256&n[Ze])return;const r=Xe(null);try{n[Ze]&=-129,n[Ze]|=256,n[ju]&&function Md(e){if(Xc(e),_a(e))for(let n=0;n<e.producerNode.length;n++)Yc(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[ju]),function iT(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const u=n[r[s]];if(!(u instanceof Ss)){const d=r[s+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const m=u[d[f]],y=d[f+1];Wi(4,m,y);try{y.call(m)}finally{Wi(5,m,y)}}else{Wi(4,u,d);try{d.call(u)}finally{Wi(5,u,d)}}}}}(e,n),function iC(e,n){const r=e.cleanup,s=n[cl];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const f=r[d+3];f>=0?s[f]():s[-f].unsubscribe(),d+=2}else r[d].call(s[r[d+1]]);null!==s&&(n[cl]=null);const u=n[La];if(null!==u){n[La]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(e,n),1===n[Ae].type&&n[lt].destroy();const s=n[Xd];if(null!==s&&vo(n[tr])){s!==n[tr]&&rC(s,n);const u=n[Js];null!==u&&u.detachView(e)}!function fA(e){Ii.delete(e[ep])}(n)}finally{Xe(r)}}function ng(e,n,r){return function Vy(e,n,r){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return r[mn];{const{componentOffset:u}=s;if(u>-1){const{encapsulation:d}=e.data[s.directiveStart+u];if(d===co.None||d===co.Emulated)return null}return rn(s,r)}}(e,n.parent,r)}function rc(e,n,r,s,u){e.insertBefore(n,r,s,u)}function sC(e,n,r){e.appendChild(n,r)}function aC(e,n,r,s,u){null!==s?rc(e,n,r,s,u):sC(e,n,r)}function Ap(e,n){return e.parentNode(n)}let jy,og=function Uy(e,n,r){return 40&e.type?rn(e,r):null};function oc(e,n,r,s){const u=ng(e,s,n),d=n[lt],m=function uC(e,n,r){return og(e,n,r)}(s.parent||n[Qr],s,n);if(null!=u)if(Array.isArray(r))for(let y=0;y<r.length;y++)aC(d,u,r[y],m,!1);else aC(d,u,r,m,!1);void 0!==jy&&jy(d,s,n,r,u)}function ic(e,n){if(null!==n){const r=n.type;if(3&r)return rn(n,e);if(4&r)return ig(-1,e[n.index]);if(8&r){const s=n.child;if(null!==s)return ic(e,s);{const u=e[n.index];return vo(u)?ig(-1,u):Zt(u)}}if(32&r)return xy(n,e)()||Zt(e[n.index]);{const s=lC(e,n);return null!==s?Array.isArray(s)?s[0]:ic(yo(e[jn]),s):ic(e,n.next)}}return null}function lC(e,n){return null!==n?e[jn][Qr].projection[n.projection]:null}function ig(e,n){const r=wt+e+1;if(r<n.length){const s=n[r],u=s[Ae].firstChild;if(null!==u)return ic(s,u)}return n[mo]}function By(e,n,r,s,u,d,f){for(;null!=r;){const m=s[r.index],y=r.type;if(f&&0===n&&(m&&$r(Zt(m),s),r.flags|=2),32&~r.flags)if(8&y)By(e,n,r.child,s,u,d,!1),xl(n,e,u,m,d);else if(32&y){const C=xy(r,s);let D;for(;D=C();)xl(n,e,u,D,d);xl(n,e,u,m,d)}else 16&y?ug(e,n,s,r,u,d):xl(n,e,u,m,d);r=f?r.projectionNext:r.next}}function ag(e,n,r,s,u,d){By(r,s,e.firstChild,n,u,d,!1)}function ug(e,n,r,s,u,d){const f=r[jn],y=f[Qr].projection[s.projection];if(Array.isArray(y))for(let C=0;C<y.length;C++)xl(n,e,u,y[C],d);else{let C=y;const D=f[tr];Rf(s)&&(C.flags|=128),By(e,n,C,D,u,d,!0)}}function $y(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function cg(e,n,r){const{mergedAttrs:s,classes:u,styles:d}=r;null!==s&&sf(e,n,s),null!==u&&$y(e,n,u),null!==d&&function cT(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const gt={};function tt(e,n=Lt.Default){const r=pe();return null===r?et(e,n):f0(ln(),r,it(e),n)}function Gy(e,n,r,s,u,d){const f=Xe(null);try{let m=null;u&ur.SignalBased&&(m=n[s][$o]),null!==m&&void 0!==m.transformFn&&(d=m.transformFn(d)),u&ur.HasDecoratorInputTransform&&(d=e.inputTransforms[s].call(n,d)),null!==e.setInput?e.setInput(n,m,d,r,s):jv(n,m,s,d)}finally{Xe(f)}}function jl(e,n,r,s,u,d,f,m,y,C,D){const R=n.blueprint.slice();return R[mn]=u,R[Ze]=204|s,(null!==C||e&&2048&e[Ze])&&(R[Ze]|=2048),o0(R),R[tr]=R[Qs]=e,R[vn]=r,R[Hi]=f||e&&e[Hi],R[lt]=m||e&&e[lt],R[Rr]=y||e&&e[Rr]||null,R[Qr]=d,R[ep]=function JN(){return Cl++}(),R[zo]=D,R[YE]=C,R[jn]=2==n.type?e[jn]:R,R}function Ya(e,n,r,s,u){let d=e.data[n];if(null===d)d=function zy(e,n,r,s,u){const d=Wu(),f=rp(),y=e.data[n]=function fT(e,n,r,s,u,d){let f=n?n.injectorIndex:-1,m=0;return function zu(){return null!==ut.skipHydrationRootTNode}()&&(m|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,r,n,s,u);return null===e.firstChild&&(e.firstChild=y),null!==d&&(f?null==d.child&&null!==y.parent&&(d.child=y):null===d.next&&(d.next=y,y.prev=d)),y}(e,n,r,s,u),function Sr(){return ut.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=s,d.attrs=u;const f=function Zs(){const e=ut.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return ms(d,!0),d}function ac(e,n,r,s){if(0===r)return-1;const u=n.length;for(let d=0;d<r;d++)n.push(s),e.blueprint.push(s),e.data.push(null);return u}function Wy(e,n,r,s,u){const d=function lr(){return ut.lFrame.selectedIndex}(),f=2&s;try{qi(-1),f&&n.length>bt&&function lg(e,n,r,s){if(!s)if(3&~n[Ze]){const d=e.preOrderHooks;null!==d&&bf(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&ml(n,d,r)}qi(r)}(e,n,bt,!1),Wi(f?2:0,u),r(s,u)}finally{qi(d),Wi(f?3:1,u)}}function dg(e,n,r){if(Tt(n)){const s=Xe(null);try{const d=n.directiveEnd;for(let f=n.directiveStart;f<d;f++){const m=e.data[f];m.contentQueries&&m.contentQueries(1,r[f],f)}}finally{Xe(s)}}}function hg(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=pC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function pC(e,n,r,s,u,d,f,m,y,C,D){const R=bt+s,k=R+u,G=function Ky(e,n){const r=[];for(let s=0;s<n;s++)r.push(s<e?null:gt);return r}(R,k),K="function"==typeof C?C():C;return G[Ae]={type:e,blueprint:G,template:r,queries:null,viewQuery:m,declTNode:n,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:y,consts:K,incompleteFirstPass:!1,ssrId:D}}let Qy=()=>null;function fg(e,n,r,s,u){for(let d in n){if(!n.hasOwnProperty(d))continue;const f=n[d];if(void 0===f)continue;s??={};let m,y=ur.None;Array.isArray(f)?(m=f[0],y=f[1]):m=f;let C=d;if(null!==u){if(!u.hasOwnProperty(d))continue;C=u[d]}0===e?fC(s,r,C,m,y):fC(s,r,C,m)}return s}function fC(e,n,r,s,u){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,s):d=e[r]=[n,s],void 0!==u&&d.push(u)}function y1(e,n,r,s,u,d){for(let C=0;C<s.length;C++)ey(yl(r,n),e,s[C].type);!function b1(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,s.length);for(let C=0;C<s.length;C++){const D=s[C];D.providersResolver&&D.providersResolver(D)}let f=!1,m=!1,y=ac(e,n,s.length,null);for(let C=0;C<s.length;C++){const D=s[C];r.mergedAttrs=af(r.mergedAttrs,D.hostAttrs),mC(e,r,n,y,D),JF(y,D,u),null!==D.contentQueries&&(r.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(r.flags|=64);const R=D.type.prototype;!f&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),f=!0),!m&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),m=!0),y++}!function gT(e,n,r){const u=n.directiveEnd,d=e.data,f=n.attrs,m=[];let y=null,C=null;for(let D=n.directiveStart;D<u;D++){const R=d[D],k=r?r.get(R):null,K=k?k.outputs:null;y=fg(0,R.inputs,D,y,k?k.inputs:null),C=fg(1,R.outputs,D,C,K);const X=null===y||null===f||Dv(n)?null:CT(y,D,f);m.push(X)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=8),y.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=y,n.outputs=C}(e,r,d)}function S1(e,n,r){const s=r.directiveStart,u=r.directiveEnd,d=r.index,f=function FN(){return ut.lFrame.currentDirectiveIndex}();try{qi(d);for(let m=s;m<u;m++){const y=e.data[m],C=n[m];fl(m),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&qF(y,C)}}finally{qi(-1),fl(f)}}function qF(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ST(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function JF(e,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=e;Rt(n)&&(r[""]=e)}}function mC(e,n,r,s,u){e.data[s]=u;const d=u.factory||(u.factory=Fu(u.type)),f=new Ss(d,Rt(u),tt);e.blueprint[s]=f,r[s]=f,function GF(e,n,r,s,u){const d=u.hostBindings;if(d){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const m=~n.index;(function zF(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(f)!=m&&f.push(m),f.push(r,s,d)}}(e,n,s,ac(e,r,u.hostVars,gt),u)}function ET(e,n,r,s,u,d){const f=d[n];if(null!==f)for(let m=0;m<f.length;)Gy(s,r,f[m++],f[m++],f[m++],f[m++])}function CT(e,n,r){let s=null,u=0;for(;u<r.length;){const d=r[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===s&&(s=[]);const f=e[d];for(let m=0;m<f.length;m+=3)if(f[m]===n){s.push(d,f[m+1],f[m+2],r[u+1]);break}}u+=2}else u+=2;else u+=4}return s}function vC(e,n){const r=e.contentQueries;if(null!==r){const s=Xe(null);try{for(let u=0;u<r.length;u+=2){const f=r[u+1];if(-1!==f){const m=e.data[f];Si(r[u]),m.contentQueries(2,n[f],f)}}}finally{Xe(s)}}}function Op(e,n){return e[Yd]?e[$D][go]=n:e[Yd]=n,e[$D]=n,n}function dr(e,n,r){Si(0);const s=Xe(null);try{n(e,r)}finally{Xe(s)}}function mg(e,n){const r=e[Rr],s=r?r.get(xo,null):null;s&&s.handleError(n)}function IT(e,n,r,s,u){for(let d=0;d<r.length;){const f=r[d++],m=r[d++],y=r[d++];Gy(e.data[f],n[f],s,m,y,u)}}function ZF(e,n){const r=hn(n,e),s=r[Ae];!function YF(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(s,r);const u=r[mn];null!==u&&null===r[zo]&&(r[zo]=jf(u,r[Rr])),wT(s,r,r[vn])}function wT(e,n,r){ja(n);try{const s=e.viewQuery;null!==s&&dr(1,s,r);const u=e.template;null!==u&&Wy(e,n,u,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Js]?.finishViewCreation(e),e.staticContentQueries&&vC(e,n),e.staticViewQueries&&dr(2,e.viewQuery,r);const d=e.components;null!==d&&function XF(e,n){for(let r=0;r<n.length;r++)ZF(e,n[r])}(n,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[Ze]&=-5,bi()}}function vg(e,n){return!n||null===n.firstChild||Rf(e)}function tS(e,n,r,s=!0){const u=n[Ae];if(function oT(e,n,r,s){const u=wt+s,d=r.length;s>0&&(r[u-1][go]=n),s<d-wt?(n[go]=r[u],Iv(r,wt+s,n)):(r.push(n),n[go]=null),n[tr]=r;const f=n[Xd];null!==f&&r!==f&&function Vl(e,n){const r=e[Gi];n[jn]!==n[tr][tr][jn]&&(e[Ze]|=zi.HasTransplantedViews),null===r?e[Gi]=[n]:r.push(n)}(f,n);const m=n[Js];null!==m&&m.insertView(e),Ye(n),n[Ze]|=128}(u,n,e,r),s){const f=ig(r,e),m=n[lt],y=Ap(m,e[mo]);null!==y&&function HF(e,n,r,s,u,d){s[mn]=u,s[Qr]=n,ag(e,s,r,1,u,d)}(u,e[Qr],m,n,y,f)}const d=n[zo];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function nS(e,n,r,s,u=!1){for(;null!==r;){const d=n[r.index];null!==d&&s.push(Zt(d)),vo(d)&&C1(d,s);const f=r.type;if(8&f)nS(e,n,r.child,s);else if(32&f){const m=xy(r,n);let y;for(;y=m();)s.push(y)}else if(16&f){const m=lC(n,r);if(Array.isArray(m))s.push(...m);else{const y=yo(n[jn]);nS(y[Ae],y,m,s,!0)}}r=u?r.projectionNext:r.next}return s}function C1(e,n){for(let r=wt;r<e.length;r++){const s=e[r],u=s[Ae].firstChild;null!==u&&nS(s[Ae],s,u,n)}e[mo]!==e[mn]&&n.push(e[mo])}let I1=[];const rS={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fa(e.lView)},consumerOnSignalRead(){this.lView[ju]=this}},oS=100;function yg(e,n=!0,r=0){const s=e[Hi],u=s.rendererFactory;u.begin?.();try{!function AT(e,n){bg(e,n);let r=0;for(;Hu(e);){if(r===oS)throw new Ee(103,!1);r++,bg(e,1)}}(e,r)}catch(f){throw n&&mg(e,f),f}finally{u.end?.(),s.inlineEffectRunner?.flush()}}function Sg(e,n,r,s){const u=n[Ze];if(!(256&~u))return;n[Hi].inlineEffectRunner?.flush(),ja(n);let f=null,m=null;(function iS(e){return 2!==e.type})(e)&&(m=function w1(e){return e[ju]??function DT(e){const n=I1.pop()??Object.create(rS);return n.lView=e,n}(e)}(n),f=function Zc(e){return e&&(e.nextProducerIndex=0),Xe(e)}(m));try{o0(n),function a0(e){return ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Wy(e,n,r,2,s);const y=!(3&~u);if(y){const R=e.preOrderCheckHooks;null!==R&&ml(n,R,null)}else{const R=e.preOrderHooks;null!==R&&bf(n,R,0,null),qu(n,0)}if(function bC(e){for(let n=Xu(e);null!==n;n=Pf(n)){if(!(n[Ze]&zi.HasTransplantedViews))continue;const r=n[Gi];for(let s=0;s<r.length;s++){QD(r[s])}}}(n),cc(n,0),null!==e.contentQueries&&vC(e,n),y){const R=e.contentCheckHooks;null!==R&&ml(n,R)}else{const R=e.contentHooks;null!==R&&bf(n,R,1),qu(n,1)}!function lT(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const u=r[s];if(u<0)qi(~u);else{const d=u,f=r[++s],m=r[++s];ko(f,d),m(2,n[d])}}}finally{qi(-1)}}(e,n);const C=e.components;null!==C&&IC(n,C,0);const D=e.viewQuery;if(null!==D&&dr(2,D,s),y){const R=e.viewCheckHooks;null!==R&&ml(n,R)}else{const R=e.viewHooks;null!==R&&bf(n,R,2),qu(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[dl]){for(const R of n[dl])R();n[dl]=null}n[Ze]&=-73}catch(y){throw Fa(n),y}finally{null!==m&&(function uD(e,n){if(Xe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_a(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Yc(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(m,f),function SC(e){e.lView[ju]!==e&&(e.lView=null,I1.push(e))}(m)),bi()}}function cc(e,n){for(let r=Xu(e);null!==r;r=Pf(r))for(let s=wt;s<r.length;s++)CC(r[s],n)}function EC(e,n,r){CC(hn(n,e),r)}function CC(e,n){Ot(e)&&bg(e,n)}function bg(e,n){const s=e[Ae],u=e[Ze],d=e[ju];let f=!!(0===n&&16&u);if(f||=!!(64&u&&0===n),f||=!!(1024&u),f||=!(!d?.dirty||!Qt(d)),d&&(d.dirty=!1),e[Ze]&=-9217,f)Sg(s,e,s.template,e[vn]);else if(8192&u){cc(e,1);const m=s.components;null!==m&&IC(e,m,1)}}function IC(e,n,r){for(let s=0;s<n.length;s++)EC(e,n[s],r)}function Bl(e){for(e[Hi].changeDetectionScheduler?.notify();e;){e[Ze]|=64;const n=yo(e);if(pf(e)&&!n)return e;e=n}return null}class Mp{get rootNodes(){const n=this._lView,r=n[Ae];return nS(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(n){this._lView[vn]=n}get destroyed(){return!(256&~this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[tr];if(vo(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&(Ul(n,s),zd(r,s))}this._attachedToViewContainer=!1}oC(this._lView[Ae],this._lView)}onDestroy(n){Br(this._lView,n)}markForCheck(){Bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){Ye(this._lView),this._lView[Ze]|=128}detectChanges(){this._lView[Ze]|=1024,yg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_p(this._lView[Ae],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=n,Ye(this._lView)}}class pS{}class UT{}class Dg{}class $T{resolveComponentFactory(n){throw function jT(e){const n=Error(`No component factory found for ${Tr(e)}.`);return n.ngComponent=e,n}(n)}}let Lp=(()=>{class e{static#e=this.NULL=new $T}return e})();class LC{}let fS=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>null})}return e})();const xp={},Tg=new Set;function Is(e){Tg.has(e)||(Tg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gr(...e){}class qt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cr(!1),this.onMicrotaskEmpty=new Cr(!1),this.onStable=new Cr(!1),this.onError=new Cr(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&r,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Hl(){const e="function"==typeof on.requestAnimationFrame;let n=on[e?"requestAnimationFrame":"setTimeout"],r=on[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function gS(e){const n=()=>{!function FC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mS(e),e.isCheckStableRunning=!0,Vp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mS(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,u,d,f,m)=>{if(function Gl(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(m))return r.invokeTask(u,d,f,m);try{return Rg(e),r.invokeTask(u,d,f,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&n(),Og(e)}},onInvoke:(r,s,u,d,f,m,y)=>{try{return Rg(e),r.invoke(u,d,f,m,y)}finally{e.shouldCoalesceRunChangeDetection&&n(),Og(e)}},onHasTask:(r,s,u,d)=>{r.hasTask(u,d),s===u&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,mS(e),Vp(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,s,u,d)=>(r.handleError(u,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qt.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(qt.isInAngularZone())throw new Ee(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,u){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+u,n,xC,Gr,Gr);try{return d.runTask(f,r,s)}finally{d.cancelTask(f)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const xC={};function Vp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mS(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Rg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Og(e){e._nesting--,Vp(e)}class vS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cr,this.onMicrotaskEmpty=new Cr,this.onStable=new Cr,this.onError=new Cr}run(n,r,s){return n.apply(r,s)}runGuarded(n,r,s){return n.apply(r,s)}runOutsideAngular(n){return n()}runTask(n,r,s,u){return n.apply(r,s)}}var eu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(eu||{});const yS={destroy(){}};function SS(e,n){!n&&function Jd(e){if(!ul())throw new Ee(-203,!1)}();const r=n?.injector??be(Lo);if(!function Ja(e){return"browser"===(e??be(Lo)).get(za)}(r))return yS;Is("NgAfterNextRender");const s=r.get(hc),u=s.handler??=new pc,d=n?.phase??eu.MixedReadWrite,f=()=>{u.unregister(y),m()},m=r.get(ea).onDestroy(f),y=vi(r,()=>new Xi(d,()=>{f(),e()}));return u.register(y),{destroy:f}}class Xi{constructor(n,r){this.phase=n,this.callbackFn=r,this.zone=be(qt),this.errorHandler=be(xo,{optional:!0}),be(pS,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class pc{constructor(){this.executingCallbacks=!1,this.buckets={[eu.EarlyRead]:new Set,[eu.Write]:new Set,[eu.MixedReadWrite]:new Set,[eu.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let hc=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of r)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Wl(e,n,r){let s=r?e.styles:null,u=r?e.classes:null,d=0;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?d=m:1==d?u=pn(u,m):2==d&&(s=pn(s,m+": "+n[++f]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=u:e.classesWithoutHost=u}class HC extends Lp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=At(n);return new jp(r,this.ngModule)}}function GC(e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r];void 0!==s&&n.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return n}class aa{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=ef(s);const u=this.injector.get(n,xp,s);return u!==xp||r===xp?u:this.parentInjector.get(n,r,s)}}class jp extends Dg{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=GC(n.inputs);if(null!==r)for(const u of s)r.hasOwnProperty(u.propName)&&(u.transform=r[u.propName]);return s}get outputs(){return GC(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function bN(e){return e.map(Rv).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,u){const d=Xe(null);try{let f=(u=u||this.ngModule)instanceof Po?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new aa(n,f):n,y=m.get(LC,null);if(null===y)throw new Ee(407,!1);const C=m.get(fS,null),k={rendererFactory:y,sanitizer:C,inlineEffectRunner:null,afterRenderEventManager:m.get(hc,null),changeDetectionScheduler:m.get(pS,null)},G=y.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",X=s?function dT(e,n,r,s){const d=s.get(r1,!1)||r===co.ShadowDom,f=e.selectRootElement(n,d);return function pT(e){Qy(e)}(f),f}(G,s,this.componentDef.encapsulation,m):tg(G,K,function F1(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(K));let oe=512;this.componentDef.signals?oe|=4096:this.componentDef.onPush||(oe|=16);let ge=null;null!==X&&(ge=jf(X,m,!0));const fe=pC(0,null,null,1,0,null,null,null,null,null,null),Fe=jl(null,fe,null,oe,null,null,k,G,m,null,ge);let ht,Ut;ja(Fe);try{const dn=this.componentDef;let To,Td=null;dn.findHostDirectiveDefs?(To=[],Td=new Map,dn.findHostDirectiveDefs(dn,To,Td),To.push(dn)):To=[dn];const iB=function zC(e,n){const r=e[Ae],s=bt;return e[s]=n,Ya(r,s,2,"#host",null)}(Fe,X),IG=function V1(e,n,r,s,u,d,f){const m=u[Ae];!function U1(e,n,r,s){for(const u of e)n.mergedAttrs=af(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(Wl(n,n.mergedAttrs,!0),null!==r&&cg(s,r,n))}(s,e,n,f);let y=null;null!==n&&(y=jf(n,u[Rr]));const C=d.rendererFactory.createRenderer(n,r);let D=16;r.signals?D=4096:r.onPush&&(D=64);const R=jl(u,hg(r),null,D,u[e.index],e,d,C,null,null,y);return m.firstCreatePass&&ST(m,e,s.length-1),Op(u,R),u[e.index]=R}(iB,X,dn,To,Fe,k,G);Ut=function Wo(e,n){return e.data[n]}(fe,bt),X&&function Bn(e,n,r,s){if(s)sf(e,r,["ng-version","17.3.3"]);else{const{attrs:u,classes:d}=function EN(e){const n=[],r=[];let s=1,u=2;for(;s<e.length;){let d=e[s];if("string"==typeof d)2===u?""!==d&&n.push(d,e[++s]):8===u&&r.push(d);else{if(!hs(u))break;u=d}s++}return{attrs:n,classes:r}}(n.selectors[0]);u&&sf(e,r,u),d&&d.length>0&&$y(e,r,d.join(" "))}}(G,dn,X,s),void 0!==r&&function ES(e,n,r){const s=e.projection=[];for(let u=0;u<n.length;u++){const d=r[u];s.push(null!=d?Array.from(d):null)}}(Ut,this.ngContentSelectors,r),ht=function zr(e,n,r,s,u,d){const f=ln(),m=u[Ae],y=rn(f,u);y1(m,u,f,r,null,s);for(let D=0;D<r.length;D++)$r(Ju(u,m,f.directiveStart+D,f),u);S1(m,u,f),y&&$r(y,u);const C=Ju(u,m,f.directiveStart+f.componentOffset,f);if(e[vn]=u[vn]=C,null!==d)for(const D of d)D(C,n);return dg(m,f,u),C}(IG,dn,To,Td,Fe,[ua]),wT(fe,Fe,null)}finally{bi()}return new ql(this.componentType,ht,bl(Ut,Fe),Fe,Ut)}finally{Xe(d)}}}class ql extends UT{constructor(n,r,s,u,d){super(),this.location=s,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Mp(u,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let u;if(null!==s&&(u=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;IT(d[Ae],d,u,n,r),this.previousInputValues.set(n,r),Bl(hn(this._tNode.index,d))}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ua(){const e=ln();ap(pe()[Ae],e)}let ws=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=eo}return e})();function eo(){return function IS(e,n){let r;const s=n[e.index];return vo(s)?r=s:(r=function gg(e,n,r,s){return[e,!0,0,n,null,s,null,r,null,null]}(s,n,null,e),n[e.index]=r,Op(n,r)),GT(r,n,e,s),new Mg(r,e,n)}(ln(),pe())}const WC=ws,Mg=class extends WC{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return bl(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const n=wf(this._hostTNode,this._hostLView);if(Ys(n)){const r=Xs(n,this._hostLView),s=br(n);return new Er(r[Ae].data[s+8],r)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=CS(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(n,r,s){let u,d;"number"==typeof s?u=s:null!=s&&(u=s.index,d=s.injector);const m=n.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(m,u,vg(this._hostTNode,null)),m}createComponent(n,r,s,u,d){const f=n&&!function fo(e){return"function"==typeof e}(n);let m;if(f)m=r;else{const K=r||{};m=K.index,s=K.injector,u=K.projectableNodes,d=K.environmentInjector||K.ngModuleRef}const y=f?n:new jp(At(n)),C=s||this.parentInjector;if(!d&&null==y.ngModule){const X=(f?C:this.parentInjector).get(Po,null);X&&(d=X)}At(y.componentType??{});const G=y.create(C,u,null,d);return this.insertImpl(G.hostView,m,vg(this._hostTNode,null)),G}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const u=n._lView;if(function NN(e){return vo(e[tr])}(u)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const y=u[tr],C=new Mg(y,y[Qr],y[tr]);C.detach(C.indexOf(n))}}const d=this._adjustIndex(r),f=this._lContainer;return tS(f,u,d,s),n.attachToViewContainerRef(),Iv(Pg(f),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=CS(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=Ul(this._lContainer,r);s&&(zd(Pg(this._lContainer),r),oC(s[Ae],s))}detach(n){const r=this._adjustIndex(n,-1),s=Ul(this._lContainer,r);return s&&null!=zd(Pg(this._lContainer),r)?new Mp(s):null}_adjustIndex(n,r=0){return n??this.length+r}};function CS(e){return e[8]}function Pg(e){return e[8]||(e[8]=[])}let GT=function zT(e,n,r,s){if(e[mo])return;let u;u=8&r.type?Zt(s):function qC(e,n){const r=e[lt],s=r.createComment(""),u=rn(n,e);return rc(r,Ap(r,u),s,function rg(e,n){return e.nextSibling(n)}(r,u),!1),s}(n,r),e[mo]=u};class mc{}class OS{}class kr extends mc{constructor(n,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HC(this);const u=lo(n);this._bootstrapComponents=Io(u.bootstrap),this._r3Injector=Tf(n,r,[{provide:mc,useValue:this},{provide:Lp,useValue:this.componentFactoryResolver},...s],Tr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class _s extends OS{constructor(n){super(),this.moduleType=n}create(n){return new kr(this.moduleType,n,[])}}class ns extends mc{constructor(n){super(),this.componentFactoryResolver=new HC(this),this.instance=null;const r=new Na([...n.providers,{provide:mc,useValue:this},{provide:Lp,useValue:this.componentFactoryResolver}],n.parent||df(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ou(e,n,r=null){return new ns({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let da=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ch(e,n,r,s,u){const f=u?"class":"style";IT(e,r,n.inputs[f],f,s)}function Os(e,n,r,s){const u=pe(),d=ft(),f=bt+e,m=u[lt],y=d.firstCreatePass?function cm(e,n,r,s,u,d){const f=n.consts,y=Ya(n,e,2,s,fs(f,u));return function yT(e,n,r,s){if(Gu()){const u=null===s?null:{"":-1},d=function KF(e,n){const r=e.directiveRegistry;let s=null,u=null;if(r)for(let d=0;d<r.length;d++){const f=r[d];if(zE(n,f.selectors,!1))if(s||(s=[]),Rt(f))if(null!==f.findHostDirectiveDefs){const m=[];u=u||new Map,f.findHostDirectiveDefs(f,m,u),s.unshift(...m,f),ST(e,n,m.length)}else s.unshift(f),ST(e,n,0);else u=u||new Map,f.findHostDirectiveDefs?.(f,s,u),s.push(f)}return null===s?null:[s,u]}(e,r);let f,m;null===d?f=m=null:[f,m]=d,null!==f&&y1(e,n,r,f,u,m),u&&function QF(e,n,r){if(n){const s=e.localNames=[];for(let u=0;u<n.length;u+=2){const d=r[n[u+1]];if(null==d)throw new Ee(-301,!1);s.push(n[u],d)}}}(r,s,u)}r.mergedAttrs=af(r.mergedAttrs,r.attrs)}(n,r,y,fs(f,d)),null!==y.attrs&&Wl(y,y.attrs,!1),null!==y.mergedAttrs&&Wl(y,y.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,y),y}(f,d,u,n,r,s):d.data[f],C=HR(d,u,y,m,n,e);u[f]=C;const D=ot(y);return ms(y,!0),cg(m,C,y),!function Yl(e){return!(32&~e.flags)}(y)&&gl()&&oc(d,u,C,y),0===function JD(){return ut.lFrame.elementDepthCount}()&&$r(C,u),function Pn(){ut.lFrame.elementDepthCount++}(),D&&(function pg(e,n,r){Gu()&&(function WF(e,n,r,s){const u=r.directiveStart,d=r.directiveEnd;Bu(r)&&function bT(e,n,r){const s=rn(n,e),u=hg(r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const m=Op(e,jl(e,u,null,f,s,n,null,e[Hi].rendererFactory.createRenderer(s,r),null,null,null));e[n.index]=m}(n,r,e.data[u+r.componentOffset]),e.firstCreatePass||yl(r,n),$r(s,n);const f=r.initialInputs;for(let m=u;m<d;m++){const y=e.data[m],C=Ju(n,e,m,r);$r(C,n),null!==f&&ET(0,m-u,C,y,0,f),Rt(y)&&(hn(r.index,n)[vn]=Ju(n,e,m,r))}}(e,n,r,rn(r,n)),!(64&~r.flags)&&S1(e,n,r))}(d,u,y),dg(d,y,u)),null!==s&&function qy(e,n,r=rn){const s=n.localNames;if(null!==s){let u=n.index+1;for(let d=0;d<s.length;d+=2){const f=s[d+1],m=-1===f?r(n,e):e[f];e[u++]=m}}}(u,y),Os}function du(){let e=ln();rp()?function Ua(){ut.lFrame.isParent=!1}():(e=e.parent,ms(e,!1));const n=e;(function s0(e){return ut.skipHydrationRootTNode===e})(n)&&function xN(){ut.skipHydrationRootTNode=null}(),function So(){ut.lFrame.elementDepthCount--}();const r=ft();return r.firstCreatePass&&(ap(r,e),Tt(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function l0(e){return!!(8&e.flags)}(n)&&ch(r,n,pe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Cf(e){return!!(16&e.flags)}(n)&&ch(r,n,pe(),n.stylesWithoutHost,!1),du}function fh(e,n,r,s){return Os(e,n,r,s),du(),fh}let HR=(e,n,r,s,u,d)=>(Ci(!0),tg(s,u,function _t(){return ut.lFrame.currentNamespace}()));const vh="en-US";let JI=vh;function hu(e,n,r,s){const u=pe(),d=ft(),f=ln();return function Pc(e,n,r,s,u,d,f){const m=ot(s),C=e.firstCreatePass&&function yC(e){return e.cleanup||(e.cleanup=[])}(e),D=n[vn],R=function Yy(e){return e[cl]||(e[cl]=[])}(n);let k=!0;if(3&s.type||f){const X=rn(s,n),oe=f?f(X):X,ge=R.length,fe=f?ht=>f(Zt(ht[s.index])):s.index;let Fe=null;if(!f&&m&&(Fe=function _O(e,n,r,s){const u=e.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const f=u[d];if(f===r&&u[d+1]===s){const m=n[cl],y=u[d+2];return m.length>y?m[y]:null}"string"==typeof f&&(d+=2)}return null}(e,n,u,s.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=d,Fe.__ngLastListenerFn__=d,k=!1;else{d=Ns(s,n,D,d,!1);const ht=r.listen(oe,u,d);R.push(d,ht),C&&C.push(u,fe,ge,ge+1)}}else d=Ns(s,n,D,d,!1);const G=s.outputs;let K;if(k&&null!==G&&(K=G[u])){const X=K.length;if(X)for(let oe=0;oe<X;oe+=2){const Ut=n[K[oe]][K[oe+1]].subscribe(d),dn=R.length;R.push(d,Ut),C&&C.push(u,s.index,dn,-(dn+1))}}}(d,u,u[lt],f,e,n,s),hu}function Ps(e,n,r,s){const u=Xe(null);try{return Wi(6,n,r),!1!==r(s)}catch(d){return mg(e,d),!1}finally{Wi(7,n,r),Xe(u)}}function Ns(e,n,r,s,u){return function d(f){if(f===Function)return s;Bl(e.componentOffset>-1?hn(e.index,n):n);let y=Ps(n,r,s,f),C=d.__ngNextListenerFn__;for(;C;)y=Ps(n,r,C,f)&&y,C=C.__ngNextListenerFn__;return u&&!1===y&&f.preventDefault(),y}}function pd(e,n=""){const r=pe(),s=ft(),u=e+bt,d=s.firstCreatePass?Ya(s,u,1,n,null):s.data[u],f=VO(s,r,d,n,e);r[u]=f,gl()&&oc(s,r,f,d),ms(d,!1)}let VO=(e,n,r,s,u)=>(Ci(!0),function wp(e,n){return e.createText(n)}(n[lt],s)),BO=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=gi(0,r.type),u=s.length>0?ou([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,u)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qe({token:e,providedIn:"environment",factory:()=>new e(et(Po))})}return e})();function as(e){Is("NgStandalone"),e.getStandaloneInjector=n=>n.get(BO).getOrCreateStandaloneInjector(e)}let lM=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Jw=new Ue(""),Ih=new Ue("");let Yw,db=(()=>{class e{constructor(r,s,u){this._ngZone=r,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Yw||(function km(e){Yw=e}(u),u.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,u){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),r()},s)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:u})}whenStable(r,s,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,u){return[]}static#e=this.\u0275fac=function(s){return new(s||e)(et(qt),et(Zw),et(Ih))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),Zw=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return Yw?.findTestabilityInTree(this,r,s)??null}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function pb(e){return!!e&&"function"==typeof e.then}function wM(e){return!!e&&"function"==typeof e.subscribe}const Xw=new Ue("");let hb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=be(Xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const u of this.appInits){const d=u();if(pb(d))r.push(d);else if(wM(d)){const f=new Promise((m,y)=>{d.subscribe({complete:m,error:y})});r.push(f)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(u=>{this.reject(u)}),0===r.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fb=new Ue("");function t_(e,n){return Array.isArray(n)?n.reduce(t_,e):{...e,...n}}let yu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(sy),this.afterRenderEffectManager=be(hc),this.externalTestViews=new Set,this.beforeRender=new pi,this.afterTick=new pi,this.componentTypes=[],this.components=[],this.isStable=be(da).hasPendingTasks.pipe(Jt(r=>!r)),this._injector=be(Po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){const u=r instanceof Dg;if(!this._injector.get(hb).done)throw!u&&function Ma(e){const n=At(e)||cr(e)||jr(e);return null!==n&&n.standalone}(r),new Ee(405,!1);let f;f=u?r:this._injector.get(Lp).resolveComponentFactory(r),this.componentTypes.push(f.componentType);const m=function _M(e){return e.isBoundToModule}(f)?void 0:this._injector.get(mc),C=f.create(Lo.NULL,[],s||f.selector,m),D=C.location.nativeElement,R=C.injector.get(Jw,null);return R?.registerApplication(D),C.onDestroy(()=>{this.detachView(C.hostView),Lm(this.components,C),R?.unregisterApplication(D)}),this._loadComponent(C),C}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Ee(101,!1);const s=Xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(u){this.internalErrorHandler(u)}finally{this.afterTick.next(),this._runningTick=!1,Xe(s)}}detectChangesInAttachedViews(r){let s=0;const u=this.afterRenderEffectManager;for(;;){if(s===oS)throw new Ee(103,!1);if(r){const d=0===s;this.beforeRender.next(d);for(let{_lView:f,notifyErrorHandler:m}of this._views)AM(f,d,m)}if(s++,u.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>vb(d))&&(u.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>vb(d))))break}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;Lm(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(fb,[]);[...this._bootstrapListeners,...s].forEach(u=>u(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Lm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lm(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function AM(e,n,r){!n&&!vb(e)||function TM(e,n,r){let s;r?(s=0,e[Ze]|=1024):s=64&e[Ze]?0:1,yg(e,n,s)}(e,r,n)}function vb(e){return Hu(e)}class RM{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let n_=(()=>{class e{compileModuleSync(r){return new _s(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),d=Io(lo(r).declarations).reduce((f,m)=>{const y=At(m);return y&&f.push(new jp(y)),f},[]);return new RM(s,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PM=(()=>{class e{constructor(){this.zone=be(qt),this.applicationRef=be(yu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NM(){const e=be(qt),n=be(xo);return r=>e.runOutsideAngular(()=>n.handleError(r))}let LM=(()=>{class e{constructor(){this.subscription=new Rn,this.initialized=!1,this.zone=be(qt),this.pendingTasks=be(da)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qt.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qt.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ya=new Ue("",{providedIn:"root",factory:()=>be(ya,Lt.Optional|Lt.SkipSelf)||function xM(){return typeof $localize<"u"&&$localize.locale||vh}()}),yb=new Ue("");let s_=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const u=function HT(e="zone.js",n){return"noop"===e?new vS:"zone.js"===e?new qt(n):e}(s?.ngZone,function i_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return u.run(()=>{const d=function ru(e,n,r){return new kr(e,n,r)}(r.moduleType,this.injector,function o_(e){return[{provide:qt,useFactory:e},{provide:sl,multi:!0,useFactory:()=>{const n=be(PM,{optional:!0});return()=>n.initialize()}},{provide:sl,multi:!0,useFactory:()=>{const n=be(LM);return()=>{n.initialize()}}},{provide:sy,useFactory:NM}]}(()=>u)),f=d.injector.get(xo,null);return u.runOutsideAngular(()=>{const m=u.onError.subscribe({next:y=>{f.handleError(y)}});d.onDestroy(()=>{Lm(this._modules,d),m.unsubscribe()})}),function e_(e,n,r){try{const s=r();return pb(s)?s.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(f,u,()=>{const m=d.injector.get(hb);return m.runInitializers(),m.donePromise.then(()=>(function hm(e){"string"==typeof e&&(JI=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(ya,vh)||vh),this._moduleDoBootstrap(d),d))})})}bootstrapModule(r,s=[]){const u=t_({},s);return function MM(e,n,r){const s=new _s(r);return Promise.resolve(s)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(r){const s=r.injector.get(yu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>s.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Ee(-403,!1);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(yb,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||e)(et(Lo))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Su=null;const a_=new Ue("");function u_(e,n,r=[]){const s=`Platform: ${n}`,u=new Ue(s);return(d=[])=>{let f=Sb();if(!f||f.injector.get(a_,!1)){const m=[...r,...d,{provide:u,useValue:!0}];e?e(m):function UM(e){if(Su&&!Su.get(a_,!1))throw new Ee(400,!1);(function mb(){!function nN(e){Uh=e}(()=>{throw new Ee(600,!1)})})(),Su=e;const n=e.get(s_);(function l_(e){e.get(U0,null)?.forEach(r=>r())})(e)}(function c_(e=[],n){return Lo.create({name:n,providers:[{provide:mi,useValue:"platform"},{provide:yb,useValue:new Set([()=>Su=null])},...e]})}(m,s))}return function jM(e){const n=Sb();if(!n)throw new Ee(401,!1);return n}()}}function Sb(){return Su?.get(s_)??null}let Fm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$M}return e})();function $M(e){return function HM(e,n,r){if(Bu(e)&&!r){const s=hn(e.index,n);return new Mp(s,s)}return 47&e.type?new Mp(n[jn],n):null}(ln(),pe(),!(16&~e))}const eP=u_(null,"core",[]);let tP=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(s){return new(s||e)(et(yu))};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({})}return e})(),Cn=null;function oo(){return Cn}class gx{}const oi=new Ue("");let xb=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(wu),providedIn:"platform"})}return e})();const mx=new Ue("");let wu=(()=>{class e extends xb{constructor(){super(),this._doc=be(oi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oo().getBaseHref(this._doc)}onPopState(r){const s=oo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=oo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,u){this._history.pushState(r,s,u)}replaceState(r,s,u){this._history.replaceState(r,s,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function _u(e,n){if(0==e.length)return n;if(0==n.length)return e;let r=0;return e.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?e+n.substring(1):1==r?e+n:e+"/"+n}function L_(e){const n=e.match(/#|\?|$/),r=n&&n.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Du(e){return e&&"?"!==e[0]?"?"+e:e}let Ed=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(F_),providedIn:"root"})}return e})();const x_=new Ue("");let F_=(()=>{class e extends Ed{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??be(oi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _u(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+Du(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${s}${u}`:s}pushState(r,s,u,d){const f=this.prepareExternalUrl(u+Du(d));this._platformLocation.pushState(r,s,f)}replaceState(r,s,u,d){const f=this.prepareExternalUrl(u+Du(d));this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(s){return new(s||e)(et(xb),et(x_,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vx=(()=>{class e extends Ed{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=_u(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,u,d){let f=this.prepareExternalUrl(u+Du(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,s,f)}replaceState(r,s,u,d){let f=this.prepareExternalUrl(u+Du(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(s){return new(s||e)(et(xb),et(x_,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),Th=(()=>{class e{constructor(r){this._subject=new Cr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const s=this._locationStrategy.getBaseHref();this._basePath=function Bc(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(L_(Au(s))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+Du(s))}normalize(r){return e.stripTrailingSlash(function jc(e,n){if(!e||!n.startsWith(e))return n;const r=n.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:n}(this._basePath,Au(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",u=null){this._locationStrategy.pushState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Du(s)),u)}replaceState(r,s="",u=null){this._locationStrategy.replaceState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Du(s)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(u=>u(r,s))}subscribe(r,s,u){return this._subject.subscribe({next:r,error:s,complete:u})}static#e=this.normalizeQueryParams=Du;static#t=this.joinWithSlash=_u;static#n=this.stripTrailingSlash=L_;static#r=this.\u0275fac=function(s){return new(s||e)(et(Ed))};static#o=this.\u0275prov=qe({token:e,factory:()=>function bP(){return new Th(et(Ed))}(),providedIn:"root"})}return e})();function Au(e){return e.replace(/\/index.html$/,"")}function w(e,n){n=encodeURIComponent(n);for(const r of e.split(";")){const s=r.indexOf("="),[u,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(u.trim()===n)return decodeURIComponent(d)}return null}let Px=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({})}return e})();const BV="browser";function $V(e){return"server"===e}let lB=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>function cB(e){return e===BV}(be(za))?new dB(be(oi),window):new hB})}return e})();class dB{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const r=function pB(e,n){const r=e.getElementById(n)||e.getElementsByName(n)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const s=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let u=s.currentNode;for(;u;){const d=u.shadowRoot;if(d){const f=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(f)return f}u=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,u=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],u-d[1])}}class hB{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class HV{}class BB extends gx{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kx extends BB{static makeCurrent(){!function Uc(e){Cn??=e}(new kx)}onAndCancel(n,r,s){return n.addEventListener(r,s),()=>{n.removeEventListener(r,s)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=function $B(){return $_=$_||document.querySelector("base"),$_?$_.getAttribute("href"):null}();return null==r?null:function HB(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){$_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return w(document.cookie,n)}}let $_=null,zB=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Lx=new Ue("");let YV=(()=>{class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,u){return this._findPluginFor(s).addEventListener(r,s,u)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(d=>d.supports(r)),!s)throw new Ee(5101,!1);return this._eventNameToPlugin.set(r,s),s}static#e=this.\u0275fac=function(s){return new(s||e)(et(Lx),et(qt))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class XV{constructor(n){this._doc=n}}const xx="ng-app-id";let eU=(()=>{class e{constructor(r,s,u,d={}){this.doc=r,this.appId=s,this.nonce=u,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$V(d),this.resetHostNodes()}addStyles(r){for(const s of r)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(r){for(const s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){const s=this.styleRef;s.get(r)?.elements?.forEach(u=>u.remove()),s.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${xx}="${this.appId}"]`);if(r?.length){const s=new Map;return r.forEach(u=>{null!=u.textContent&&s.set(u.textContent,u)}),s}return null}changeUsageCount(r,s){const u=this.styleRef;if(u.has(r)){const d=u.get(r);return d.usage+=s,d.usage}return u.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){const u=this.styleNodesInDOM,d=u?.get(s);if(d?.parentNode===r)return u.delete(s),d.removeAttribute(xx),d;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=s,this.platformIsServer&&f.setAttribute(xx,this.appId),r.appendChild(f),f}}addStyleToHost(r,s){const u=this.getStyleElement(r,s),d=this.styleRef,f=d.get(s)?.elements;f?f.push(u):d.set(s,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||e)(et(oi),et(Nf),et(B0,8),et(za))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Fx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vx=/%COMP%/g,QB=new Ue("",{providedIn:"root",factory:()=>!0});function nU(e,n){return n.map(r=>r.replace(Vx,e))}let rU=(()=>{class e{constructor(r,s,u,d,f,m,y,C=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=u,this.removeStylesOnCompDestroy=d,this.doc=f,this.platformId=m,this.ngZone=y,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=$V(m),this.defaultRenderer=new Ux(r,f,y,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===co.ShadowDom&&(s={...s,encapsulation:co.Emulated});const u=this.getOrCreateRenderer(r,s);return u instanceof iU?u.applyToHost(r):u instanceof jx&&u.applyStyles(),u}getOrCreateRenderer(r,s){const u=this.rendererByCompId;let d=u.get(s.id);if(!d){const f=this.doc,m=this.ngZone,y=this.eventManager,C=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(s.encapsulation){case co.Emulated:d=new iU(y,C,s,this.appId,D,f,m,R);break;case co.ShadowDom:return new XB(y,C,r,s,f,m,this.nonce,R);default:d=new jx(y,C,s,D,f,m,R)}u.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||e)(et(YV),et(eU),et(Nf),et(QB),et(oi),et(za),et(qt),et(B0))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class Ux{constructor(n,r,s,u){this.eventManager=n,this.doc=r,this.ngZone=s,this.platformIsServer=u,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,r){return r?this.doc.createElementNS(Fx[r]||r,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,r){(oU(n)?n.content:n).appendChild(r)}insertBefore(n,r,s){n&&(oU(n)?n.content:n).insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?this.doc.querySelector(n):n;if(!s)throw new Ee(-5104,!1);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,u){if(u){r=u+":"+r;const d=Fx[u];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const u=Fx[s];u?n.removeAttributeNS(u,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,u){u&(Za.DashCase|Za.Important)?n.style.setProperty(r,s,u&Za.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&Za.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){null!=n&&(n[r]=s)}setValue(n,r){n.nodeValue=r}listen(n,r,s){if("string"==typeof n&&!(n=oo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${r}`);return this.eventManager.addEventListener(n,r,this.decoratePreventDefault(s))}decoratePreventDefault(n){return r=>{if("__ngUnwrap__"===r)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(r)):n(r))&&r.preventDefault()}}}function oU(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class XB extends Ux{constructor(n,r,s,u,d,f,m,y){super(n,d,f,y),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=nU(u.id,u.styles);for(const D of C){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=D,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jx extends Ux{constructor(n,r,s,u,d,f,m,y){super(n,d,f,m),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=u,this.styles=y?nU(y,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iU extends jx{constructor(n,r,s,u,d,f,m,y){const C=u+"-"+s.id;super(n,r,s,d,f,m,y,C),this.contentAttr=function JB(e){return"_ngcontent-%COMP%".replace(Vx,e)}(C),this.hostAttr=function ZB(e){return"_nghost-%COMP%".replace(Vx,e)}(C)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}let e2=(()=>{class e extends XV{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,u){return r.addEventListener(s,u,!1),()=>this.removeEventListener(r,s,u)}removeEventListener(r,s,u){return r.removeEventListener(s,u)}static#e=this.\u0275fac=function(s){return new(s||e)(et(oi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const sU=["alt","control","meta","shift"],t2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let r2=(()=>{class e extends XV{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,s,u){const d=e.parseEventName(s),f=e.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oo().onAndCancel(r,d.domEventName,f))}static parseEventName(r){const s=r.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const d=e._normalizeKey(s.pop());let f="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),f="code."),sU.forEach(C=>{const D=s.indexOf(C);D>-1&&(s.splice(D,1),f+=C+".")}),f+=d,0!=s.length||0===d.length)return null;const y={};return y.domEventName=u,y.fullKey=f,y}static matchEventFullKeyCode(r,s){let u=t2[r.key]||r.key,d="";return s.indexOf("code.")>-1&&(u=r.code,d="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),sU.forEach(f=>{f!==u&&(0,n2[f])(r)&&(d+=f+".")}),d+=u,d===s)}static eventCallback(r,s,u){return d=>{e.matchEventFullKeyCode(d,r)&&u.runGuarded(()=>s(d))}}static _normalizeKey(r){return"esc"===r?"escape":r}static#e=this.\u0275fac=function(s){return new(s||e)(et(oi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const a2=u_(eP,"browser",[{provide:za,useValue:BV},{provide:U0,useValue:function o2(){kx.makeCurrent()},multi:!0},{provide:oi,useFactory:function s2(){return function _A(e){gy=e}(document),document},deps:[]}]),u2=new Ue(""),cU=[{provide:Ih,useClass:class GB{addToWindow(n){on.getAngularTestability=(s,u=!0)=>{const d=n.findTestabilityInTree(s,u);if(null==d)throw new Ee(5103,!1);return d},on.getAllAngularTestabilities=()=>n.getAllTestabilities(),on.getAllAngularRootElements=()=>n.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(s=>{const u=on.getAllAngularTestabilities();let d=u.length;const f=function(){d--,0==d&&s()};u.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(n,r,s){return null==r?null:n.getTestability(r)??(s?oo().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null)}},deps:[]},{provide:Jw,useClass:db,deps:[qt,Zw,Ih]},{provide:db,useClass:db,deps:[qt,Zw,Ih]}],lU=[{provide:mi,useValue:"root"},{provide:xo,useFactory:function i2(){return new xo},deps:[]},{provide:Lx,useClass:e2,multi:!0,deps:[oi,qt,za]},{provide:Lx,useClass:r2,multi:!0,deps:[oi]},rU,eU,YV,{provide:LC,useExisting:rU},{provide:HV,useClass:zB,deps:[]},[]];let c2=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Nf,useValue:r.appId}]}}static#e=this.\u0275fac=function(s){return new(s||e)(et(u2,12))};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({providers:[...lU,...cU],imports:[Px,tP]})}return e})(),l2=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static#e=this.\u0275fac=function(s){return new(s||e)(et(oi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ph(e){return this instanceof Ph?(this.v=e,this):new Ph(e)}function vU(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Gx(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],s=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(d){r[d]=e[d]&&function(f){return new Promise(function(m,y){!function u(d,f,m,y){Promise.resolve(y).then(function(C){d({value:C,done:m})},f)}(m,y,(f=e[d](f)).done,f.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yU=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function SU(e){return It(e?.then)}function bU(e){return It(e[vv])}function EU(e){return Symbol.asyncIterator&&It(e?.[Symbol.asyncIterator])}function CU(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IU=function x2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wU(e){return It(e?.[IU])}function _U(e){return function mU(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,s=r.apply(e,n||[]),d=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(k){s[k]&&(u[k]=function(G){return new Promise(function(K,X){d.push([k,G,K,X])>1||m(k,G)})})}function m(k,G){try{!function y(k){k.value instanceof Ph?Promise.resolve(k.value.v).then(C,D):R(d[0][2],k)}(s[k](G))}catch(K){R(d[0][3],K)}}function C(k){m("next",k)}function D(k){m("throw",k)}function R(k,G){k(G),d.shift(),d.length&&m(d[0][0],d[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:s,done:u}=yield Ph(r.read());if(u)return yield Ph(void 0);yield yield Ph(s)}}finally{r.releaseLock()}})}function DU(e){return It(e?.getReader)}function wd(e){if(e instanceof gr)return e;if(null!=e){if(bU(e))return function F2(e){return new gr(n=>{const r=e[vv]();if(It(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(yU(e))return function V2(e){return new gr(n=>{for(let r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}(e);if(SU(e))return function U2(e){return new gr(n=>{e.then(r=>{n.closed||(n.next(r),n.complete())},r=>n.error(r)).then(null,fv)})}(e);if(EU(e))return AU(e);if(wU(e))return function j2(e){return new gr(n=>{for(const r of e)if(n.next(r),n.closed)return;n.complete()})}(e);if(DU(e))return function B2(e){return AU(_U(e))}(e)}throw CU(e)}function AU(e){return new gr(n=>{(function $2(e,n){var r,s,u,d;return function fU(e,n,r,s){return new(r||(r=Promise))(function(d,f){function m(D){try{C(s.next(D))}catch(R){f(R)}}function y(D){try{C(s.throw(D))}catch(R){f(R)}}function C(D){D.done?d(D.value):function u(d){return d instanceof r?d:new r(function(f){f(d)})}(D.value).then(m,y)}C((s=s.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(r=vU(e);!(s=yield r.next()).done;)if(n.next(s.value),n.closed)return}catch(f){u={error:f}}finally{try{s&&!s.done&&(d=r.return)&&(yield d.call(r))}finally{if(u)throw u.error}}n.complete()})})(e,n).catch(r=>n.error(r))})}function _d(e,n,r,s=0,u=!1){const d=n.schedule(function(){r(),u?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(d),!u)return d}function TU(e,n=0){return Fn((r,s)=>{r.subscribe(Ht(s,u=>_d(s,e,()=>s.next(u),n),()=>_d(s,e,()=>s.complete(),n),u=>_d(s,e,()=>s.error(u),n)))})}function RU(e,n=0){return Fn((r,s)=>{s.add(e.schedule(()=>r.subscribe(s),n))})}function OU(e,n){if(!e)throw new Error("Iterable cannot be null");return new gr(r=>{_d(r,n,()=>{const s=e[Symbol.asyncIterator]();_d(r,n,()=>{s.next().then(u=>{u.done?r.complete():r.next(u.value)})},0,!0)})})}function Ao(e,n){return n?function K2(e,n){if(null!=e){if(bU(e))return function H2(e,n){return wd(e).pipe(RU(n),TU(n))}(e,n);if(yU(e))return function z2(e,n){return new gr(r=>{let s=0;return n.schedule(function(){s===e.length?r.complete():(r.next(e[s++]),r.closed||this.schedule())})})}(e,n);if(SU(e))return function G2(e,n){return wd(e).pipe(RU(n),TU(n))}(e,n);if(EU(e))return OU(e,n);if(wU(e))return function W2(e,n){return new gr(r=>{let s;return _d(r,n,()=>{s=e[IU](),_d(r,n,()=>{let u,d;try{({value:u,done:d}=s.next())}catch(f){return void r.error(f)}d?r.complete():r.next(u)},0,!0)}),()=>It(s?.return)&&s.return()})}(e,n);if(DU(e))return function q2(e,n){return OU(_U(e),n)}(e,n)}throw CU(e)}(e,n):wd(e)}function zx(e){return e[e.length-1]}function MP(e){return function Q2(e){return e&&It(e.schedule)}(zx(e))?e.pop():void 0}function Et(...e){return Ao(e,MP(e))}const{isArray:Z2}=Array,{getPrototypeOf:Y2,prototype:X2,keys:e$}=Object;const{isArray:r$}=Array;function Wx(...e){const n=MP(e),r=function J2(e){return It(zx(e))?e.pop():void 0}(e),{args:s,keys:u}=function t$(e){if(1===e.length){const n=e[0];if(Z2(n))return{args:n,keys:null};if(function n$(e){return e&&"object"==typeof e&&Y2(e)===X2}(n)){const r=e$(n);return{args:r.map(s=>n[s]),keys:r}}}return{args:e,keys:null}}(e);if(0===s.length)return Ao([],n);const d=new gr(function a$(e,n,r=Hs){return s=>{MU(n,()=>{const{length:u}=e,d=new Array(u);let f=u,m=u;for(let y=0;y<u;y++)MU(n,()=>{const C=Ao(e[y],n);let D=!1;C.subscribe(Ht(s,R=>{d[y]=R,D||(D=!0,m--),m||s.next(r(d.slice()))},()=>{--f||s.complete()}))},s)},s)}}(s,n,u?f=>function s$(e,n){return e.reduce((r,s,u)=>(r[s]=n[u],r),{})}(u,f):Hs));return r?d.pipe(function i$(e){return Jt(n=>function o$(e,n){return r$(n)?e(...n):e(n)}(e,n))}(r)):d}function MU(e,n,r){e?_d(r,e,n):n()}const PP=Bh(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function li(e,n,r=1/0){return It(n)?li((s,u)=>Jt((d,f)=>n(s,d,u,f))(wd(e(s,u))),r):("number"==typeof n&&(r=n),Fn((s,u)=>function u$(e,n,r,s,u,d,f,m){const y=[];let C=0,D=0,R=!1;const k=()=>{R&&!y.length&&!C&&n.complete()},G=X=>C<s?K(X):y.push(X),K=X=>{d&&n.next(X),C++;let oe=!1;wd(r(X,D++)).subscribe(Ht(n,ge=>{u?.(ge),d?G(ge):n.next(ge)},()=>{oe=!0},void 0,()=>{if(oe)try{for(C--;y.length&&C<s;){const ge=y.shift();f?_d(n,f,()=>K(ge)):K(ge)}k()}catch(ge){n.error(ge)}}))};return e.subscribe(Ht(n,G,()=>{R=!0,k()})),()=>{m?.()}}(s,u,e,r)))}function G_(e=1/0){return li(Hs,e)}function qx(...e){return function c$(){return G_(1)}()(Ao(e,MP(e)))}function PU(e){return new gr(n=>{wd(e()).subscribe(n)})}function NP(e,n){const r=It(e)?e:()=>e,s=u=>u.error(r());return new gr(n?u=>n.schedule(s,0,u):s)}const Gc=new gr(e=>e.complete());function Kx(){return Fn((e,n)=>{let r=null;e._refCount++;const s=Ht(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const u=e._connection,d=r;r=null,u&&(!d||u===d)&&u.unsubscribe(),n.unsubscribe()});e.subscribe(s),s.closed||(r=e.connect())})}class NU extends gr{constructor(n,r){super(),this.source=n,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,AE(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Rn;const r=this.getSubject();n.add(this.source.subscribe(Ht(r,void 0,()=>{this._teardown(),r.complete()},s=>{this._teardown(),r.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Rn.EMPTY)}return n}refCount(){return Kx()(this)}}function Ou(e,n){return Fn((r,s)=>{let u=null,d=0,f=!1;const m=()=>f&&!u&&s.complete();r.subscribe(Ht(s,y=>{u?.unsubscribe();let C=0;const D=d++;wd(e(y,D)).subscribe(u=Ht(s,R=>s.next(n?n(y,R,D,C++):R),()=>{u=null,m()}))},()=>{f=!0,m()}))})}function Qb(e){return e<=0?()=>Gc:Fn((n,r)=>{let s=0;n.subscribe(Ht(r,u=>{++s<=e&&(r.next(u),e<=s&&r.complete())}))})}function Dd(e,n){return Fn((r,s)=>{let u=0;r.subscribe(Ht(s,d=>e.call(n,d,u++)&&s.next(d)))})}function kP(e){return Fn((n,r)=>{let s=!1;n.subscribe(Ht(r,u=>{s=!0,r.next(u)},()=>{s||r.next(e),r.complete()}))})}function kU(e=p$){return Fn((n,r)=>{let s=!1;n.subscribe(Ht(r,u=>{s=!0,r.next(u)},()=>s?r.complete():r.error(e())))})}function p$(){return new PP}function rv(e,n){const r=arguments.length>=2;return s=>s.pipe(e?Dd((u,d)=>e(u,d,s)):Hs,Qb(1),r?kP(n):kU(()=>new PP))}function Jb(e,n){return It(n)?li(e,n,1):li(e,1)}function xi(e,n,r){const s=It(e)||n||r?{next:e,error:n,complete:r}:e;return s?Fn((u,d)=>{var f;null===(f=s.subscribe)||void 0===f||f.call(s);let m=!0;u.subscribe(Ht(d,y=>{var C;null===(C=s.next)||void 0===C||C.call(s,y),d.next(y)},()=>{var y;m=!1,null===(y=s.complete)||void 0===y||y.call(s),d.complete()},y=>{var C;m=!1,null===(C=s.error)||void 0===C||C.call(s,y),d.error(y)},()=>{var y,C;m&&(null===(y=s.unsubscribe)||void 0===y||y.call(s)),null===(C=s.finalize)||void 0===C||C.call(s)}))}):Hs}function Zb(e){return Fn((n,r)=>{let d,s=null,u=!1;s=n.subscribe(Ht(r,void 0,void 0,f=>{d=wd(e(f,Zb(e)(n))),s?(s.unsubscribe(),s=null,d.subscribe(r)):u=!0})),u&&(s.unsubscribe(),s=null,d.subscribe(r))})}function Qx(e){return e<=0?()=>Gc:Fn((n,r)=>{let s=[];n.subscribe(Ht(r,u=>{s.push(u),e<s.length&&s.shift()},()=>{for(const u of s)r.next(u);r.complete()},void 0,()=>{s=null}))})}function z_(e){return Fn((n,r)=>{try{n.subscribe(r)}finally{r.add(e)}})}const kt="primary",W_=Symbol("RouteTitle");class y${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Yb(e){return new y$(e)}function S$(e,n,r){const s=r.path.split("/");if(s.length>e.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<e.length))return null;const u={};for(let d=0;d<s.length;d++){const f=s[d],m=e[d];if(f.startsWith(":"))u[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:e.slice(0,s.length),posParams:u}}function zc(e,n){const r=e?Jx(e):void 0,s=n?Jx(n):void 0;if(!r||!s||r.length!=s.length)return!1;let u;for(let d=0;d<r.length;d++)if(u=r[d],!LU(e[u],n[u]))return!1;return!0}function Jx(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function LU(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const r=[...e].sort(),s=[...n].sort();return r.every((u,d)=>s[d]===u)}return e===n}function xU(e){return e.length>0?e[e.length-1]:null}function Nh(e){return function f2(e){return!!e&&(e instanceof gr||It(e.lift)&&It(e.subscribe))}(e)?e:pb(e)?Ao(Promise.resolve(e)):Et(e)}const E$={exact:function UU(e,n,r){if(!ov(e.segments,n.segments)||!LP(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!e.children[s]||!UU(e.children[s],n.children[s],r))return!1;return!0},subset:jU},FU={exact:function C$(e,n){return zc(e,n)},subset:function I$(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(r=>LU(e[r],n[r]))},ignored:()=>!0};function VU(e,n,r){return E$[r.paths](e.root,n.root,r.matrixParams)&&FU[r.queryParams](e.queryParams,n.queryParams)&&!("exact"===r.fragment&&e.fragment!==n.fragment)}function jU(e,n,r){return BU(e,n,n.segments,r)}function BU(e,n,r,s){if(e.segments.length>r.length){const u=e.segments.slice(0,r.length);return!(!ov(u,r)||n.hasChildren()||!LP(u,r,s))}if(e.segments.length===r.length){if(!ov(e.segments,r)||!LP(e.segments,r,s))return!1;for(const u in n.children)if(!e.children[u]||!jU(e.children[u],n.children[u],s))return!1;return!0}{const u=r.slice(0,e.segments.length),d=r.slice(e.segments.length);return!!(ov(e.segments,u)&&LP(e.segments,u,s)&&e.children[kt])&&BU(e.children[kt],n,d,s)}}function LP(e,n,r){return n.every((s,u)=>FU[r](e[u].parameters,s.parameters))}class Xb{constructor(n=new Tn([],{}),r={},s=null){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Yb(this.queryParams),this._queryParamMap}toString(){return D$.serialize(this)}}class Tn{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Object.values(r).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xP(this)}}class q_{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap??=Yb(this.parameters),this._parameterMap}toString(){return GU(this)}}function ov(e,n){return e.length===n.length&&e.every((r,s)=>r.path===n[s].path)}let eE=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>new Zx,providedIn:"root"})}return e})();class Zx{parse(n){const r=new F$(n);return new Xb(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){const r=`/${K_(n.root,!0)}`,s=function R$(e){const n=Object.entries(e).map(([r,s])=>Array.isArray(s)?s.map(u=>`${FP(r)}=${FP(u)}`).join("&"):`${FP(r)}=${FP(s)}`).filter(r=>r);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${r}${s}${"string"==typeof n.fragment?`#${function A$(e){return encodeURI(e)}(n.fragment)}`:""}`}}const D$=new Zx;function xP(e){return e.segments.map(n=>GU(n)).join("/")}function K_(e,n){if(!e.hasChildren())return xP(e);if(n){const r=e.children[kt]?K_(e.children[kt],!1):"",s=[];return Object.entries(e.children).forEach(([u,d])=>{u!==kt&&s.push(`${u}:${K_(d,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function _$(e,n){let r=[];return Object.entries(e.children).forEach(([s,u])=>{s===kt&&(r=r.concat(n(u,s)))}),Object.entries(e.children).forEach(([s,u])=>{s!==kt&&(r=r.concat(n(u,s)))}),r}(e,(s,u)=>u===kt?[K_(e.children[kt],!1)]:[`${u}:${K_(s,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[kt]?`${xP(e)}/${r[0]}`:`${xP(e)}/(${r.join("//")})`}}function $U(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function FP(e){return $U(e).replace(/%3B/gi,";")}function Yx(e){return $U(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function VP(e){return decodeURIComponent(e)}function HU(e){return VP(e.replace(/\+/g,"%20"))}function GU(e){return`${Yx(e.path)}${function T$(e){return Object.entries(e).map(([n,r])=>`;${Yx(n)}=${Yx(r)}`).join("")}(e.parameters)}`}const O$=/^[^\/()?;#]+/;function Xx(e){const n=e.match(O$);return n?n[0]:""}const M$=/^[^\/()?;=#]+/,N$=/^[^=?&#]+/,L$=/^[^&#]+/;class F${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[kt]=new Tn(n,r)),s}parseSegment(){const n=Xx(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(n),new q_(VP(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=function P$(e){const n=e.match(M$);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const u=Xx(this.remaining);u&&(s=u,this.capture(s))}n[VP(r)]=VP(s)}parseQueryParam(n){const r=function k$(e){const n=e.match(N$);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const f=function x$(e){const n=e.match(L$);return n?n[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const u=HU(r),d=HU(s);if(n.hasOwnProperty(u)){let f=n[u];Array.isArray(f)||(f=[f],n[u]=f),f.push(d)}else n[u]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Xx(this.remaining),u=this.remaining[s.length];if("/"!==u&&")"!==u&&";"!==u)throw new Ee(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=kt);const f=this.parseChildren();r[d]=1===Object.keys(f).length?f[kt]:new Tn([],f),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ee(4011,!1)}}function zU(e){return e.segments.length>0?new Tn([],{[kt]:e}):e}function WU(e){const n={};for(const[s,u]of Object.entries(e.children)){const d=WU(u);if(s===kt&&0===d.segments.length&&d.hasChildren())for(const[f,m]of Object.entries(d.children))n[f]=m;else(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function V$(e){if(1===e.numberOfChildren&&e.children[kt]){const n=e.children[kt];return new Tn(e.segments.concat(n.segments),n.children)}return e}(new Tn(e.segments,n))}function tE(e){return e instanceof Xb}function qU(e){let n;const u=zU(function r(d){const f={};for(const y of d.children){const C=r(y);f[y.outlet]=C}const m=new Tn(d.url,f);return d===e&&(n=m),m}(e.root));return n??u}function KU(e,n,r,s){let u=e;for(;u.parent;)u=u.parent;if(0===n.length)return eF(u,u,u,r,s);const d=function j$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new JU(!0,0,e);let n=0,r=!1;const s=e.reduce((u,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return Object.entries(d.outlets).forEach(([y,C])=>{m[y]="string"==typeof C?C.split("/"):C}),[...u,{outlets:m}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===f?(d.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?r=!0:".."===m?n++:""!=m&&u.push(m))}),u):[...u,d]},[]);return new JU(r,n,s)}(n);if(d.toRoot())return eF(u,u,new Tn([],{}),r,s);const f=function B$(e,n,r){if(e.isAbsolute)return new jP(n,!0,0);if(!r)return new jP(n,!1,NaN);if(null===r.parent)return new jP(r,!0,0);const s=UP(e.commands[0])?0:1;return function $$(e,n,r){let s=e,u=n,d=r;for(;d>u;){if(d-=u,s=s.parent,!s)throw new Ee(4005,!1);u=s.segments.length}return new jP(s,!1,u-d)}(r,r.segments.length-1+s,e.numberOfDoubleDots)}(d,u,e),m=f.processChildren?J_(f.segmentGroup,f.index,d.commands):ZU(f.segmentGroup,f.index,d.commands);return eF(u,f.segmentGroup,m,r,s)}function UP(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Q_(e){return"object"==typeof e&&null!=e&&e.outlets}function eF(e,n,r,s,u){let f,d={};s&&Object.entries(s).forEach(([y,C])=>{d[y]=Array.isArray(C)?C.map(D=>`${D}`):`${C}`}),f=e===n?r:QU(e,n,r);const m=zU(WU(f));return new Xb(m,d,u)}function QU(e,n,r){const s={};return Object.entries(e.children).forEach(([u,d])=>{s[u]=d===n?r:QU(d,n,r)}),new Tn(e.segments,s)}class JU{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&UP(s[0]))throw new Ee(4003,!1);const u=s.find(Q_);if(u&&u!==xU(s))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jP{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function ZU(e,n,r){if(e??=new Tn([],{}),0===e.segments.length&&e.hasChildren())return J_(e,n,r);const s=function G$(e,n,r){let s=0,u=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<e.segments.length;){if(s>=r.length)return d;const f=e.segments[u],m=r[s];if(Q_(m))break;const y=`${m}`,C=s<r.length-1?r[s+1]:null;if(u>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!XU(y,C,f))return d;s+=2}else{if(!XU(y,{},f))return d;s++}u++}return{match:!0,pathIndex:u,commandIndex:s}}(e,n,r),u=r.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){const d=new Tn(e.segments.slice(0,s.pathIndex),{});return d.children[kt]=new Tn(e.segments.slice(s.pathIndex),e.children),J_(d,0,u)}return s.match&&0===u.length?new Tn(e.segments,{}):s.match&&!e.hasChildren()?tF(e,n,r):s.match?J_(e,0,u):tF(e,n,r)}function J_(e,n,r){if(0===r.length)return new Tn(e.segments,{});{const s=function H$(e){return Q_(e[0])?e[0].outlets:{[kt]:e}}(r),u={};if(Object.keys(s).some(d=>d!==kt)&&e.children[kt]&&1===e.numberOfChildren&&0===e.children[kt].segments.length){const d=J_(e.children[kt],n,r);return new Tn(e.segments,d.children)}return Object.entries(s).forEach(([d,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(u[d]=ZU(e.children[d],n,f))}),Object.entries(e.children).forEach(([d,f])=>{void 0===s[d]&&(u[d]=f)}),new Tn(e.segments,u)}}function tF(e,n,r){const s=e.segments.slice(0,n);let u=0;for(;u<r.length;){const d=r[u];if(Q_(d)){const y=z$(d.outlets);return new Tn(s,y)}if(0===u&&UP(r[0])){s.push(new q_(e.segments[n].path,YU(r[0]))),u++;continue}const f=Q_(d)?d.outlets[kt]:`${d}`,m=u<r.length-1?r[u+1]:null;f&&m&&UP(m)?(s.push(new q_(f,YU(m))),u+=2):(s.push(new q_(f,{})),u++)}return new Tn(s,{})}function z$(e){const n={};return Object.entries(e).forEach(([r,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(n[r]=tF(new Tn([],{}),0,s))}),n}function YU(e){const n={};return Object.entries(e).forEach(([r,s])=>n[r]=`${s}`),n}function XU(e,n,r){return e==r.path&&zc(n,r.parameters)}const Z_="imperative";var tn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(tn||{});class Wc{constructor(n,r){this.id=n,this.url=r}}class BP extends Wc{constructor(n,r,s="imperative",u=null){super(n,r),this.type=tn.NavigationStart,this.navigationTrigger=s,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends Wc{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s,this.type=tn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Bs||{}),$P=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($P||{});class nE extends Wc{constructor(n,r,s,u){super(n,r),this.reason=s,this.code=u,this.type=tn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rE extends Wc{constructor(n,r,s,u){super(n,r),this.reason=s,this.code=u,this.type=tn.NavigationSkipped}}class HP extends Wc{constructor(n,r,s,u){super(n,r),this.error=s,this.target=u,this.type=tn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ej extends Wc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W$ extends Wc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q$ extends Wc{constructor(n,r,s,u,d){super(n,r),this.urlAfterRedirects=s,this.state=u,this.shouldActivate=d,this.type=tn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K$ extends Wc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q$ extends Wc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J${constructor(n){this.route=n,this.type=tn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z${constructor(n){this.route=n,this.type=tn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y${constructor(n){this.snapshot=n,this.type=tn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X${constructor(n){this.snapshot=n,this.type=tn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eH{constructor(n){this.snapshot=n,this.type=tn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tH{constructor(n){this.snapshot=n,this.type=tn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tj{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s,this.type=tn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nF{}class rF{constructor(n){this.url=n}}class nH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Y_,this.attachRef=null}}let Y_=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const u=this.getOrCreateContext(r);u.outlet=s,this.contexts.set(r,u)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new nH,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class nj{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=oF(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=oF(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=iF(n,this._root);return r.length<2?[]:r[r.length-2].children.map(u=>u.value).filter(u=>u!==n)}pathFromRoot(n){return iF(n,this._root).map(r=>r.value)}}function oF(e,n){if(e===n.value)return n;for(const r of n.children){const s=oF(e,r);if(s)return s}return null}function iF(e,n){if(e===n.value)return[n];for(const r of n.children){const s=iF(e,r);if(s.length)return s.unshift(n),s}return[]}class Mu{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function oE(e){const n={};return e&&e.children.forEach(r=>n[r.value.outlet]=r),n}class rj extends nj{constructor(n,r){super(n),this.snapshot=r,uF(this,n)}toString(){return this.snapshot.toString()}}function oj(e){const n=function rH(e){const d=new aF([],{},{},"",{},kt,e,null,{});return new ij("",new Mu(d,[]))}(e),r=new un([new q_("",{})]),s=new un({}),u=new un({}),d=new un({}),f=new un(""),m=new iv(r,s,d,f,u,kt,e,n.root);return m.snapshot=n.root,new rj(new Mu(m,[]),n)}class iv{constructor(n,r,s,u,d,f,m,y){this.urlSubject=n,this.paramsSubject=r,this.queryParamsSubject=s,this.fragmentSubject=u,this.dataSubject=d,this.outlet=f,this.component=m,this._futureSnapshot=y,this.title=this.dataSubject?.pipe(Jt(C=>C[W_]))??Et(void 0),this.url=n,this.params=r,this.queryParams=s,this.fragment=u,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Jt(n=>Yb(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Jt(n=>Yb(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sF(e,n,r="emptyOnly"){let s;const{routeConfig:u}=e;return s=null===n||"always"!==r&&""!==u?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...u?.data,...e._resolvedData}},u&&aj(u)&&(s.resolve[W_]=u.title),s}class aF{get title(){return this.data?.[W_]}constructor(n,r,s,u,d,f,m,y,C){this.url=n,this.params=r,this.queryParams=s,this.fragment=u,this.data=d,this.outlet=f,this.component=m,this.routeConfig=y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yb(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yb(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ij extends nj{constructor(n,r){super(r),this.url=n,uF(this,r)}toString(){return sj(this._root)}}function uF(e,n){n.value._routerState=e,n.children.forEach(r=>uF(e,r))}function sj(e){const n=e.children.length>0?` { ${e.children.map(sj).join(", ")} } `:"";return`${e.value}${n}`}function cF(e){if(e.snapshot){const n=e.snapshot,r=e._futureSnapshot;e.snapshot=r,zc(n.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),n.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),zc(n.params,r.params)||e.paramsSubject.next(r.params),function b$(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(!zc(e[r],n[r]))return!1;return!0}(n.url,r.url)||e.urlSubject.next(r.url),zc(n.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function lF(e,n){const r=zc(e.params,n.params)&&function w$(e,n){return ov(e,n)&&e.every((r,s)=>zc(r.parameters,n[s].parameters))}(e.url,n.url);return r&&!(!e.parent!=!n.parent)&&(!e.parent||lF(e.parent,n.parent))}function aj(e){return"string"==typeof e.title||null===e.title}let dF=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new Cr,this.deactivateEvents=new Cr,this.attachEvents=new Cr,this.detachEvents=new Cr,this.parentContexts=be(Y_),this.location=be(ws),this.changeDetector=be(Fm),this.environmentInjector=be(Po),this.inputBinder=be(GP,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:s,previousValue:u}=r.name;if(s)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Ee(4013,!1);this._activatedRoute=r;const u=this.location,f=r.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,y=new oH(r,m,u.injector);this.activated=u.createComponent(f,{index:u.length,injector:y,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275dir=Oo({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$u]})}return e})();class oH{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s,this.__ngOutletInjector=!0}get(n,r){return n===iv?this.route:n===Y_?this.childContexts:this.parent.get(n,r)}}const GP=new Ue("");let uj=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:s}=r,u=Wx([s.queryParams,s.params,s.data]).pipe(Ou(([d,f,m],y)=>(m={...d,...f,...m},0===y?Et(m):Promise.resolve(m)))).subscribe(d=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(r);const f=function k_(e){const n=At(e);if(!n)return null;const r=new jp(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(s.component);if(f)for(const{templateName:m}of f.inputs)r.activatedComponentRef.setInput(m,d[m]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,u)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function X_(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const u=function sH(e,n,r){return n.children.map(s=>{for(const u of r.children)if(e.shouldReuseRoute(s.value,u.value.snapshot))return X_(e,s,u);return X_(e,s)})}(e,n,r);return new Mu(s,u)}{if(e.shouldAttach(n.value)){const d=e.retrieve(n.value);if(null!==d){const f=d.route;return f.value._futureSnapshot=n.value,f.children=n.children.map(m=>X_(e,m)),f}}const s=function aH(e){return new iv(new un(e.url),new un(e.params),new un(e.queryParams),new un(e.fragment),new un(e.data),e.outlet,e.component,e)}(n.value),u=n.children.map(d=>X_(e,d));return new Mu(s,u)}}const cj="ngNavigationCancelingError";function lj(e,n){const{redirectTo:r,navigationBehaviorOptions:s}=tE(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,u=dj(!1,Bs.Redirect);return u.url=r,u.navigationBehaviorOptions=s,u}function dj(e,n){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[cj]=!0,r.cancellationCode=n,r}function pj(e){return!!e&&e[cj]}let hj=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275cmp=Wd({type:e,selectors:[["ng-component"]],standalone:!0,features:[as],decls:1,vars:0,template:function(s,u){1&s&&fh(0,"router-outlet")},dependencies:[dF],encapsulation:2})}return e})();function pF(e){const n=e.children&&e.children.map(pF),r=n?{...e,children:n}:{...e};return!r.component&&!r.loadComponent&&(n||r.loadChildren)&&r.outlet&&r.outlet!==kt&&(r.component=hj),r}function qc(e){return e.outlet||kt}function eD(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const r=n.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class gH{constructor(n,r,s,u,d){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=u,this.inputBindingEnabled=d}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),cF(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const u=oE(r);n.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,u[f],s),delete u[f]}),Object.values(u).forEach(d=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const u=n.value,d=r?r.value:null;if(u===d)if(u.component){const f=s.getContext(u.outlet);f&&this.deactivateChildRoutes(n,r,f.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet),u=s&&n.value.component?s.children:r,d=oE(n);for(const f of Object.values(d))this.deactivateRouteAndItsChildren(f,u);if(s&&s.outlet){const f=s.outlet.detach(),m=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:f,route:n,contexts:m})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),u=s&&n.value.component?s.children:r,d=oE(n);for(const f of Object.values(d))this.deactivateRouteAndItsChildren(f,u);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(n,r,s){const u=oE(r);n.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],s),this.forwardEvent(new tH(d.value.snapshot))}),n.children.length&&this.forwardEvent(new X$(n.value.snapshot))}activateRoutes(n,r,s){const u=n.value,d=r?r.value:null;if(cF(u),u===d)if(u.component){const f=s.getOrCreateContext(u.outlet);this.activateChildRoutes(n,r,f.children)}else this.activateChildRoutes(n,r,s);else if(u.component){const f=s.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const m=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),cF(m.route.value),this.activateChildRoutes(n,null,f.children)}else{const m=eD(u.snapshot);f.attachRef=null,f.route=u,f.injector=m,f.outlet&&f.outlet.activateWith(u,f.injector),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,s)}}class fj{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class zP{constructor(n,r){this.component=n,this.route=r}}function mH(e,n,r){const s=e._root;return tD(s,n?n._root:null,r,[s.value])}function iE(e,n){const r=Symbol(),s=n.get(e,r);return s===r?"function"!=typeof e||function PE(e){return null!==qh(e)}(e)?n.get(e):e:s}function tD(e,n,r,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=oE(n);return e.children.forEach(f=>{(function yH(e,n,r,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=e.value,f=n?n.value:null,m=r?r.getContext(e.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const y=function SH(e,n,r){if("function"==typeof r)return r(e,n);switch(r){case"pathParamsChange":return!ov(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ov(e.url,n.url)||!zc(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lF(e,n)||!zc(e.queryParams,n.queryParams);default:return!lF(e,n)}}(f,d,d.routeConfig.runGuardsAndResolvers);y?u.canActivateChecks.push(new fj(s)):(d.data=f.data,d._resolvedData=f._resolvedData),tD(e,n,d.component?m?m.children:null:r,s,u),y&&m&&m.outlet&&m.outlet.isActivated&&u.canDeactivateChecks.push(new zP(m.outlet.component,f))}else f&&nD(n,m,u),u.canActivateChecks.push(new fj(s)),tD(e,null,d.component?m?m.children:null:r,s,u)})(f,d[f.value.outlet],r,s.concat([f.value]),u),delete d[f.value.outlet]}),Object.entries(d).forEach(([f,m])=>nD(m,r.getContext(f),u)),u}function nD(e,n,r){const s=oE(e),u=e.value;Object.entries(s).forEach(([d,f])=>{nD(f,u.component?n?n.children.getContext(d):null:n,r)}),r.canDeactivateChecks.push(new zP(u.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,u))}function rD(e){return"function"==typeof e}function gj(e){return e instanceof PP||"EmptyError"===e?.name}const WP=Symbol("INITIAL_VALUE");function sE(){return Ou(e=>Wx(e.map(n=>n.pipe(Qb(1),function d$(...e){const n=MP(e);return Fn((r,s)=>{(n?qx(e,r,n):qx(e,r)).subscribe(s)})}(WP)))).pipe(Jt(n=>{for(const r of n)if(!0!==r){if(r===WP)return WP;if(!1===r||r instanceof Xb)return r}return!0}),Dd(n=>n!==WP),Qb(1)))}function mj(e){return function IE(...e){return wE(e)}(xi(n=>{if(tE(n))throw lj(0,n)}),Jt(n=>!0===n))}class hF{constructor(n){this.segmentGroup=n||null}}class fF extends Error{constructor(n){super(),this.urlTree=n}}function aE(e){return NP(new hF(e))}class VH{constructor(n,r){this.urlSerializer=n,this.urlTree=r}lineralizeSegments(n,r){let s=[],u=r.root;for(;;){if(s=s.concat(u.segments),0===u.numberOfChildren)return Et(s);if(u.numberOfChildren>1||!u.children[kt])return NP(new Ee(4e3,!1));u=u.children[kt]}}applyRedirectCommands(n,r,s){const u=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),n,s);if(r.startsWith("/"))throw new fF(u);return u}applyRedirectCreateUrlTree(n,r,s,u){const d=this.createSegmentGroup(n,r.root,s,u);return new Xb(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Object.entries(n).forEach(([u,d])=>{if("string"==typeof d&&d.startsWith(":")){const m=d.substring(1);s[u]=r[m]}else s[u]=d}),s}createSegmentGroup(n,r,s,u){const d=this.createSegments(n,r.segments,s,u);let f={};return Object.entries(r.children).forEach(([m,y])=>{f[m]=this.createSegmentGroup(n,y,s,u)}),new Tn(d,f)}createSegments(n,r,s,u){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,u):this.findOrReturn(d,s))}findPosParam(n,r,s){const u=s[r.path.substring(1)];if(!u)throw new Ee(4001,!1);return u}findOrReturn(n,r){let s=0;for(const u of r){if(u.path===n.path)return r.splice(s),u;s++}return n}}const gF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UH(e,n,r,s,u){const d=mF(e,n,r);return d.matched?(s=function cH(e,n){return e.providers&&!e._injector&&(e._injector=ou(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,s),function LH(e,n,r,s){const u=n.canMatch;return u&&0!==u.length?Et(u.map(f=>{const m=iE(f,e);return Nh(function _H(e){return e&&rD(e.canMatch)}(m)?m.canMatch(n,r):vi(e,()=>m(n,r)))})).pipe(sE(),mj()):Et(!0)}(s,n,r).pipe(Jt(f=>!0===f?d:{...gF}))):Et(d)}function mF(e,n,r){if("**"===n.path)return function jH(e){return{matched:!0,parameters:e.length>0?xU(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||r.length>0)?{...gF}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const u=(n.matcher||S$)(r,e,n);if(!u)return{...gF};const d={};Object.entries(u.posParams??{}).forEach(([m,y])=>{d[m]=y.path});const f=u.consumed.length>0?{...d,...u.consumed[u.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:r.slice(u.consumed.length),parameters:f,positionalParamSegments:u.posParams??{}}}function vj(e,n,r,s){return r.length>0&&function HH(e,n,r){return r.some(s=>qP(e,n,s)&&qc(s)!==kt)}(e,r,s)?{segmentGroup:new Tn(n,$H(s,new Tn(r,e.children))),slicedSegments:[]}:0===r.length&&function GH(e,n,r){return r.some(s=>qP(e,n,s))}(e,r,s)?{segmentGroup:new Tn(e.segments,BH(e,r,s,e.children)),slicedSegments:r}:{segmentGroup:new Tn(e.segments,e.children),slicedSegments:r}}function BH(e,n,r,s){const u={};for(const d of r)if(qP(e,n,d)&&!s[qc(d)]){const f=new Tn([],{});u[qc(d)]=f}return{...s,...u}}function $H(e,n){const r={};r[kt]=n;for(const s of e)if(""===s.path&&qc(s)!==kt){const u=new Tn([],{});r[qc(s)]=u}return r}function qP(e,n,r){return(!(e.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}class qH{}class JH{constructor(n,r,s,u,d,f,m){this.injector=n,this.configLoader=r,this.rootComponentType=s,this.config=u,this.urlTree=d,this.paramsInheritanceStrategy=f,this.urlSerializer=m,this.applyRedirects=new VH(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Ee(4002,`'${n.segmentGroup}'`)}recognize(){const n=vj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Jt(r=>{const s=new aF([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),u=new Mu(s,r),d=new ij("",u),f=function U$(e,n,r=null,s=null){return KU(qU(e),n,r,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(d._root,null),{state:d,tree:f}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,kt).pipe(Zb(s=>{if(s instanceof fF)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof hF?this.noMatchError(s):s}))}inheritParamsAndData(n,r){const s=n.value,u=sF(s,r,this.paramsInheritanceStrategy);s.params=Object.freeze(u.params),s.data=Object.freeze(u.data),n.children.forEach(d=>this.inheritParamsAndData(d,s))}processSegmentGroup(n,r,s,u){return 0===s.segments.length&&s.hasChildren()?this.processChildren(n,r,s):this.processSegment(n,r,s,s.segments,u,!0).pipe(Jt(d=>d instanceof Mu?[d]:[]))}processChildren(n,r,s){const u=[];for(const d of Object.keys(s.children))"primary"===d?u.unshift(d):u.push(d);return Ao(u).pipe(Jb(d=>{const f=s.children[d],m=function hH(e,n){const r=e.filter(s=>qc(s)===n);return r.push(...e.filter(s=>qc(s)!==n)),r}(r,d);return this.processSegmentGroup(n,m,f,d)}),function f$(e,n){return Fn(function h$(e,n,r,s,u){return(d,f)=>{let m=r,y=n,C=0;d.subscribe(Ht(f,D=>{const R=C++;y=m?e(y,D,R):(m=!0,D),s&&f.next(y)},u&&(()=>{m&&f.next(y),f.complete()})))}}(e,n,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),kP(null),function g$(e,n){const r=arguments.length>=2;return s=>s.pipe(e?Dd((u,d)=>e(u,d,s)):Hs,Qx(1),r?kP(n):kU(()=>new PP))}(),li(d=>{if(null===d)return aE(s);const f=yj(d);return function ZH(e){e.sort((n,r)=>n.value.outlet===kt?-1:r.value.outlet===kt?1:n.value.outlet.localeCompare(r.value.outlet))}(f),Et(f)}))}processSegment(n,r,s,u,d,f){return Ao(r).pipe(Jb(m=>this.processSegmentAgainstRoute(m._injector??n,r,m,s,u,d,f).pipe(Zb(y=>{if(y instanceof hF)return Et(null);throw y}))),rv(m=>!!m),Zb(m=>{if(gj(m))return function WH(e,n,r){return 0===n.length&&!e.children[r]}(s,u,d)?Et(new qH):aE(s);throw m}))}processSegmentAgainstRoute(n,r,s,u,d,f,m){return function zH(e,n,r,s){return!!(qc(e)===s||s!==kt&&qP(n,r,e))&&mF(n,e,r).matched}(s,u,d,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,u,s,d,f):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(n,u,r,s,d,f):aE(u):aE(u)}expandSegmentAgainstRouteUsingRedirect(n,r,s,u,d,f){const{matched:m,consumedSegments:y,positionalParamSegments:C,remainingSegments:D}=mF(r,u,d);if(!m)return aE(r);u.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const R=this.applyRedirects.applyRedirectCommands(y,u.redirectTo,C);return this.applyRedirects.lineralizeSegments(u,R).pipe(li(k=>this.processSegment(n,s,r,k.concat(D),f,!1)))}matchSegmentAgainstRoute(n,r,s,u,d){const f=UH(r,s,u,n);return"**"===s.path&&(r.children={}),f.pipe(Ou(m=>m.matched?this.getChildConfig(n=s._injector??n,s,u).pipe(Ou(({routes:y})=>{const C=s._loadedInjector??n,{consumedSegments:D,remainingSegments:R,parameters:k}=m,G=new aF(D,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function XH(e){return e.data||{}}(s),qc(s),s.component??s._loadedComponent??null,s,function e3(e){return e.resolve||{}}(s)),{segmentGroup:K,slicedSegments:X}=vj(r,D,R,y);if(0===X.length&&K.hasChildren())return this.processChildren(C,y,K).pipe(Jt(ge=>null===ge?null:new Mu(G,ge)));if(0===y.length&&0===X.length)return Et(new Mu(G,[]));const oe=qc(s)===d;return this.processSegment(C,y,K,X,oe?kt:d,!0).pipe(Jt(ge=>new Mu(G,ge instanceof Mu?[ge]:[])))})):aE(r)))}getChildConfig(n,r,s){return r.children?Et({routes:r.children,injector:n}):r.loadChildren?void 0!==r._loadedRoutes?Et({routes:r._loadedRoutes,injector:r._loadedInjector}):function kH(e,n,r,s){const u=n.canLoad;return void 0===u||0===u.length?Et(!0):Et(u.map(f=>{const m=iE(f,e);return Nh(function EH(e){return e&&rD(e.canLoad)}(m)?m.canLoad(n,r):vi(e,()=>m(n,r)))})).pipe(sE(),mj())}(n,r,s).pipe(li(u=>u?this.configLoader.loadChildren(n,r).pipe(xi(d=>{r._loadedRoutes=d.routes,r._loadedInjector=d.injector})):function FH(e){return NP(dj(!1,Bs.GuardRejected))}())):Et({routes:[],injector:n})}}function YH(e){const n=e.value.routeConfig;return n&&""===n.path}function yj(e){const n=[],r=new Set;for(const s of e){if(!YH(s)){n.push(s);continue}const u=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...s.children),r.add(u)):n.push(s)}for(const s of r){const u=yj(s.children);n.push(new Mu(s.value,u))}return n.filter(s=>!r.has(s))}function Sj(e){const n=e.children.map(r=>Sj(r)).flat();return[e,...n]}function vF(e){return Ou(n=>{const r=e(n);return r?Ao(r).pipe(Jt(()=>n)):Et(n)})}let bj=(()=>{class e{buildTitle(r){let s,u=r.root;for(;void 0!==u;)s=this.getResolvedTitleForRoute(u)??s,u=u.children.find(d=>d.outlet===kt);return s}getResolvedTitleForRoute(r){return r.data[W_]}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(s3),providedIn:"root"})}return e})(),s3=(()=>{class e extends bj{constructor(r){super(),this.title=r}updateTitle(r){const s=this.buildTitle(r);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||e)(et(l2))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uE=new Ue("",{providedIn:"root",factory:()=>({})}),cE=new Ue("");let yF=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=be(n_)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Et(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=Nh(r.loadComponent()).pipe(Jt(Ej),xi(d=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=d}),z_(()=>{this.componentLoaders.delete(r)})),u=new NU(s,()=>new pi).pipe(Kx());return this.componentLoaders.set(r,u),u}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Et({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=function a3(e,n,r,s){return Nh(e.loadChildren()).pipe(Jt(Ej),li(u=>u instanceof OS||Array.isArray(u)?Et(u):Ao(n.compileModuleAsync(u))),Jt(u=>{s&&s(e);let d,f,m=!1;return Array.isArray(u)?(f=u,!0):(d=u.create(r).injector,f=d.get(cE,[],{optional:!0,self:!0}).flat()),{routes:f.map(pF),injector:d}}))}(s,this.compiler,r,this.onLoadEndListener).pipe(z_(()=>{this.childrenLoaders.delete(s)})),f=new NU(d,()=>new pi).pipe(Kx());return this.childrenLoaders.set(s,f),f}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ej(e){return function u3(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let SF=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(c3),providedIn:"root"})}return e})(),c3=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Cj=new Ue(""),Ij=new Ue("");function l3(e,n,r){const s=e.get(Ij),u=e.get(oi);return e.get(qt).runOutsideAngular(()=>{if(!u.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,Promise.resolve();let d;const f=new Promise(C=>{d=C}),m=u.startViewTransition(()=>(d(),function d3(e){return new Promise(n=>{SS(n,{injector:e})})}(e))),{onViewTransitionCreated:y}=s;return y&&vi(e,()=>y({transition:m,from:n,to:r})),f})}let KP=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pi,this.transitionAbortSubject=new pi,this.configLoader=be(yF),this.environmentInjector=be(Po),this.urlSerializer=be(eE),this.rootContexts=be(Y_),this.location=be(Th),this.inputBindingEnabled=null!==be(GP,{optional:!0}),this.titleStrategy=be(bj),this.options=be(uE,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=be(SF),this.createViewTransition=be(Cj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new Z$(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new J$(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:s})}setupNavigations(r,s,u){return this.transitions=new un({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Z_,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dd(d=>0!==d.id),Jt(d=>({...d,extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),Ou(d=>{let f=!1,m=!1;return Et(d).pipe(Ou(y=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",Bs.SupersededByNewNavigation),Gc;this.currentTransition=d,this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const C=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!C&&"reload"!==(y.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const R="";return this.events.next(new rE(y.id,this.urlSerializer.serialize(y.rawUrl),R,$P.IgnoredSameUrlNavigation)),y.resolve(null),Gc}if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Et(y).pipe(Ou(R=>{const k=this.transitions?.getValue();return this.events.next(new BP(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),k!==this.transitions?.getValue()?Gc:Promise.resolve(R)}),function t3(e,n,r,s,u,d){return li(f=>function KH(e,n,r,s,u,d,f="emptyOnly"){return new JH(e,n,r,s,u,f,d).recognize()}(e,n,r,s,f.extractedUrl,u,d).pipe(Jt(({state:m,tree:y})=>({...f,targetSnapshot:m,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xi(R=>{d.targetSnapshot=R.targetSnapshot,d.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const k=new ej(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(k)}));if(C&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:R,extractedUrl:k,source:G,restoredState:K,extras:X}=y,oe=new BP(R,this.urlSerializer.serialize(k),G,K);this.events.next(oe);const ge=oj(this.rootComponentType).snapshot;return this.currentTransition=d={...y,targetSnapshot:ge,urlAfterRedirects:k,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=k,Et(d)}{const R="";return this.events.next(new rE(y.id,this.urlSerializer.serialize(y.extractedUrl),R,$P.IgnoredByUrlHandlingStrategy)),y.resolve(null),Gc}}),xi(y=>{const C=new W$(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}),Jt(y=>(this.currentTransition=d={...y,guards:mH(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},d)),function DH(e,n){return li(r=>{const{targetSnapshot:s,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:f}}=r;return 0===f.length&&0===d.length?Et({...r,guardsResult:!0}):function AH(e,n,r,s){return Ao(e).pipe(li(u=>function NH(e,n,r,s,u){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?Et(d.map(m=>{const y=eD(n)??u,C=iE(m,y);return Nh(function wH(e){return e&&rD(e.canDeactivate)}(C)?C.canDeactivate(e,n,r,s):vi(y,()=>C(e,n,r,s))).pipe(rv())})).pipe(sE()):Et(!0)}(u.component,u.route,r,n,s)),rv(u=>!0!==u,!0))}(f,s,u,e).pipe(li(m=>m&&function bH(e){return"boolean"==typeof e}(m)?function TH(e,n,r,s){return Ao(n).pipe(Jb(u=>qx(function OH(e,n){return null!==e&&n&&n(new Y$(e)),Et(!0)}(u.route.parent,s),function RH(e,n){return null!==e&&n&&n(new eH(e)),Et(!0)}(u.route,s),function PH(e,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(f=>function vH(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(f)).filter(f=>null!==f).map(f=>PU(()=>Et(f.guards.map(y=>{const C=eD(f.node)??r,D=iE(y,C);return Nh(function IH(e){return e&&rD(e.canActivateChild)}(D)?D.canActivateChild(s,e):vi(C,()=>D(s,e))).pipe(rv())})).pipe(sE())));return Et(d).pipe(sE())}(e,u.path,r),function MH(e,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return Et(!0);const u=s.map(d=>PU(()=>{const f=eD(n)??r,m=iE(d,f);return Nh(function CH(e){return e&&rD(e.canActivate)}(m)?m.canActivate(n,e):vi(f,()=>m(n,e))).pipe(rv())}));return Et(u).pipe(sE())}(e,u.route,r))),rv(u=>!0!==u,!0))}(s,d,e,n):Et(m)),Jt(m=>({...r,guardsResult:m})))})}(this.environmentInjector,y=>this.events.next(y)),xi(y=>{if(d.guardsResult=y.guardsResult,tE(y.guardsResult))throw lj(0,y.guardsResult);const C=new q$(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(C)}),Dd(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",Bs.GuardRejected),!1)),vF(y=>{if(y.guards.canActivateChecks.length)return Et(y).pipe(xi(C=>{const D=new K$(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}),Ou(C=>{let D=!1;return Et(C).pipe(function n3(e,n){return li(r=>{const{targetSnapshot:s,guards:{canActivateChecks:u}}=r;if(!u.length)return Et(r);const d=new Set(u.map(y=>y.route)),f=new Set;for(const y of d)if(!f.has(y))for(const C of Sj(y))f.add(C);let m=0;return Ao(f).pipe(Jb(y=>d.has(y)?function r3(e,n,r,s){const u=e.routeConfig,d=e._resolve;return void 0!==u?.title&&!aj(u)&&(d[W_]=u.title),function o3(e,n,r,s){const u=Jx(e);if(0===u.length)return Et({});const d={};return Ao(u).pipe(li(f=>function i3(e,n,r,s){const u=eD(n)??s,d=iE(e,u);return Nh(d.resolve?d.resolve(n,r):vi(u,()=>d(n,r)))}(e[f],n,r,s).pipe(rv(),xi(m=>{d[f]=m}))),Qx(1),function m$(e){return Jt(()=>e)}(d),Zb(f=>gj(f)?Gc:NP(f)))}(d,e,n,s).pipe(Jt(f=>(e._resolvedData=f,e.data=sF(e,e.parent,r).resolve,null)))}(y,s,e,n):(y.data=sF(y,y.parent,e).resolve,Et(void 0))),xi(()=>m++),Qx(1),li(y=>m===f.size?Et(r):Gc))})}(this.paramsInheritanceStrategy,this.environmentInjector),xi({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(C,"",Bs.NoDataFromResolver)}}))}),xi(C=>{const D=new Q$(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}))}),vF(y=>{const C=D=>{const R=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(D.routeConfig).pipe(xi(k=>{D.component=k}),Jt(()=>{})));for(const k of D.children)R.push(...C(k));return R};return Wx(C(y.targetSnapshot.root)).pipe(kP(null),Qb(1))}),vF(()=>this.afterPreactivation()),Ou(()=>{const{currentSnapshot:y,targetSnapshot:C}=d,D=this.createViewTransition?.(this.environmentInjector,y.root,C.root);return D?Ao(D).pipe(Jt(()=>d)):Et(d)}),Jt(y=>{const C=function iH(e,n,r){const s=X_(e,n._root,r?r._root:void 0);return new rj(s,n)}(r.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=d={...y,targetRouterState:C},this.currentNavigation.targetRouterState=C,d}),xi(()=>{this.events.next(new nF)}),((e,n,r,s)=>Jt(u=>(new gH(n,u.targetRouterState,u.currentRouterState,r,s).activate(e),u)))(this.rootContexts,r.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Qb(1),xi({next:y=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ad(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{f=!0}}),function v$(e){return Fn((n,r)=>{wd(e).subscribe(Ht(r,()=>r.complete(),$h)),!r.closed&&n.subscribe(r)})}(this.transitionAbortSubject.pipe(xi(y=>{throw y}))),z_(()=>{!f&&!m&&this.cancelNavigationTransition(d,"",Bs.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zb(y=>{if(m=!0,pj(y))this.events.next(new nE(d.id,this.urlSerializer.serialize(d.extractedUrl),y.message,y.cancellationCode)),function uH(e){return pj(e)&&tE(e.url)}(y)?this.events.next(new rF(y.url)):d.resolve(!1);else{this.events.next(new HP(d.id,this.urlSerializer.serialize(d.extractedUrl),y,d.targetSnapshot??void 0));try{d.resolve(r.errorHandler(y))}catch(C){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(C)}}return Gc}))}))}cancelNavigationTransition(r,s,u){const d=new nE(r.id,this.urlSerializer.serialize(r.extractedUrl),s,u);this.events.next(d),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function p3(e){return e!==Z_}let h3=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(g3),providedIn:"root"})}return e})();class f3{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}let g3=(()=>{class e extends f3{static#e=this.\u0275fac=(()=>{let r;return function(u){return(r||(r=$a(e)))(u||e)}})();static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wj=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>be(m3),providedIn:"root"})}return e})(),m3=(()=>{class e extends wj{constructor(){super(...arguments),this.location=be(Th),this.urlSerializer=be(eE),this.options=be(uE,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=be(SF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xb,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(s=>{"popstate"===s.type&&r(s.url,s.state)})}handleRouterEvent(r,s){if(r instanceof BP)this.stateMemento=this.createStateMemento();else if(r instanceof rE)this.rawUrlTree=s.initialUrl;else if(r instanceof ej){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(u,s)}}else r instanceof nF?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):r instanceof nE&&(r.code===Bs.GuardRejected||r.code===Bs.NoDataFromResolver)?this.restoreHistory(s):r instanceof HP?this.restoreHistory(s,!0):r instanceof Ad&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,s){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||s.extras.replaceUrl){const f={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(u,"",f)}else{const d={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(u,"",d)}}restoreHistory(r,s=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===r.finalUrl&&0===d&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}static#e=this.\u0275fac=(()=>{let r;return function(u){return(r||(r=$a(e)))(u||e)}})();static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oD=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(oD||{});function _j(e,n){e.events.pipe(Dd(r=>r instanceof Ad||r instanceof nE||r instanceof HP||r instanceof rE),Jt(r=>r instanceof Ad||r instanceof rE?oD.COMPLETE:r instanceof nE&&(r.code===Bs.Redirect||r.code===Bs.SupersededByNewNavigation)?oD.REDIRECTING:oD.FAILED),Dd(r=>r!==oD.REDIRECTING),Qb(1)).subscribe(()=>{n()})}function v3(e){throw e}const y3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ia=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=be(lM),this.stateManager=be(wj),this.options=be(uE,{optional:!0})||{},this.pendingTasks=be(da),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=be(KP),this.urlSerializer=be(eE),this.location=be(Th),this.urlHandlingStrategy=be(SF),this._events=new pi,this.errorHandler=this.options.errorHandler||v3,this.navigated=!1,this.routeReuseStrategy=be(h3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=be(cE,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!be(GP,{optional:!0}),this.eventsSubscription=new Rn,this.isNgZoneEnabled=be(qt)instanceof qt&&qt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(s=>{try{const u=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(null!==u&&null!==d)if(this.stateManager.handleRouterEvent(s,d),s instanceof nE&&s.code!==Bs.Redirect&&s.code!==Bs.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Ad)this.navigated=!0;else if(s instanceof rF){const f=this.urlHandlingStrategy.merge(s.url,u.currentRawUrl),m={info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||p3(u.source)};this.scheduleNavigation(f,Z_,null,m,{resolve:u.resolve,reject:u.reject,promise:u.promise})}(function E3(e){return!(e instanceof nF||e instanceof rF)})(s)&&this._events.next(s)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Z_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",s)},0)})}navigateToSyncWithBrowser(r,s,u){const d={replaceUrl:!0},f=u?.navigationId?u:null;if(u){const y={...u};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(d.state=y)}const m=this.parseUrl(r);this.scheduleNavigation(m,s,f,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(pF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){const{relativeTo:u,queryParams:d,fragment:f,queryParamsHandling:m,preserveFragment:y}=s,C=y?this.currentUrlTree.fragment:f;let R,D=null;switch(m){case"merge":D={...this.currentUrlTree.queryParams,...d};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=d||null}null!==D&&(D=this.removeEmptyProps(D));try{R=qU(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),R=this.currentUrlTree.root}return KU(R,r,D,C??null)}navigateByUrl(r,s={skipLocationChange:!1}){const u=tE(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,Z_,null,s)}navigate(r,s={skipLocationChange:!1}){return function b3(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,s){let u;if(u=!0===s?{...y3}:!1===s?{...S3}:s,tE(r))return VU(this.currentUrlTree,r,u);const d=this.parseUrl(r);return VU(this.currentUrlTree,d,u)}removeEmptyProps(r){return Object.entries(r).reduce((s,[u,d])=>(null!=d&&(s[u]=d),s),{})}scheduleNavigation(r,s,u,d,f){if(this.disposed)return Promise.resolve(!1);let m,y,C;f?(m=f.resolve,y=f.reject,C=f.promise):C=new Promise((R,k)=>{m=R,y=k});const D=this.pendingTasks.add();return _j(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:d,resolve:m,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Dj{}let w3=(()=>{class e{constructor(r,s,u,d,f){this.router=r,this.injector=u,this.preloadingStrategy=d,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Dd(r=>r instanceof Ad),Jb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const u=[];for(const d of s){d.providers&&!d._injector&&(d._injector=ou(d.providers,r,`Route: ${d.path}`));const f=d._injector??r,m=d._loadedInjector??f;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&u.push(this.preloadConfig(f,d)),(d.children||d._loadedRoutes)&&u.push(this.processRoutes(m,d.children??d._loadedRoutes))}return Ao(u).pipe(G_())}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>{let u;u=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(r,s):Et(null);const d=u.pipe(li(f=>null===f?Et(void 0):(s._loadedRoutes=f.routes,s._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));return s.loadComponent&&!s._loadedComponent?Ao([d,this.loader.loadComponent(s)]).pipe(G_()):d})}static#e=this.\u0275fac=function(s){return new(s||e)(et(Ia),et(n_),et(Po),et(Dj),et(yF))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const EF=new Ue("");let Aj=(()=>{class e{constructor(r,s,u,d,f={}){this.urlSerializer=r,this.transitions=s,this.viewportScroller=u,this.zone=d,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration||="disabled",f.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof BP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ad?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rE&&r.code===$P.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof tj&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tj(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){!function dC(){throw new Error("invalid")}()};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function Kc(e,n){return{\u0275kind:e,\u0275providers:n}}function Rj(){const e=be(Lo);return n=>{const r=e.get(yu);if(n!==r.components[0])return;const s=e.get(Ia),u=e.get(Oj);1===e.get(CF)&&s.initialNavigation(),e.get(Mj,null,Lt.Optional)?.setUpPreloading(),e.get(EF,null,Lt.Optional)?.init(),s.resetRootComponentType(r.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const Oj=new Ue("",{factory:()=>new pi}),CF=new Ue("",{providedIn:"root",factory:()=>1}),Mj=new Ue("");function T3(e){return Kc(0,[{provide:Mj,useExisting:w3},{provide:Dj,useExisting:e}])}function O3(e){return Kc(9,[{provide:Cj,useValue:l3},{provide:Ij,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const Pj=new Ue("ROUTER_FORROOT_GUARD"),M3=[Th,{provide:eE,useClass:Zx},Ia,Y_,{provide:iv,useFactory:function Tj(e){return e.routerState.root},deps:[Ia]},yF,[]];let Nj=(()=>{class e{constructor(r){}static forRoot(r,s){return{ngModule:e,providers:[M3,[],{provide:cE,multi:!0,useValue:r},{provide:Pj,useFactory:L3,deps:[[Ia,new rl,new nf]]},{provide:uE,useValue:s||{}},s?.useHash?{provide:Ed,useClass:vx}:{provide:Ed,useClass:F_},{provide:EF,useFactory:()=>{const e=be(lB),n=be(qt),r=be(uE),s=be(KP),u=be(eE);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Aj(u,s,e,n,r)}},s?.preloadingStrategy?T3(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?x3(s):[],s?.bindToComponentInputs?Kc(8,[uj,{provide:GP,useExisting:uj}]).\u0275providers:[],s?.enableViewTransitions?O3().\u0275providers:[],[{provide:kj,useFactory:Rj},{provide:fb,multi:!0,useExisting:kj}]]}}static forChild(r){return{ngModule:e,providers:[{provide:cE,multi:!0,useValue:r}]}}static#e=this.\u0275fac=function(s){return new(s||e)(et(Pj,8))};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({})}return e})();function L3(e){return"guarded"}function x3(e){return["disabled"===e.initialNavigation?Kc(3,[{provide:Xw,multi:!0,useFactory:()=>{const n=be(Ia);return()=>{n.setUpLocationChangeListener()}}},{provide:CF,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Kc(2,[{provide:CF,useValue:0},{provide:Xw,multi:!0,deps:[Lo],useFactory:n=>{const r=n.get(mx,Promise.resolve());return()=>r.then(()=>new Promise(s=>{const u=n.get(Ia),d=n.get(Oj);_j(u,()=>{s(!0)}),n.get(KP).afterPreactivation=()=>(s(!0),d.closed?Et(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const kj=new Ue("");class QP{}class JP{}class wa{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(r=>{const s=r.indexOf(":");if(s>0){const u=r.slice(0,s),d=u.toLowerCase(),f=r.slice(s+1).trim();this.maybeSetNormalizedName(u,d),this.headers.has(d)?this.headers.get(d).push(f):this.headers.set(d,[f])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((r,s)=>{this.setHeaderEntries(s,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([r,s])=>{this.setHeaderEntries(r,s)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof wa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new wa;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof wa?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,r);const u=("a"===n.op?this.headers.get(r):void 0)||[];u.push(...s),this.headers.set(r,u);break;case"d":const d=n.value;if(d){let f=this.headers.get(r);if(!f)return;f=f.filter(m=>-1===d.indexOf(m)),0===f.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,f)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(n,r){const s=(Array.isArray(r)?r:[r]).map(d=>d.toString()),u=n.toLowerCase();this.headers.set(u,s),this.maybeSetNormalizedName(n,u)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class V3{encodeKey(n){return Lj(n)}encodeValue(n){return Lj(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const j3=/%(\d[a-f0-9])/gi,B3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lj(e){return encodeURIComponent(e).replace(j3,(n,r)=>B3[r]??n)}function ZP(e){return`${e}`}class kh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V3,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U3(e,n){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(u=>{const d=u.indexOf("="),[f,m]=-1==d?[n.decodeKey(u),""]:[n.decodeKey(u.slice(0,d)),n.decodeValue(u.slice(d+1))],y=r.get(f)||[];y.push(m),r.set(f,y)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const s=n.fromObject[r],u=Array.isArray(s)?s.map(ZP):[ZP(s)];this.map.set(r,u)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(s=>{const u=n[s];Array.isArray(u)?u.forEach(d=>{r.push({param:s,value:d,op:"a"})}):r.push({param:s,value:u,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(s=>r+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new kh({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(ZP(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const u=s.indexOf(ZP(n.value));-1!==u&&s.splice(u,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class $3{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function xj(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Fj(e){return typeof Blob<"u"&&e instanceof Blob}function Vj(e){return typeof FormData<"u"&&e instanceof FormData}class iD{constructor(n,r,s,u){let d;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function H3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==s?s:null,d=u):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params),this.transferCache=d.transferCache),this.headers??=new wa,this.context??=new $3,this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=r;else{const m=r.indexOf("?");this.urlWithParams=r+(-1===m?"?":m<r.length-1?"&":"")+f}}else this.params=new kh,this.urlWithParams=r}serializeBody(){return null===this.body?null:"string"==typeof this.body||xj(this.body)||Fj(this.body)||Vj(this.body)||function G3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof kh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vj(this.body)?null:Fj(this.body)?this.body.type||null:xj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const r=n.method||this.method,s=n.url||this.url,u=n.responseType||this.responseType,d=n.transferCache??this.transferCache,f=void 0!==n.body?n.body:this.body,m=n.withCredentials??this.withCredentials,y=n.reportProgress??this.reportProgress;let C=n.headers||this.headers,D=n.params||this.params;const R=n.context??this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((k,G)=>k.set(G,n.setHeaders[G]),C)),n.setParams&&(D=Object.keys(n.setParams).reduce((k,G)=>k.set(G,n.setParams[G]),D)),new iD(r,s,f,{params:D,headers:C,context:R,reportProgress:y,responseType:u,withCredentials:m,transferCache:d})}}var Lh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Lh||{});class IF{constructor(n,r=sD.Ok,s="OK"){this.headers=n.headers||new wa,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class YP extends IF{constructor(n={}){super(n),this.type=Lh.ResponseHeader}clone(n={}){return new YP({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class sv extends IF{constructor(n={}){super(n),this.type=Lh.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new sv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class lE extends IF{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var sD=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(sD||{});function wF(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Uj=(()=>{class e{constructor(r){this.handler=r}request(r,s,u={}){let d;if(r instanceof iD)d=r;else{let y,C;y=u.headers instanceof wa?u.headers:new wa(u.headers),u.params&&(C=u.params instanceof kh?u.params:new kh({fromObject:u.params})),d=new iD(r,s,void 0!==u.body?u.body:null,{headers:y,context:u.context,params:C,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials,transferCache:u.transferCache})}const f=Et(d).pipe(Jb(y=>this.handler.handle(y)));if(r instanceof iD||"events"===u.observe)return f;const m=f.pipe(Dd(y=>y instanceof sv));switch(u.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return m.pipe(Jt(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return m.pipe(Jt(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return m.pipe(Jt(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return m.pipe(Jt(y=>y.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(r,s={}){return this.request("DELETE",r,s)}get(r,s={}){return this.request("GET",r,s)}head(r,s={}){return this.request("HEAD",r,s)}jsonp(r,s){return this.request("JSONP",r,{params:(new kh).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,s={}){return this.request("OPTIONS",r,s)}patch(r,s,u={}){return this.request("PATCH",r,wF(u,s))}post(r,s,u={}){return this.request("POST",r,wF(u,s))}put(r,s,u={}){return this.request("PUT",r,wF(u,s))}static#e=this.\u0275fac=function(s){return new(s||e)(et(QP))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function Bj(e,n){return n(e)}function Q3(e,n){return(r,s)=>n.intercept(r,{handle:u=>e(u,s)})}const Z3=new Ue(""),aD=new Ue(""),$j=new Ue(""),Hj=new Ue("");function Y3(){let e=null;return(n,r)=>{null===e&&(e=(be(Z3,{optional:!0})??[]).reduceRight(Q3,Bj));const s=be(da),u=s.add();return e(n,r).pipe(z_(()=>s.remove(u)))}}let Gj=(()=>{class e extends QP{constructor(r,s){super(),this.backend=r,this.injector=s,this.chain=null,this.pendingTasks=be(da);const u=be(Hj,{optional:!0});this.backend=u??r}handle(r){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(aD),...this.injector.get($j,[])]));this.chain=u.reduceRight((d,f)=>function J3(e,n,r){return(s,u)=>vi(r,()=>n(s,d=>e(d,u)))}(d,f,this.injector),Bj)}const s=this.pendingTasks.add();return this.chain(r,u=>this.backend.handle(u)).pipe(z_(()=>this.pendingTasks.remove(s)))}static#e=this.\u0275fac=function(s){return new(s||e)(et(JP),et(Po))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const rG=/^\)\]\}',?\n/;let Wj=(()=>{class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Ee(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?Ao(s.\u0275loadImpl()):Et(null)).pipe(Ou(()=>new gr(d=>{const f=s.build();if(f.open(r.method,r.urlWithParams),r.withCredentials&&(f.withCredentials=!0),r.headers.forEach((X,oe)=>f.setRequestHeader(X,oe.join(","))),r.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const X=r.detectContentTypeHeader();null!==X&&f.setRequestHeader("Content-Type",X)}if(r.responseType){const X=r.responseType.toLowerCase();f.responseType="json"!==X?X:"text"}const m=r.serializeBody();let y=null;const C=()=>{if(null!==y)return y;const X=f.statusText||"OK",oe=new wa(f.getAllResponseHeaders()),ge=function oG(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(f)||r.url;return y=new YP({headers:oe,status:f.status,statusText:X,url:ge}),y},D=()=>{let{headers:X,status:oe,statusText:ge,url:fe}=C(),Fe=null;oe!==sD.NoContent&&(Fe=typeof f.response>"u"?f.responseText:f.response),0===oe&&(oe=Fe?sD.Ok:0);let ht=oe>=200&&oe<300;if("json"===r.responseType&&"string"==typeof Fe){const Ut=Fe;Fe=Fe.replace(rG,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(dn){Fe=Ut,ht&&(ht=!1,Fe={error:dn,text:Fe})}}ht?(d.next(new sv({body:Fe,headers:X,status:oe,statusText:ge,url:fe||void 0})),d.complete()):d.error(new lE({error:Fe,headers:X,status:oe,statusText:ge,url:fe||void 0}))},R=X=>{const{url:oe}=C(),ge=new lE({error:X,status:f.status||0,statusText:f.statusText||"Unknown Error",url:oe||void 0});d.error(ge)};let k=!1;const G=X=>{k||(d.next(C()),k=!0);let oe={type:Lh.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(oe.total=X.total),"text"===r.responseType&&f.responseText&&(oe.partialText=f.responseText),d.next(oe)},K=X=>{let oe={type:Lh.UploadProgress,loaded:X.loaded};X.lengthComputable&&(oe.total=X.total),d.next(oe)};return f.addEventListener("load",D),f.addEventListener("error",R),f.addEventListener("timeout",R),f.addEventListener("abort",R),r.reportProgress&&(f.addEventListener("progress",G),null!==m&&f.upload&&f.upload.addEventListener("progress",K)),f.send(m),d.next({type:Lh.Sent}),()=>{f.removeEventListener("error",R),f.removeEventListener("abort",R),f.removeEventListener("load",D),f.removeEventListener("timeout",R),r.reportProgress&&(f.removeEventListener("progress",G),null!==m&&f.upload&&f.upload.removeEventListener("progress",K)),f.readyState!==f.DONE&&f.abort()}})))}static#e=this.\u0275fac=function(s){return new(s||e)(et(HV))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const AF=new Ue(""),qj=new Ue("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kj=new Ue("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qj{}let aG=(()=>{class e{constructor(r,s,u){this.doc=r,this.platform=s,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=w(r,this.cookieName),this.lastCookieString=r),this.lastToken}static#e=this.\u0275fac=function(s){return new(s||e)(et(oi),et(za),et(qj))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function uG(e,n){const r=e.url.toLowerCase();if(!be(AF)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return n(e);const s=be(Qj).getToken(),u=be(Kj);return null!=s&&!e.headers.has(u)&&(e=e.clone({headers:e.headers.set(u,s)})),n(e)}var xh=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(xh||{});function cG(...e){const n=[Uj,Wj,Gj,{provide:QP,useExisting:Gj},{provide:JP,useExisting:Wj},{provide:aD,useValue:uG,multi:!0},{provide:AF,useValue:!0},{provide:Qj,useClass:aG}];for(const r of e)n.push(...r.\u0275providers);return function Uu(e){return{\u0275providers:e}}(n)}const Jj=new Ue("");function lG(){return function av(e,n){return{\u0275kind:e,\u0275providers:n}}(xh.LegacyInterceptors,[{provide:Jj,useFactory:Y3},{provide:aD,useExisting:Jj,multi:!0}])}let dG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({providers:[cG(lG())]})}return e})(),vG=(()=>{class e{constructor(r,s,u){this.httpClient=r,this.document=s,this.router=u,this.authEndpoint="https://spiral-agent.com/api/createMeeting",this.csrfCookieEndpoint="https://spiral-agent.com/api/sanctum/csrf-cookie",this.inSession=!1,this.config={videoSDKJWT:"",sessionName:"",userName:"",sessionPasscode:"123"},this.role=0}ngOnInit(){this.checkScreenSharingSupport()}checkScreenSharingSupport(){"getDisplayMedia"in navigator.mediaDevices?console.log("Screen sharing is supported in this browser."):console.error("Screen sharing is not supported in this browser.")}getCookie(r){const s=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return s?decodeURIComponent(s[1]):null}getCsrfToken(){return this.httpClient.get(this.csrfCookieEndpoint,{withCredentials:!0,responseType:"text"})}joinSession(){this.sessionContainer=this.document.getElementById("sessionContainer"),this.inSession=!0,this.getCsrfToken().subscribe({next:()=>{const r=this.getCookie("XSRF-TOKEN");r?this.httpClient.post(this.authEndpoint,{role:this.role},{withCredentials:!0,headers:{"Content-Type":"application/json","X-XSRF-TOKEN":r}}).subscribe({next:s=>{s.signature?(console.log(s.signature),this.config.videoSDKJWT=s.signature,this.config.sessionName=s.sessionName,this.config.userName=s.userName,this.router.navigate(["/session",{jwt:this.config.videoSDKJWT,name:this.config.userName,sessionName:this.config.sessionName}])):console.error("Invalid response",s)},error:s=>{console.error("Error fetching JWT",s)}}):console.error("CSRF token not found in cookies")},error:r=>{console.error("Error fetching CSRF token",r)}})}static#e=this.\u0275fac=function(s){return new(s||e)(tt(Uj),tt(oi),tt(Ia))};static#t=this.\u0275cmp=Wd({type:e,selectors:[["app-join"]],decls:8,vars:0,consts:[["id","join-flow"],[3,"click"]],template:function(s,u){1&s&&(Os(0,"main")(1,"div",0)(2,"h1"),pd(3,"Zoom Video SDK Sample Angular"),du(),Os(4,"p"),pd(5,"User interface offered by the Video SDK UI Toolkit"),du(),Os(6,"button",1),hu("click",function(){return u.joinSession()}),pd(7,"Join Session"),du()()())},styles:["#join-flow[_ngcontent-%COMP%]{text-align:center;margin-top:50px}"]})}return e})();var yG=Rd(42),oB=Rd.n(yG);const SG=[{path:"",component:vG},{path:"session",component:(()=>{class e{constructor(r){this.route=r}ngOnInit(){this.route.params.subscribe(r=>{this.userToken=r.jwt,this.userName=r.name,this.sessionName=r.sessionName}),this.startVideoSession()}startVideoSession(){this.client=oB().createClient(),this.client.init("en-US").then(()=>{console.log("Zoom Video SDK initialized"),this.client.join(this.sessionName,this.userToken,this.userName).then(()=>{this.stream=this.client.getMediaStream(),console.log("User joined the meeting");const r=document.getElementById("self-video-videotag");r?this.stream.startVideo().then(()=>{console.log("Self video started successfully"),oB().createLocalVideoTrack().start(r).then(()=>{console.log("Local video track started.")}).catch(u=>{console.error("Error starting local video track:",u)})}).catch(s=>{console.error("Error starting self video:",s)}):console.error("Self video element not found.")}).catch(r=>{console.error("Error joining meeting:",r)})}).catch(r=>{console.error("Error initializing Zoom Video SDK:",r)})}static#e=this.\u0275fac=function(s){return new(s||e)(tt(iv))};static#t=this.\u0275cmp=Wd({type:e,selectors:[["app-session"]],decls:12,vars:0,consts:[[1,"video-player-container"],["id","self-video-videotag","width","640","height","360",1,"video-canvas",2,"background-color","gray"],[1,"user-info"],[1,"empty-space"],[1,"controls"],["id","join-button",1,"control-button"],["id","leave-button",1,"control-button"]],template:function(s,u){1&s&&(Os(0,"main")(1,"div",0),fh(2,"video",1),Os(3,"div",2)(4,"p"),pd(5,"testUser"),du()()(),fh(6,"div",3),Os(7,"div",4)(8,"button",5),pd(9,"Join(Start) the Session"),du(),Os(10,"button",6),pd(11,"Leave(End) the Session"),du()()())},styles:[".video-player-container[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.video-player[_ngcontent-%COMP%]{width:100%;height:200px;background-color:#000}.user-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;color:#fff}.empty-space[_ngcontent-%COMP%]{flex-grow:1;background-color:#e0e0e0}.controls[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#007bff;padding:10px 0}.control-button[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer}.control-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return e})()}];let bG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Oa({type:e});static#n=this.\u0275inj=Vn({imports:[Nj.forRoot(SG),Nj]})}return e})(),EG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275cmp=Wd({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(s,u){1&s&&fh(0,"router-outlet")},dependencies:[dF],styles:["main[_ngcontent-%COMP%]{width:70%;margin:auto;text-align:center}main[_ngcontent-%COMP%]   #join-flow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;background-color:#2d8cff;color:#fff;text-decoration:none;padding:10px 40px;display:inline-block;border-radius:10px;cursor:pointer;border:none;outline:none}main[_ngcontent-%COMP%]   #join-flow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2681f2}"]})}return e})(),CG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Oa({type:e,bootstrap:[EG]});static#n=this.\u0275inj=Vn({imports:[c2,bG,dG]})}return e})();a2().bootstrapModule(CG).catch(e=>console.error(e))},42:function(Ro,Fh,Rd){Ro=Rd.nmd(Ro);var Oe=Rd(293).default;!function($e){"use strict";function Qc(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,a)}return o}function Ft(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?Qc(Object(o),!0).forEach(function(a){$s(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Qc(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function Fi(t){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(t)}function Ar(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function $o(t,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,eN(a.key),a)}}function Xe(t,i,o){return i&&$o(t.prototype,i),o&&$o(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function $s(t,i,o){return(i=eN(i))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}function Jc(t,i){if(null==t)return{};var o,a,c=function(p,h){if(null==p)return{};var g,v,S={},b=Object.keys(p);for(v=0;v<b.length;v++)h.indexOf(g=b[v])>=0||(S[g]=p[g]);return S}(t,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i.indexOf(o=l[a])>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(c[o]=t[o])}return c}function eN(t){var i=function(o,a){if("object"!=typeof o||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var l=c.call(o,"string");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(t);return"symbol"==typeof i?i:String(i)}var dE=function(t,i){return(dE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])})(t,i)};function io(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}dE(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}var Vh=function(){return Vh=Object.assign||function(t){for(var i,o=1,a=arguments.length;o<a;o++)for(var c in i=arguments[o])Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);return t},Vh.apply(this,arguments)};function pE(t,i){var o,a,c,l,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return l={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function h(g){return function(v){return function(S){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,S[0]&&(p=0)),p;)try{if(o=1,a&&(c=2&S[0]?a.return:S[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,S[1])).done)return c;switch(a=0,c&&(S=[2&S[0],c.value]),S[0]){case 0:case 1:c=S;break;case 4:return p.label++,{value:S[1],done:!1};case 5:p.label++,a=S[1],S=[0];continue;case 7:S=p.ops.pop(),p.trys.pop();continue;default:if(!((c=(c=p.trys).length>0&&c[c.length-1])||6!==S[0]&&2!==S[0])){p=0;continue}if(3===S[0]&&(!c||S[1]>c[0]&&S[1]<c[3])){p.label=S[1];break}if(6===S[0]&&p.label<c[1]){p.label=c[1],c=S;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(S);break}c[2]&&p.ops.pop(),p.trys.pop();continue}S=i.call(t,p)}catch(b){S=[6,b],a=0}finally{o=c=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([g,v])}}}function Od(t){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&t[i],a=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function di(t,i){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var a,c,l=o.call(t),p=[];try{for(;(void 0===i||i-- >0)&&!(a=l.next()).done;)p.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(c)throw c.error}}return p}function Vi(t,i,o){if(o||2===arguments.length)for(var a,c=0,l=i.length;c<l;c++)!a&&c in i||(a||(a=Array.prototype.slice.call(i,0,c)),a[c]=i[c]);return t.concat(a||Array.prototype.slice.call(i))}function Zc(t){return this instanceof Zc?(this.v=t,this):new Zc(t)}function Qt(t){return"function"==typeof t}function Md(t){var i=t(function(o){Error.call(o),o.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var uv=Md(function(t){return function(i){t(this),this.message=i?i.length+" errors occurred during unsubscription:\n"+i.map(function(o,a){return a+1+") "+o.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=i}});function Yc(t,i){if(t){var o=t.indexOf(i);0<=o&&t.splice(o,1)}}var _a=function(){function t(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var i;return t.prototype.unsubscribe=function(){var o,a,c,l,p;if(!this.closed){this.closed=!0;var h=this._parentage;if(h)if(this._parentage=null,Array.isArray(h))try{for(var g=Od(h),v=g.next();!v.done;v=g.next())v.value.remove(this)}catch(w){o={error:w}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}else h.remove(this);var S=this.initialTeardown;if(Qt(S))try{S()}catch(w){p=w instanceof uv?w.errors:[w]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var E=Od(b),I=E.next();!I.done;I=E.next()){var _=I.value;try{tN(_)}catch(w){p=p??[],w instanceof uv?p=Vi(Vi([],di(p)),di(w.errors)):p.push(w)}}}catch(w){c={error:w}}finally{try{I&&!I.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}}if(p)throw new uv(p)}},t.prototype.add=function(o){var a;if(o&&o!==this)if(this.closed)tN(o);else{if(o instanceof t){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=null!==(a=this._finalizers)&&void 0!==a?a:[]).push(o)}},t.prototype._hasParent=function(o){var a=this._parentage;return a===o||Array.isArray(a)&&a.includes(o)},t.prototype._addParent=function(o){var a=this._parentage;this._parentage=Array.isArray(a)?(a.push(o),a):a?[a,o]:o},t.prototype._removeParent=function(o){var a=this._parentage;a===o?this._parentage=null:Array.isArray(a)&&Yc(a,o)},t.prototype.remove=function(o){var a=this._finalizers;a&&Yc(a,o),o instanceof t&&o._removeParent(this)},t.EMPTY=((i=new t).closed=!0,i),t}(),Xc=_a.EMPTY;function hE(t){return t instanceof _a||t&&"closed"in t&&Qt(t.remove)&&Qt(t.add)&&Qt(t.unsubscribe)}function tN(t){Qt(t)?t():t.unsubscribe()}var cD={setTimeout:function(t,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=cD.delegate;return c?.setTimeout?c.setTimeout.apply(c,Vi([t,i],di(o))):setTimeout.apply(void 0,Vi([t,i],di(o)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function lD(t){cD.setTimeout(function(){throw t})}function cv(){}function Uh(t){t()}var lv=function(t){function i(o){var a=t.call(this)||this;return a.isStopped=!1,o?(a.destination=o,hE(o)&&o.add(a)):a.destination=rN,a}return io(i,t),i.create=function(o,a,c){return new fE(o,a,c)},i.prototype.next=function(o){this.isStopped||this._next(o)},i.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},i.prototype._next=function(o){this.destination.next(o)},i.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},i.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},i}(_a);var OF=function(){function t(i){this.partialObserver=i}return t.prototype.next=function(i){var o=this.partialObserver;if(o.next)try{o.next(i)}catch(a){gE(a)}},t.prototype.error=function(i){var o=this.partialObserver;if(o.error)try{o.error(i)}catch(a){gE(a)}else gE(i)},t.prototype.complete=function(){var i=this.partialObserver;if(i.complete)try{i.complete()}catch(o){gE(o)}},t}(),fE=function(t){function i(o,a,c){var l,h=t.call(this)||this;return l=Qt(o)||!o?{next:o??void 0,error:a??void 0,complete:c??void 0}:o,h.destination=new OF(l),h}return io(i,t),i}(lv);function gE(t){lD(t)}var rN={closed:!0,next:cv,error:function(t){throw t},complete:cv},dD="function"==typeof Symbol&&Symbol.observable||"@@observable";function dv(t){return t}function el(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return oN(t)}function oN(t){return 0===t.length?dv:1===t.length?t[0]:function(i){return t.reduce(function(o,a){return a(o)},i)}}var qn=function(){function t(i){i&&(this._subscribe=i)}return t.prototype.lift=function(i){var o=new t;return o.source=this,o.operator=i,o},t.prototype.subscribe=function(i,o,a){var c,h,l=this,p=(c=i)&&c instanceof lv||(h=c)&&Qt(h.next)&&Qt(h.error)&&Qt(h.complete)&&hE(c)?i:new fE(i,o,a);return Uh(function(){var g=l.operator,v=l.source;p.add(g?g.call(p,v):v?l._subscribe(p):l._trySubscribe(p))}),p},t.prototype._trySubscribe=function(i){try{return this._subscribe(i)}catch(o){i.error(o)}},t.prototype.forEach=function(i,o){var a=this;return new(o=pD(o))(function(c,l){var p=new fE({next:function(h){try{i(h)}catch(g){l(g),p.unsubscribe()}},error:l,complete:c});a.subscribe(p)})},t.prototype._subscribe=function(i){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(i)},t.prototype[dD]=function(){return this},t.prototype.pipe=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return oN(i)(this)},t.prototype.toPromise=function(i){var o=this;return new(i=pD(i))(function(a,c){var l;o.subscribe(function(p){return l=p},function(p){return c(p)},function(){return a(l)})})},t.create=function(i){return new t(i)},t}();function pD(t){var i;return null!==(i=t??undefined)&&void 0!==i?i:Promise}function so(t){return function(i){if(o=i,Qt(o?.lift))return i.lift(function(o){try{return t(o,this)}catch(a){this.error(a)}});var o;throw new TypeError("Unable to lift unknown Observable type")}}function It(t,i,o,a,c){return new mE(t,i,o,a,c)}var Bh,mE=function(t){function i(o,a,c,l,p,h){var g=t.call(this,o)||this;return g.onFinalize=p,g.shouldUnsubscribe=h,g._next=a?function(v){try{a(v)}catch(S){o.error(S)}}:t.prototype._next,g._error=l?function(v){try{l(v)}catch(S){o.error(S)}finally{this.unsubscribe()}}:t.prototype._error,g._complete=c?function(){try{c()}catch(v){o.error(v)}finally{this.unsubscribe()}}:t.prototype._complete,g}return io(i,t),i.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;t.prototype.unsubscribe.call(this),!a&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}},i}(lv),vE=Md(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Rn=function(t){function i(){var o=t.call(this)||this;return o.closed=!1,o.currentObservers=null,o.observers=[],o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return io(i,t),i.prototype.lift=function(o){var a=new yE(this,this);return a.operator=o,a},i.prototype._throwIfClosed=function(){if(this.closed)throw new vE},i.prototype.next=function(o){var a=this;Uh(function(){var c,l;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var p=Od(a.currentObservers),h=p.next();!h.done;h=p.next())h.value.next(o)}catch(g){c={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}}})},i.prototype.error=function(o){var a=this;Uh(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=o;for(var c=a.observers;c.length;)c.shift().error(o)}})},i.prototype.complete=function(){var o=this;Uh(function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var a=o.observers;a.length;)a.shift().complete()}})},i.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(i.prototype,"observed",{get:function(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0},enumerable:!1,configurable:!0}),i.prototype._trySubscribe=function(o){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,o)},i.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},i.prototype._innerSubscribe=function(o){var a=this,c=this,h=c.observers;return c.hasError||c.isStopped?Xc:(this.currentObservers=null,h.push(o),new _a(function(){a.currentObservers=null,Yc(h,o)}))},i.prototype._checkFinalizedStatuses=function(o){var a=this,p=a.isStopped;a.hasError?o.error(a.thrownError):p&&o.complete()},i.prototype.asObservable=function(){var o=new qn;return o.source=this,o},i.create=function(o,a){return new yE(o,a)},i}(qn),yE=function(t){function i(o,a){var c=t.call(this)||this;return c.destination=o,c.source=a,c}return io(i,t),i.prototype.next=function(o){var a,c;null===(c=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===c||c.call(a,o)},i.prototype.error=function(o){var a,c;null===(c=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===c||c.call(a,o)},i.prototype.complete=function(){var o,a;null===(a=null===(o=this.destination)||void 0===o?void 0:o.complete)||void 0===a||a.call(o)},i.prototype._subscribe=function(o){var a,c;return null!==(c=null===(a=this.source)||void 0===a?void 0:a.subscribe(o))&&void 0!==c?c:Xc},i}(Rn),hD=function(t){function i(o){var a=t.call(this)||this;return a._value=o,a}return io(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),i.prototype._subscribe=function(o){var a=t.prototype._subscribe.call(this,o);return!a.closed&&o.next(this._value),a},i.prototype.getValue=function(){var o=this,l=o._value;if(o.hasError)throw o.thrownError;return this._throwIfClosed(),l},i.prototype.next=function(o){t.prototype.next.call(this,this._value=o)},i}(Rn),pv={now:function(){return(pv.delegate||Date).now()},delegate:void 0},tl=function(t){function i(o,a,c){void 0===o&&(o=1/0),void 0===a&&(a=1/0),void 0===c&&(c=pv);var l=t.call(this)||this;return l._bufferSize=o,l._windowTime=a,l._timestampProvider=c,l._buffer=[],l._infiniteTimeWindow=!0,l._infiniteTimeWindow=a===1/0,l._bufferSize=Math.max(1,o),l._windowTime=Math.max(1,a),l}return io(i,t),i.prototype.next=function(o){var a=this,l=a._buffer,p=a._infiniteTimeWindow,h=a._timestampProvider,g=a._windowTime;a.isStopped||(l.push(o),!p&&l.push(h.now()+g)),this._trimBuffer(),t.prototype.next.call(this,o)},i.prototype._subscribe=function(o){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(o),c=this._infiniteTimeWindow,l=this._buffer.slice(),p=0;p<l.length&&!o.closed;p+=c?1:2)o.next(l[p]);return this._checkFinalizedStatuses(o),a},i.prototype._trimBuffer=function(){var o=this,a=o._bufferSize,c=o._timestampProvider,l=o._buffer,p=o._infiniteTimeWindow,h=(p?1:2)*a;if(a<1/0&&h<l.length&&l.splice(0,l.length-h),!p){for(var g=c.now(),v=0,S=1;S<l.length&&l[S]<=g;S+=2)v=S;v&&l.splice(0,v+1)}},i}(Rn),hv=function(t){function i(o,a){return t.call(this)||this}return io(i,t),i.prototype.schedule=function(o,a){return this},i}(_a),fv={setInterval:function(t,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=fv.delegate;return c?.setInterval?c.setInterval.apply(c,Vi([t,i],di(o))):setInterval.apply(void 0,Vi([t,i],di(o)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},$h=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c.pending=!1,c}return io(i,t),i.prototype.schedule=function(o,a){var c;if(void 0===a&&(a=0),this.closed)return this;this.state=o;var l=this.id,p=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(p,l,a)),this.pending=!0,this.delay=a,this.id=null!==(c=this.id)&&void 0!==c?c:this.requestAsyncId(p,this.id,a),this},i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),fv.setInterval(o.flush.bind(o,this),c)},i.prototype.recycleAsyncId=function(o,a,c){if(void 0===c&&(c=0),null!=c&&this.delay===c&&!1===this.pending)return a;null!=a&&fv.clearInterval(a)},i.prototype.execute=function(o,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(o,a);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(o,a){var c,l=!1;try{this.work(o)}catch(p){l=!0,c=p||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),c},i.prototype.unsubscribe=function(){if(!this.closed){var o=this.id,a=this.scheduler,c=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Yc(c,this),null!=o&&(this.id=this.recycleAsyncId(a,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},i}(hv),iN=1,SE={};function fD(t){return t in SE&&(delete SE[t],!0)}var bE=function(t){var i=iN++;return SE[i]=!0,Bh||(Bh=Promise.resolve()),Bh.then(function(){return fD(i)&&t()}),i},Da={setImmediate:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=Da.delegate;return(o?.setImmediate||bE).apply(void 0,Vi([],di(t)))},clearImmediate:function(t){fD(t)},delegate:void 0},gv=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c}return io(i,t),i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),null!==c&&c>0?t.prototype.requestAsyncId.call(this,o,a,c):(o.actions.push(this),o._scheduled||(o._scheduled=Da.setImmediate(o.flush.bind(o,void 0))))},i.prototype.recycleAsyncId=function(o,a,c){var l;if(void 0===c&&(c=0),null!=c?c>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,o,a,c);var p=o.actions;null!=a&&(null===(l=p[p.length-1])||void 0===l?void 0:l.id)!==a&&(Da.clearImmediate(a),o._scheduled===a&&(o._scheduled=void 0))},i}($h),gD=function(){function t(i,o){void 0===o&&(o=t.now),this.schedulerActionCtor=i,this.now=o}return t.prototype.schedule=function(i,o,a){return void 0===o&&(o=0),new this.schedulerActionCtor(this,i).schedule(a,o)},t.now=pv.now,t}(),Hh=function(t){function i(o,a){void 0===a&&(a=gD.now);var c=t.call(this,o,a)||this;return c.actions=[],c._active=!1,c}return io(i,t),i.prototype.flush=function(o){var a=this.actions;if(this._active)a.push(o);else{var c;this._active=!0;do{if(c=o.execute(o.state,o.delay))break}while(o=a.shift());if(this._active=!1,c){for(;o=a.shift();)o.unsubscribe();throw c}}},i}(gD),Pd=new(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return io(i,t),i.prototype.flush=function(o){this._active=!0;var a=this._scheduled;this._scheduled=void 0;var c,l=this.actions;o=o||l.shift();do{if(c=o.execute(o.state,o.delay))break}while((o=l[0])&&o.id===a&&l.shift());if(this._active=!1,c){for(;(o=l[0])&&o.id===a&&l.shift();)o.unsubscribe();throw c}},i}(Hh))(gv),Ui=new Hh($h),sN=Ui,EE=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c}return io(i,t),i.prototype.schedule=function(o,a){return void 0===a&&(a=0),a>0?t.prototype.schedule.call(this,o,a):(this.delay=a,this.state=o,this.scheduler.flush(this),this)},i.prototype.execute=function(o,a){return a>0||this.closed?t.prototype.execute.call(this,o,a):this._execute(o,a)},i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),null!=c&&c>0||null==c&&this.delay>0?t.prototype.requestAsyncId.call(this,o,a,c):(o.flush(this),0)},i}($h),Gh=new(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return io(i,t),i}(Hh))(EE),Se=new qn(function(t){return t.complete()});function mv(t){return t&&Qt(t.schedule)}function CE(t){return t[t.length-1]}function vv(t){return Qt(CE(t))?t.pop():void 0}function Hs(t){return mv(CE(t))?t.pop():void 0}var IE=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function wE(t){return Qt(t?.then)}function gr(t){return Qt(t[dD])}function _E(t){return Symbol.asyncIterator&&Qt(t?.[Symbol.asyncIterator])}function mD(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var vD="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function yD(t){return Qt(t?.[vD])}function pi(t){return function(i,o,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=function(){var i,o,a;return pE(this,function(c){switch(c.label){case 0:i=t.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Zc(i.read())];case 3:return o=c.sent(),a=o.value,o.done?[4,Zc(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Zc(a)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})}.apply(i,o||[]),p=[];return c={},h("next"),h("throw"),h("return"),c[Symbol.asyncIterator]=function(){return this},c;function h(E){l[E]&&(c[E]=function(I){return new Promise(function(_,w){p.push([E,I,_,w])>1||g(E,I)})})}function g(E,I){try{(_=l[E](I)).value instanceof Zc?Promise.resolve(_.value.v).then(v,S):b(p[0][2],_)}catch(_){b(p[0][3],_)}var _}function v(E){g("next",E)}function S(E){g("throw",E)}function b(E,I){E(I),p.shift(),p.length&&g(p[0][0],p[0][1])}}(this,arguments)}function DE(t){return Qt(t?.getReader)}function un(t){if(t instanceof qn)return t;if(null!=t){if(gr(t))return c=t,new qn(function(l){var p=c[dD]();if(Qt(p.subscribe))return p.subscribe(l);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(IE(t))return a=t,new qn(function(l){for(var p=0;p<a.length&&!l.closed;p++)l.next(a[p]);l.complete()});if(wE(t))return o=t,new qn(function(l){o.then(function(p){l.closed||(l.next(p),l.complete())},function(p){return l.error(p)}).then(null,lD)});if(_E(t))return AE(t);if(yD(t))return i=t,new qn(function(l){var p,h;try{for(var g=Od(i),v=g.next();!v.done;v=g.next())if(l.next(v.value),l.closed)return}catch(b){p={error:b}}finally{try{v&&!v.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}l.complete()});if(DE(t))return AE(pi(t))}var i,o,a,c;throw mD(t)}function AE(t){return new qn(function(i){(function(o,a){var c,l,p,h,g,S,b;return g=this,void 0,b=function(){var v;return pE(this,function(S){switch(S.label){case 0:S.trys.push([0,5,6,11]),c=function uD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=t[Symbol.asyncIterator];return o?o.call(t):(t=Od(t),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(c){i[c]=t[c]&&function(l){return new Promise(function(p,h){var g,v,S;g=p,v=h,S=(l=t[c](l)).done,Promise.resolve(l.value).then(function(E){g({value:E,done:S})},v)})}}}(o),S.label=1;case 1:return[4,c.next()];case 2:if((l=S.sent()).done)return[3,4];if(a.next(l.value),a.closed)return[2];S.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return v=S.sent(),p={error:v},[3,11];case 6:return S.trys.push([6,,9,10]),l&&!l.done&&(h=c.return)?[4,h.call(c)]:[3,8];case 7:S.sent(),S.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return a.complete(),[2]}})},new((S=void 0)||(S=Promise))(function(E,I){function _(T){try{A(b.next(T))}catch(M){I(M)}}function w(T){try{A(b.throw(T))}catch(M){I(M)}}function A(T){var M;T.done?E(T.value):(M=T.value,M instanceof S?M:new S(function(P){P(M)})).then(_,w)}A((b=b.apply(g,[])).next())})})(t,i).catch(function(o){return i.error(o)})})}function Fn(t,i,o,a,c){void 0===a&&(a=0),void 0===c&&(c=!1);var l=i.schedule(function(){o(),c?t.add(this.schedule(null,a)):this.unsubscribe()},a);if(t.add(l),!c)return l}function Ht(t,i){return void 0===i&&(i=0),so(function(o,a){o.subscribe(It(a,function(c){return Fn(a,t,function(){return a.next(c)},i)},function(){return Fn(a,t,function(){return a.complete()},i)},function(c){return Fn(a,t,function(){return a.error(c)},i)}))})}function TE(t,i){return void 0===i&&(i=0),so(function(o,a){a.add(t.schedule(function(){return o.subscribe(a)},i))})}function Jt(t,i){if(!t)throw new Error("Iterable cannot be null");return new qn(function(o){Fn(o,i,function(){var a=t[Symbol.asyncIterator]();Fn(o,i,function(){a.next().then(function(c){c.done?o.complete():o.next(c.value)})},0,!0)})})}function ve(t,i){return i?function(o,a){if(null!=o){if(gr(o))return l=a,un(o).pipe(TE(l),Ht(l));if(IE(o))return function(c,l){return new qn(function(p){var h=0;return l.schedule(function(){h===c.length?p.complete():(p.next(c[h++]),p.closed||this.schedule())})})}(o,a);if(wE(o))return function(c,l){return un(c).pipe(TE(l),Ht(l))}(o,a);if(_E(o))return Jt(o,a);if(yD(o))return function(c,l){return new qn(function(p){var h;return Fn(p,l,function(){h=c[vD](),Fn(p,l,function(){var g,v,S;try{v=(g=h.next()).value,S=g.done}catch(b){return void p.error(b)}S?p.complete():p.next(v)},0,!0)}),function(){return Qt(h?.return)&&h.return()}})}(o,a);if(DE(o))return function(c,l){return Jt(pi(c),l)}(o,a)}var l;throw mD(o)}(t,i):un(t)}function Vt(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ve(t,Hs(t))}function Ee(t,i){var o=Qt(t)?t:function(){return t},a=function(c){return c.error(o())};return new qn(i?function(c){return i.schedule(a,0,c)}:a)}var Nd=Md(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function ar(t,i){var o="object"==typeof i;return new Promise(function(a,c){var l=new fE({next:function(p){a(p),l.unsubscribe()},error:c,complete:function(){o?a(i.defaultValue):c(new Nd)}});t.subscribe(l)})}function RE(t){return t instanceof Date&&!isNaN(t)}var MF=Md(function(t){return function(i){void 0===i&&(i=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function aN(t,i){var o=RE(t)?{first:t}:"number"==typeof t?{each:t}:t,a=o.first,c=o.each,l=o.with,p=void 0===l?SD:l,h=o.scheduler,g=void 0===h?i??Ui:h,v=o.meta,S=void 0===v?null:v;if(null==a&&null==c)throw new TypeError("No timeout provided.");return so(function(b,E){var I,_,w=null,A=0,T=function(M){_=Fn(E,g,function(){try{I.unsubscribe(),un(p({meta:S,lastValue:w,seen:A})).subscribe(E)}catch(P){E.error(P)}},M)};I=b.subscribe(It(E,function(M){_?.unsubscribe(),A++,E.next(w=M),c>0&&T(c)},void 0,void 0,function(){_?.closed||null==_||_.unsubscribe(),w=null})),!A&&T(null!=a?"number"==typeof a?a:+a-g.now():c)})}function SD(t){throw new MF(t)}function ye(t,i){return so(function(o,a){var c=0;o.subscribe(It(a,function(l){a.next(t.call(i,l,c++))}))})}var kd=Array.isArray;function Pu(t){return ye(function(i){return o=t,kd(a=i)?o.apply(void 0,Vi([],di(a))):o(a);var o,a})}var Ld=Array.isArray,bD=Object.getPrototypeOf,OE=Object.prototype,xd=Object.keys;function ae(t,i,o){return void 0===o&&(o=1/0),Qt(i)?ae(function(a,c){return ye(function(l,p){return i(a,l,c,p)})(un(t(a,c)))},o):("number"==typeof i&&(o=i),so(function(a,c){return h=t,g=o,I=[],_=0,w=0,A=!1,T=function(){!A||I.length||_||p.complete()},M=function(N){return _<g?P(N):I.push(N)},P=function(N){_++;var H=!1;un(h(N,w++)).subscribe(It(p,function(V){p.next(V)},function(){H=!0},void 0,function(){if(H)try{_--;for(;I.length&&_<g;)x=void 0,x=I.shift(),P(x);T()}catch(x){p.error(x)}var x}))},a.subscribe(It(p=c,M,function(){A=!0,T()})),function(){};var p,h,g,I,_,w,A,T,M,P}))}function on(t){return void 0===t&&(t=1/0),ae(dv,t)}function zh(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return on(1)(ve(t,Hs(t)))}function ME(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=vv(t),a=function(h){if(1===h.length){var g=h[0];if(Ld(g))return{args:g,keys:null};if((S=g)&&"object"==typeof S&&bD(S)===OE){var v=xd(g);return{args:v.map(function(b){return g[b]}),keys:v}}}var S;return{args:h,keys:null}}(t),c=a.args,l=a.keys,p=new qn(function(h){var g=c.length;if(g)for(var v=new Array(g),S=g,b=g,E=function(_){var w=!1;un(c[_]).subscribe(It(h,function(A){w||(w=!0,b--),v[_]=A},function(){return S--},void 0,function(){var T;S&&w||(b||h.next(l?(T=v,l.reduce(function(M,P,N){return M[P]=T[N],M},{})):v),h.complete())}))},I=0;I<g;I++)E(I);else h.complete()});return o?p.pipe(Pu(o)):p}var cn=["addListener","removeListener"],uN=["addEventListener","removeEventListener"],Tr=["on","off"];function pn(t,i,o,a){if(Qt(o)&&(a=o,o=void 0),a)return pn(t,i,o).pipe(Pu(a));var h,c=di(Qt((h=t).addEventListener)&&Qt(h.removeEventListener)?uN.map(function(h){return function(g){return t[h](i,g,o)}}):function(h){return Qt(h.addListener)&&Qt(h.removeListener)}(t)?cn.map(cN(t,i)):function(h){return Qt(h.on)&&Qt(h.off)}(t)?Tr.map(cN(t,i)):[],2),l=c[0],p=c[1];if(!l&&IE(t))return ae(function(h){return pn(h,i,o)})(un(t));if(!l)throw new TypeError("Invalid event target");return new qn(function(h){var g=function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return h.next(1<v.length?v:v[0])};return l(g),function(){return p(g)}})}function cN(t,i){return function(o){return function(a){return t[o](i,a)}}}function Nu(t,i,o){return o?Nu(t,i).pipe(Pu(o)):new qn(function(a){var c=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return a.next(1===p.length?p[0]:p)},l=t(c);return Qt(i)?function(){return i(c,l)}:void 0})}function On(t,i,o){void 0===t&&(t=0),void 0===o&&(o=sN);var a=-1;return null!=i&&(mv(i)?o=i:a=i),new qn(function(c){var l=RE(t)?+t-o.now():t;l<0&&(l=0);var p=0;return o.schedule(function(){c.closed||(c.next(p++),0<=a?this.schedule(void 0,a):c.complete())},l)})}function it(t,i){return void 0===t&&(t=0),void 0===i&&(i=Ui),t<0&&(t=0),On(t,t,i)}function Kn(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var l,o=Hs(t),a="number"==typeof CE(l=t)?l.pop():1/0,c=t;return c.length?1===c.length?un(c[0]):on(a)(ve(c,o)):Se}var hi=Array.isArray;function PF(t,i){return function(o,a){return!t.call(i,o,a)}}function ne(t,i){return so(function(o,a){var c=0;o.subscribe(It(a,function(l){return t.call(i,l,c++)&&a.next(l)}))})}function Ho(){for(var t,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return 1===(i=1===(t=i).length&&hi(t[0])?t[0]:t).length?un(i[0]):new qn(function(a){return function(c){for(var l=[],p=function(g){l.push(un(a[g]).subscribe(It(c,function(v){if(l){for(var S=0;S<l.length;S++)S!==g&&l[S].unsubscribe();l=null}c.next(v)})))},h=0;l&&!c.closed&&h<a.length;h++)p(h)}}(i))}function Ur(t){return so(function(i,o){var a,c=null,l=!1;c=i.subscribe(It(o,void 0,void 0,function(p){a=un(t(p,Ur(t)(i))),c?(c.unsubscribe(),c=null,a.subscribe(o)):l=!0})),l&&(c.unsubscribe(),c=null,a.subscribe(o))})}function Ct(t){return t<=0?function(){return Se}:so(function(i,o){var a=0;i.subscribe(It(o,function(c){++a<=t&&(o.next(c),t<=a&&o.complete())}))})}function fi(t){return ye(function(){return t})}function lN(t,i){return i?function(o){return zh(i.pipe(Ct(1),so(function(a,c){a.subscribe(It(c,cv))})),o.pipe(lN(t)))}:ae(function(o,a){return un(t(o,a)).pipe(Ct(1),fi(o))})}function Wh(t,i){void 0===i&&(i=Ui);var o=On(t,i);return lN(function(){return o})}function We(t,i,o){return void 0===o&&(o=1/0),Qt(i)?ae(function(){return t},i,o):("number"==typeof i&&(o=i),ae(function(){return t},o))}function NF(t,i){return so(function(o,a,c,l,p){return function(h,g){var v=c,S=a,b=0;h.subscribe(It(g,function(E){var I=b++;S=v?o(S,E,I):(v=!0,E),g.next(S)},void 0))}}(t,i,arguments.length>=2))}function ED(t){return so(function(i,o){var a=!1,c=0;i.subscribe(It(o,function(l){return(a||(a=!t(l,c++)))&&o.next(l)}))})}function cs(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=Hs(t);return so(function(a,c){(o?zh(t,a,o):zh(t,a)).subscribe(c)})}function st(t,i){return so(function(o,a){var c=null,l=0,p=!1,h=function(){return p&&!c&&a.complete()};o.subscribe(It(a,function(g){c?.unsubscribe();var v=0,S=l++;un(t(g,S)).subscribe(c=It(a,function(b){return a.next(i?i(g,b,S,v++):b)},function(){c=null,h()}))},function(){p=!0,h()}))})}function Ke(t){return so(function(i,o){un(t).subscribe(It(o,function(){return o.complete()},cv)),!o.closed&&i.subscribe(o)})}function Fd(t,i){return void 0===i&&(i=!1),so(function(o,a){var c=0;o.subscribe(It(a,function(l){var p=t(l,c++);(p||i)&&a.next(l),!p&&a.complete()}))})}function Te(t,i,o){var a=Qt(t)||i||o?{next:t,error:i,complete:o}:t;return a?so(function(c,l){var p;null===(p=a.subscribe)||void 0===p||p.call(a);var h=!0;c.subscribe(It(l,function(g){var v;null===(v=a.next)||void 0===v||v.call(a,g),l.next(g)},function(){var g;h=!1,null===(g=a.complete)||void 0===g||g.call(a),l.complete()},function(g){var v;h=!1,null===(v=a.error)||void 0===v||v.call(a,g),l.error(g)},function(){var g,v;h&&(null===(g=a.unsubscribe)||void 0===g||g.call(a)),null===(v=a.finalize)||void 0===v||v.call(a)}))}):dv}function Pe(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=vv(t);return so(function(a,c){for(var l=t.length,p=new Array(l),h=t.map(function(){return!1}),g=!1,v=function(b){un(t[b]).subscribe(It(c,function(E){p[b]=E,g||h[b]||(h[b]=!0,(g=h.every(dv))&&(h=null))},cv))},S=0;S<l;S++)v(S);a.subscribe(It(c,function(b){if(g){var E=Vi([b],di(p));c.next(o?o.apply(void 0,Vi([],di(E))):E)}}))})}function yv(t){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(t)}function kF(t,i,o){return c=function(l,p){if("object"!==yv(l)||null===l)return l;var h=l[Symbol.toPrimitive];if(void 0!==h){var g=h.call(l,"string");if("object"!==yv(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(i),(i="symbol"===yv(c)?c:String(c))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t;var c}function qe(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,a)}return o}function dN(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?qe(Object(o),!0).forEach(function(a){kF(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):qe(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function Vn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var qh="function"==typeof Symbol&&Symbol.observable||"@@observable",PE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kh={INIT:"@@redux/INIT"+PE(),REPLACE:"@@redux/REPLACE"+PE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+PE()}};function CD(t,i,o){var a;if("function"==typeof i&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(Vn(0));if("function"==typeof i&&void 0===o&&(o=i,i=void 0),void 0!==o){if("function"!=typeof o)throw new Error(Vn(1));return o(CD)(t,i)}if("function"!=typeof t)throw new Error(Vn(2));var c=t,l=i,p=[],h=p,g=!1;function v(){h===p&&(h=p.slice())}function S(){if(g)throw new Error(Vn(3));return l}function b(I){if("function"!=typeof I)throw new Error(Vn(4));if(g)throw new Error(Vn(5));var _=!0;return v(),h.push(I),function(){if(_){if(g)throw new Error(Vn(6));_=!1,v();var w=h.indexOf(I);h.splice(w,1),p=null}}}function E(I){if(!function(A){if("object"!=typeof A||null===A)return!1;for(var T=A;null!==Object.getPrototypeOf(T);)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(A)===T}(I))throw new Error(Vn(7));if(void 0===I.type)throw new Error(Vn(8));if(g)throw new Error(Vn(9));try{g=!0,l=c(l,I)}finally{g=!1}for(var _=p=h,w=0;w<_.length;w++)(0,_[w])();return I}return E({type:Kh.INIT}),(a={dispatch:E,subscribe:b,getState:S,replaceReducer:function(I){if("function"!=typeof I)throw new Error(Vn(10));c=I,E({type:Kh.REPLACE})}})[qh]=function(){var I,_=b;return(I={subscribe:function(w){if("object"!=typeof w||null===w)throw new Error(Vn(11));function A(){w.next&&w.next(S())}return A(),{unsubscribe:_(A)}}})[qh]=function(){return this},I},a}function Qh(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return 0===i.length?function(a){return a}:1===i.length?i[0]:i.reduce(function(a,c){return function(){return a(c.apply(void 0,arguments))}})}var Vd=function(t,i){return(Vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])})(t,i)},NE=function(t){function i(o,a){var c=t.call(this,function(l){var p=c.__notifier.subscribe(l);return p&&!p.closed&&l.next(c.value),p})||this;return c.__notifier=new Rn,c.value=a,o.subscribe(function(l){l!==c.value&&(c.value=l,c.__notifier.next(l))}),c}return function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=o}Vd(o,a),o.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}(i,t),i}(qn),kE=function(t,i){return t===i||"function"==typeof i&&t===i.toString()};function Me(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=t.length;return ne(1===o?function(a){return kE(a.type,t[0])}:function(a){for(var c=0;c<o;c++)if(kE(a.type,t[c]))return!0;return!1})}var Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Ud(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function jd(t,i){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),i&&i.length&&Object.defineProperty(this,"path",{value:i,enumerable:!0})}"object"===(typeof global>"u"?"undefined":Ue(global))&&global&&global,Ud(function t(i,o,a){t.super_.call(this,"E",i),Object.defineProperty(this,"lhs",{value:o,enumerable:!0}),Object.defineProperty(this,"rhs",{value:a,enumerable:!0})},jd),Ud(function t(i,o){t.super_.call(this,"N",i),Object.defineProperty(this,"rhs",{value:o,enumerable:!0})},jd),Ud(function t(i,o){t.super_.call(this,"D",i),Object.defineProperty(this,"lhs",{value:o,enumerable:!0})},jd),Ud(function t(i,o,a){t.super_.call(this,"A",i),Object.defineProperty(this,"index",{value:o,enumerable:!0}),Object.defineProperty(this,"item",{value:a,enumerable:!0})},jd);const ku=!1;var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ID(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sv(t){if(t.__esModule)return t;var i=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),i}var Jh=function(t,i,o,a,c,l,p,h){if(!t){var g;if(void 0===i)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[o,a,c,l,p,h],S=0;(g=new Error(i.replace(/%s/g,function(){return v[S++]}))).name="Invariant Violation"}throw g.framesToPop=1,g}},Bd=function(t){return"function"==typeof t},pN=function(t){return t.toString()},Zh=function(t){return"string"==typeof t},nl="/",Ta=function(t){return t},LE=function(t){return null===t};function Bt(t,i,o){void 0===i&&(i=Ta),Jh(Bd(i)||LE(i),"Expected payloadCreator to be a function, undefined or null");var a=LE(i)||i===Ta?Ta:function(h){for(var g=arguments.length,v=new Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];return h instanceof Error?h:i.apply(void 0,[h].concat(v))},c=Bd(o),l=t.toString(),p=function(){var h=a.apply(void 0,arguments),g={type:t};return h instanceof Error&&(g.error=!0),void 0!==h&&(g.payload=h),c&&(g.meta=o.apply(void 0,arguments)),g};return p.toString=function(){return l},p}var Gs=function(t){if("object"!=typeof t||null===t)return!1;for(var i=t;null!==Object.getPrototypeOf(i);)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i},xE=function(t){return Array.isArray(t)},St=function(t){return null==t},sn=/\s/,xF=/(_|-|\.|:)/,hN=/([a-z][A-Z]|[A-Z][a-z])/,fN=/[\W_]+(.|$)/g,FF=/(.)([A-Z]+)/g,bv=function(t){return(i=t,function(t){return sn.test(t)?t.toLowerCase():xF.test(t)?(i=t,i.replace(fN,function(o,a){return a?" "+a:""})||t).toLowerCase():hN.test(t)?function(i){return i.replace(FF,function(o,a,c){return a+" "+c.toLowerCase().split("").join(" ")})}(t).toLowerCase():t.toLowerCase();var i}(i).replace(/[\W_]+(.|$)/g,function(o,a){return a?" "+a:""}).trim()).replace(/\s(\w)/g,function(i,o){return o.toUpperCase()});var i},Lt=function(t){return-1===t.indexOf("/")?bv(t):t.split("/").map(bv).join("/")},Yh=function(t,i){return t.reduce(function(o,a){return i(o,a)},{})},Xh=function(t){return typeof Map<"u"&&t instanceof Map};function ao(t){if(Xh(t))return Array.from(t.keys());if(typeof Reflect<"u"&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(t);var i=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t))),i}function FE(t,i){return Xh(i)?i.get(t):i[t]}var mN=function(t){return function i(o,a,c,l){var p=void 0===a?{}:a,h=p.namespace,g=void 0===h?nl:h,v=p.prefix;return void 0===c&&(c={}),void 0===l&&(l=""),ao(o).forEach(function(S){var I,b=(I=function(I){var _;if(!l)return I;var w=I.toString().split("||"),A=l.split("||");return(_=[]).concat.apply(_,A.map(function(T){return w.map(function(M){return""+T+g+M})})).join("||")}(S),l||!v||v&&new RegExp("^"+v+g).test(I)?I:""+v+g+I),E=FE(S,o);t(E)?i(E,{namespace:g,prefix:v},c,b):c[b]=E}),c}},VF=mN(Gs);function Lu(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{},a=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),a.forEach(function(c){VE(t,c,o[c])})}return t}function VE(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}function Qn(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var c,h,l=Gs((c=o)[c.length-1])?o.pop():{};return Jh(o.every(Zh)&&(Zh(t)||Gs(t)),"Expected optional object followed by string action types"),Zh(t)?_D([t].concat(o),l):Lu({},function(g,v){var S=void 0===v?{}:v,b=S.namespace,E=void 0===b?nl:b,I=S.prefix;function _(A,T,M){var P=Lt(M.shift());!function(t){return 0===t.length}(M)?(T[P]||(T[P]={}),_(A,T[P],M)):T[P]=g[A]}var w={};return Object.getOwnPropertyNames(g).forEach(function(A){var T=I?A.replace(""+I+E,""):A;return _(A,w,T.split(E))}),w}(wD(VF(t,h=l)),h),_D(o,l))}function wD(t,i){var o=void 0===i?{}:i,a=o.prefix,c=o.namespace,l=void 0===c?nl:c;return Yh(Object.keys(t),function(p,h){var g,v=t[h];Jh(function(E){if(Bd(E)||St(E))return!0;if(xE(E)){var I=E[0],w=E[1];return Bd(void 0===I?Ta:I)&&Bd(w)}return!1}(v),"Expected function, undefined, null, or array with payload and meta functions for "+h);var S=a?""+a+l+h:h,b=xE(v)?Bt.apply(void 0,[S].concat(v)):Bt(S,v);return Lu({},p,((g={})[h]=b,g))})}function _D(t,i){var o=wD(Yh(t,function(a,c){var l;return Lu({},a,((l={})[c]=Ta,l))}),i);return Yh(Object.keys(o),function(a,c){var l;return Lu({},a,((l={})[Lt(c)]=o[c],l))})}var vN=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var a="function"!=typeof i[i.length-1]&&i.pop(),c=i;if(void 0===a)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(l,p){for(var h=arguments.length,g=Array(h>2?h-2:0),v=2;v<h;v++)g[v-2]=arguments[v];var S=void 0===l,b=void 0===p;return S&&b&&a?a:c.reduce(function(E,I){return I.apply(void 0,[E,p].concat(g))},S&&!b&&a?a:l)}},DD=mN(function(t){return(Gs(t)||Xh(t))&&(a=(o=ao(t)).every(function(c){return"next"===c||"throw"===c}),!(o.length&&o.length<=2&&a));var o,a});function mr(t,i,o){void 0===o&&(o={}),Jh(Gs(t)||Xh(t),"Expected handlers to be a plain object.");var a=DD(t,o),c=ao(a).map(function(p){return function(h,g,v){void 0===g&&(g=Ta);var S=pN(h).split("||");Jh(!function(_){return void 0===_}(v),"defaultState for reducer handling "+S.join(", ")+" should be defined"),Jh(Bd(g)||Gs(g),"Expected reducer to be a function or object with next and throw reducers");var b=Bd(g)?[g,g]:[g.next,g.throw].map(function(_){return St(_)?Ta:_}),E=b[0],I=b[1];return function(_,w){void 0===_&&(_=v);var A=w.type;return A&&-1!==S.indexOf(pN(A))?(!0===w.error?I:E)(_,w):_}}(p,FE(p,a),i)}),l=vN.apply(void 0,c.concat([i]));return function(p,h){return void 0===p&&(p=i),l(p,h)}}const Ev=Bt("CONNECT_ZOOM_SOCKET"),zs=Bt("CONNECT_XMPP_SOCKET"),ls=Bt("CLOSE_ZOOM_SOCKET"),et=Bt("CLOSE_XMPP_SOCKET"),xu=Bt("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),be=Bt("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),ef=Bt("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),tf=Bt("CONNECT_MAIN_SESSION_SOCKET"),Hd=Bt("CLOSE_MAIN_SESSION_SOCKET"),Ra=Bt("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:Gd,setRwgServersList:AD,setRwgRetryCount:TD,setXmppSocketStatus:rl,setMainSessionSocketStatus:Cv,resetSocket:nf}=Qn("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","RESET_SOCKET"),UE=Bt("CONNECT_TO_MEDIA_STREAM"),Fu=Bt("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:jE,setAudioDecodeStatus:uo,setVideoEncodeStatus:Vu,setVideoDecodeStatus:Iv,setSharingEncodeStatus:zd,setSharingDecodeStatus:ol,setMediaConstraints:rf,setMediaEncryptKey:yN,setIsEnableDecoderInWorklet:BE,setPatchedMediaSdkStatus:$E,setMediaAssetsPath:Go,setIsEnableVideoAudioQos:wv,setIsAudioBridgeReceiveReady:il,setIsAudioBridgeSendReady:SN,setIsMediaAgentInitialized:_v,setAdaptedAbOptionForMediaSdk:ds,resetMedia:Gt}=Qn("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_ENABLE_VIDEO_AUDIO_QOS","SET_IS_AUDIO_BRIDGE_RECEIVE_READY","SET_IS_AUDIO_BRIDGE_SEND_READY","SET_IS_MEDIA_AGENT_INITIALIZED","SET_ADAPTED_AB_OPTION_FOR_MEDIA_SDK","RESET_MEDIA");function sl(t,i){for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];return t(Vt(...a||[]),i,null)}function HE(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Kn(...i.map(h=>{const g=h(...l);if(!g)throw new TypeError(`combineEpics: one of the provided Epics "${h.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return g.pipe(Ur((v,S)=>(setTimeout(()=>{throw v},0),S)))}))};try{Object.defineProperty(a,"name",{value:`combineEpics(${i.map(c=>c.name||"<anonymous>").join(", ")})`})}catch{}return a}function qr(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return HE(...i.flatMap(a=>Object.values(a)))}function Ce(t,i){return t.pipe(Me(`${xu}`),ne(o=>o.payload.evt===i))}function ps(t,i){return t.pipe(Me(`${Ra}`),ne(o=>o.payload.evt===i))}function co(t,i){return t.pipe(Me(`${ef}`),ne(o=>o.payload.evt===i))}function ur(t,i){return t.pipe(Me(`${xu}`,`${Ra}`),ne(o=>o.payload.evt===i))}function Qe(t,i){return t.pipe(Me(`${Fu}`),ne(o=>Array.isArray(i)?i.indexOf(o.payload.type)>-1:o.payload.type===i))}function sf(t,i){return t.pipe(Me(`${UE}`),ne(()=>{const{media:{assetsPath:o,mediaConstraints:a}}=i.value;return void 0!==o&&void 0!==a}),st(()=>{const{media:{isMediaAgentInitialized:o}}=i.value;return o?ve([0]):t.pipe(Me(`${_v}`),ne(a=>!!a.payload),Ct(1))}))}const af="function"==typeof atob,OD="function"==typeof btoa,al="function"==typeof Buffer,MD="function"==typeof TextDecoder?new TextDecoder:void 0,Dv="function"==typeof TextEncoder?new TextEncoder:void 0,uf=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Av=(()=>{let t={};return uf.forEach((i,o)=>t[i]=o),t})(),hs=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kr=String.fromCharCode.bind(String),zE="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),PD=t=>t.replace(/=/g,"").replace(/[+\/]/g,i=>"+"==i?"-":"_"),ND=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),kD=t=>{let i,o,a,c,l="";const p=t.length%3;for(let h=0;h<t.length;){if((o=t.charCodeAt(h++))>255||(a=t.charCodeAt(h++))>255||(c=t.charCodeAt(h++))>255)throw new TypeError("invalid character found");i=o<<16|a<<8|c,l+=uf[i>>18&63]+uf[i>>12&63]+uf[i>>6&63]+uf[63&i]}return p?l.slice(0,p-3)+"===".substring(p):l},WE=OD?t=>btoa(t):al?t=>Buffer.from(t,"binary").toString("base64"):kD,Tv=al?t=>Buffer.from(t).toString("base64"):t=>{let i=[];for(let o=0,a=t.length;o<a;o+=4096)i.push(Kr.apply(null,t.subarray(o,o+4096)));return WE(i.join(""))},Rv=(t,i=!1)=>i?PD(Tv(t)):Tv(t),bN=t=>{if(t.length<2)return(i=t.charCodeAt(0))<128?t:i<2048?Kr(192|i>>>6)+Kr(128|63&i):Kr(224|i>>>12&15)+Kr(128|i>>>6&63)+Kr(128|63&i);var i=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Kr(240|i>>>18&7)+Kr(128|i>>>12&63)+Kr(128|i>>>6&63)+Kr(128|63&i)},EN=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Wd=t=>t.replace(EN,bN),LD=al?t=>Buffer.from(t,"utf8").toString("base64"):Dv?t=>Tv(Dv.encode(t)):t=>WE(Wd(t)),qd=(t,i=!1)=>i?PD(LD(t)):LD(t),Oa=t=>qd(t,!0),xD=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Oo=t=>{switch(t.length){case 4:var i=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return Kr(55296+(i>>>10))+Kr(56320+(1023&i));case 3:return Kr((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Kr((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Mo=t=>t.replace(xD,Oo),At=t=>{if(t=t.replace(/\s+/g,""),!hs.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let i,o,a,c="";for(let l=0;l<t.length;)i=Av[t.charAt(l++)]<<18|Av[t.charAt(l++)]<<12|(o=Av[t.charAt(l++)])<<6|(a=Av[t.charAt(l++)]),c+=64===o?Kr(i>>16&255):64===a?Kr(i>>16&255,i>>8&255):Kr(i>>16&255,i>>8&255,255&i);return c},cr=af?t=>atob(ND(t)):al?t=>Buffer.from(t,"base64").toString("binary"):At,jr=al?t=>zE(Buffer.from(t,"base64")):t=>zE(cr(t).split("").map(i=>i.charCodeAt(0))),Ma=t=>jr(qE(t)),lo=al?t=>Buffer.from(t,"base64").toString("utf8"):MD?t=>MD.decode(jr(t)):t=>Mo(cr(t)),qE=t=>ND(t.replace(/[-_]/g,i=>"-"==i?"+":"/")),Ov=t=>lo(qE(t)),cf=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),FD=function(){const t=(i,o)=>Object.defineProperty(String.prototype,i,cf(o));t("fromBase64",function(){return Ov(this)}),t("toBase64",function(i){return qd(this,i)}),t("toBase64URI",function(){return qd(this,!0)}),t("toBase64URL",function(){return qd(this,!0)}),t("toUint8Array",function(){return Ma(this)})},VD=function(){const t=(i,o)=>Object.defineProperty(Uint8Array.prototype,i,cf(o));t("toBase64",function(i){return Rv(this,i)}),t("toBase64URI",function(){return Rv(this,!0)}),t("toBase64URL",function(){return Rv(this,!0)})},Uu={version:"3.7.5",VERSION:"3.7.5",atob:cr,atobPolyfill:At,btoa:WE,btoaPolyfill:kD,fromBase64:Ov,toBase64:qd,encode:qd,encodeURI:Oa,encodeURL:Oa,utob:Wd,btou:Mo,decode:Ov,isValid:t=>{if("string"!=typeof t)return!1;const i=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(i)||!/[^\s0-9a-zA-Z\-_]/.test(i)},fromUint8Array:Rv,toUint8Array:Ma,extendString:FD,extendUint8Array:VD,extendBuiltins:()=>{FD(),VD()}};function Mn(t){return Uu.encode(t,!0)}function gi(t){return Uu.decode(t)}function KE(t){return Uu.encode(t,!1)}const Mv={"-":"+",_:"/",".":"="};function ji(t){const i=t.replace(/[-_.]/g,o=>Mv[o]);return Uint8Array.from(window.atob(i),o=>o.charCodeAt(0))}const Pv=t=>{const i=t.charCodeAt(0);return i<=parseInt("0x7F",16)?1:i<=parseInt("0x7FF",16)?2:i<=parseInt("0xFFFF",16)?3:i<=parseInt("0x1FFFFF",16)?4:i<=parseInt("0x3FFFFFF",16)?5:6},lf=(t,i)=>{const o=t.split(".").map(l=>Number(l)).slice(0,3),a=i.split(".").map(l=>Number(l)).slice(0,3);let c=0;for(let l=0;l<3;l++){const p=l<o.length?o[l]:0,h=l<a.length?a[l]:0;if(p<h){c=-1;break}if(p>h){c=1;break}}return c},Kd=t=>{var i;let o=(new Date).getTime(),a=1e3*(null===(i=performance)||void 0===i?void 0:i.now())||0;const c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{let p=16*Math.random();return o>0?(p=(o+p)%16|0,o=Math.floor(o/16)):(p=(a+p)%16|0,a=Math.floor(a/16)),("x"===l?p:3&p|8).toString(16)});return"string"==typeof t||"number"==typeof t?c+":"+t:c+""};function Qd(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),a=Object.keys(i),c=o.length;if(a.length!==c)return!1;for(let l=0;l<c;l++){const p=o[l];if(t[p]!==i[p]||!Object.prototype.hasOwnProperty.call(i,p))return!1}return!0}const po=(t,i)=>t>>10==i>>10,Ws=(t,i)=>new Promise(o=>{setTimeout(()=>{o(t())},i)}),Pa=t=>{const i=`${Math.floor(1e4*Math.random())}`;return t.indexOf("@")>-1?t.replace("@",i):`${t}${i}`},mi=t=>{try{const i=new URL(t);return!("data:"===i.protocol&&"null"===i.origin)&&i.origin!==location.origin}catch{return!0}},qs=t=>{const i=t.split(".")[1];if("string"==typeof i){let o=i.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const a=decodeURIComponent(window.atob(o).replace(/(.)/g,function(c,l){let p=l.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p}));return JSON.parse(a)}catch{console.error("Invalid token specified: invalid base64")}}};function QE(t){return t&&t.endsWith("/")?t.slice(0,t.length-1):t}function Nv(t){return[...new Uint8Array(t)].map(i=>i.toString(16).padStart(2,"0")).join("")}function df(t){return`${t.tagName}${t.id?`#${t.id}`:""}${t.className?`${t.className.split(" ").map(i=>`.${i}`).join("")}`:""}`}function Po(t){const i=function(o){const a=o&&o.getRootNode();if(a&&"#document"!==a.nodeName&&a.host)return df(a.host)}(t);return`${i?`${i}>`:""}${df(t)}`}function Na(t){return"object"==typeof t&&null!==t?t instanceof HTMLElement?Po(t):ArrayBuffer.isView(t)?Nv(t.buffer):Array.isArray(t)?t.map(i=>Na(i)):Object.keys(t).reduce((i,o)=>({...i,[`${o}`]:Na(t[o])}),{}):t}let ho=((t={})[t.Success=0]="Success",t[t.MeetingIsOver=6]="MeetingIsOver",t[t.UserFull=9]="UserFull",t[t.MeetingLocked=9]="MeetingLocked",t[t.WebinarBlockedEmail=3033]="WebinarBlockedEmail",t[t.MeetingNotStarted=3008]="MeetingNotStarted",t[t.MeetingHasClosed=103003]="MeetingHasClosed",t[t.UserHasBeenRemoved=103039]="UserHasBeenRemoved",t[t.MMRIBReject=103043]="MMRIBReject",t[t.MMRConfParticipantExists=103044]="MMRConfParticipantExists",t),ka=function(t){return t[t.Unknown=0]="Unknown",t[t.Normal=1]="Normal",t[t.Userrequest=2]="Userrequest",t[t.SdkConnection=3]="SdkConnection",t[t.Reconnect=5]="Reconnect",t[t.PtRequest=6]="PtRequest",t[t.KickedByHost=7]="KickedByHost",t[t.EndByHost=8]="EndByHost",t[t.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",t[t.FreeMeetingTimeout=10]="FreeMeetingTimeout",t[t.JBHTimeout=11]="JBHTimeout",t[t.EndBySingleStatus=12]="EndBySingleStatus",t[t.WebinarNeedRegister=13]="WebinarNeedRegister",t[t.ArchiveFail=14]="ArchiveFail",t[t.EndByNone=15]="EndByNone",t[t.EndByAdmin=16]="EndByAdmin",t[t.DuplicateSession=17]="DuplicateSession",t[t.MeetingTransfer=18]="MeetingTransfer",t}({}),CN=function(t){return t[t.WaitingRoomFailover=1]="WaitingRoomFailover",t[t.WebEndAndRejoin=2]="WebEndAndRejoin",t}({}),Bi=function(t){return t[t.Success=0]="Success",t[t.CommonError=200]="CommonError",t[t.WrongPasscode=3004]="WrongPasscode",t[t.RoleTypeMissing=3010]="RoleTypeMissing",t[t.InvalidParameter=4003]="InvalidParameter",t}({});var t;!function(t){t[t.Success=0]="Success",t[t.AnotherMeetingInProgress=3e3]="AnotherMeetingInProgress",t[t.MeetingNotExist=3001]="MeetingNotExist",t[t.NotHost=3003]="NotHost",t[t.WrongPasscode=3004]="WrongPasscode",t[t.MissingEmail=3005]="MissingEmail",t[t.MeetingNotStarted=3008]="MeetingNotStarted",t[t.UserHasBeenRemoved=3009]="UserHasBeenRemoved",t[t.RoleTypeMissing=3010]="RoleTypeMissing",t[t.WebinarEnforceLogin=3034]="WebinarEnforceLogin",t[t.RealNameMissing=3082]="RealNameMissing",t[t.RegisterRequired=3099]="RegisterRequired",t[t.SsoLoginWindow=6024]="SsoLoginWindow",t[t.ZoomLoginWindow=3051]="ZoomLoginWindow",t[t.ZoomSpecificLoginWindow=3052]="ZoomSpecificLoginWindow",t[t.LoginRequired=3100]="LoginRequired",t[t.Reconnecting=4e3]="Reconnecting",t[t.Disconnect=4001]="Disconnect",t[t.InvalidParameter=4003]="InvalidParameter",t[t.DeniedRegisterWithPanelist=3032]="DeniedRegisterWithPanelist",t[t.ServiceOffline=403]="ServiceOffline",t[t.RwcEmpty=3621]="RwcEmpty",t[t.RwcError=3622]="RwcError",t[t.FrequentCall=3633]="FrequentCall",t[t.FrequentJoin=3634]="FrequentJoin",t[t.WasmFail=3635]="WasmFail",t[t.CommonError=200]="CommonError",t[t.Upgrade=1e4]="Upgrade"}({});const UD={3004:{"apac.errorcodes_pac_mn_wrong":3714},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"apac.errorcodes_be_removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function Ks(t,i){let o={code:200,i18nKey:"apac.errorcodes_fail"};if(void 0!==UD[t]){const a=UD[t],c=Object.keys(a)[0];return o={code:a[c],i18nKey:c},{reason:c.startsWith("apac")?"":c,errorCode:o.code}}return{code:200,reason:"connection error"}}const IN=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],kv={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:t=>({meetingTopic:gi(t)}),gatewayKey:t=>{const[,i,o]=t.split(".");return i&&o?{gatewayUser:{userId:Number(i),sn:o}}:{}},encryptKey:t=>({gcmSessinKey:ji(t)})},vi=Bt("GET_MEETING_INFO"),ul=Bt("GET_INSTANT_MEETING_INFO");Bt("LOGON_ZOOM_DOMAIN"),Bt("VERIFY_ZOOM_RECAPTCHA"),Bt("LOGON_THIRD_PARTY_DOMAIN");const Jd=Bt("PING_RWC_SERVER"),er=Bt("MEETING_FAILOVER"),Zd=Bt("LEAVE_MEETING"),JE=Bt("LEAVE_WAITING_ROOM"),Un=Bt("END_MEETING");Bt("REGISTER_WEBINAR");const ZE=Bt("TRIGGER_IDLE_CHECK"),jD=Bt("END_OF_ZE_WORLD"),{setMeetingInfo:fo,setMeetingJoinInfo:wN,setWindownOpen:_N,setAppidSignature:BD,setZtk:DN,setZsk:AN,setTkMtkguid:TN,setPingRwcTimestamp:Lv,setInMeetingInfo:$i,setMeetingAttribute:mn,resetMeeting:Ae,setIsHost:Ze,setIsCohost:tr,setMeetingIsOnHold:go,setIsMeetingReset:Qr,setAudioVideoBeforeOnHold:zo,setCurrentUserAudioBeforeReset:cl,setIsCurrentUserMutedBeforeReset:vn,setMeetingStatus:Rr,setMeetingRegion:Hi,setIsCurrentUserStartVideoBeforeReset:lt,setJoinMeetingTimeStamp:Yd,setActiveAppInfo:$D,setMeetingIdleStartTime:Qs,setSessionIdleTimeoutMinutes:jn,setIsAudioBridgeEnabled:Xd,addDiscardedRwcHost:ll,setSharePronounType:Js,setIsStayAwakeDuringTheSession:ep,setMeetingJoinSuccessTimestamp:YE,resetFailoverRecord:La,setFailoverReason:dl,setIsQuicklyLeaveMeetingAfterRefresh:ju,setMeetingInfoTimestamp:bt,setIsEnableZmkFromRwg:xv}=Qn({SET_MEETING_INFO:t=>t,SET_MEETING_JOIN_INFO:t=>t,SET_WINDOWN_OPEN:t=>t,SET_APPID_SIGNATURE:t=>t,SET_ZTK:t=>t,SET_ZSK:t=>t,SET_TK_MTKGUID:t=>t,SET_PING_RWC_TIMESTAMP:t=>t,SET_IN_MEETING_INFO:t=>t,SET_MEETING_ATTRIBUTE:t=>{if(IN.some(i=>t&&void 0!==t[i])){let i=t;return Object.keys(kv).some(o=>void 0!==t[o])&&(i=Object.keys(t).reduce((o,a)=>{const c=kv[a];return"function"==typeof c?Object.assign(o,c(t[a])):"string"==typeof c&&(o[c]=t[a]),o},{})),i}return{}},SET_IS_HOST:t=>t&&t.bHost,SET_IS_COHOST:t=>t&&t.bCoHost,RESET_MEETING:t=>t,SET_MEETING_IS_ON_HOLD:t=>t,SET_IS_MEETING_RESET:t=>t,SET_AUDIO_VIDEO_BEFORE_ON_HOLD:t=>t,SET_CURRENT_USER_AUDIO_BEFORE_RESET:t=>t,SET_IS_CURRENT_USER_MUTED_BEFORE_RESET:t=>t,SET_MEETING_STATUS:t=>t,SET_MEETING_REGION:t=>t,SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET:t=>t,SET_JOIN_MEETING_TIME_STAMP:t=>t,SET_ACTIVE_APP_INFO:t=>t,SET_MEETING_IDLE_START_TIME:t=>t,SET_SESSION_IDLE_TIMEOUT_MINUTES:t=>t,SET_IS_AUDIO_BRIDGE_ENABLED:t=>t,ADD_DISCARDED_RWC_HOST:t=>t,SET_SHARE_PRONOUN_TYPE:t=>t,SET_IS_STAY_AWAKE_DURING_THE_SESSION:t=>t,SET_MEETING_JOIN_SUCCESS_TIMESTAMP:t=>t,RESET_FAILOVER_RECORD:t=>t,SET_FAILOVER_REASON:t=>t,SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH:t=>t,SET_MEETING_INFO_TIMESTAMP:t=>t,SET_IS_ENABLE_ZMK_FROM_RWG:t=>t});let nr=function(t){return t.Failover="failover",t.OnHold="on hold",t.Promote="promote",t.Depromote="depromote",t.JoinBreakoutRoom="join breakout room",t.MoveToBreakoutRoom="move to breakout room",t.BackToMainSession="back to main session",t}({});const mo="js_media.min.js";let tp=function(t){return t.CDN="CDN",t.Global="Global",t.CN="CN",t}({}),Gi=function(t){return t.Connected="Connected",t.Reconnecting="Reconnecting",t.Closed="Closed",t.Fail="Fail",t}({}),wt=function(t){return t.Initial="initial",t.Joined="joined",t.Closed="closed",t}({}),zi=function(t){return t.AudioBridgeEnable="M:1,2;V:1,2",t.AudioDecodeInWorklet="M:6;V:3",t.VideoFullHD="M:8;V:4",t.VideoShareFullHD="M:9;V:5",t.WebGL2Render="M:20;V:8",t.WebGPURender="M:21;V:9",t.ZMKFromRWG="M:19;V:10",t}({}),zt=function(t){return t[t.NormalCase=-1]="NormalCase",t[t.NoHeartbeat=0]="NoHeartbeat",t[t.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",t[t.NetworkChange=2]="NetworkChange",t[t.NotifyUiFailover=3]="NotifyUiFailover",t[t.InvalidParameters=4]="InvalidParameters",t[t.OnError=5]="OnError",t[t.OnErrorMChannel=6]="OnErrorMChannel",t[t.Disconnect=7]="Disconnect",t[t.DisconnectMChannel=8]="DisconnectMChannel",t[t.DisconnectXmpp=9]="DisconnectXmpp",t[t.RefreshPage=10]="RefreshPage",t}({});const vo=["8-29","9-21"];let Tt=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Memory="Memory",t}({});const Bu=Mn("{}");let ot=(()=>{class t{constructor(o){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=Mn(`zoom-storage-${o}`),this.localStorageKey=Mn("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(gi(sessionStorage.getItem(this.sessionStorageKey)||Bu)),this.localCache=JSON.parse(gi(localStorage.getItem(this.localStorageKey)||Bu))}catch(a){console.error(a),this.sessionCache={},this.localCache={}}}static init(o){this.instance=new t(o)}static get(o){if(void 0===this.instance)throw new Error("read before initial");return this.instance.getValue(o).value}static set(o,a,c){if(void 0===this.instance)throw new Error("set before initial");return this.instance.setValue(o,a,c)}static remove(o){if(void 0===this.instance)throw new Error("remove before initial");return this.instance.removeValue(o)}static clearSession(){if(void 0===this.instance)throw new Error("clear before initial");return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey)}getValue(o){return this.sessionCache.hasOwnProperty(o)?{value:this.sessionCache[o],type:Tt.SessionStorage}:this.localCache.hasOwnProperty(o)?{value:this.localCache[o],type:Tt.LocalStorage}:{value:this.memoryCache[o],type:Tt.Memory}}setValue(o,a,c){if(!o)throw new Error("key is null");switch(c){case Tt.SessionStorage:{const l=this.sessionCache[o];let p=a;return"function"==typeof a&&(p=a(l)),l!==p&&(this.sessionCache[o]=p,this.flushValue(Tt.SessionStorage)),p}case Tt.LocalStorage:{const l=this.localCache[o];let p=a;return"function"==typeof a&&(p=a(l)),l!==p&&(this.localCache[o]=p,this.flushValue(Tt.LocalStorage)),p}case Tt.Memory:{let p=a;return"function"==typeof a&&(p=a(this.memoryCache[o])),this.memoryCache[o]=p,p}default:return null}}removeValue(o){const{type:a}=this.getValue(o);switch(a){case Tt.SessionStorage:delete this.sessionCache[o],this.flushValue(Tt.SessionStorage);break;case Tt.LocalStorage:delete this.localCache[o],this.flushValue(Tt.LocalStorage);break;case Tt.Memory:delete this.memoryCache[o]}}flushValue(o){o===Tt.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,Mn(JSON.stringify(this.sessionCache))):o===Tt.LocalStorage&&localStorage.setItem(this.localStorageKey,Mn(JSON.stringify(this.localCache)))}}return t.instance=void 0,t})(),Rt=function(t){return t.WebclientOpt="WEB_CLIENT_OPT",t.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",t.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",t.WebclientZtk="WEB_CLIENT_ZTK",t.WebclientZsk="WEB_CLIENT_ZSK",t.WebclientTk="WEB_CLIENT_TK",t.WebclientIVState="WEB_CLIENT_IV_STATE",t.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",t.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",t.WebclientZoomId="WEB_CLIENT_ZOOM_ID",t.WebclientUserName="WEB_CLIENT_USER_NAME",t.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",t.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",t.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",t.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",t.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",t.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",t.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",t.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",t}({}),pf=function(t){return t.WebclientDeviceId="WEBCLIENT_DEVICE_ID",t.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",t}({}),hf=function(t){return t.EnforceWebRTCAudio="ENFORCE_WEB_RTC_AUDIO",t.DisableAutoReportLogs="DISABLE_AUTO_REPORT_LOGS",t}({});function Jn(t,i){const o=i.match(t);return o&&o.length>0&&o[1]||""}function Fv(t,i){const o=i.match(t);return o&&o.length>1&&o[2]||""}const xa=/version\/(\d+(\.?_?\d+)+)/i,RN=[{test:[/opera/i],describe:t=>["Opera(Legacy)",Jn(xa,t)||Jn(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/opr\/|opios/i],describe:t=>["Opera",Jn(/(?:opr|opios)[\s/](\S+)/i,t)||Jn(xa,t)]},{test:[/SamsungBrowser/i],describe:t=>["Samsung Internet for Android",Jn(xa,t)||Jn(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/micromessenger/i],describe:t=>["WeChat",Jn(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Jn(xa,t)]},{test:[/qqbrowser/i],describe:t=>[/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser",Jn(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Jn(xa,t)]},{test:[/msie|trident/i],describe:t=>["Internet Explorer",Jn(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t)]},{test:[/\sedg\//i],describe:t=>["Microsoft Edge",Jn(/\sedg\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/edg([ea]|ios)/i],describe:t=>["Microsoft Edge(Legacy)",Fv(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/firefox|iceweasel|fxios/i],describe:t=>["Firefox",Jn(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/electron/i],describe:t=>["Electron",Jn(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/chromium/i],describe:t=>["Chromium",Jn(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Jn(xa,t)]},{test:[/chrome|crios|crmo/i],describe:t=>["Chrome",Jn(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t)]},{test:t=>!/like android/i.test(t)&&/android/i.test(t),describe:t=>["Android Browser",Jn(xa,t)]},{test:[/safari|applewebkit/i],describe:t=>["Safari",Jn(xa,t)]}],XE=[{test:[/windows /i],describe:t=>["Windows",Jn(/Windows ((NT|XP)( \d\d?.\d)?)/i,t)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:t=>["iOS",Fv(/(Version\/)(\d[\d.]+)/,t)]},{test:[/macintosh/i],describe:t=>["macOS",Jn(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:t=>["iOS",Jn(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".")]},{test:t=>!/like android/i.test(t)&&/android/i.test(t),describe:t=>["Android",Jn(/android[\s/-](\d+(\.\d+)*)/i,t)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}];class UF{constructor(){this.value=void 0,this.gpu=void 0}get isSupported(){if(void 0===this.value)if("function"==typeof window.OffscreenCanvas){const i=new OffscreenCanvas(1,1);i.addEventListener("webglcontextlost",a=>{a.preventDefault()});const o=i.getContext("webgl");if(this.value=!!o,o){const a=o.getExtension("WEBGL_debug_renderer_info");a&&(this.gpu=o.getParameter(a.UNMASKED_RENDERER_WEBGL))}}else this.value=!1;return this.value}}const Re=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._offscreenCanvasCapality=void 0,this._clientHintsData=void 0,this._offscreenCanvasCapality=new UF,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then(t=>{this._clientHintsData=t,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)}).catch(t=>{console.warn(t)})}_getBrowserVersion(){var t,i;if(null!==(t=this._clientHintsData)&&void 0!==t&&null!==(i=t.brands)&&void 0!==i&&i.length){const o=this._clientHintsData.brands.filter(c=>!/(Chromium|Not.*Brand)/i.test(c.brand))[0];o&&(this._browser=o.brand);const a=this._clientHintsData.brands.find(c=>{var l;return"chromium"===(null===(l=c.brand)||void 0===l?void 0:l.toLowerCase())});a?(this._browserVersion=a.version,this._browser||(this._browser=a.brand)):this._browserVersion=o.version}else{const o=navigator.userAgent,a=RN.find(c=>"function"==typeof c.test?c.test(o):c.test.some(l=>l.test(o)));if(a){const c=a.describe(o);this._browser=c[0],this._browserVersion=c[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var t,i;if(null!==(t=this._clientHintsData)&&void 0!==t&&t.platform&&null!==(i=this._clientHintsData)&&void 0!==i&&i.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const o=navigator.userAgent,a=XE.find(c=>"function"==typeof c.test?c.test(o):c.test.some(l=>l.test(o)));if(a){const c=a.describe(o);this._os=c[0],this._osVersion=c[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return"Internet Explorer"===this.browser}get isLegacyEdge(){return"Microsoft Edge(Legacy)"===this.browser}get isLegacyOpera(){return"Opera(Legacy)"===this.browser}get isFirefox(){return"Firefox"===this.browser}get isSafari(){return"Safari"===this.browser}get isChrome(){var t,i,o;if(null!==(t=this._clientHintsData)&&void 0!==t&&null!==(i=t.brands)&&void 0!==i&&i.length)return null===(o=this._clientHintsData)||void 0===o?void 0:o.brands.some(c=>{var l;return"chromium"===(null===(l=c.brand)||void 0===l?void 0:l.toLocaleLowerCase())});const{userAgent:a}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(a)&&/webkit/i.test(a)}get isLegacyChrome(){var t;return this.isChrome&&"function"!=typeof(null===(t=navigator.mediaDevices)||void 0===t?void 0:t.getDisplayMedia)}get isMacOS(){return"macOS"===this.os}get isIPad(){var t;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&(null===(t=navigator)||void 0===t?void 0:t.maxTouchPoints)>2}get isIOSMobile(){return"iOS"===this.os||this.isIPad}get architecture(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.architecture)&&void 0!==t?t:""}get isArm(){return this.architecture?"arm"===this.architecture:/arm/i.test(navigator.userAgent)}get isChromeOS(){return"Chrome OS"===this.os}get isAndroidBrowser(){var t;return"android"===(null===(t=this.os)||void 0===t?void 0:t.toLowerCase())}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return"object"==typeof WebAssembly&&"function"==typeof Worker}get isSupportAudioWorklet(){return"function"==typeof AudioWorklet}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){return"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){return this._offscreenCanvasCapality.isSupported}get gpu(){return this._offscreenCanvasCapality.isSupported?this._offscreenCanvasCapality.gpu:""}get bitness(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.bitness)&&void 0!==t?t:""}get model(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.model)&&void 0!==t?t:""}get wow64(){var t;if("windows"===this.os.toLowerCase())return null===(t=this._clientHintsData)||void 0===t?void 0:t.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getDisplayMedia}};function vr(){return Re.isAndroidOrIOSBrowser||!!ot.get(hf.EnforceWebRTCAudio)}const ON=()=>Re.isIE,e0=()=>{var t;return Re.isSupportOffscreenCanvas&&(null===(t=navigator)||void 0===t?void 0:t.hardwareConcurrency)>=2&&"function"==typeof requestAnimationFrame&&"function"==typeof SharedArrayBuffer},ff=(t,i)=>{var o;const{isSafari:a,isIOSMobile:c,isSupportMediaStreamTrackProcessor:l,isAndroidOrIOSBrowser:p,isArmChromeOS:h,isChromeOS:g,isArm:v,isSupportOffscreenCanvas:S,isIPad:b}=Re;if(!e0()){const I="function"!=typeof window.SharedArrayBuffer&&(!(!a&&!c)||l&&S);return t&&I?i?25:navigator.hardwareConcurrency<4?2:4:1}return p?i?25:b?9:4:h||g&&!v?navigator.hardwareConcurrency>=4?9:2:(null===(o=navigator)||void 0===o?void 0:o.hardwareConcurrency)<4?2:25};function MN(){var t;return"webkit"in window&&!("chrome"in window)&&!(null===(t=window.webkit.messageHandlers)||void 0===t||!t.jsOCHelper)}function t0(){var t;const{isAndroidBrowser:i,isIOSMobile:o,osVersion:a,browserVersion:c,isChrome:l,isFirefox:p,isSafari:h}=Re;var g,v;if(o)return Number(null===(g=a.match(/^\d+/))||void 0===g?void 0:g[0])>=15;if(i)return Number(null===(v=a.match(/^\d+/))||void 0===v?void 0:v[0])>=10;const S=Number(null===(t=c.match(/^\d+/))||void 0===t?void 0:t[0]);return!!(l&&S>=69)||!!(h&&S>14)||!!(p&&S>=76)}let Or=function(t){return t.VIDEO_ENCODE="0",t.VIDEO_DECODE="1",t.AUDIO_ENCODE="2",t.AUDIO_DECODE="3",t.SHARING_ENCODE="4",t.SHARING_DECODE="5",t}({}),Vv=function(t){return t[t.NONE=0]="NONE",t[t.AES_256=1]="AES_256",t[t.AES_GCM=2]="AES_GCM",t}({});const Jr=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),Uv=(window.crypto||window.msCrypto).subtle,pl=Rt.WebclientIVState,HD=Object.keys(Jr).map(t=>Jr[t].sessionType);let No=(()=>{class t{constructor(o,a,c){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(o,a,c),ot.set(pl,{},Tt.SessionStorage)}static init(o,a,c){this.instance?this.instance.resetParameters(o,a,c):this.instance=new t(o,a,c)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(o,a,c){this.isGCMEnabled=!(Re.isIE||!Re.isSupportEssentialAudioAndVideoAbility)&&c===Vv.AES_GCM,this.gcmSessionKey=ji(a),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(o)}beginCrypto(o,a,c){const l=new Uint32Array(1);l[0]=9,l[0]+=Number(c);const p=new Uint8Array(l.buffer);let h=new Uint8Array(132);const g=ji(a);return h.set(g,0),h.set(p,g.length),h=h.subarray(0,g.length+4),Uv.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(v=>Uv.sign({name:"HMAC"},v,h)).then(v=>Uv.importKey("raw",v,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))}getNextIV(o){const a=ot.get(pl);return void 0===a[o]?(a[o]=0,ot.set(pl,a,Tt.SessionStorage)):ot.set(pl,c=>({...c,[o]:c[o]+1}),Tt.SessionStorage)}resetIVState(){const o=ot.get(pl);if(void 0!==o){const a=Object.keys(o).filter(c=>HD.indexOf(c)>-1);a.length>0&&(a.forEach(c=>{o[c]+=1e6}),ot.set(pl,o,Tt.SessionStorage))}}static resetIV(){if(void 0===this.instance)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt(o){let{text:a,type:c}=o;const l=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const g=this.instance.getNextIV(c.sessionType),v=new ArrayBuffer(12),S=new Uint8Array(v);new DataView(v).setUint32(0,g,!0);let b=null;return b="BO_BROADCAST"===c.sessionType||"XMPP_CHAT"===c.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(b,this.instance.zoomId,c.gcmType).then(E=>{const I=ArrayBuffer.isView(a)?a:(new TextEncoder).encode(a);return Uv.encrypt({name:"AES-GCM",iv:S,additionalData:l,tagLength:128},E,I)}).then(E=>{const _=new ArrayBuffer(1+S.byteLength+2+l.byteLength+4+E.byteLength);if(new Uint8Array(_)[0]=S.length,new Uint8Array(_,1,S.byteLength).set(S),new DataView(_).setUint16(1+S.byteLength,l.length,!0),new Uint8Array(_,3+S.byteLength).set(l),new DataView(_).setUint32(1+S.byteLength+2+l.byteLength,E.byteLength-16,!0),new Uint8Array(_,1+S.byteLength+2+l.byteLength+4).set(new Uint8Array(E)),c.sessionType===Jr.CHAT_FILE.sessionType)return _;const w=new Uint8Array(_).reduce((A,T)=>A+String.fromCharCode(T),"");return window.btoa(w).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")})}return Promise.resolve(ArrayBuffer.isView(a)?a:Mn(a))}static beginDecrypt(o){let{decryptedText:a,type:c,zoomId:l}=o;if(this.instance&&this.instance.isGCMEnabled){const p=ArrayBuffer.isView(a)||a instanceof ArrayBuffer?new Uint8Array(a):function(T){let M;const P=T.length,N=new Array(P);for(M=0;M<P;++M)N[M]=255&T.charCodeAt(M);return new Uint8Array(N)}(atob(a.replace(/_/g,"/").replace(/-/g,"+"))),h=p[0],g=p.slice(1,h+1),v=p.slice(1+h,3+h),S=new DataView(v.buffer).getUint16(0,!0),b=p.slice(1+h+2,1+h+2+S),E=p.slice(1+h+2+S,1+h+2+S+4),I=new DataView(E.buffer).getUint32(0,!0),_=p.slice(1+h+2+S+4,1+h+2+S+4+I),w=p.slice(1+h+2+S+4+I);let A=null;return A="BO_BROADCAST"===c.sessionType||"XMPP_CHAT"===c.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(A,l,c.gcmType).then(T=>{const M=function(P,N){P=new Uint8Array(P),N=new Uint8Array(N);const H=new Uint8Array(P.length+N.length);return H.set(P),H.set(N,P.length),H}(_,w);return Uv.decrypt({name:"AES-GCM",iv:g,additionalData:b,tagLength:8*w.length},T,M.buffer)}).then(T=>({message:c.sessionType===Jr.CHAT_FILE.sessionType?T:(new TextDecoder).decode(T),iv:g,aad:b})).catch(T=>({message:"[This is an encrypted message]",iv:g,aad:b}))}{const p=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(a)||a instanceof ArrayBuffer?a:p.decode(ji(a))})}}}return t.instance=void 0,t})();const zD=20234,yn=7937,yi=7938,jv=12039,$u=16138;let Sn=function(t){return t[t.NoAttendee=0]="NoAttendee",t[t.All=1]="All",t[t.AllPanelist=2]="AllPanelist",t[t.Host=3]="Host",t[t.NoOne=4]="NoOne",t[t.EveryonePublicly=5]="EveryonePublicly",t}({}),hl=function(t){return t[t.AllPanelist=1]="AllPanelist",t[t.Everyone=2]="Everyone",t[t.Invalid=0]="Invalid",t}({}),nn=function(t){return t[t.All=0]="All",t[t.Panelist=1]="Panelist",t[t.IndividualCcPanelist=2]="IndividualCcPanelist",t[t.Individual=3]="Individual",t[t.SilentModeUsers=4]="SilentModeUsers",t}({}),Hv=function(t){return t[t.None=0]="None",t[t.Delete=1]="Delete",t[t.Modify=2]="Modify",t}({}),Wi=function(t){return t[t.Success=0]="Success",t[t.Delete=1]="Delete",t[t.Block=3]="Block",t}({});const WD=[Sn.All,Sn.Host,Sn.NoOne,Sn.EveryonePublicly],qD=[Sn.NoOne,Sn.All,Sn.AllPanelist],mf={AllPanelist:11,Everyone:12},PN={[mf.AllPanelist]:hl.AllPanelist,[mf.Everyone]:hl.Everyone},Gv={userId:nn.All,displayName:"Everyone",isHost:!1,isCoHost:!1},Zt={userId:nn.Panelist,displayName:"All panelists"},r0={userId:nn.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let vf=function(t){return t[t.Local=0]="Local",t[t.ThirdParty=1]="ThirdParty",t}({}),rn=function(t){return t[t.ChunkSize=20971520]="ChunkSize",t[t.EncodeBlockSize=32768]="EncodeBlockSize",t[t.DecodeBlockSize=32803]="DecodeBlockSize",t[t.MaxSize=2147483648]="MaxSize",t[t.ReaderChunkSize=1073741824]="ReaderChunkSize",t}({}),rr=function(t){return t[t.Init=0]="Init",t[t.InProgress=1]="InProgress",t[t.Success=2]="Success",t[t.Fail=3]="Fail",t[t.Cancel=4]="Cancel",t[t.Complete=5]="Complete",t}({}),Wo=function(t){return t[t.InProgress=1]="InProgress",t[t.Success=2]="Success",t[t.Fail=3]="Fail",t[t.Cancel=4]="Cancel",t}({});const np={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let hn=function(t){return t.Open="open",t.Message="message",t.Error="error",t.Close="close",t.Inactive="inactive",t}({});class KD{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.eventHandlers=new Map,this.websocket=null,this.seq=1}on(i,o){let a=this.eventHandlers.get(i);a||(a=[]),a.push(o),this.eventHandlers.set(i,a)}off(i,o){const a=this.eventHandlers.get(i);if(a){const c=a.filter(l=>l!==o);this.eventHandlers.set(i,c)}}emit(i,o){const a=this.eventHandlers.get(i);a&&a instanceof Array&&a.slice(0).forEach(c=>{try{c(o)}catch(l){console.error(l)}})}sendMessageToRwg(i){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(i,{seq:o}))),o}connect(i){this.websocket=new WebSocket(i),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var i;null===(i=this.websocket)||void 0===i||i.close()}addHeartBeat(){const o=setInterval(()=>{this.isAlive||this.emit(hn.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1},Re.isAndroidOrIOSBrowser?15e3:2e4);this.intervalsToBeCleardWhenSocketClose.push(o)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach(i=>clearInterval(i)),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",i=>{this.addHeartBeat(),this.emit(hn.Open,i)}),this.websocket.addEventListener("message",i=>{this.isAlive=!0,this.emit(hn.Message,i)}),this.websocket.addEventListener("close",i=>{this.clearIntervals(),this.emit(hn.Close,i)}),this.websocket.addEventListener("error",i=>{this.clearIntervals(),this.emit(hn.Error,i)}))}sendLaunchParams(i){return{seq:this.sendMessageToRwg({evt:4301,body:i})}}joinMeeting(i){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:i}})}}lockMeeting(i){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:i}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(){return{seq:this.sendMessageToRwg({evt:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?4364:4103,body:{}})}}recordMeeting(i,o){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:i,bPause:o}})}}localRecordingGrantPermission(i,o,a){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"permission_request_answer",userId:i,agreed:o,saveAgreed:a}})}}hostGrantPermission(i,o){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"grant_permission",userId:i,grant:o}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"request_permission"}})}}localRecordingMeeting(i){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"change_recording_status",status:i}})}}summaryMeeting(i){return{seq:this.sendMessageToRwg({evt:8009,body:{type:i?"start":"stop"}})}}startMeetingQuery(i){return{seq:this.sendMessageToRwg({evt:8017,body:{type:i?"start":"stop"}})}}allowSelfRecord(i){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:i}})}}enableZoomIQRecord(i){return{seq:this.sendMessageToRwg({evt:4318,body:{check:i}})}}expel(i){return{seq:this.sendMessageToRwg({evt:4107,body:{id:i}})}}expelAttendee(i){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:i}})}}rename(i,o,a){return{seq:this.sendMessageToRwg({evt:4109,body:{id:i,dn2:o,olddn2:a}})}}assignHost(i,o){return{seq:this.sendMessageToRwg({evt:4111,body:{id:i,bCoHost:o}})}}reclaimHost(i){return{seq:this.sendMessageToRwg({evt:4133,body:{id:i,bCoHost:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}})}}revokeCoHost(i){return{seq:this.sendMessageToRwg({evt:4195,body:{id:i}})}}putOnHold(i,o){return{seq:this.sendMessageToRwg({evt:4113,body:{id:i,bHold:o}})}}setMuteOnEntry(i){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:i}})}}setHoldOnEntry(i){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:i}})}}inviteCRCDevice(i,o){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:i,type:o,encrypt:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2}})}}cancelInviteCRCDevice(i){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:i}})}}sendCloseCaption(i){return{seq:this.sendMessageToRwg({evt:4125,body:{...i}})}}allowViewParticipantNumber(i){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:i}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(i,o){return{seq:this.sendMessageToRwg({evt:4131,body:{id:i,bOn:o}})}}chat(i,o,a,c){const l={text:i,destNodeID:o};return a&&Object.assign(l,{sn:a}),c&&Object.assign(l,{attendeeNodeID:c}),{seq:this.sendMessageToRwg({evt:4135,body:l})}}assignCC(i,o){return{seq:this.sendMessageToRwg({evt:4137,body:{id:i,bCCEditor:o}})}}enableLT(i){return{seq:this.sendMessageToRwg({evt:4227,body:{op:i?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(i){return{seq:this.sendMessageToRwg({evt:4305,body:{type:4,disableNewLtt:i}})}}enableManualCaption(i){return{seq:this.sendMessageToRwg({evt:4291,body:{op:i?1:0}})}}setTranslationLanguage(i){return void 0!==i?{seq:this.sendMessageToRwg({evt:4305,body:{type:1,lang:i}})}:{seq:this.sendMessageToRwg({evt:4305,body:{type:3}})}}setSpokenLanguage(i){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:i}})}}allowAskLT(i){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:i}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(i){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:i}})}}setChatPriviledge(i){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:i}})}}setPanelistChatPrivilege(i){if(!Object.values(mf).includes(i))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:i}})}}sendFeedback(i){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:i}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(i){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:i}})}}allowUnmuteAudio(i){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:i}})}}allowRaiseHand(i){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:i}})}}boToken(i){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:i}})}}startBO(i){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:i}})}}stopBO(i){return{seq:this.sendMessageToRwg({evt:4177,body:{status:i}})}}assignToBO(i,o){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:i,targetBID:o}})}}switchBO(i,o){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:i,targetBID:o}})}}wantJoinBO(i,o){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:i,targetBID:o}})}}joinBO(i){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:i}})}}leaveBO(){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}})}}broadcastBO(i){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:i}})}}askForHelpBO(i){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:i}})}}askForHelpResultBO(i,o){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:i,helpResult:o}})}}coHostStartBO(i,o){return{seq:this.sendMessageToRwg({evt:4241,body:{proto:i,targetID:o}})}}coHostStopBO(i,o){return{seq:this.sendMessageToRwg({evt:4243,body:{status:i,targetID:o}})}}coHostAssignToBO(i,o,a){return{seq:this.sendMessageToRwg({evt:4245,body:{userGUID:i,targetID:a,targetBID:o}})}}moveToMainSession(i){return{seq:this.sendMessageToRwg({evt:4247,body:{userGUID:i}})}}coHostMoveToMainSession(i,o){return{seq:this.sendMessageToRwg({evt:4249,body:{userGUID:i,targetID:o}})}}allowParticipantRename(i){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:i}})}}allowMessageFeedbackNotify(i,o){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:i,id:o}})}}setPlayChime(i,o){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:i,id:o}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(i,o,a){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:i,targetUserID:o,bBind:a}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(i,o,a,c){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:o,userID:a,clientCap:c,bPromote:i}})}}sendPromoteConsent(i,o){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:i,req_id:o}})}}batchCreateBOToken(i){const o=i.map((a,c)=>({topic:a,index:c}));return{seq:this.sendMessageToRwg({evt:4211,body:o})}}mute(i,o){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:o,id:i}})}}audioDrop(i){return{seq:this.sendMessageToRwg({evt:8195,body:{id:i}})}}audioDialout(i,o,a,c,l){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:i,dn2:Mn(o),bCallme:a,bPressOne:c,bGreeting:l}})}}audioCancelDialout(i,o){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:i,bCallme:o}})}}audioMuteAll(i){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:i}})}}allowToTalk(i,o){return{seq:this.sendMessageToRwg({evt:8204,body:{id:i,bAllowTalk:o}})}}subscribeVideo(){return{seq:this.sendMessageToRwg({evt:12289,body:{id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,size:arguments.length>1?arguments[1]:void 0,bOn:arguments.length>2?arguments[2]:void 0}})}}unsubscribeVideo(){return{seq:this.sendMessageToRwg({evt:12291,body:{id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}})}}muteAttendeeVideo(i,o){return{seq:this.sendMessageToRwg({evt:12297,body:{id:i,bOn:o}})}}notifyRwgIsMuteVideo(i,o){return this.muteAttendeeVideo(i,o)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(i,o){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:i,bOn:o}})}}allowViewAll(i,o){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:i,bOn:o}})}}allowVote(i,o){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:i,bOn:o}})}}allowComment(i,o){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:i,bOn:o}})}}sharingRequestRemoteControl(i,o){return{seq:this.sendMessageToRwg({evt:16389,body:{id:i,bOn:o}})}}subscribeGrabRemoteControl(i,o){return{seq:this.sendMessageToRwg({evt:16393,body:{id:i,bOn:o}})}}subscribeSharing(i,o,a,c){const l={id:i,size:o};return a&&Object.assign(l,{bShareToBO:!0}),void 0!==c&&Object.assign(l,{bVideoShare:c}),{seq:this.sendMessageToRwg({evt:16415,body:l})}}unsubscribeSharing(i,o){const a={id:i};return o&&Object.assign(a,{bShareToBO:!0}),{seq:this.sendMessageToRwg({evt:16417,body:a})}}sendRWGConnectionPerformance(i){return{seq:this.sendMessageToRwg({evt:4167,body:{data:i}})}}sendSdkKeyToMonitor(i,o,a){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${a},2,${o},${i}`}})}}sendDatachannelOffer(i){return{seq:this.sendMessageToRwg({evt:24321,offer:i})}}joinOrLeaveVoip(i){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:i}})}}startSharing(i,o){return{seq:this.sendMessageToRwg({evt:16409,body:{id:i,boOn:!1,...o??{}}})}}stopSharing(i){return{seq:this.sendMessageToRwg({evt:16409,body:{id:i,bOn:!0}})}}lockSharing(i){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:i}})}}startShareToBreakoutRoom(i){return{seq:this.sendMessageToRwg({evt:16425,body:{id:i,bShareToBO:!0}})}}stopShareToBreakoutRoom(i){return{seq:this.sendMessageToRwg({evt:16425,body:{id:i,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(i){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:i}})}}allowMultiplePin(i,o){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:i,bOn:o}})}}spotlightVideo(i,o){return{seq:this.sendMessageToRwg({evt:4219,body:{id:i,...o}})}}connectCamera(i,o){return{seq:this.sendMessageToRwg({evt:12307,body:{id:i,bOn:o}})}}followHostLayout(i){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:i}})}}setVideoDragLayout(i){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:i}})}}chatCmdReq(i,o){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:i,cmd:o}})}}activeAppLinkReq(i){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:i}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(i,o){const a={bOn:!0,bShareAudio:!i};return o&&Object.assign(a,{bShareAudioOnly:!0}),{seq:this.sendMessageToRwg({evt:16423,body:a})}}localMuteAudio(i,o){return{seq:this.sendMessageToRwg({evt:8209,body:{id:i,bMute:o}})}}changeSharePronoun(i,o){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:i,strPronoun:o}})}}sendReceivingSharingReady(i){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:i}})}}sendManualCaption(i){return{seq:this.sendMessageToRwg({evt:4289,body:{...i}})}}sendPollingAction(i,o,a){return{seq:this.sendMessageToRwg({evt:4224,body:{action:i,PollingId:o,...a}})}}broadcastUserNetworkQuality(i){return{seq:this.sendMessageToRwg({evt:4331,body:{type:i.isUplink,level:i.level,bwLevel:i.bwLevel}})}}sendFarEndCameraControl(i,o,a){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:i,userID:o,buttonID:a}})}}sendCameraAblity(i){return{seq:this.sendMessageToRwg({evt:4330,body:{...i,focus:!1}})}}sendReaction(i){return{seq:this.sendMessageToRwg({evt:4259,body:{...i}})}}remoteControlConsent(i,o,a,c){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=arguments.length>5?arguments[5]:void 0;const{deviceId:h,...g}=c;return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:h,op:i,SendUserID:a,AssignUserID:o,...g,bAutoDelete:l,...void 0!==p?{runAsAdmin:p}:{}}})}}takeBackRemoteControlPermission(i,o){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:i,ReceiverUserID:o}})}}syncSharedContentMetaWithRcApp(i){const{deviceId:o,...a}=i;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:o,...a}})}}startLiveStream(i,o,a){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:i,streamingKey:o,broadcastURL:a}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(i){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:i}})}}chatFileTransfer(i){return{seq:this.sendMessageToRwg({evt:4307,body:{...i,fileType:0,receiverType:0}})}}broadcastVoiceReq(i){return{seq:this.sendMessageToRwg({evt:4314,body:{broadcastVoice:i}})}}}let Ot=(()=>{class t extends KD{static createAgent(){return this.rwgInstance||(this.rwgInstance=new t),this.rwgInstance}}return t.rwgInstance=null,t})(),NN=(()=>{class t extends KD{static getInstance(){return this.instance||(this.instance=new t),this.instance}}return t.instance=null,t})();const fs=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"js_audio_level_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioLevelWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"}],QD=(t,i)=>fs.reduce((o,a)=>{const{name:c,alias:l}=a;return Object.assign(o,{[`${l}`]:`${t}/${i?"1507_":""}${c}`}),o},{});let Mr=function(t){return t.VideoEncode="0",t.VideoDecode="1",t.AudioEncode="2",t.AudioDecode="3",t.SharingEncode="4",t.SharingDecode="5",t}({});const Hu=Rt.WebclientIVState;let Ye=(()=>{class t{static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new t),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.mediaSocketAddress=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(o){if(!this.instance&&window.JsMediaSDK_Instance){const a={ivObj:{[Or.AUDIO_ENCODE]:ot.get(Hu)&&ot.get(Hu)[Or.AUDIO_ENCODE],[Or.VIDEO_ENCODE]:ot.get(Hu)&&ot.get(Hu)[Or.VIDEO_ENCODE],[Or.SHARING_ENCODE]:ot.get(Hu)&&ot.get(Hu)[Or.SHARING_ENCODE]},globalTracingLogger:o};this.instance=new window.JsMediaSDK_Instance(a),this.instance.setRWGAgent(Ot.createAgent())}}setAssetsAndConstraint(o,a,c,l){var p;this.assetsPath=o,this.constraints=a,this.mediaWorkersPath=QD(this.assetsPath,!!c),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=l,null===(p=this.instance)||void 0===p||p.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,l)}onMediaSDKCallback(o,a){this.callbackList.length>0&&this.callbackList.forEach(c=>c(o,a))}registerCallback(o){this.callbackList.push(o)}unregisterCallback(o){this.callbackList=this.callbackList.filter(a=>a!==o)}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var o;return Re.isSupportOffscreenCanvas&&0==(null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.AdapterWhiteListCheckForEncoder())}static getPTZCapability(){var o,a,c,l,p,h,g,v,S;return{pan:!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportCameraPan)||void 0===c||!c.call(a)),tilt:!(null===(l=window.JsMediaSDK_Instance)||void 0===l||null===(p=l.util)||void 0===p||null===(h=p.isSupportCameraTilt)||void 0===h||!h.call(p)),zoom:!(null===(g=window.JsMediaSDK_Instance)||void 0===g||null===(v=g.util)||void 0===v||null===(S=v.isSupportCameraZoom)||void 0===S||!S.call(v))}}static isSupportVideoShare(){var o,a,c;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportVideoShareReceive)||void 0===c||!c.call(a))}static isSupportVideoShareSend(){var o,a,c;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportVideoShareSend)||void 0===c||!c.call(a))}static isSupportSending720P(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||!a.get720pcapacity())}static isSupportSubscribing1080P(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||!a.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportOpenMicWhenShareAudio())}static isSupportMediaPlaybackAsVideoInput(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util.videoToMediaStreamManager)||void 0===a||!a.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util.audioToMediaStreamMananger)||void 0===a||!a.isSupported())}static isSupportAudioDenoise(o){var a;return!(null===(a=window.JsMediaSDK_Instance)||void 0===a||!a.util.isSupportAudioDenoise(o))}static isSupportAudioBridgeAVSync(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.getAudioFeatureFlags()}static isSupportShareMultiStream(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.isSupportVideoLTR()}static isSupportStereoAudio(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isBrowserSupportStereo())}static isSupportFullHDVideo(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportSendVideoFullHD())}static isSupportFullHDVideoShare(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportSendVideoShareFullHD())}static isSupportShare2ndAudioDevice(o){var a;return!(null===(a=window.JsMediaSDK_Instance)||void 0===a||!a.util.isSupportShare2ndAudioDevice(o))}connect(o){var a,c,l,p,h,g;let{svcUrl:v,meetingNumber:S,conId:b,e2eEncrypt:E,isViewOnly:I,currentUserId:_,isWebinar:w,enableAudioQos:A,enableVideoQos:T=!1,enableWebtransport:M=!1,webtransportPort:P,rendererType:N,adaptedABOptionForMediaSDK:H}=o;const{isSupportEssentialAudioAndVideoAbility:V,isSupportAudioWorklet:x,isSupportSendScreenSharing:J}=Re;this.svcUrl=v,this.meetingNumber=S,this.confId=b;const Y={videoSocketAddress:`wss://${De=v}/wc/media/${Be=S}?type=v&cid=${He=b}`,audioSocketAddress:`wss://${De}/wc/media/${Be}?type=a&cid=${He}`,sharingSocketAddress:`wss://${De}/wc/media/${Be}?type=${ON()?"j":"s"}&cid=${He}`};var De,Be,He;this.mediaSocketAddress=Y,this.currentUserId=_;const z=ff(null===(a=this.mediaOptions)||void 0===a?void 0:a.enableMultiDecodeVideoWithoutSAB);var U,O,L,$,j,Q,re,te,me,Ne;null===(c=this.instance)||void 0===c||c.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:V?null===(l=this.mediaWorkersPath)||void 0===l?void 0:l.audioWorkletPath:void 0,e2eEncrypt:E,isEnableListenInitEvent:!0,enableWebtransport:M,webtransportPort:P,featureOptions:H,rendererType:N}),!0===(null===(p=this.constraints)||void 0===p?void 0:p.audio)&&V&&!vr()&&((w||x)&&(null===(U=this.instance)||void 0===U||U.initAudioDecode(this.mediaWorkersPath,Y.audioSocketAddress,_,ku,b,S,z,A)),!x||w&&I||null===(O=this.instance)||void 0===O||O.initAudioEncode(this.mediaWorkersPath,Y.audioSocketAddress,_,ku,b,S,z,A)),!0===(null===(h=this.constraints)||void 0===h?void 0:h.video)&&V&&(null===(L=this.instance)||void 0===L||L.initVideoDecode(this.mediaWorkersPath,Y.videoSocketAddress,_,ku,b,S,z,null===($=null===(j=window.JsMediaSDK_Instance)||void 0===j||null===(Q=j.util)||void 0===Q?void 0:Q.isGraphicShouldUseHardwareAccelerationDecode())||void 0===$||$,T),w&&I||null===(re=this.instance)||void 0===re||re.initVideoEncode(this.mediaWorkersPath,Y.videoSocketAddress,_,ku,b,S,z,!1,T,!0,!0)),!0===(null===(g=this.constraints)||void 0===g?void 0:g.screen)&&(V?(null===(te=this.instance)||void 0===te||te.initSharingDecode(this.mediaWorkersPath,Y.sharingSocketAddress,_,ku,b,S,z),!J||w&&I||null===(me=this.instance)||void 0===me||me.initSharingEncode(this.mediaWorkersPath,Y.sharingSocketAddress,_,ku,b,S,z)):null===(Ne=this.instance)||void 0===Ne||Ne.initSharingDecode(Y.sharingSocketAddress)),this.inProgress=!0}destroy(){var o=this;return Oe(function*(){var a;o.callbackList=[],[Mr.AudioDecode,Mr.AudioEncode,Mr.VideoDecode,Mr.VideoEncode].forEach(l=>{var p;null===(p=o.instance)||void 0===p||p.updateQosSubscription(!1,l)});const c=null===(a=o.instance)||void 0===a?void 0:a.destroy.bind(o.instance);o.instance=null,o.inProgress=!1,yield c?.()})()}disconnect(){var o,a;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(17,{}),null===(a=this.instance)||void 0===a||a.JsMediaSDK_UnInit()}muteAudio(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(o,a,c,l,p,h,g){var v;const S=g?{...g,enableHID:!0}:{enableHID:!1};return null===(v=this.instance)||void 0===v?void 0:v.Notify_MeidaSDK(22,{CaptureAudio:l,CaptureAudioInfo:{ssrc:o,AudioSelectValue:"default"===a?null:a,...S,audioProfile:p},speakerInfo:{defaultDeviceId:c},...h?{useAudioBridge:!0,audioBridge:h}:{}})}leaveComputerAudio(){var o;return null===(o=this.instance)||void 0===o?void 0:o.Notify_MeidaSDK(21,null)}joinSharingAudio(o){var a;let{ssrc:c,microphoneDeviceId:l,speakerDeviceId:p,isCaptureAudio:h,audioBridge:g}=o;return null===(a=this.instance)||void 0===a?void 0:a.Notify_MeidaSDK(72,{CaptureAudio:h,CaptureAudioInfo:{ssrc:c,AudioSelectValue:"default"===l?null:l},speakerInfo:{defaultDeviceId:p},checkAutoplay:!1,...g?{useAudioBridge:!0,audioBridge:g}:{}})}leaveSharingAudio(o){var a;return null===(a=this.instance)||void 0===a?void 0:a.Notify_MeidaSDK(73,{isPause:o?1:0})}changeSpeaker(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:o})}changeMicrophone(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:"default"===o?null:o,microphoneLabel:a??"default",defaultMuted:c})}restoreWebRTC(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:"default"===o?null:o})}renderVideo(o,a,c,l,p,h,g,v,S,b,E){var I;const _={userId:a,width:l,height:p,x:h,y:g,quality:v,isMyself:S,canvas:o,enableWaterMark:E,waterMarkText:b,zone:c};o instanceof HTMLVideoElement&&Object.assign(_,{videodom:o}),null===(I=this.instance)||void 0===I||I.Notify_MeidaSDK(1,_)}stopRenderVideo(o,a,c,l){var p;null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(2,{canvas:o,userId:a,RGBA:l,doNotClean:arguments.length>4&&void 0!==arguments[4]&&arguments[4],zone:c})}startCaptureVideo(o,a,c,l,p,h){var g;let v=arguments.length>6&&void 0!==arguments[6]&&arguments[6],S=arguments.length>8?arguments[8]:void 0;const b=arguments.length>7&&arguments[7]?t.getPTZCapability():void 0;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(3,{ssid:o,width:c,height:l,fps:S,video:p,usingFacingMode:h,VideoSelectValue:"default"===a?null:a,disableOriginalRatio:v,...b})}stopCaptureVideo(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(12,{VideoSelectValue:"default"===o?null:o,usingFacingMode:!!a,...c||{}})}switchCanvasForVideoCapture(o){var a;let c=o;"string"==typeof o&&(c=[o]),null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(25,c)}renderSharing(o,a){var c;let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.receivedSharingCanvas=a,null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(23,{width:0,height:0,ssrc:o,canvas:a,enableWaterMark:l,waterMarkText:p,isFromMainSession:h})}stopRenderSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(24,{})}switchSharingSource(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(36,{ssrc:o,isFromMainSession:Number(arguments.length>1&&void 0!==arguments[1]&&arguments[1])})}ajustmentReceivedSharingCanvas(o,a){if(this.receivedSharingCanvas&&o&&a)try{if(Re.isAndroidOrIOSBrowser){const[c,l]=[1280,720],p=Math.max(o/c,a/l,1);this.receivedSharingCanvas.width=Math.floor(o/p),this.receivedSharingCanvas.height=Math.floor(a/p)}else this.receivedSharingCanvas.width=o,this.receivedSharingCanvas.height=a}catch{}}startRemoteControl(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:a,dom:o,...c})}stopRemoteControl(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(41)}updateRemoteControlProperties(o){var a;const{dimension:c,...l}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(27,{...c,...l})}startDesktopSharing(o,a,c,l){var p;let h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0,S=arguments.length>7?arguments[7]:void 0;this.sharingCanvas=a;const b={};l&&Object.assign(b,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:"default"===l.cameraId?null:l.cameraId,width:l.width,height:l.height}}),void 0!==g&&Object.assign(b,{videoParams:{displaySurface:g}}),void 0!==S&&Object.assign(b,{otherParams:{...S}}),null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(30,{ssid:o,canvas:a,video:c,...b,showShareAudioOption:h,sourceId:v})}stopDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(32,{})}resumeDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(57,{lang:o})}changeSharingSecondCamera(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(49,{VideoSelectValue:o})}ajustmentSharingCanvas(o,a){if(this.sharingCanvas)try{this.sharingCanvas.width=o,this.sharingCanvas.height=a}catch{}}checkChromeSharingExtension(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(34,{})}enableAudioEncode(){var o,a;null===(o=this.instance)||void 0===o||o.initAudioEncode(this.mediaWorkersPath,this.mediaSocketAddress.audioSocketAddress,this.currentUserId,ku,this.confId,this.meetingNumber,ff(null===(a=this.mediaOptions)||void 0===a?void 0:a.enableMultiDecodeVideoWithoutSAB))}sendUserNodeList(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(43,{userList:o,encryptKey:a})}updateRenderedSharingDimension(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(44,{width:o,height:a})}pauseOrResumeAudio(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(45,{bPause:o})}updateRenderedVideoCanvasDimension(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(46,{canvas:o,width:a,height:c})}clearVideoCanvas(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(47,{id:o,RGBA:a})}adjustRenderedVideoPosition(o,a,c,l,p,h,g,v){var S;null===(S=this.instance)||void 0===S||S.Notify_MeidaSDK(48,{userId:a,x:l,y:p,width:h,height:g,canvas:o,zone:c,RGBA:v})}mirrorVideo(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(75,{isMirrorMyVideo:o})}updateUserMediaSN(o){var a,c,l;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(80,{isFromMainSession:Number(o.isFromMainSession),mediaActionType:o.iVType,body:{add:null!==(c=o.added)&&void 0!==c?c:[],remove:null!==(l=o.removed)&&void 0!==l?l:[]}})}updateMediaParams(o){var a;const{iVType:c,isFromMainSession:l,updateParams:p}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(81,{mediaActionType:c,isFromMainSession:Number(l),updateParams:p})}createMainSessionChannel(o,a){var c,l;"sharing"===o?null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(84,a):null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(85,a)}addReceivedSharingChannelType(o){var a;const{isFromMainSession:c,...l}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(82,{isFromMainSession:Number(c),...l})}removeReceivedSharingChannelType(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(83,{isFromMainSession:Number(o.isFromMainSession),ssrc:o.ssrc})}enableHardwareAccelerationForVideoDecode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(70,{enable:o})}enableHardwareAccelerationForVideoEncode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(71,{enable:o})}setSharingAudioVolume(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(74,{userid:o>>10,shareVolume:a?0:100,isFromMainSession:c})}subscribeToQos(o,a){o.forEach(c=>{var l;null===(l=this.instance)||void 0===l||l.updateQosSubscription(!0,c,a)})}unsubscribeFromQos(o){o.forEach(a=>{var c;null===(c=this.instance)||void 0===c||c.updateQosSubscription(!1,a)})}passThroughRWGMessage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(40,o)}startVirtualBackgroundSetting(o,a,c,l,p,h){var g;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(91,{canvas:o,bgdom:a,width:p,height:h,ssid:c,VideoSelectValue:"default"===l?null:l,disableOriginalRatio:arguments.length>6&&void 0!==arguments[6]&&arguments[6]})}updateVirtualBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(92,{bgdom:o})}stopVirtualBackgroundSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(93,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}startMaskSetting(o,a,c,l,p,h,g,v,S){var b;null===(b=this.instance)||void 0===b||b.Notify_MeidaSDK(62,{canvas:o,maskdom:c,bgdom:a,dx:0,dy:0,dWidth:h,dHeight:g,width:v,height:S,ssid:l,VideoSelectValue:"default"===p?null:p})}updateMaskBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(63,{bgdom:o})}updateMaskClip(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(64,{maskdom:o,dx:0,dy:0,dWidth:a,dHeight:c})}stopMaskSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(65,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}enableVideoObserver(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(99,{enable:o,fpsdisbale:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}enableShareAudioToBreakoutRoom(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(86,{enable:o})}sendUserAudioStatus(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(51,o)}muteOrUnmuteOtherAudio(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(50,{userId:o,volume:a?0:100})}adjustOtherAudioVolume(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(50,{userId:o,volume:a})}notifySDKMeetingReady(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(113)}movePTZCamera(o){var a,c;return null===(a=window.JsMediaSDK_Instance)||void 0===a||null===(c=a.util)||void 0===c?void 0:c.queryPTZPermisson().then(l=>{var p;return l?(null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(53,o),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")})}switchSharingMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(101,{mode:o})}updateVideoHDValue(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK("update_videohd_value",{videohd:o})}updateVideoFullhdValue(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:o})}changeAudioProfile(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(126,o)}enableSyncButtonsOnHeadset(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(100,{enable:o,microphoneLabel:a,defaultMuted:c})}stopAllIncomingAudio(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(123,o)}isSharingEntireScreen(){var o,a;const c=null===(o=this.instance)||void 0===o||null===(a=o.getShareStreamInfo)||void 0===a?void 0:a.call(o);if(c){const{displaySurface:l}=c;return!l||"monitor"===l}return!1}getShareStreamInfo(){var o,a;const c=null===(o=this.instance)||void 0===o||null===(a=o.getShareStreamInfo)||void 0===a?void 0:a.call(o);if(c){const{deviceId:l,width:p,height:h}=c;return{deviceId:l,width:p,height:h}}return{}}preInitAudioBridge(o){var a;null===(a=this.instance)||void 0===a||a.previewInit({audioBridge:{...o}})}prefetchVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(110,{ssrc:o})}cancelPrefetchVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(112,{ssrc:o,haddata:!1})}setMobileRotateMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(124,{isLandScape:o})}changeActiveVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(13,{ssrc:o})}setAudioCodecMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(122,{mode:o})}startRemoteControlQRCheck(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(54,{enable:o})}broadcastVoiceToBreakoutRoom(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(87,{enable:o})}share2ndAudio(o,a){var c;const l={audioOnly:!0,deviceId:"default"===o?null:o};a&&Object.assign(l,a),null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(129,l)}}return t.agentInstance=void 0,t})();const Fa="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Br="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",yf="ADD_USER_PARTICIPANT_ATTRIBUTE",yo="UPDATE_USER_PARTICIPANT_ATTRIBUTE",ut="REMOVE_USER_PARTICIPANT_ATTRIBUTE",Va="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",kN="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE",JD="JOIN_MEETING_SUCCESS",Pn="JOIN_MEETING_FAILED",So="RECONNECTING_MEETING",Gu="LEAVING_MEETING",zu="MEETING_IN_WAITING_ROOM",s0="UPDATE_MEETING_ATTRIBUTE",ZD="SHARE_PRONOUN_TYPE_UPDATE";var gs=function(t){return t.ConnectionChange="connection-change",t.OnHoldChange="on-hold-change",t.UserAdd="user-added",t.UserUpdate="user-updated",t.UserRemove="user-removed",t.AttendeeUpdate="attendee-updated",t.MeetingAttributeUpdate="meeting-attribute-updated",t.PromoteAttendeeConsent="promote-attendee-consent",t.ActiveAppsUpdate="active-apps-updated",t.SharePronounTypeUpdate="share-pronoun-type-update",t}(gs||{});const LN={JoinMeeting:{success:Fa,fail:[Pn]}},xN={[gs.ConnectionChange]:[{event:JD,payload:()=>({state:Gi.Connected})},{event:Pn,payload:t=>({state:Gi.Fail,...t})},{event:So,payload:t=>({state:Gi.Reconnecting,...t})},{event:Gu,payload:t=>({state:Gi.Closed,...t})}],[gs.OnHoldChange]:[{event:zu,payload:t=>({isOnHold:t})}],[gs.UserAdd]:[{event:Fa,payload:t=>[t]},{event:yf,payload:t=>t}],[gs.UserUpdate]:[{event:Br,payload:t=>[t]},{event:yo,payload:t=>t}],[gs.UserRemove]:[{event:ut,payload:t=>t}],[gs.AttendeeUpdate]:[{event:Va,payload:t=>t},{event:kN,payload:t=>t}],[gs.MeetingAttributeUpdate]:[{event:s0,payload:t=>"bNoHostTimeOut"in t?{isHostLost:t.bNoHostTimeOut}:null}],[gs.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:t=>{let{req_id:i,sender_id:o}=t;return{reqId:i,senderId:o}}}],[gs.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[gs.SharePronounTypeUpdate]:[{event:ZD,payload:t=>t}]},pe="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",ft="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",YD="LIVE_TRANSCRIPTION_STATUS_CHANGE",zv="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",ln={"caption-message":[{event:pe,payload:t=>t}],"caption-status":[{event:ft,payload:t=>t}],"caption-enable":[{event:YD,payload:t=>t}],"caption-host-disable":[{event:zv,payload:t=>t}]},Wu="CHAT_RECEIVE_MESSAGE_EVENTS",Zs="CHAT_PRIVILEGE_CHANGE",ms="CHAT_MESSAGE_RESPONSE",rp="CHAT_DELETE_MESSAGE_REPONSE",Ua="CHAT_FILE_CHAT_UPLOAD_PROGRESS",Wv="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let qv=function(t){return t.ChatOnMessage="chat-on-message",t.ChatPrivilegeChange="chat-privilege-change",t.ChatDeleteMessage="chat-delete-message",t.ChatFileUploadProgress="chat-file-upload-progress",t.ChatFileDownloadProgress="chat-file-download-progress",t}({});const XD={[qv.ChatOnMessage]:[{event:Wu,payload:t=>t}],[qv.ChatPrivilegeChange]:[{event:Zs,payload:t=>t}],[qv.ChatDeleteMessage]:[{event:rp,payload:t=>t}],[qv.ChatFileUploadProgress]:[{event:Ua,payload:t=>t}],[qv.ChatFileDownloadProgress]:[{event:Wv,payload:t=>t}]},bo="COMMAND_RECEIVE_MESSAGE_EVENTS",vs="COMMAND_STATUS_EVENTS";let a0=function(t){return t.CommandChannelStatus="command-channel-status",t.CommandChannelMessage="command-channel-message",t}({});const ys={[a0.CommandChannelStatus]:[{event:vs,payload:t=>t}],[a0.CommandChannelMessage]:[{event:bo,payload:t=>t}]};let yr=function(t){return t.Recording="Recording",t.Paused="Paused",t.Stopped="Stopped",t.Ask="Ask",t.Accept="Accept",t.Decline="Decline",t}({}),Sr=function(t){return t[t.None=0]="None",t[t.Init=1]="Init",t[t.Start=2]="Start",t[t.Pause=3]="Pause",t[t.Stop=4]="Stop",t}({}),op=function(t){return t[t.Stop=0]="Stop",t[t.Start=1]="Start",t[t.Pause=2]="Pause",t}({}),ko=function(t){return t[t.None=0]="None",t[t.Deny=1]="Deny",t[t.Allow=2]="Allow",t}({}),FN=function(t){return t[t.None=0]="None",t[t.DenyAllRequest=1]="DenyAllRequest",t[t.AllowAllRequest=2]="AllowAllRequest",t}({});const fl="CLOUD_RECORDING_STATUS_CHANGE",ip="CLOUD_RECORDING_ISO_STATUS_CHANGE",sp="LOCAL_RECORDING_CHANGE",Si="LOCAL_RECORDING_PERMISSION_CHANGE",eA="RECORDING_FOR_IQ_STATUS_CHANGE",u0="RECORDING_FOR_IQ_OPERATION_CHANGE";let ja=function(t){return t.RecordingChange="recording-change",t.IndividualRecordingChange="individual-recording-change",t.LocalRecordingChange="local-recording-change",t.LocalRecordingPermissionChange="local-recording-permission-change",t.MediaCaptureStatusChange="media-capture-status-change",t.MediaCapturePermissionChange="media-capture-permission-change",t.RecordingIqChange="recording-iq-change",t}({});const tA={[ja.RecordingChange]:[{event:fl,payload:t=>{const{cmrServerStatus:i}=t;return i===Sr.Start?yr.Recording:i===Sr.Pause?yr.Paused:yr.Stopped}}],[ja.IndividualRecordingChange]:[{event:ip,payload:t=>t}],[ja.LocalRecordingChange]:[{event:sp,payload:t=>t}],[ja.LocalRecordingPermissionChange]:[{event:Si,payload:t=>t}],[ja.MediaCaptureStatusChange]:[{event:sp,payload:t=>t}],[ja.MediaCapturePermissionChange]:[{event:Si,payload:t=>t}],[ja.RecordingIqChange]:[{event:eA,payload:t=>t}]};let he=function(t){return t[t.InitSuccess=1]="InitSuccess",t[t.InitSuccessVideo=1.1]="InitSuccessVideo",t[t.InitSuccessAudio=1.2]="InitSuccessAudio",t[t.InitSuccessSharing=1.3]="InitSuccessSharing",t[t.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",t[t.CurrentVideoResolution=3]="CurrentVideoResolution",t[t.JpegDecThreadOk=4]="JpegDecThreadOk",t[t.JpegData=5]="JpegData",t[t.SharingPara=6]="SharingPara",t[t.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",t[t.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",t[t.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",t[t.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",t[t.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",t[t.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",t[t.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",t[t.MonitorLog=14]="MonitorLog",t[t.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",t[t.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",t[t.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",t[t.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",t[t.DataChannelOffer=19]="DataChannelOffer",t[t.AesGcmIvResponse=21]="AesGcmIvResponse",t[t.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",t[t.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",t[t.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",t[t.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",t[t.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",t[t.HidStatusMute=28]="HidStatusMute",t[t.AudioStreamFailed=31]="AudioStreamFailed",t[t.VideoStreamFailed=32]="VideoStreamFailed",t[t.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",t[t.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",t[t.AudioLevelIndicator=38]="AudioLevelIndicator",t[t.SyncRendererTypeResponse=39]="SyncRendererTypeResponse",t[t.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",t[t.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",t[t.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",t[t.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",t[t.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",t[t.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",t[t.VbModelPreloading_3S=96]="VbModelPreloading_3S",t[t.VbModelPreloading_10S=97]="VbModelPreloading_10S",t[t.VbModelPreloadingOk=98]="VbModelPreloadingOk",t[t.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",t[t.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",t[t.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",t[t.InitFailed=-1]="InitFailed",t[t.InitFailedVideo=-1.1]="InitFailedVideo",t[t.InitFailedAudio=-1.2]="InitFailedAudio",t[t.InitFailedSharing=-1.3]="InitFailedSharing",t[t.UserForbiddedCaptureAudio=-2]="UserForbiddedCaptureAudio",t[t.AudioWebsocketBroken=-3]="AudioWebsocketBroken",t[t.VideoWebsocketBroken=-4]="VideoWebsocketBroken",t[t.SharingDecThreadFailed=-5]="SharingDecThreadFailed",t[t.AudioZeroData=-6]="AudioZeroData",t[t.AudioCtxSamplerate=-7]="AudioCtxSamplerate",t[t.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",t[t.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",t[t.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",t[t.StartRemoteControlFailed=-11]="StartRemoteControlFailed",t[t.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",t[t.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",t[t.UserStopDesktopSharing=-15]="UserStopDesktopSharing",t[t.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",t[t.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",t[t.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",t[t.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",t[t.DesktopSharingError=-20]="DesktopSharingError",t[t.AudioSpeakerSetError=-21]="AudioSpeakerSetError",t[t.DesktopSharingSystemError=-22]="DesktopSharingSystemError",t[t.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",t.AudioQosData="AUDIO_QOS_DATA",t.VideoQosData="VIDEO_QOS_DATA",t.ShareQosData="VIDEOSHARE_QOS_DATA",t.NetworkQualityChange="NETWORK_QUALITY_CHANGE",t[t.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",t[t.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",t[t.WebglLostInMultiView=-32]="WebglLostInMultiView",t[t.MaskSettingParaError=-33]="MaskSettingParaError",t[t.VbSettingParaError=-34]="VbSettingParaError",t[t.NotifyUIFailover=-35]="NotifyUIFailover",t[t.RecoverWebrtcAudio=-36]="RecoverWebrtcAudio",t[t.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",t[t.SharingHealthCheckFailed=-129]="SharingHealthCheckFailed",t[t.VideoHealthCheckFailed=-130]="VideoHealthCheckFailed",t[t.AudioHealthCheckFailed=-131]="AudioHealthCheckFailed",t}({}),Eo=function(t){return t[t.EncodeSuccess=1]="EncodeSuccess",t[t.DecodeSuccess=2]="DecodeSuccess",t[t.EncodeFailed=-1]="EncodeFailed",t[t.DecodeFailed=-2]="DecodeFailed",t}({}),Kv=function(t){return t.Spotlight="Spotlight",t.Unmute="Unmute",t.AllowToTalk="Allow to talk",t}({}),bi=function(t){return t.Inherited="inherited",t.Active="active",t.PassiveByMuteOne="passive(mute one)",t.PassiveByMuteAll="passive(mute all)",t.SharingAudio="sharing audio",t}({}),Sf=function(t){return t.Inherited="inherited",t.Active="active",t.Passive="passive",t.SharingAudio="sharing audio",t}({}),lr=function(t){return t.Active="active",t.Failover="failover",t.EndedBySystem="audio stream is ended by system",t.Pstn="pstn",t.MicrophoneError="microphone error",t}({}),qi=function(t){return t.Join="join",t.Leave="leave",t.Muted="muted",t.Unmuted="unmuted",t}({}),jt=function(t){return t[t.Calling=1]="Calling",t[t.Ringing=2]="Ringing",t[t.Accepted=3]="Accepted",t[t.Busy=4]="Busy",t[t.NotAvailable=5]="NotAvailable",t[t.HangUp=6]="HangUp",t[t.Fail=7]="Fail",t[t.Success=8]="Success",t[t.Timeout=9]="Timeout",t[t.Canceling=10]="Canceling",t[t.Canceled=11]="Canceled",t[t.CancelFailed=12]="CancelFailed",t}({});const VN=(()=>{const t=new ArrayBuffer(684),i=new Uint32Array(t);return i.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([i],{type:"audio/wav"})})(),UN=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),jN=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let Ei=function(t){return t[t.HostGrab=0]="HostGrab",t[t.OnlyHost=1]="OnlyHost",t[t.AnyoneGrab=2]="AnyoneGrab",t[t.MultipleShare=3]="MultipleShare",t}({}),_t=function(t){return t.Sharing="sharing",t.Paused="paused",t.End="ended",t}({}),qo=function(t){return t[t.Video_90P=0]="Video_90P",t[t.Video_180P=1]="Video_180P",t[t.Video_360P=2]="Video_360P",t[t.Video_720P=3]="Video_720P",t[t.Video_1080P=4]="Video_1080P",t}({}),gl=function(t){return t.Active="Active",t.Inactive="Inactive",t}({}),Ci=function(t){return t.Muted="Muted",t.Unmuted="Unmuted",t}({}),Qv=function(t){return t.Started="Started",t.Stopped="Stopped",t.Failed="Failed",t}({}),ap=function(t){return t.Approved="Approved",t.Rejected="Rejected",t}({}),ml=function(t){return t.PrivilegeChange="PrivilegeChange",t.StopScreenCapture="StopScreenCapture",t.ShareFromMainSession="ShareFromMainSession",t}({}),bf=function(t){return t[t.ImageNotMatch=2]="ImageNotMatch",t[t.CanvasNotMatch=3]="CanvasNotMatch",t[t.VBModelNotMatch=4]="VBModelNotMatch",t}({});const qu="blur";let Ba=function(t){return t.User="user",t.Environment="environment",t.Left="left",t.Right="right",t}({});const Ef=Object.values(Ba),Ku=1e3,vl="__ZOOM_SDK_SHARING_VIDEO__",Ss="__ZOOM_SDK_VIDEO_ZONE__",BN="__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__",c0="__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",$N="__ZOOM_SDK_MASK_CLIP_@__",l0="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",Cf="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",nA="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",d0={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,rate:0,bandwidth:0}},Ys={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,rate:0,bandwidth:0}};let br=function(t){return t[t.Request=11]="Request",t[t.Decline=12]="Decline",t[t.Approve=13]="Approve",t[t.GiveUp=14]="GiveUp",t[t.StartControl=15]="StartControl",t[t.ContinueControl=16]="ContinueControl",t[t.StopControl=17]="StopControl",t[t.SwitchCamera=20]="SwitchCamera",t}({}),Qu=function(t){return t[t.Bk=0]="Bk",t[t.Center=1]="Center",t[t.ZoomIn=2]="ZoomIn",t[t.ZoomOut=3]="ZoomOut",t[t.Left=4]="Left",t[t.Right=5]="Right",t[t.Up=6]="Up",t[t.Down=7]="Down",t[t.SwitchCamera=8]="SwitchCamera",t}({}),Xs=function(t){return t[t.Pan=192]="Pan",t[t.Tilt=48]="Tilt",t[t.Zoom=12]="Zoom",t[t.Focus=3]="Focus",t}({}),p0=function(t){return t[t.ZoomIn=2]="ZoomIn",t[t.ZoomOut=3]="ZoomOut",t[t.Left=4]="Left",t[t.Right=5]="Right",t[t.Up=6]="Up",t[t.Down=7]="Down",t[t.SwitchCamera=8]="SwitchCamera",t}({}),Jv=function(t){return t[t.None=0]="None",t[t.ApproveAnother=3]="ApproveAnother",t[t.Stop=5]="Stop",t}({}),Zv=function(t){return t[t.Null=0]="Null",t[t.Normal=1]="Normal",t[t.VideoMode=2]="VideoMode",t}({}),Ki=function(t){return t[t.Null=0]="Null",t[t.VirtualBackground=1]="VirtualBackground",t[t.Mask=2]="Mask",t}({}),xt=function(t){return t.Computer="computer",t.Phone="phone",t}({}),Yv=function(t){return t[t.Decline=0]="Decline",t[t.Approve=1]="Approve",t[t.CacheClean=2]="CacheClean",t}({}),bn=function(t){return t.Unknown="unknown",t.Uninstalled="uninstalled",t.Installed="installed",t}({}),Xv=function(t){return t.Unlaunched="unlaunched",t.Launched="launched",t}({}),yl=function(t){return t.Started="started",t.Ended="ended",t}({}),If=function(t){return t[t.Max=30]="Max",t[t.Min=10]="Min",t[t.Default=24]="Default",t}({}),up=function(t){return t[t.Loading=1]="Loading",t[t.Done=2]="Done",t}({}),wf=function(t){return t.Browser="Browser",t.Zoom="Zoom",t}({}),ey=function(t){return t.Denoise="backgroundNoiseSuppression",t.OriginalSound="originalSound",t}({}),h0=function(t){return t[t.Undefined=0]="Undefined",t[t.WebGL=1]="WebGL",t[t.WebGPU=2]="WebGPU",t[t.WebGL2=3]="WebGL2",t}({}),rA=function(t){return t[t.H323=1]="H323",t[t.SIP=2]="SIP",t}({}),cp=function(t){return t[t.Success=0]="Success",t[t.Ringing=1]="Ringing",t[t.Timeout=2]="Timeout",t[t.Busy=101]="Busy",t[t.Fail=104]="Fail",t}({});const f0="RECEIVE_VIDEO_ACTIVE_INDICATION",g0="RECEIVE_VIDEO_MUTE_INDICATION",oA="ASK_FOR_START_VIDEO_CONSENT",lp="RECEIVE_VIDEO_DIMENSION_CHANGE",Ju="CAPTURED_VIDEO_DIMENSION_CHANGE",m0="CAN_NOT_DETECT_CAMERA",ty="CAN_NOT_FIND_CAMERA",ny="VIDEO_USER_FORBIDDEN_CAPTURE",Zu="VIDEO_CAMERA_IS_TAKEN",Sl="VIDEO_BACKGROUND_FAILED",Er="VIDEO_ESTABLISH_STREAM_ERROR",v0="VIDEO_CAPTURE_START_SUCCESS",$a="VIDEO_CAPTURE_STOP_RESULT",Yu="VIDEO_SPOTLIGHT_CHANGE",iA="VIDEO_FOLLOW_HOST_ORDER_CHANGE",y0="VIDEO_HOST_DRAG_LAYOUT_CHANGE",dp="VIDEO_NEW_USER_START",ry="VIDEO_OLD_USER_STOP",_f="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",Df="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",pp="VIDEO_STATISTIC_DATA",oy="VIDEO_CELL_DETAILED_DATA",S0="VIDEO_NETWORK_QUALITY_CHANGE",sA="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",b0="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",Af="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",aA="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",iy="VIDEO_MASK_SETTING_SUCCESS",uA="VIDEO_CAPTURE_SDK_SUCCESS",cA="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",HN="VIDEO_CURRENT_USER_SSRC",E0="VIDEO_RENDER_ASPECT_RATIO_CHANGE",Tf="VIDEO_LEADERSHIP_USER_CHANGE",Lo={startCaptureVideo:{success:v0,fail:[m0,ty,ny,Er,Zu,Sl]},switchCameraVideo:{success:uA,fail:[m0,ty,ny,Zu]},stopCaptureVideo:{success:$a}};let Zr=function(t){return t.VideoActiveChange="video-active-change",t.PeerVideoStateChange="peer-video-state-change",t.VideoSpotlightChange="video-spotlight-change",t.VideoMutedChange="video-muted-change",t.VideoCapturingChange="video-capturing-change",t.AskForStartVideoConsent="ask-for-start-video-consent",t.VideoDimensionChange="video-dimension-change",t.VideoFollowHostOrder="video-follow-host-order-change",t.VideoHostLayoutChange="video-host-layout-change",t.VideoVBPreloadChange="video-virtual-background-preload-change",t.VideoStatisticDataChange="video-statistic-data-change",t.VideoDetailedDataChange="video-detailed-data-change",t.VideoAspectRatioChange="video-aspect-ratio-change",t.NetworkQualityChange="network-quality-change",t.FarEndCameraRequestControl="far-end-camera-request-control",t.FarEndCameraResponseControl="far-end-camera-response-control",t.FarEndCameraInControlChange="far-end-camera-in-control-change",t.FarEndCameraCapabilityChange="far-end-camera-capability-change",t}({});const lA={[Zr.VideoActiveChange]:[{event:f0,payload:t=>({state:t.bVideoOn?gl.Active:gl.Inactive,userId:t.userId})}],[Zr.VideoCapturingChange]:[{event:v0,payload:()=>({state:Qv.Started})},{event:$a,payload:t=>({state:null!=t&&t.failed?Qv.Failed:Qv.Stopped})}],[Zr.VideoMutedChange]:[{event:g0,payload:t=>({state:t.isVideoMuted?Ci.Muted:Ci.Unmuted,userId:t.id})}],[Zr.AskForStartVideoConsent]:[{event:oA,payload:t=>({state:t.isVideoMuted?Ci.Muted:Ci.Unmuted,userId:t.id})}],[Zr.VideoSpotlightChange]:[{event:Yu,payload:t=>({spotlightList:t.spotlightList&&t.spotlightList.map(i=>({userId:i}))})},{event:Tf,payload:t=>{var i;return{spotlightList:null===(i=t.spotlightList)||void 0===i?void 0:i.map(o=>({userId:o}))}}}],[Zr.VideoDimensionChange]:[{event:lp,payload:t=>({type:"received",width:t.width,height:t.height})},{event:Ju,payload:t=>({type:"captured",width:t.width,height:t.height})}],[Zr.VideoFollowHostOrder]:[{event:iA,payload:t=>({isFollowHostOrder:t.bOn})}],[Zr.VideoHostLayoutChange]:[{event:y0,payload:t=>Array.isArray(t.layout)?t.layout.map(i=>({userId:i})):[]}],[Zr.PeerVideoStateChange]:[{event:dp,payload:t=>({action:"Start",...t})},{event:ry,payload:t=>({action:"Stop",...t})}],[Zr.VideoVBPreloadChange]:[{event:_f,payload:t=>({isReady:t})}],[Zr.VideoStatisticDataChange]:[{event:pp,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Zr.VideoDetailedDataChange]:[{event:oy,payload:t=>t}],[Zr.VideoAspectRatioChange]:[{event:E0,payload:t=>t}],[Zr.NetworkQualityChange]:[{event:S0,payload:t=>t}],[Zr.FarEndCameraRequestControl]:[{event:sA,payload:t=>t}],[Zr.FarEndCameraResponseControl]:[{event:b0,payload:t=>t}],[Zr.FarEndCameraInControlChange]:[{event:Af,payload:t=>t}],[Zr.FarEndCameraCapabilityChange]:[{event:aA,payload:t=>t}]},GN="AUDIO_ACTIVE_SPEAKER",hp="AUDIO_UNMUTE_CONSENT",xo="AUDIO_CURRENT_USER_JOIN_BY_VOIP",sy="AUDIO_CURRENT_USER_JOIN_BY_PHONE",ea="AUDIO_CURRENT_USER_LEAVE_AUDIO",C0="AUDIO_CURRENT_USER_MUTED",I0="AUDIO_CURRENT_USER_UNMUTED",w0="AUDIO_PARTICIPANT_AUDIO_UPDATE",zN="AUDIO_DIALOUT_RESULT_CODE",WN="AUDIO_DIALOUT_RESULT_SUCCESS",qN="AUDIO_DIALOUT_RESULT_FAIL",KN="AUDIO_DIALOUT_CANCEL_SUCCESS",QN="DIALOUT_CANCEL_FAIL",dA="AUDIO_MERGE_AUDIO_INDICATION",bl="USER_FORBIDDEN_MICROPHONE",Ha="ESTABLISH_AUDIO_STREAM_ERROR",_0="AUDIO_AUTO_PLAY_FAILED",pA="INVALID_DEVICE_ID",ay="AUDIO_ALLOW_TALK_CHANGE",Cr="SHARE_AUDIO_STATE_CHANGE",D0="AUDIO_STATISTIC_DATA",uy="AUDIO_CURRENT_USER_SSRC",El="AUDIO_SET_SPEAKER_RESULT",hA="AUDIO_SHARE_SECONDARY_AUDIO_SUCCESS",A0="AUDIO_CRC_CALL_OUT_RESULT_CODE",T0="AUDIO_CRC_CALL_OUT_RESULT_SUCCESS",Rf="AUDIO_CRC_CALL_OUT_RESULT_FAIL",Of="AUDIO_CURRENT_AUDIO_LEVEL_CHANGE";let Ii=function(t){return t.ActiveSpeaker="active-speaker",t.UnmuteAudioConsent="unmute-audio-consent",t.CurrentAudioChange="current-audio-change",t.CurrentAudioLevelChange="current-audio-level-change",t.DialoutStateChange="dialout-state-change",t.MergeAudio="merged-audio",t.AutoPlayFailed="auto-play-audio-failed",t.AllowTalkChange="allow-talk-change",t.ShareAudioChange="share-audio-change",t.AudioStatisticDataChange="audio-statistic-data-change",t.CrcCallOutStateChange="crc-call-out-state-change",t}({});const Cl={JoinComputerAudio:{success:xo,fail:[bl,Ha]},LeaveComputerAudio:{success:ea},JoinAudioByCallMe:{success:WN,fail:[qN]},cancelDialOut:{success:KN,fail:[QN]},hangup:{success:ea},crcCallOut:{success:T0,fail:[Rf]}},JN={[Ii.ActiveSpeaker]:[{event:GN,payload:t=>t}],[Ii.UnmuteAudioConsent]:[{event:hp,payload:t=>({reason:t})}],[Ii.CurrentAudioChange]:[{event:sy,payload:()=>({action:qi.Join,type:xt.Phone})},{event:xo,payload:()=>({action:qi.Join,type:xt.Computer})},{event:ea,payload:t=>{let{source:i}=t;return{action:qi.Leave,source:i}}},{event:C0,payload:t=>{let{source:i}=t;return{action:qi.Muted,source:i}}},{event:I0,payload:t=>{let{source:i}=t;return{action:qi.Unmuted,source:i}}}],[Ii.DialoutStateChange]:[{event:zN,payload:t=>t}],[Ii.MergeAudio]:[{event:dA,payload:t=>t}],[Ii.AutoPlayFailed]:[{event:_0,payload:()=>{}}],[Ii.AllowTalkChange]:[{event:ay,payload:t=>({enabled:t})}],[Ii.ShareAudioChange]:[{event:Cr,payload:t=>t}],[Ii.AudioStatisticDataChange]:[{event:D0,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Ii.CrcCallOutStateChange]:[{event:A0,payload:t=>t}],[Ii.CurrentAudioLevelChange]:[{event:Of,payload:t=>t}]},R0="SHARE_ACTIVE_INDICATION",cy="SHARE_CHECK_CHROME_SHARING_EXTENSION",fA="SHARE_START_DESKTOP_SHARE_FAILED",gA="SHARE_DIMENSION_CHANGE",Yr="SHARE_RECEIVED_DIMENSION_CHANGE",ly="SHARE_VIDEO_STREAMS_END",O0="SHARE_PASSIVE_STOP_SHARE",dy="SHARE_PASSIVE_BO_STOP",$r="SHARE_NEW_USER_ADD",Il="SHARE_USER_REMOVE",M0="SHARE_USER_PAUSED",P0="SHARE_USER_RESUMED",py="SHARE_AUTO_CHANGE_SOURCE",Mf="SHARE_REMOTE_CONTROL_APPROVE",wl="SHARE_GRAB_REMOTE_CONTROL_CHANGE",hy="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",mA="SHARE_REMOTE_CONTROL_SUCCESS",N0="SHARE_REMOTE_CONTROL_FAILED",vA="SHARE_PRIVILEGE_CHANGE",yA="SHARE_READ_RECEIPT",k0="SHARE_STATISTIC_DATA",SA="SHARE_REMOTE_CONTROL_REQUEST",Xu="SHARE_REMOTE_CONTROL_APP_STATUS",Pf="SHARE_REMOTE_CONTROL_SESSION_STATUS",L0="SHARE_REMOTE_CONTROL_APP_SCHEME";let Xr=function(t){return t.ShareActiveChange="active-share-change",t.ShareDimensionChange="share-content-dimension-change",t.SharePassiveStop="passively-stop-share",t.SharePeerStateChange="peer-share-state-change",t.ShareContentChange="share-content-change",t.SharePrivilegeChange="share-privilege-change",t.ShareReadReceipt="share-can-see-screen",t.ShareStatisticDataChange="share-statistic-data-change",t.RemoteControlApprovedChange="remote-control-approved-change",t.RemoteControlInControlChange="remote-control-in-control-change",t.RemoteControlClipboardChange="remote-control-clipboard-change",t.RemoteControlRequestChange="remote-control-request-change",t.RemoteControlAppStatusChange="remote-control-app-status-change",t.RemoteControlControlledStatusChange="remote-control-controlled-status-change",t}({});const bA={[Xr.ShareActiveChange]:[{event:R0,payload:t=>{const{isActive:i,activeUserId:o,...a}=t;return{state:i?"Active":"Inactive",userId:o,...a}}}],[Xr.ShareDimensionChange]:[{event:gA,payload:t=>({type:"sended",width:t.width,height:t.height})},{event:Yr,payload:t=>({type:"received",width:t.width,height:t.height})}],[Xr.SharePassiveStop]:[{event:ly,payload:()=>({reason:ml.StopScreenCapture})},{event:O0,payload:()=>({reason:ml.PrivilegeChange})},{event:dy,payload:()=>({reason:ml.ShareFromMainSession})}],[Xr.SharePeerStateChange]:[{event:$r,payload:t=>({userId:t.id,action:"Start"})},{event:Il,payload:t=>({userId:t.id,action:"Stop"})},{event:M0,payload:t=>({userId:t.id,action:"Pause"})},{event:P0,payload:t=>({userId:t.id,action:"Resume"})}],[Xr.ShareContentChange]:[{event:py,payload:t=>t}],[Xr.SharePrivilegeChange]:[{event:vA,payload:t=>({privilege:t})}],[Xr.ShareReadReceipt]:[{event:yA,payload:()=>{}}],[Xr.ShareStatisticDataChange]:[{event:k0,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Xr.RemoteControlApprovedChange]:[{event:Mf,payload:t=>({state:t?ap.Approved:ap.Rejected})}],[Xr.RemoteControlInControlChange]:[{event:wl,payload:t=>({isControlling:t})}],[Xr.RemoteControlClipboardChange]:[{event:hy,payload:t=>t}],[Xr.RemoteControlRequestChange]:[{event:SA,payload:t=>t}],[Xr.RemoteControlAppStatusChange]:[{event:Xu,payload:t=>t}],[Xr.RemoteControlControlledStatusChange]:[{event:Pf,payload:t=>t}]};let ta=function(t){return t.Question="question",t.UpdateQuestion="updateQuestion",t.Answer="answer",t.DeleteComment="deleteComment",t.DeleteQuestion="deleteQuestion",t.Dismiss="dismiss",t.Reopen="reopen",t.Upvote="upvote",t.AnswerLive="answerLive",t}({}),x0=function(t){return t.QaSettingChange="qa-setting-change",t.QaActionChange="qa-action-change",t}({});const EA={[x0.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:t=>t}],[x0.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:t=>({action:ta.Question,data:t})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:t=>({action:ta.UpdateQuestion,data:t})},{event:"QA_ANSWER_QUESTION",payload:t=>({action:ta.Answer,data:t})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:t=>({action:ta.DeleteComment,data:t})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:t=>({action:ta.DeleteQuestion,data:t})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:t=>({action:ta.Dismiss,data:t})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:t=>({action:ta.Reopen,data:t})},{event:"QA_ANSWER_VOTE_QUESTION",payload:t=>({action:ta.Upvote,data:t})},{event:"QA_ANSWER_QUESTION_LIVE",payload:t=>({action:ta.AnswerLive,data:t})}]},ie="INVALID_OPERATION",bs="INTERNAL_ERROR",F0="OPERATION_TIMEOUT",Hr="INSUFFICIENT_PRIVILEGES",_l="IMPROPER_MEETING_STATE",Je="INVALID_PARAMETERS",V0="AUDIO_ENCODE_SUCCESS",CA="AUDIO_DECODE_SUCCESS",IA="VIDEO_ENCODE_SUCCESS",ZN="VIDEO_DECODE_SUCCESS",wA="SHARING_ENCODE_SUCCESS",fy="SHARING_DECODE_SUCCESS",gy="AUDIO_ENCODE_FAIL",_A="AUDIO_DECODE_FAIL",Ga="VIDEO_ENCODE_FAIL",Nf="VIDEO_DECODE_FAIL",DA="SHARING_ENCODE_FAIL",U0="SHARING_DECODE_FAIL",za="MEDIA_DEVICE_CHANGE",j0="MEDIS_SDK_PATHCH_LOADED",YN="AUDIO_BRIDGE_PEER_CONNECTION_RECEIVE_READY",B0="AUDIO_BRIDGE_PEER_CONNECTION_SEND_READY",AA="DEVICE_PERMISSION_CHANGE",TA="MEDIA_HEALTH_CHECK_FAILED";let $0=function(t){return t.DeviceChange="device-change",t.MediaSDKChange="media-sdk-change",t.DevicePermissionChange="device-permission-change",t.MediaInternalError="media-internal-error",t}({});const jF={[$0.DeviceChange]:[{event:za,payload:()=>({})}],[$0.MediaSDKChange]:[{event:V0,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:gy,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:CA,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:_A,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:IA,payload:()=>({type:"video",action:"encode",result:"success"})},{event:Ga,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:ZN,payload:()=>({type:"video",action:"decode",result:"success"})},{event:Nf,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:wA,payload:()=>({type:"share",action:"encode",result:"success"})},{event:DA,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:fy,payload:()=>({type:"share",action:"decode",result:"success"})},{event:U0,payload:()=>({type:"share",action:"decode",result:"fail"})}],[$0.DevicePermissionChange]:[{event:AA,payload:t=>t}],[$0.MediaInternalError]:[{event:TA,payload:t=>t}]},kf="BREAKOUT_ROOM_ADD_TOKEN",my="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",Lf="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",xf="BREAKOUT_ROOM_ROOM_COUTDOWN",Dl="BREAKOUT_ROOM_BROADCAST_MESSAGE",vy="BREAKOUT_ROOM_ASK_HELP_REQUEST",Ff="BREAKOUT_ROOM_ASK_HELP_RESPONSE",Es="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",Al="BREAKOUT_ROOM_JOIN_BO_RESPONSE",Tl="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",Vf="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",yy="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",Uf="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",XN="BREAKOUT_ROOM_INVITE_TO_BACK_NOTIFICATION",Sy="BREAKOUT_ROOM_IN_ROOM_USER_STATUS_UPDATE",fp="BREAKOUT_ROOM_BROADCAST_VOICE";let Qi=function(t){return t.InviteToJoin="invite-to-join",t.RoomCountdown="room-countdown",t.RoomTimeUp="room-time-up",t.ClosingRoomCountdown="closing-room-countdown",t.BroadcastMessage="broadcast-message",t.AskForHelp="ask-for-help",t.AskForHelpResponse="ask-for-help-response",t.RoomStateChange="room-state-change",t.MainSessionUserUpdate="main-session-user-updated",t.InviteToBack="invite-back-to-main-session",t.RoomUserUpdate="room-user-update",t.BroadcastVoice="broadcast-voice",t}({});const RA={[Qi.InviteToJoin]:[{event:my,payload:t=>t}],[Qi.RoomCountdown]:[{event:xf,payload:t=>t}],[Qi.RoomTimeUp]:[{event:Tl,payload:t=>t}],[Qi.ClosingRoomCountdown]:[{event:Lf,payload:t=>t}],[Qi.BroadcastMessage]:[{event:Dl,payload:t=>t}],[Qi.AskForHelp]:[{event:vy,payload:t=>t}],[Qi.AskForHelpResponse]:[{event:Ff,payload:t=>t}],[Qi.RoomStateChange]:[{event:Es,payload:t=>({status:t.controlStatus})}],[Qi.MainSessionUserUpdate]:[{event:Uf,payload:()=>({})}],[Qi.InviteToBack]:[{event:XN,payload:t=>t}],[Qi.RoomUserUpdate]:[{event:Sy,payload:t=>t}],[Qi.BroadcastVoice]:[{event:fp,payload:t=>t}]};var H0=function(t){return t.StatusUpdate="archiving-status-update",t.OptionsUpdate="archiving-options-update",t}(H0||{});const e1={[H0.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:t=>t}],[H0.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:t=>t}]};let jf=function(t){return t.PollDataChange="poll-data-change",t.PollSizeUpdate="poll-size-update",t.PollStatusUpdate="poll-status-update",t}({});const OA={[jf.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:t=>t}],[jf.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:t=>t}],[jf.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:t=>t}]};let MA=function(t){return t.ReactionReceived="reaction-received",t.ReactionRemoved="reaction-removed",t}({});const t1={[MA.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:t=>t}],[MA.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:t=>t}]},Ji="SMART_SUMMARY_STATUS_CHANGE",Wa="MEETING_QUERY_STATUS_CHANGE";let by=function(t){return t.SummaryChange="summary-status-change",t.MeetingQueryChang="meeting-query-status-change",t}({});const Ey="LIVE_STREAM_STATUS_CHANGE",gp={...xN,...ln,...XD,...ys,...tA,...JN,...lA,...EA,...bA,...jF,...RA,...e1,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:t=>t}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:t=>t}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:t=>t}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:t=>t},{event:"CC_STATUS_CHANGE",payload:t=>t}],...OA,...t1,[by.SummaryChange]:[{event:Ji,payload:t=>t}],[by.MeetingQueryChang]:[{event:Wa,payload:t=>t}],"live-stream-status":[{event:Ey,payload:t=>t}]},qa=function(t){return{all:t=t||new Map,on:function(i,o){var a=t.get(i);a?a.push(o):t.set(i,[o])},off:function(i,o){var a=t.get(i);a&&(o?a.splice(a.indexOf(o)>>>0,1):t.set(i,[]))},emit:function(i,o){var a=t.get(i);a&&a.slice().map(function(c){c(o)}),(a=t.get("*"))&&a.slice().map(function(c){c(i,o)})}}}(),na=new Map,Bf=new Array,F=function(t){qa.emit(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)},ra=t=>new Promise((i,o)=>{t.fail&&t.fail.length>0?Ho(pn(qa,t.success).pipe(Ct(1)),Kn(...t.fail.map(a=>pn(qa,a).pipe(Ct(1),ae(c=>Ee({type:a,payload:c})))))).subscribe(a=>i(a),a=>{o("object"==typeof a.payload?{type:a.type,...a.payload}:void 0===a.payload?{type:a.type}:a)}):pn(qa,t.success).pipe(Ct(1)).subscribe(a=>i(a))}),ze=function(t,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Promise((a,c)=>{let l=Se;"string"==typeof t?l=pn(qa,t).pipe(Ct(1)):(l=pn(qa,t.event),t.operations&&(l=t.operations.reduce((p,h)=>p.pipe(h),l))),Ho(l,On(o).pipe(We(Ee("timeout")))).subscribe(p=>{if(i){const h=i(p);"boolean"==typeof h?h?a(""):c({type:bs}):0===h.ret?a(h.body):c({type:bs,reason:h.body})}else a(p)},()=>{c({type:F0})})})},Mt=(t,i)=>void 0!==i?pn(qa,t).pipe(Ct(i)):pn(qa,t),mp=()=>{Bf.forEach(t=>{t.unsubscribe()}),Bf.length=0,na.clear()},{setAttendeesList:$f,setIsAdmitAllSilentUsers:G0,resetParticipants:Hf,addFailoverAttendees:Gf,removeFailoverAttendees:Rl,setClearRaiseHand:PA,setClearAttendeeFeedback:NA,updateAttendeeDisplayName:o1,removeXmppAttendeeUser:zf,updateXmppAttendeeList:Cy,setAttendeeExtraKey:vp}=Qn({SET_ATTENDEES_LIST:t=>t,SET_ASSISTANT_LIST:t=>t,UPDATE_XMPP_ATTENDEE_LIST:t=>t,RESET_PARTICIPANTS:()=>({}),SET_IS_ADMIT_ALL_SILENT_USERS:t=>t,REMOVE_FAILOVER_ATTENDEES:t=>t,ADD_FAILOVER_ATTENDEES:t=>t,SET_CLEAR_RAISE_HAND:()=>({}),SET_CLEAR_ATTENDEE_FEEDBACK:()=>({}),UPDATE_ATTENDEE_DISPLAY_NAME:t=>t,REMOVE_XMPP_ATTENDEE_USER:t=>t,SET_ATTENDEE_EXTRA_KEY:t=>t});var Wf="NOT_FOUND",kA=function(t,i){return t===i};function z0(t,i){var o,a,c="object"==typeof i?i:{equalityCheck:i},l=c.equalityCheck,h=c.maxSize,g=void 0===h?1:h,v=c.resultEqualityCheck,S=function(I){return function(_,w){if(null===_||null===w||_.length!==w.length)return!1;for(var A=_.length,T=0;T<A;T++)if(!I(_[T],w[T]))return!1;return!0}}(void 0===l?kA:l),b=1===g?(o=S,{get:function(I){return a&&o(a.key,I)?a.value:Wf},put:function(I,_){a={key:I,value:_}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}):function(I,_){var w=[];function A(T){var M=w.findIndex(function(N){return _(T,N.key)});if(M>-1){var P=w[M];return M>0&&(w.splice(M,1),w.unshift(P)),P.value}return Wf}return{get:A,put:function(T,M){A(T)===Wf&&(w.unshift({key:T,value:M}),w.length>I&&w.pop())},getEntries:function(){return w},clear:function(){w=[]}}}(g,S);function E(){var I=b.get(arguments);if(I===Wf){if(I=t.apply(null,arguments),v){var _=b.getEntries().find(function(w){return v(w.value,I)});_&&(I=_.value)}b.put(arguments,I)}return I}return E.clearCache=function(){return b.clear()},E}function LA(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];var h,g=0,v={memoizeOptions:void 0},S=l.pop();if("object"==typeof S&&(v=S,S=l.pop()),"function"!=typeof S)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof S+"]");var b=v.memoizeOptions,E=void 0===b?o:b,I=Array.isArray(E)?E:[E],_=function(T){var M=Array.isArray(T[0])?T[0]:T;if(!M.every(function(N){return"function"==typeof N})){var P=M.map(function(N){return"function"==typeof N?"function "+(N.name||"unnamed")+"()":typeof N}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+P+"]")}return M}(l),w=t.apply(void 0,[function(){return g++,S.apply(null,arguments)}].concat(I)),A=t(function(){for(var T=[],M=_.length,P=0;P<M;P++)T.push(_[P].apply(null,arguments));return h=w.apply(null,T)});return Object.assign(A,{resultFunc:S,memoizedResultFunc:w,dependencies:_,lastResult:function(){return h},recomputations:function(){return g},resetRecomputations:function(){return g=0}}),A}}var En=LA(z0);const ec=t=>{let{participants:{attendeesList:i}}=t;return i},xA=t=>{let{meeting:{userId:i}}=t;return i},W0=t=>{let{participants:{xmppAttendeeList:i}}=t;return i};let Ko=function(t){return t[t.Attendee=0]="Attendee",t[t.Host=1]="Host",t[t.Owner=4]="Owner",t[t.ViewOnly=8]="ViewOnly",t[t.HostOwner=5]="HostOwner",t[t.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",t}({}),qf=function(t){return t[t.Host=10]="Host",t[t.Panelist=20]="Panelist",t[t.Attendee=30]="Attendee",t}({}),q0=function(t){return t[t.Client=9]="Client",t[t.Phone=5]="Phone",t[t.H323=15]="H323",t[t.Assitant=51]="Assitant",t}({});const Iy=t=>(t&Ko.Host)===Ko.Host,yp=t=>(t&q0.Phone)===q0.Phone,K0=t=>t===Ko.ViewOnlyCanTalk,Pr=t=>(t&Ko.ViewOnly)===Ko.ViewOnly;let Sp=function(t){return t[t.Automatically=1]="Automatically",t[t.Manually=2]="Manually",t[t.SelfSelect=3]="SelfSelect",t}({}),dt=function(t){return t[t.NotStarted=1]="NotStarted",t[t.InProgress=2]="InProgress",t[t.Closing=3]="Closing",t[t.Closed=4]="Closed",t}({}),FA=function(t){return t[t.NoToken=1]="NoToken",t[t.GotToken=2]="GotToken",t[t.Started=3]="Started",t[t.Closing=4]="Closing",t[t.Closed=5]="Closed",t}({}),je=function(t){return t.Initial="initial",t.Invited="invited",t.Joining="joining",t.InRoom="in room",t.Leaving="leaving",t.TimeUp="time up",t.MainSession="main session",t}({}),Ol=function(t){return t.Join="joinRequest",t.Switch="switchRequest",t.Leave="leaveRequest",t.Broadcast="messageText",t.HelpReq="helpRequest",t.HelpRes="helpResponse",t.CoHostWantJoinThisBo="wantJoinThisBO",t.BOActivity="BOActivity",t}({});const VA="Subsession";let Cs=function(t){return t[t.Received=0]="Received",t[t.Busy=1]="Busy",t[t.Ignore=2]="Ignore",t[t.AlreadyInRoom=3]="AlreadyInRoom",t}({}),oa=function(t){return t[t.AskToLeave=0]="AskToLeave",t[t.ClosingRoom=1]="ClosingRoom",t}({}),Kf=function(t){return t[t.Active=0]="Active",t[t.Ask=1]="Ask",t}({}),wy=function(t){return t[t.Connect=1]="Connect",t[t.Muted=2]="Muted",t[t.Voip=4]="Voip",t}({}),Q0=function(t){return t[t.Connect=8]="Connect",t[t.On=16]="On",t}({}),J0=function(t){return t[t.Share=32]="Share",t[t.ShareAudio=64]="ShareAudio",t}({});const i1=t=>{let{breakoutRoom:i}=t;return i&&i.controlStatus},s1=t=>{let{breakoutRoom:i}=t;return i&&i.currentRoom.status},Ve=En([xA,ec],(t,i)=>i.find(o=>o.userId===t)),Co=En([Ve],t=>t?.isHost||t?.bCoHost),_y=En([Ve],t=>t?.isHost),Dy=En([W0],t=>t.filter(i=>i.userRole===qf.Attendee)),$F=En([ec],t=>t.filter(i=>i.bHold&&!i.bid)),Yt=En([ec,i1,s1],(t,i,o)=>t.filter(i!==dt.InProgress&&i!==dt.Closing||o!==je.InRoom?a=>!a.bHold&&!a.bid:a=>!a.bHold)),a1=En([t=>{let{participants:{assistantList:i}}=t;return i}],t=>t),Z0=En([Yt],t=>t.find(i=>i.isHost)),UA=En([Yt],t=>t.filter(i=>i.bCoHost)),Y0=En([Ve,Yt],(t,i)=>i.filter(o=>o.userId!==t?.userId));En([W0],t=>t.reduce((i,o)=>{const{jid:a}=o;return Object.assign(i,{[a]:o}),i},{})),En([W0,t=>{let{meeting:{jid:i}}=t;return i}],(t,i)=>{var o;return null===(o=t.find(a=>a.jid===i))||void 0===o?void 0:o.userId});const u1=En([ec],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some(t=>t?.bLocalRecord===op.Start)}),jA=En([i1,t=>{let{meeting:i}=t;return i&&i.meetingOptions},ec,_y],(t,i,o,a)=>{const c=o.filter(h=>h.bCoHost),{moveToWRIfHostLeave:l}=i;return a&&!!l&&c.length<=0&&!(t===dt.InProgress)&&o.length>1});En([ec,s1,t=>{let{breakoutRoom:i}=t;return i&&i.mainSessionAttendeeList}],(t,i,o)=>(i===je.InRoom?o:t).filter(a=>{return!(a.bHold||a.isHost||a.audio===xt.Phone||yp(a?.userType)||(c=a?.caps,l=a?.bMultiStreamVideoUser,p=c,h=l,128&p&&void 0!==h&&l));var p,h,c,l}));let Wt=function(t){return t.Closed="closed",t.Connecting="connecting",t.Connected="connected",t}({});function Nr(t){return 1<<t-1}let Qo=function(t){return t[t.SupportASL=Nr(1)]="SupportASL",t[t.SidecarPhase2=Nr(2)]="SidecarPhase2",t[t.SupportBroadcastVoice=Nr(4)]="SupportBroadcastVoice",t[t.SendMeetingTokenSeparately=Nr(5)]="SendMeetingTokenSeparately",t[t.SupportPreview=Nr(6)]="SupportPreview",t[t.WebCameraIndication=Nr(7)]="WebCameraIndication",t[t.SupportFarEndCameraControl=Nr(9)]="SupportFarEndCameraControl",t[t.SupportVideoShare=Nr(10)]="SupportVideoShare",t[t.UnifyErrorType=Nr(11)]="UnifyErrorType",t[t.WhiteBoard=Nr(12)]="WhiteBoard",t[t.RequestRemoteControl=Nr(14)]="RequestRemoteControl",t[t.SmartSummary=Nr(15)]="SmartSummary",t[t.LocalRecording=Nr(16)]="LocalRecording",t[t.LocalRecordingGrantPermission=Nr(17)]="LocalRecordingGrantPermission",t[t.ShareMultiStream=Nr(18)]="ShareMultiStream",t[t.VideoLTR=Nr(19)]="VideoLTR",t[t.WebrtcAudioRtcpTime=Nr(20)]="WebrtcAudioRtcpTime",t[t.SupportSend1080PVideo=Nr(29)]="SupportSend1080PVideo",t[t.SupportSend1080PVideoShare=Nr(30)]="SupportSend1080PVideoShare",t}({});const{setAsnIds:X0,setIsCanUnmute:Qf,setDialoutSequence:BA,setDialoutResultCode:Ay,setIsAllowToTalk:eC,setAudioSsrc:Ml,setIsMutedUponEntry:$A,setIsUserGrantCaptureAudio:HA,setIsMicrophoneForbidden:Ty,setWebrtcRestartCount:bp,setMicrophoneList:GA,setSpeakerList:zA,setActiveMicrophone:Jf,setActiveSpeaker:Ry,setCanPlayAudio:Pl,resetAudio:c1,setIsComputerAudioLoading:Ep,setIsAllowToTalkAttendeeConnected:Nl,setIsMuteBeforeSharingAudio:Ka,addLocalShareAudioUser:WA,updateLocalShareAudioUser:qA,setIsJoinComputerAudioBeforeSharingAudio:kl,setIsShareAudioEnabled:Oy,setIsShareAudioMuted:My,setIsSharingAudio:Cp,setAudioDataEncoding:Py,setAudioDataDecoding:Ny,addLocallyMutedAudio:KA,removeLocallyMutedAudio:Ip,updateUserAudioVolumeLocally:l1,removeLocalUserAudioVolume:d1,setCustomizedAudioOption:Zf,setIsBackgroundNoiseSuppression:QA,setIsHidEnabled:p1,setAudioMediaPlaybackFile:JA,setIsStopAllIncomingAudio:ZA,setIsVerifiedAudioPermissionOnIosMobile:h1,setIsAudioBridgeSignalReconnecting:tC,setAudioMutedSource:Zi,setAudioUnmutedSource:tc,setAudioOriginalSound:Yf,setLeaveAudioSource:nc,setSecondaryAudioMicrophoneId:Xf,setCrcCallOutSequence:YA,setCrcCallOutReturnCode:XA}=Qn("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE","SET_SECONDARY_AUDIO_MICROPHONE_ID","SET_CRC_CALL_OUT_SEQUENCE","SET_CRC_CALL_OUT_RETURN_CODE"),{setSharePrivilege:ky,setShareActiveNode:Qa,setIsReceiveSharing:Io,setIsChromeExtensionInstalled:Ja,setIsScreenShareForbidden:nC,setShareDimension:f1,setShareStatus:wi,setShareSsrc:g1,setShareQuality:eT,setReceivedShareDimension:Ly,setIsGrabRemoteControl:eg,setIsSdkGrabControl:tT,setIsReceiveSharingFromMainSession:Za,setIsSharingToBreakoutRoom:Ll,setIsSharingWithSecondCamera:xy,setShringSecondCameraId:nT,setIsRequireReadReceipt:xl,setIsOptimizedForSharedVideo:wp,setShareDataEncoding:Fy,setShareDataDecoding:Fl,addShareCapturedEnsuredCanvas:tg,addShareRenderedEnsuredCanvas:rT,setRemoteControllingSsrc:_p,setApprovedRemoteControlSsrc:Dp,setRemoteControlAppDownloadUrl:oT,setRemoteControlAppInstallStatus:Vl,remoteControlAppStatusFallbackCheck:rC,remoteControlAppLaunchedCheck:Ul,setRemoteControlAppLaunchSheme:Yi,addSharingUserIdSsrcMapping:iC,addRemoteControlledUser:iT,removeRemoteControlledUser:ng,setRemoteControlSetting:Vy,setRemoteControlViewportDomSelector:rc,setIsFullHdVideoShareEnabled:sC,resetShare:aC}=Qn("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_CHROME_EXTENSION_INSTALLED","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_SHARING_USER_ID_SSRC_MAPPING","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_IS_FULL_HD_VIDEO_SHARE_ENABLED","RESET_SHARE"),{setVideoSsrc:sT,setActiveVideoId:m1,setCameraList:Ap,setActiveCamera:rg,setIsCurrentUserStartedVideo:uC,setSpotlightVideo:Uy,setIsCaptureForbidden:og,setVideoMaxQuality:jy,setIsVideoMuted:cC,setIsCaptureCameraLoading:oc,setIsCameraTaken:ic,resetVideo:lC,setReceivedVideoDimension:ig,addSubscribedVideoId:sc,removeSubscribedVideoId:sg,setIsFollowHostVideoLayout:By,setHostDragLayout:ag,addRenderedVideoId:Tp,removeRenderedVideoId:ug,setIsSupportHdVideo:aT,setMaximumNumbeOfHdSubscriptions:uT,setIsCanUnmuteVideo:cT,setIsVbPreloadReady:$y,setIsVbConfiged:cg,setVbImageSrc:gt,setVideoDataEncoding:Hy,setVideoDataDecoding:lg,setHardwareAccelerationState:tt,setVideoCaptureCustomizedOption:dC,setNetworkQuality:Gy,setVideoCameraPtzCapabilities:lT,setIsCurrentUserRequestCameraControlled:jl,setIsCurrentUserCameraInControl:Ya,addVideoFarEndCameraControlUser:zy,removeVideoFarEndCameraControlUser:ac,setVideoPtzCameraMoving:Wy,setVideoPtzCameraValue:dg,setIsControllingFarEndCamera:pg,setNetworkQualityBroadcastTime:qy,setIsMaskConfiged:hg,setVideoBackgroundMode:pC,setVideoMask:Ky,setVideoCapturedDimension:dT,addVideoRenderedEnsuredCanvas:pT,setVideoMediaPlaybackFile:Qy,setPrefetchedVideoUser:Rp,setVideoQosSubscriptionStatus:hC,setIsSupportFullHdVideo:hT,addVideoPlayerAttachment:fT,removeVideoPlayerAttachment:fg,setIsWebGl2RendererType:fC,setIsWebGpuRendererType:gT,setVideoRendererType:mT,setIsVideoMirrored:Fo,addSelfPreviewVideoTag:vT,removeSelfPreviewVideoTag:gC,setVideoLeadershipUserId:v1}=Qn("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_MAXIMUM_NUMBE_OF_HD_SUBSCRIPTIONS","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_IS_SUPPORT_FULL_HD_VIDEO","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT","SET_IS_WEB_GL2_RENDERER_TYPE","SET_IS_WEB_GPU_RENDERER_TYPE","SET_VIDEO_RENDERER_TYPE","SET_IS_VIDEO_MIRRORED","ADD_SELF_PREVIEW_VIDEO_TAG","REMOVE_SELF_PREVIEW_VIDEO_TAG","SET_VIDEO_LEADERSHIP_USER_ID"),{resetQa:b1}=Qn("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:mC,setPanelistChatPrivilege:bT,addChatMessageHistory:Jo,resetChat:Jy,setIsAllowAttendeeChat:ET,setLatestChatMessageId:CT,removeChatMessage:gg,setFileChatSetting:vC,addChatFileRecord:Op,updateChatFileRecord:dr,cancelSendFileChat:Zy,addFailedChatFileTransfer:Yy,setChatFileMessageId:yC,cancelDownloadFileChat:Xy}=Qn("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setCcEditorInfo:mg,resetClosedCaption:w1}=Qn("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:DT,setBreakoutRoomAllocationPattern:SC,setBreakoutRoomSequenceId:rS,setMeetingElapsedTime:oS,setStartRoomElapsedTime:yg,setBreakoutRoomOptions:AT,setBreakoutRoomControlStatus:_1,setBreakoutRooms:Sg,setCurrentBreakoutRoom:iS,setBreakoutRoomAttendeeStatus:cc,setBreakoutRoomConfId:bC,setBreakoutRoomToken:EC,resetBreakoutRoom:CC,setBreakoutRoomClosingRoomTime:bg,setBreakoutRoomBroadcastMessage:IC,setBreakoutRoomHostReplyType:Bl,setBreakoutRoomHostReplyRequestId:Mp,setMainSessionAttendeeList:ia,setIsHugeBreakoutRoom:TT,setBreakoutRoomPreAssignedRoomList:wC,setBreakoutRoomUserRoleUpdated:_C,setBreakoutRoomMeetingOptions:Eg,setBreakoutRoomUserActivityStatus:sS,setBreakoutRoomIsBroadcastVoice:aS}=Qn("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS","SET_BREAKOUT_ROOM_USER_ACTIVITY_STATUS","SET_BREAKOUT_ROOM_IS_BROADCAST_VOICE"),{setCloudRecordingStatus:D1,setCloudRecordingEnable:A1,setCloudIsoRecordingEnable:RT,setAllowStopAutoRecording:OT,setAutomaticCloudRecordingEnable:T1,setIsZoomIQ:DC,setZoomIQChanging:MT,setLocalRecordStatus:AC,setSupportLocalRecording:TC,setLocalGrantPermissionOption:PT,setLocalPermissionUserList:lc,resetRecording:Pp}=Qn("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:uS,removeCmdJid:Cg,setCmdChannelConnectionStatus:RC,resetCmdChannel:Np}=Qn("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),{resetArchiving:NT}=Qn({SET_ARCHIVING_STATUS:t=>t,SET_ARCHIVING_SESSION_READY:t=>t,SET_ARCHIVING_OPTIONS:t=>t,RESET_ARCHIVING:()=>{}}),{setIsLiveTranscriptionEnabled:kT,setLiveTranscriptionMeetingOptions:OC,setIsLiveTranscriptionManualCaptionerEnabled:MC,setLiveTranscriptionGatewayId:Ig,setLiveTranscriptionSupportedLanguage:LT,setIsLiveTranscriptionSubscribed:PC,setCurrentTranscriptionLang:$l,setCurrentTranslationLang:lS,addLiveTranscriptionMessage:NC,updateLiveTranscriptionMessage:dS,reduceLiveTranscriptionMessages:kp,setLiveTranscriptionEngineType:xT,removeLiveTranscriptionFailoverState:wg,setLiveTranscriptionLastCaptionMessage:_g,resetLiveTranscription:O1,setIsHostDisableCaptions:FT}=Qn("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS"),{resetPoll:N1}=Qn("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","RESET_POLL"),{setLoggerInitOptions:kC,setIsLaplaceInitialized:Xa,resetLogger:pS}=Qn("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","RESET_LOGGER"),{setIsLiveStreamEnable:UT,setLiveStreamStatus:Dg,resetLiveStream:jT}=Qn("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","RESET_LIVE_STREAM");var hS={exports:{}},BT={};(function(t,i){var o=function(ee,Z){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,ue){W.__proto__=ue}||function(W,ue){for(var Ie in ue)ue.hasOwnProperty(Ie)&&(W[Ie]=ue[Ie])})(ee,Z)};function a(ee,Z){function W(){this.constructor=ee}o(ee,Z),ee.prototype=null===Z?Object.create(Z):(W.prototype=Z.prototype,new W)}var l,c=function(){return c=Object.assign||function(ee){for(var Z,W=1,ue=arguments.length;W<ue;W++)for(var Ie in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,Ie)&&(ee[Ie]=Z[Ie]);return ee},c.apply(this,arguments)},p=function(ee,Z){var W=new Uint8Array(ee.byteLength+Z.byteLength);return W.set(new Uint8Array(ee),0),W.set(new Uint8Array(Z),ee.byteLength),W.buffer},h="/";(l=t.TransformDataFormat||(t.TransformDataFormat={})).STRING="string",l.BLOB="blob",l.ARRAY_BUFFER="arraybuffer";var g=function(ee){return Blob&&ee instanceof Blob?"blob":ArrayBuffer&&ee instanceof ArrayBuffer?"arrayBuffer":typeof ee},v=[],S=function(){for(var ee=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Z="",W=0;W<32;W++)Z+=ee[Math.round(61*Math.random())];return-1!==v.indexOf(Z)?S():(v.push(Z),Z)},b=function(ee){return ee.arrayBuffer?ee.arrayBuffer():new Promise(function(Z,W){var ue=new FileReader;ue.readAsArrayBuffer(ee),ue.onload=function(Ie){Z(Ie.target&&Ie.target.result)},ue.onerror=function(Ie){W(Ie)}})},E=function(ee){return ee.text?ee.text():new Promise(function(Z,W){var ue=new FileReader;ue.readAsText(ee),ue.onload=function(Ie){Z(Ie.target&&Ie.target.result)},ue.onerror=function(Ie){W(Ie)}})},I=function(ee,Z){return Promise.resolve(new Blob([new Uint8Array(ee)],{type:Z}))},_=function(ee,Z){var W=new Blob([ee],{type:Z||"text/plain"});return E(W)},w=function(ee,Z){return Promise.resolve(new Blob([ee],{type:Z||"text/plain"}))},A=function(ee,Z){return b(new Blob([ee],{type:Z||"text/plain"}))};function T(ee){var Z=(ee||"").split(".");return Z[Z.length-1]||""}function M(ee){var Z=(ee||"").lastIndexOf(h);return Z<0?"":ee.slice(0,Z)}function P(ee){var Z=(ee||"").lastIndexOf(h),W=Z<0?ee:ee.slice(Z+1),ue=(W||"").lastIndexOf(".");return ue<0?W:W.slice(0,ue)}function N(ee){return["png","jpg","jpeg","svg"].includes(T(ee))}function H(ee){return"json"===T(ee)}function V(ee){return"version"===T(ee)}function J(ee,Z){return i.loadAsync(ee).then(function(W){return Promise.all(W.filter(function(ue,Ie){return!Ie.dir}).map(function(ue){var Le,Ie=H((Le=ue).name)?"string":N(Le.name)?"base64":V(Le.name)?"text":"blob";return Z?.setUnZipFormat&&(Ie=Z.setUnZipFormat(ue)||Ie),ue.async(Ie).then(function(Le){var Ge=Le,rt=T(ue.name),at="svg"===rt?"svg+xml":rt;return"base64"===Ie&&N(ue.name)&&!Le.startsWith("data")&&(Ge="data:image/"+at+";base64,"+Ge),{data:Ge,file:ue}})}))}).then(function(W){return function x(ee,Z){return ee.reduce(function(W,ue){var Ie,Le=ue.data,Ge=ue.file,rt=T(Ge.name),at=M(Ge.name),yt=P(Ge.name),ct=(Z?.combineExtNames||[]).includes(rt)&&"string"==typeof Le,pt=ct?""+(at?""+at+h+rt:rt):Ge.name;return ct&&W.some(function(Xt){return Xt.path===pt&&(Xt.data[yt]=Le,!0)})||W.push({path:pt,extName:rt,data:ct?(Ie={},Ie[yt]=Le,Ie):Le,shouldCombine:ct}),W},[]).map(function(W){var ue=W.data,Ie=W.shouldCombine,Le=function(Ge,rt){var at={};for(var yt in Ge)Object.prototype.hasOwnProperty.call(Ge,yt)&&rt.indexOf(yt)<0&&(at[yt]=Ge[yt]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(yt=Object.getOwnPropertySymbols(Ge);ct<yt.length;ct++)rt.indexOf(yt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Ge,yt[ct])&&(at[yt[ct]]=Ge[yt[ct]])}return at}(W,["data","shouldCombine"]);return c(c({},Le),{data:Ie?JSON.stringify(ue):ue})})}(W,Z)})}function Y(ee,Z){var en,W=Z||{},ue=W.encoding,Ie=W.blobType,Le=W.unZipOptions;if("blob"===g(en=ee)&&(en.type.includes("compressed")||en.type.includes("zip"))&&!Le?.disableUnZip)return J(ee,Le);if(!ue)return Promise.resolve(ee);var Ge=g(ee),rt="string"===Ge,at="blob"===Ge,yt="arrayBuffer"===Ge;if(ue===t.TransformDataFormat.BLOB){var ct=ee;if(rt)return E(ct);if(yt)return b(ct)}else if(ue===t.TransformDataFormat.ARRAY_BUFFER){var pt=ee;if(rt)return _(pt,Ie);if(at)return I(pt,Ie)}else if(ue===t.TransformDataFormat.STRING){var Xt=ee;if(at)return w(Xt,Ie);if(yt)return A(Xt,Ie)}return Promise.resolve(ee)}function z(ee){var Z=0,W=!1,ue=function(){Z>90||W||(ee(Z+=(100-Z)/50),requestAnimationFrame(ue))};return ue(),{finish:function(){100===Z||W||(Z=100,ee(100))},abort:function(){100===Z||W||(W=!0)},get curProgress(){return Z}}}function U(){}function O(){O.init.call(this)}function L(ee){return void 0===ee._maxListeners?O.defaultMaxListeners:ee._maxListeners}function $(ee,Z,W,ue){var Ie,Le,Ge,at;if("function"!=typeof W)throw new TypeError('"listener" argument must be a function');if((Le=ee._events)?(Le.newListener&&(ee.emit("newListener",Z,W.listener?W.listener:W),Le=ee._events),Ge=Le[Z]):(Le=ee._events=new U,ee._eventsCount=0),Ge){if("function"==typeof Ge?Ge=Le[Z]=ue?[W,Ge]:[Ge,W]:ue?Ge.unshift(W):Ge.push(W),!Ge.warned&&(Ie=L(ee))&&Ie>0&&Ge.length>Ie){Ge.warned=!0;var rt=new Error("Possible EventEmitter memory leak detected. "+Ge.length+" "+Z+" listeners added. Use emitter.setMaxListeners() to increase limit");rt.name="MaxListenersExceededWarning",rt.emitter=ee,rt.type=Z,rt.count=Ge.length,at=rt,"function"==typeof console.warn?console.warn(at):console.log(at)}}else Ge=Le[Z]=W,++ee._eventsCount;return ee}function j(ee,Z,W){var ue=!1;function Ie(){ee.removeListener(Z,Ie),ue||(ue=!0,W.apply(ee,arguments))}return Ie.listener=W,Ie}function Q(ee){var Z=this._events;if(Z){var W=Z[ee];if("function"==typeof W)return 1;if(W)return W.length}return 0}function re(ee,Z){for(var W=new Array(Z);Z--;)W[Z]=ee[Z];return W}U.prototype=Object.create(null),O.EventEmitter=O,O.usingDomains=!1,O.prototype.domain=void 0,O.prototype._events=void 0,O.prototype._maxListeners=void 0,O.defaultMaxListeners=10,O.init=function(){this.domain=null,O.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new U,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(ee){if("number"!=typeof ee||ee<0||isNaN(ee))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=ee,this},O.prototype.getMaxListeners=function(){return L(this)},O.prototype.emit=function(ee){var Z,W,ue,Ie,Le,Ge,rt,at="error"===ee;if(Ge=this._events)at=at&&null==Ge.error;else if(!at)return!1;if(rt=this.domain,at){if(Z=arguments[1],!rt){if(Z instanceof Error)throw Z;var yt=new Error('Uncaught, unspecified "error" event. ('+Z+")");throw yt.context=Z,yt}return Z||(Z=new Error('Uncaught, unspecified "error" event')),Z.domainEmitter=this,Z.domain=rt,Z.domainThrown=!1,rt.emit("error",Z),!1}if(!(W=Ge[ee]))return!1;var ct="function"==typeof W;switch(ue=arguments.length){case 1:!function(pt,Xt,en){if(Xt)pt.call(en);else for(var $t=pt.length,Xn=re(pt,$t),In=0;In<$t;++In)Xn[In].call(en)}(W,ct,this);break;case 2:!function(pt,Xt,en,$t){if(Xt)pt.call(en,$t);else for(var Xn=pt.length,In=re(pt,Xn),zn=0;zn<Xn;++zn)In[zn].call(en,$t)}(W,ct,this,arguments[1]);break;case 3:!function(pt,Xt,en,$t,Xn){if(Xt)pt.call(en,$t,Xn);else for(var In=pt.length,zn=re(pt,In),ci=0;ci<In;++ci)zn[ci].call(en,$t,Xn)}(W,ct,this,arguments[1],arguments[2]);break;case 4:!function(pt,Xt,en,$t,Xn,In){if(Xt)pt.call(en,$t,Xn,In);else for(var zn=pt.length,ci=re(pt,zn),Bo=0;Bo<zn;++Bo)ci[Bo].call(en,$t,Xn,In)}(W,ct,this,arguments[1],arguments[2],arguments[3]);break;default:for(Ie=new Array(ue-1),Le=1;Le<ue;Le++)Ie[Le-1]=arguments[Le];!function(pt,Xt,en,$t){if(Xt)pt.apply(en,$t);else for(var Xn=pt.length,In=re(pt,Xn),zn=0;zn<Xn;++zn)In[zn].apply(en,$t)}(W,ct,this,Ie)}return!0},O.prototype.on=O.prototype.addListener=function(ee,Z){return $(this,ee,Z,!1)},O.prototype.prependListener=function(ee,Z){return $(this,ee,Z,!0)},O.prototype.once=function(ee,Z){if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');return this.on(ee,j(this,ee,Z)),this},O.prototype.prependOnceListener=function(ee,Z){if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');return this.prependListener(ee,j(this,ee,Z)),this},O.prototype.removeListener=function(ee,Z){var W,ue,Ie,Le,Ge;if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');if(!(ue=this._events))return this;if(!(W=ue[ee]))return this;if(W===Z||W.listener&&W.listener===Z)0==--this._eventsCount?this._events=new U:(delete ue[ee],ue.removeListener&&this.emit("removeListener",ee,W.listener||Z));else if("function"!=typeof W){for(Ie=-1,Le=W.length;Le-- >0;)if(W[Le]===Z||W[Le].listener&&W[Le].listener===Z){Ge=W[Le].listener,Ie=Le;break}if(Ie<0)return this;if(1===W.length){if(W[0]=void 0,0==--this._eventsCount)return this._events=new U,this;delete ue[ee]}else!function(rt,at){for(var yt=at,ct=yt+1,pt=rt.length;ct<pt;yt+=1,ct+=1)rt[yt]=rt[ct];rt.pop()}(W,Ie);ue.removeListener&&this.emit("removeListener",ee,Ge||Z)}return this},O.prototype.removeAllListeners=function(ee){var Z,W;if(!(W=this._events))return this;if(!W.removeListener)return 0===arguments.length?(this._events=new U,this._eventsCount=0):W[ee]&&(0==--this._eventsCount?this._events=new U:delete W[ee]),this;if(0===arguments.length){for(var ue,Ie=Object.keys(W),Le=0;Le<Ie.length;++Le)"removeListener"!==(ue=Ie[Le])&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=new U,this._eventsCount=0,this}if("function"==typeof(Z=W[ee]))this.removeListener(ee,Z);else if(Z)do{this.removeListener(ee,Z[Z.length-1])}while(Z[0]);return this},O.prototype.listeners=function(ee){var Z,W=this._events;return W&&(Z=W[ee])?"function"==typeof Z?[Z.listener||Z]:function(ue){for(var Ie=new Array(ue.length),Le=0;Le<Ie.length;++Le)Ie[Le]=ue[Le].listener||ue[Le];return Ie}(Z):[]},O.listenerCount=function(ee,Z){return"function"==typeof ee.listenerCount?ee.listenerCount(Z):Q.call(ee,Z)},O.prototype.listenerCount=Q,O.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var te=function(ee){function Z(W){var ue=ee.call(this)||this;return ue.timeout=W?.timeout||3e4,ue}return a(Z,ee),Z.prototype.clearTimeoutCheck=function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},Z.prototype.startTimeoutCheck=function(){var W=this;!this.timeoutTimer&&!this.finished&&this.timeout>0&&(this.timeoutTimer=setTimeout(function(){W.finished||(W.finished=!0,W.data=null,W.emit("timeout")),W.clearTimeoutCheck()},this.timeout))},Z}(O),me=function(ee){function Z(W){var ue=ee.call(this,W)||this;return ue.uuid=S(),ue.domParams=W||{},ue}return a(Z,ee),Z.prototype.jsonp=function(){var W=this;if(!this.finished){var ue=this.domParams,Ie=ue.url,Le=ue.jsonpCallbackName,Ge=void 0===Le?"callback":Le,rt=ue.body,at=ue.integrity;this.script=document.createElement("script"),at&&(this.script.integrity=at,this.script.crossOrigin="anonymous");var yt="";rt&&Object.entries(rt).forEach(function(ct){yt+=(yt?"&":"")+ct[0]+"="+ct[1]}),yt+=(yt?"&":"")+Ge+"="+this.uuid,this.script.src=Ie+(Ie.includes("?")?"":"?")+yt,this.jsonpCallback(),this.progressMonitory=z(function(ct){W.finished||W.emit("progressUpdated",ct)}),document.body.appendChild(this.script)}},Z.prototype.clearSideEffect=function(W){if(void 0===W&&(W=!1),document.body.removeChild(this.script),W){var ue=this.uuid;window[this.uuid]=function(){window[ue]&&delete window[ue]}}else delete window[this.uuid];this.script=null,this.uuid=null,this.finished=!0,this.data=null,this.clearTimeoutCheck()},Z.prototype.jsonpCallback=function(){var W=this;this.script.onerror=function(ue){var Ie;W.finished||(W.clearSideEffect(),null===(Ie=W.progressMonitory)||void 0===Ie||Ie.abort(),W.emit("error",new Error("string"==typeof ue?ue:"load jsonp script failed")))},window[this.uuid]=function(ue){var Ie;if(!W.finished){var Le=W.domParams,Ge=Le.encoding,rt=Le.blobType,at=Le.unZipOptions,yt=Le.beforeTransformData,ct=Le.afterTransformData;null===(Ie=W.progressMonitory)||void 0===Ie||Ie.finish(),W.clearSideEffect(),(yt?yt(ue||""):Promise.resolve(ue||"")).then(function(pt){return Y(pt,{encoding:Ge,blobType:rt,unZipOptions:at}).then(function(Xt){return(ct?ct(Xt):Promise.resolve(Xt)).then(function(en){return W.emit("finished",en)})})}).catch(function(pt){return W.emit("error",pt)})}}},Z.prototype.abort=function(){this.clearSideEffect(!0)},Z}(te),Ne=function(ee){function Z(W){var ue=ee.call(this,W)||this;return ue.socketParams=W||{},ue}return a(Z,ee),Z.prototype.write=function(W,ue){W&&!this.finished&&(W instanceof Error?this.handleError(W):(this.data?this.appendData(W):this.data=W,this.handlePerCentUpdate(ue)))},Z.prototype.handlePerCentUpdate=function(W){void 0===W||this.finished||this.emit("progressUpdated",W)},Z.prototype.handleError=function(W){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.emit("error",W)},Z.prototype.appendData=function(W){g(W)===g(this.data)?"string"==typeof W?this.data+=W:Blob&&W instanceof Blob?this.data=new Blob([this.data,W],{type:W.type}):ArrayBuffer&&W instanceof ArrayBuffer&&(this.data=p(this.data,W)):this.handleError(new Error("every piece of the data format must be the same"))},Z.prototype.end=function(W){var ue=this;if(!this.finished){this.handlePerCentUpdate(100),W&&this.write(W);var Ie=this.socketParams,Le=Ie.encoding,Ge=Ie.blobType,rt=Ie.unZipOptions,at=Ie.beforeTransformData,yt=Ie.afterTransformData;(at?at(this.data):Promise.resolve(this.data)).then(function(ct){return Y(ct,{encoding:Le,blobType:Ge,unZipOptions:rt}).then(function(pt){return(yt?yt(pt):Promise.resolve(pt)).then(function(Xt){return ue.emit("finished",Xt)})})}).catch(function(ct){return ue.emit("error",ct)}),this.data=null,this.finished=!0,this.clearTimeoutCheck()}},Z.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck()},Z}(te),De=function(ee){function Z(W){var ue=ee.call(this,W)||this;return ue.xhrParams=W||{},ue.xhrParams.headers=c({},ue.xhrParams.headers||{}),ue}return a(Z,ee),Z.prototype.supportFetch=function(){return!!window.fetch&&window.AbortController&&window.Request},Z.prototype.ajax=function(){var W=this;if(!this.finished)if(this.xhrParams.url){var ue=this.xhrParams,Ie=ue.headers,Le=void 0===Ie?{}:Ie,Ge=ue.url,rt=ue.body,at=void 0===rt?{}:rt,yt=ue.method,ct=void 0===yt?"POST":yt,pt=ue.encoding,Xt=ue.integrity;this.controller=this.supportFetch()?new AbortController:new XMLHttpRequest;var en=this.supportFetch()?z(function($t){W.finished||W.emit("progressUpdated",$t)}):null;(this.supportFetch()?fetch(new Request(Ge,c({method:ct,headers:Le,body:"GET"===ct?void 0:JSON.stringify(at),signal:this.controller.signal},Xt?{integrity:Xt,mode:"cors"}:{}))).then(function($t){return $t.ok?pt===t.TransformDataFormat.STRING?$t.text():pt===t.TransformDataFormat.ARRAY_BUFFER?$t.arrayBuffer():$t.blob():Promise.reject(new Error("xhr download "+Ge+" failed!"))}):new Promise(function($t,Xn){var In=new XMLHttpRequest;W.controller=In,In.open(ct,Ge),In.responseType=pt===t.TransformDataFormat.STRING?"text":pt===t.TransformDataFormat.ARRAY_BUFFER?"arraybuffer":"blob",Object.entries(Le).forEach(function(zn){In.setRequestHeader(zn[0],zn[1])}),In.onload=function(){var zn=In.status,Bo=In.statusText;zn>=200&&zn<300||304===zn?$t(In.response):Xn(new Error(zn+": "+Bo))},In.onprogress=function(zn){var ci=zn||{},Bo=ci.total,Hc=ci.loaded;void 0===Hc||W.finished||(Bo?W.emit("progressUpdated",Hc/Bo*100):Hc&&!en&&(en=z(function(Kb){W.finished||W.emit("progressUpdated",Kb)})))},In.onerror=function(){Xn(new Error("xhr download "+Ge+" failed!"))},In.send(JSON.stringify(at))})).then(function($t){if(!W.finished){var Xn=W.xhrParams,In=Xn.encoding,zn=Xn.blobType,ci=Xn.unZipOptions,Bo=Xn.beforeTransformData,Hc=Xn.afterTransformData;en?.finish(),W.finished=!0,W.clearTimeoutCheck(),(Bo?Bo($t):Promise.resolve($t)).then(function(Kb){return Y(Kb,{encoding:In,blobType:zn,unZipOptions:ci}).then(function(Mx){return(Hc?Hc(Mx):Promise.resolve(Mx)).then(function(Px){return W.emit("finished",Px)})})}).catch(function(Kb){return W.emit("error",Kb)})}}).catch(function($t){W.finished||(W.finished=!0,W.clearTimeoutCheck(),en?.abort(),W.emit("error",$t))})}else this.emit("error",new Error("xhrDownloader url params invalid!"))},Z.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.controller.abort()},Z}(te),Be=0;O.defaultMaxListeners=500;var He,ke=new O,xe="ThreadPoolReady",nt=function(){Be-=1,ke.emit(xe)};(He=t.DownloaderType||(t.DownloaderType={})).XHR="xhr",He.DOM="dom",He.SOCKET="socket";var Nt=function(ee){function Z(W){var ue=ee.call(this)||this;return ue.aborted=!1,ue.downloadParmas=c({type:t.DownloaderType.XHR},W),ue.id=S(),ue}return a(Z,ee),Z.prototype.start=function(){var W=this;Be+=1,this.progress=0,this.emit("downloadStart"),this.onDownloadStartCallback&&this.onDownloadStartCallback();var ue=this.downloadParmas,Le=ue.xhrParams,Ge=ue.domParams,rt=ue.socketParams;switch(ue.type){case t.DownloaderType.DOM:this.downloader=new me(Ge),this.downloader.jsonp();break;case t.DownloaderType.SOCKET:this.downloader=new Ne(rt);break;default:this.downloader=new De(Le),this.downloader.ajax()}return this.downloader.startTimeoutCheck(),this.downloader.on("error",function(at){W.emit("error",at),W.onErrorCallback&&W.onErrorCallback(at),nt()}).on("finished",function(at){W.emit("complete",at),W.onCompleteCallback&&W.onCompleteCallback(at),nt()}).on("progressUpdated",function(at){W.progress=at,W.emit("progressUpdated",at),W.onProgressUpdatedCallback&&W.onProgressUpdatedCallback(at)}).on("timeout",function(){W.emit("timeout"),W.onTimeoutCallback&&W.onTimeoutCallback(),nt()}),this},Z.prototype.abort=function(){if(this.aborted)return this;this.aborted=!0,this.downloader&&!this.downloader.finished&&this.downloader.abort();var W=new Error("file download has been aborted");return this.emit("abort",W),this.onAbortCallback&&this.onAbortCallback(W),nt(),this},Z.prototype.onDownloadStart=function(W){return this.onDownloadStartCallback=W,this},Z.prototype.onProgressUpdated=function(W){return this.onProgressUpdatedCallback=W,this},Z.prototype.onError=function(W){return this.onErrorCallback=W,this},Z.prototype.onComplete=function(W){return this.onCompleteCallback=W,this},Z.prototype.onAbort=function(W){return this.onAbortCallback=W,this},Z.prototype.onTimeout=function(W){return this.onTimeoutCallback=W,this},Z.prototype.isInProgress=function(){return void 0!==this.progress},Z.prototype.isFinished=function(){return 100===this.progress},Z}(O),vt=function(){function ee(Z){this.taskList=[],this.options=Z||{};var W=this.options.threadLimit;if((void 0===W?6:W)>6)throw new Error("threadLimit must be lower than 6");ke.on(xe,this.startNextTask.bind(this))}return ee.prototype.download=function(Z){var W=new Nt(Z),ue=this.removeTask.bind(this,W);return W.on("abort",ue),this.taskList.push(W),this.checkTaskReady(W),W},ee.prototype.startNextTask=function(){var Z=this.taskList.find(function(W){return!W.isInProgress()});Z&&this.checkTaskReady(Z)},ee.prototype.checkTaskReady=function(Z){var W=this.options.threadLimit,ue=void 0===W?6:W;if(!(this.taskList.findIndex(function(Le){return!Le.isInProgress()})>=ue||Be+1>6)){var Ie=this.removeTask.bind(this,Z);Z.on("complete",Ie),Z.on("error",Ie),Z.on("timeout",Ie),setTimeout(function(){return Z.start()},0)}},ee.prototype.removeTask=function(Z){var W=this;this.taskList.some(function(ue,Ie){return ue===Z&&(setTimeout(function(){return Z.removeAllListeners()},0),W.taskList.splice(Ie,1),!0)})},ee}();t.DownloadTask=Nt,t.IDownloadManager=vt,t.appendBuffer=p,t.arrayBufferToBlob=I,t.arrayBufferToString=_,t.blobToArrayBuffer=b,t.blobToText=E,t.genUuid=S,t.getDataFormat=g,t.getExtName=T,t.getFileName=P,t.getFullPathName=M,t.isImgFile=N,t.isJsonFile=H,t.isVersionFile=V,t.monitorProgress=z,t.sep=h,t.stringToArrayBuffer=A,t.stringToBlob=w,t.transformData=Y,Object.defineProperty(t,"__esModule",{value:!0})})(BT,Sv(Object.freeze({__proto__:null,loadAsync:function(){},default:{}}))),ID(BT),function(t,i){var o=function(z,U){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,L){O.__proto__=L}||function(O,L){for(var $ in L)L.hasOwnProperty($)&&(O[$]=L[$])})(z,U)};function a(z,U){function O(){this.constructor=z}o(z,U),z.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var c=function(){return c=Object.assign||function(z){for(var U,O=1,L=arguments.length;O<L;O++)for(var $ in U=arguments[O])Object.prototype.hasOwnProperty.call(U,$)&&(z[$]=U[$]);return z},c.apply(this,arguments)};function l(){}function p(){p.init.call(this)}function h(z){return void 0===z._maxListeners?p.defaultMaxListeners:z._maxListeners}function g(z,U,O,L){var $,j,Q,te;if("function"!=typeof O)throw new TypeError('"listener" argument must be a function');if((j=z._events)?(j.newListener&&(z.emit("newListener",U,O.listener?O.listener:O),j=z._events),Q=j[U]):(j=z._events=new l,z._eventsCount=0),Q){if("function"==typeof Q?Q=j[U]=L?[O,Q]:[Q,O]:L?Q.unshift(O):Q.push(O),!Q.warned&&($=h(z))&&$>0&&Q.length>$){Q.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+Q.length+" "+U+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=z,re.type=U,re.count=Q.length,te=re,"function"==typeof console.warn?console.warn(te):console.log(te)}}else Q=j[U]=O,++z._eventsCount;return z}function v(z,U,O){var L=!1;function $(){z.removeListener(U,$),L||(L=!0,O.apply(z,arguments))}return $.listener=O,$}function S(z){var U=this._events;if(U){var O=U[z];if("function"==typeof O)return 1;if(O)return O.length}return 0}function b(z,U){for(var O=new Array(U);U--;)O[U]=z[U];return O}l.prototype=Object.create(null),p.EventEmitter=p,p.usingDomains=!1,p.prototype.domain=void 0,p.prototype._events=void 0,p.prototype._maxListeners=void 0,p.defaultMaxListeners=10,p.init=function(){this.domain=null,p.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new l,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this},p.prototype.getMaxListeners=function(){return h(this)},p.prototype.emit=function(z){var U,O,L,$,j,Q,re,te="error"===z;if(Q=this._events)te=te&&null==Q.error;else if(!te)return!1;if(re=this.domain,te){if(U=arguments[1],!re){if(U instanceof Error)throw U;var me=new Error('Uncaught, unspecified "error" event. ('+U+")");throw me.context=U,me}return U||(U=new Error('Uncaught, unspecified "error" event')),U.domainEmitter=this,U.domain=re,U.domainThrown=!1,re.emit("error",U),!1}if(!(O=Q[z]))return!1;var Ne="function"==typeof O;switch(L=arguments.length){case 1:!function(De,Be,He){if(Be)De.call(He);else for(var ke=De.length,xe=b(De,ke),nt=0;nt<ke;++nt)xe[nt].call(He)}(O,Ne,this);break;case 2:!function(De,Be,He,ke){if(Be)De.call(He,ke);else for(var xe=De.length,nt=b(De,xe),Nt=0;Nt<xe;++Nt)nt[Nt].call(He,ke)}(O,Ne,this,arguments[1]);break;case 3:!function(De,Be,He,ke,xe){if(Be)De.call(He,ke,xe);else for(var nt=De.length,Nt=b(De,nt),vt=0;vt<nt;++vt)Nt[vt].call(He,ke,xe)}(O,Ne,this,arguments[1],arguments[2]);break;case 4:!function(De,Be,He,ke,xe,nt){if(Be)De.call(He,ke,xe,nt);else for(var Nt=De.length,vt=b(De,Nt),ee=0;ee<Nt;++ee)vt[ee].call(He,ke,xe,nt)}(O,Ne,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(L-1),j=1;j<L;j++)$[j-1]=arguments[j];!function(De,Be,He,ke){if(Be)De.apply(He,ke);else for(var xe=De.length,nt=b(De,xe),Nt=0;Nt<xe;++Nt)nt[Nt].apply(He,ke)}(O,Ne,this,$)}return!0},p.prototype.on=p.prototype.addListener=function(z,U){return g(this,z,U,!1)},p.prototype.prependListener=function(z,U){return g(this,z,U,!0)},p.prototype.once=function(z,U){if("function"!=typeof U)throw new TypeError('"listener" argument must be a function');return this.on(z,v(this,z,U)),this},p.prototype.prependOnceListener=function(z,U){if("function"!=typeof U)throw new TypeError('"listener" argument must be a function');return this.prependListener(z,v(this,z,U)),this},p.prototype.removeListener=function(z,U){var O,L,$,j,Q;if("function"!=typeof U)throw new TypeError('"listener" argument must be a function');if(!(L=this._events))return this;if(!(O=L[z]))return this;if(O===U||O.listener&&O.listener===U)0==--this._eventsCount?this._events=new l:(delete L[z],L.removeListener&&this.emit("removeListener",z,O.listener||U));else if("function"!=typeof O){for($=-1,j=O.length;j-- >0;)if(O[j]===U||O[j].listener&&O[j].listener===U){Q=O[j].listener,$=j;break}if($<0)return this;if(1===O.length){if(O[0]=void 0,0==--this._eventsCount)return this._events=new l,this;delete L[z]}else!function(re,te){for(var me=te,Ne=me+1,De=re.length;Ne<De;me+=1,Ne+=1)re[me]=re[Ne];re.pop()}(O,$);L.removeListener&&this.emit("removeListener",z,Q||U)}return this},p.prototype.removeAllListeners=function(z){var U,O;if(!(O=this._events))return this;if(!O.removeListener)return 0===arguments.length?(this._events=new l,this._eventsCount=0):O[z]&&(0==--this._eventsCount?this._events=new l:delete O[z]),this;if(0===arguments.length){for(var L,$=Object.keys(O),j=0;j<$.length;++j)"removeListener"!==(L=$[j])&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=new l,this._eventsCount=0,this}if("function"==typeof(U=O[z]))this.removeListener(z,U);else if(U)do{this.removeListener(z,U[U.length-1])}while(U[0]);return this},p.prototype.listeners=function(z){var U,O=this._events;return O&&(U=O[z])?"function"==typeof U?[U.listener||U]:function(L){for(var $=new Array(L.length),j=0;j<$.length;++j)$[j]=L[j].listener||L[j];return $}(U):[]},p.listenerCount=function(z,U){return"function"==typeof z.listenerCount?z.listenerCount(U):S.call(z,U)},p.prototype.listenerCount=S,p.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var E="ZipInfo:";function I(z){var U;return null===(U=z?.path)||void 0===U?void 0:U.startsWith(E)}function _(z){return"string"==typeof z&&z.startsWith(E)}function w(z,U){return(Array.isArray(z)?z:[z]).some(function(O){if("number"!=typeof O.version)throw new Error("file version must be an int number");return O.version<U})}function A(z,U){return z.reduce(function(O,L){return O.then(function($){return U($,L)}).catch(function(){return U(void 0,L)})},Promise.resolve(void 0))}var T,M=function(z){function U(){return null!==z&&z.apply(this,arguments)||this}return a(U,z),U}(p),P="resource",N=function(z){function U(O){var te,L=z.call(this)||this;if(L.ready=!1,L.openError=!1,L.isEnable()){var $=O||{},Q=$.indexDbVersion;L.dbName="resource-manager"+((te=$.nameSpaceId)?"-"+te:"");var re=indexedDB.open(L.dbName,Q||1);re.addEventListener("error",function(){L.openError=!0,L.checkReady(),L.emit("error",new Error("failed to open indexedDB"))}),re.addEventListener("success",function(){L.db=re.result,L.checkReady()}),re.addEventListener("upgradeneeded",function(){L.db=re.result,L.handleSuccess()}),setTimeout(function(){L.checkReady()},5e3)}else L.checkReady();return L}return a(U,z),U.prototype.checkReady=function(){this.ready||(this.ready=!0,this.emit("ready"))},U.prototype.handleSuccess=function(){if(!this.db.objectStoreNames||0===this.db.objectStoreNames.length||!this.db.objectStoreNames.contains(P)){var O=this.db.createObjectStore(P,{keyPath:"path",autoIncrement:!1});O.createIndex("path","path"),O.createIndex("sourceURL","sourceURL",{unique:!1})}},U.prototype.createAction=function(O){var L=this.db.transaction([P],O||"readonly");return{trans:L,store:L.objectStore(P)}},U.prototype.handleAction=function(O,L){return new Promise(function($,j){var Q=L();O.addEventListener("complete",function(){$(Q.result)}),O.addEventListener("error",function(){j(O.error||new Error("transaction error"))}),O.addEventListener("abort",function(){j(O.error||new Error("transaction aborted"))})})},U.prototype.put=function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];var $=this.createAction("readwrite"),Q=$.store;return this.handleAction($.trans,function(){return Q.put.apply(Q,O)})},U.prototype.getAllKeysFromIndex=function(O){for(var L=[],$=1;$<arguments.length;$++)L[$-1]=arguments[$];if(IDBObjectStore.prototype.getAllKeys){var j=this.createAction(),re=j.store;return this.handleAction(j.trans,function(){var te;return(te=re.index(O)).getAllKeys.apply(te,L)})}return this.openKeyCursor(O)},U.prototype.getAllFromIndex=function(O){for(var L=[],$=1;$<arguments.length;$++)L[$-1]=arguments[$];var j=this.createAction(),re=j.store;return IDBObjectStore.prototype.getAll?this.handleAction(j.trans,function(){var te;return(te=re.index(O)).getAll.apply(te,L)}):this.openCursor(O)},U.prototype.getFromIndex=function(O){for(var L=[],$=1;$<arguments.length;$++)L[$-1]=arguments[$];var j=this.createAction(),re=j.store;return this.handleAction(j.trans,function(){var te;return(te=re.index(O)).get.apply(te,L)})},U.prototype.deleteKey=function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];var $=this.createAction("readwrite"),Q=$.store;return this.handleAction($.trans,function(){return Q.delete.apply(Q,O)})},U.prototype.handleCursorAction=function(O,L,$,j){return new Promise(function(Q,re){L.addEventListener("success",function(){L.result?($(j,L.result),L.result.continue()):Q(j)}),L.addEventListener("error",function(){re(O.error||new Error("transaction error"))})})},U.prototype.openKeyCursor=function(O){for(var L,$=[],j=1;j<arguments.length;j++)$[j-1]=arguments[j];var Q=this.createAction("readwrite");return this.handleCursorAction(Q.trans,(L=Q.store.index(O)).openKeyCursor.apply(L,$),function(me,Ne){return me.push(Ne.key),me},[])},U.prototype.openCursor=function(O){for(var L,$=[],j=1;j<arguments.length;j++)$[j-1]=arguments[j];var Q=this.createAction("readwrite");return this.handleCursorAction(Q.trans,(L=Q.store.index(O)).openCursor.apply(L,$),function(me,Ne){return me.push(Ne.value),me},[])},U.prototype.isEnable=function(){return!!window.indexedDB&&!this.openError},U.prototype.saveFile=function(O){return this.db?this.put(O).then(function(){return!0}):Promise.resolve(!1)},U.prototype.removeFile=function(O){var L=this;return this.db?"string"==typeof O?this.getAllKeysFromIndex("path").then(function($){var j=($||[]).filter(function(Q){return Q===O||Q.startsWith(""+O+i.sep)});return Promise.all(j.map(function(Q){return L.deleteKey(Q)}))}).then(function(){return!0}):this.deleteKey(O.path).then(function(){return!0}):Promise.resolve(!1)},U.prototype.clear=function(){if(!this.db)return Promise.resolve(!1);var O=this.createAction("readwrite"),$=O.store;return this.handleAction(O.trans,function(){return $.clear()}).then(function(){return!0})},U.prototype.findFileByPath=function(O){return this.db&&O?this.getFromIndex("path",O):Promise.resolve(void 0)},U.prototype.findFileBySourceURL=function(O){return this.db&&O?this.getAllFromIndex("sourceURL",O):Promise.resolve([])},U.prototype.isDirectory=function(O){var L=this;return this.db?new Promise(function($){_(O)?$(!1):L.getAllKeysFromIndex("path").then(function(j){return(j||[]).some(function(Q){return Q.startsWith(""+O+i.sep)})}).then($).catch(function(){return $(!1)})}):Promise.resolve(!1)},U.prototype.ls=function(O){var L=this;return this.db?this.getAllKeysFromIndex("path").then(function($){var j=[];return Promise.all(($||[]).map(function(Q){if(_(Q))return Promise.resolve(void 0);if(O){if(Q.startsWith(""+O+i.sep)){var re=Q.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return te&&!j.includes(te)?(j.push(te),Promise.resolve(te)):Promise.resolve(void 0)}return L.getFromIndex("path",Q)}return Promise.resolve(void 0)}if(Q.includes(i.sep)){var me=Q.split(i.sep)[0]||"";return me&&!j.includes(me)?(j.push(me),Promise.resolve(me)):Promise.resolve(void 0)}return L.getFromIndex("path",Q)})).then(function(Q){return Q.filter(function(re){return!!re})})}):Promise.resolve([])},U}(M),H=function(z){function U(){var O=null!==z&&z.apply(this,arguments)||this;return O.memoryFiles=[],O}return a(U,z),U.prototype.isEnable=function(){return!0},U.prototype.saveFile=function(O){var L=this;return new Promise(function($){L.memoryFiles.some(function(j,Q){return j.path===O.path&&(L.memoryFiles.splice(Q,1,O),!0)})||L.memoryFiles.push(O),$(!0)})},U.prototype.removeFile=function(O){var L=this;return new Promise(function($){for(var j=L.memoryFiles.length-1;j>=0;j--){var Q=L.memoryFiles[j];("string"==typeof O&&(Q.path===O||Q.path.startsWith(""+O+i.sep))||O.path===Q.path)&&L.memoryFiles.splice(j,1)}$(!0)})},U.prototype.clear=function(){var O=this;return new Promise(function(L){O.memoryFiles=[],L(!0)})},U.prototype.findFileByPath=function(O){var L=this;return new Promise(function($){$(L.memoryFiles.filter(function(j){return j.path===O})[0])})},U.prototype.findFileBySourceURL=function(O){var L=this;return new Promise(function($){$(L.memoryFiles.filter(function(j){return j.sourceURL===O}))})},U.prototype.isDirectory=function(O){var L=this;return new Promise(function($){_(O)?$(!1):$(L.memoryFiles.some(function(j){return j.path.startsWith(""+O+i.sep)}))})},U.prototype.ls=function(O){var L=this;return new Promise(function($){var j=[];L.memoryFiles.forEach(function(Q){if(!I(Q))if(O){if(Q.path.startsWith(""+O+i.sep)){var re=Q.path.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return void(te&&!j.includes(te)&&j.push(te))}j.push(Q)}}else if(Q.path.includes(i.sep)){var me=Q.path.split(i.sep)[0]||"";me&&!j.includes(me)&&j.push(me)}else j.push(Q)}),$(j)})},U}(M),V=function(z){function U(O){var j,L=z.call(this)||this;return L.isLocalAvaliable=void 0,L.isEnable()&&(L.storageName="resource-manager"+((j=(O||{}).nameSpaceId)?"-"+j:"")),L}return a(U,z),U.prototype.isEnable=function(){if(void 0!==this.isLocalAvaliable)return this.isLocalAvaliable;try{this.isLocalAvaliable=!0,localStorage.setItem("privateTest","")}catch{this.isLocalAvaliable=!1}return this.isLocalAvaliable},U.prototype.saveFile=function(O){var L=this;return this.isEnable()?new Promise(function($){var j=L.getLocalFile();j.some(function(Q,re){return Q.path===O.path&&(j.splice(re,1,O),!0)})||j.push(O),localStorage.setItem(L.storageName,JSON.stringify(j)),$(!0)}):Promise.resolve(!1)},U.prototype.getLocalFile=function(){var O=localStorage.getItem(this.storageName),L=[];if(O)try{L=JSON.parse(O)||"[]"}catch($){console.log($)}return L},U.prototype.removeFile=function(O){var L=this;return this.isEnable()?new Promise(function($){for(var j=L.getLocalFile(),Q=j.length-1;Q>=0;Q--){var re=j[Q];("string"==typeof O&&(re.path===O||re.path.startsWith(""+O+i.sep))||O.path===re.path)&&j.splice(Q,1)}localStorage.setItem(L.storageName,JSON.stringify(j)),$(!0)}):Promise.resolve(!1)},U.prototype.clear=function(){var O=this;return this.isEnable()?new Promise(function(L){localStorage.removeItem(O.storageName),L(!0)}):Promise.resolve(!1)},U.prototype.findFileByPath=function(O){var L=this;return this.isEnable()?new Promise(function($){$(L.getLocalFile().filter(function(j){return j.path===O})[0])}):Promise.resolve(void 0)},U.prototype.findFileBySourceURL=function(O){var L=this;return this.isEnable()?new Promise(function($){$(L.getLocalFile().filter(function(j){return j.sourceURL===O}))}):Promise.resolve([])},U.prototype.isDirectory=function(O){var L=this;return this.isEnable()?new Promise(function($){_(O)?$(!1):$(L.getLocalFile().some(function(j){return j.path.startsWith(""+O+i.sep)}))}):Promise.resolve(!1)},U.prototype.ls=function(O){var L=this;return this.isEnable()?new Promise(function($){var j=[];L.getLocalFile().forEach(function(Q){if(!I(Q))if(O){if(Q.path.startsWith(""+O+i.sep)){var re=Q.path.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return void(te&&!j.includes(te)&&j.push(te))}j.push(Q)}}else if(Q.path.includes(i.sep)){var me=Q.path.split(i.sep)[0]||"";me&&!j.includes(me)&&j.push(me)}else j.push(Q)}),$(j)}):Promise.resolve([])},U}(M);(T=t.FileStoreEnum||(t.FileStoreEnum={})).MEMORY="memoryStore",T.INDEX_DB="indexedDBStore",T.STORAGE="storageStore";var x=function(z){function U(O){var L=z.call(this)||this;return L.indexedDBStore=new N(O),L.memoryStore=new H,L.storageStore=new V(O),L}return a(U,z),U.prototype.saveFile=function(O,L,$){var j=this;void 0===L&&(L=!0);var Q=($||{}).forceSpecifyStore;return(L?this.findFileByPath(O.path,$):Promise.resolve(void 0)).then(function(re){if(re?.version&&w(O,re.version))throw new Error("there is an higher version file existed already");var te=c(c({},O),{createTime:re&&re.createTime||Date.now(),updateTime:Date.now()});return Q&&j[Q]&&j[Q].isEnable()&&(Q!==t.FileStoreEnum.STORAGE||j.isLocalStorageAvaliable(te))?j[Q].saveFile(te):j[j.saveToTargetStoreRule(te)].saveFile(te)})},U.prototype.isLocalStorageAvaliable=function(O){var L=O.data;return"string"===i.getDataFormat(L)&&L.length<=102400&&this.storageStore.isEnable()},U.prototype.saveToTargetStoreRule=function(O){return this.indexedDBStore.isEnable()?t.FileStoreEnum.INDEX_DB:this.isLocalStorageAvaliable(O)?t.FileStoreEnum.STORAGE:t.FileStoreEnum.MEMORY},U.prototype.removeFile=function(O,L){var $=(L||{}).forceSpecifyStore;return $&&this[$]?this[$].removeFile(O):Promise.all([this.indexedDBStore.removeFile(O),this.storageStore.removeFile(O),this.memoryStore.removeFile(O)]).then(function(){return!0})},U.prototype.clear=function(O){var L=(O||{}).forceSpecifyStore;return L&&this[L]?this[L].clear():Promise.all([this.indexedDBStore.clear(),this.storageStore.clear(),this.memoryStore.clear()]).then(function(){return!0})},U.prototype.findFileByPath=function(O,L){var $=this,j=(L||{}).forceSpecifyStore;return j&&this[j]?this[j].findFileByPath(O):A(this.searchInTargetStoreRule(),function(Q,re){return Q?Promise.resolve(Q):$[re].findFileByPath(O)})},U.prototype.findFileBySourceURL=function(O,L){var $=this,j=(L||{}).forceSpecifyStore;return j&&this[j]?this[j].findFileBySourceURL(O):A(this.searchInTargetStoreRule(),function(Q,re){return $[re].findFileBySourceURL(O).then(function(te){return Q?Q.filter(function(me){return!te.some(function(Ne){return Ne.path===me.path})}).concat(te||[]):te||[]})})},U.prototype.searchInTargetStoreRule=function(){return[t.FileStoreEnum.INDEX_DB,t.FileStoreEnum.STORAGE,t.FileStoreEnum.MEMORY]},U.prototype.isDirectory=function(O){var L=this;return O?A(this.searchInTargetStoreRule(),function($,j){return $?Promise.resolve(!0):L[j].isDirectory(O)}):Promise.resolve(!0)},U.prototype.ls=function(O){var L=this;return this.isDirectory(O).then(function($){if(!$)throw new Error("path: "+O+" is an invalid directory path");return A(L.searchInTargetStoreRule(),function(j,Q){return L[Q].ls(O).then(function(re){return j?(re||[]).concat(j.filter(function(te){return!re.some(function(me){return"string"==typeof te?me===te:"string"!=typeof me&&me.path===te.path})})):re})})})},U}(p),J=function(z){function U(){return null!==z&&z.apply(this,arguments)||this}return a(U,z),U}(p),Y=function(z){function U(O){var L=z.call(this)||this,$=O||{},j=$.storeOptions;return L.downloadManager=new i.IDownloadManager($.downloadManagerOptions),L.store=new x(j),L.store.indexedDBStore.on("ready",function(){return L.emit("ready")}),L}return a(U,z),U.prototype.getFile=function(O,L,$){var j=this,Q=new J,re=Promise.resolve(void 0),te=L||{},me=te.downloadOptions,De=te.saveRootPath;te.forceDownload?re=Promise.resolve(void 0):"string"==typeof O?re=this.store.findFileByPath(O,$):O?.sourceURL?re=this.store.findFileBySourceURL(O.sourceURL):me&&(me.domParams||me.socketParams||me.xhrParams)&&(re=this.store.findFileBySourceURL(this.genSourceURL(me)));var Be=null,He=new Promise(function(ke){Be=ke});return Q.getDownloadTask=function(){return He},re=re.then(function(ke){if(ke&&(!Array.isArray(ke)||ke.length)){var xe=ke;if(Array.isArray(xe)){var nt=xe.find(function(vt){return I(vt)});if(!nt)return;xe=xe.filter(function(vt){return!I(vt)});var Nt=nt.data;if("string"!=typeof Nt||!JSON.parse(Nt||"[]").every(function(vt){return xe.some(function(ee){return ee.path===vt})}))return}if(!$?.targetVersion||!w(xe,$.targetVersion))return Q.emit("checkExpire",!1),xe;Q.emit("checkExpire",!0)}}).then(function(ke){if(!ke&&me){var xe=j.downloadManager.download(me);return Be(xe),new Promise(function(nt,Nt){xe.on("complete",function(vt){setTimeout(function(){var ee=Array.isArray(vt)?vt.map(function(W){var ue=W.data,Le=W.extName;return{path:j.genFilePath(De,W.path),sourceURL:j.genSourceURL(me),data:ue,fileFormat:Le||j.getFileFormat(me),version:$?.targetVersion||1}}):{path:j.genFilePath(De,void 0),sourceURL:j.genSourceURL(me),data:vt,fileFormat:j.getFileFormat(me),version:$?.targetVersion||1};if(Array.isArray(ee)&&"string"==typeof O&&O){var Z=ee.find(function(W){return W.path===O});nt(Z||ee)}else nt(ee);Q.emit("beforeSet",ee),j.beforeWrite(ee,$).then(function(){Q.emit("afterSet")}).catch(function(W){return Q.emit("afterSet",W)})},0)}),xe.on("abort",Nt),xe.on("error",Nt),xe.on("timeout",function(){return Nt(new Error("download timeout"))})})}return Be(void 0),ke}).catch(function(ke){return Be(void 0),Promise.reject(ke)}),Q.getResult=function(){return re},Q},U.prototype.genSourceURL=function(O){var $=O.type;if($===i.DownloaderType.SOCKET)return null;var Q=($===i.DownloaderType.DOM?O.domParams:O.xhrParams)||{},re=Q.url,te=void 0===re?"":re,me=Q.body;return me&&Object.keys(me).length?te+(te.includes("?")?"&":"?")+"downloadBodyParams="+JSON.stringify(me):te},U.prototype.updateFile=function(O,L){return this.saveStore(O,!0,L)},U.prototype.beforeWrite=function(O,L){var j,Q,$=this;return Array.isArray(O)?Promise.all(O.concat((j=O,Q=j[0].sourceURL||"",{path:""+E+Q,sourceURL:Q,data:JSON.stringify(j.map(function(re){return re.path}))})).map(function(j){return $.saveStore(j,!1,L)})).then(function(j){return j.filter(function(Q){return!I(Q)})}):this.saveStore(O,!0,L)},U.prototype.getFileFormat=function(O){var L=O||{},$=L.xhrParams,j=L.domParams,Q=L.socketParams,re=L.type;return re===i.DownloaderType.DOM&&j?.fileFormat?j.fileFormat:re===i.DownloaderType.SOCKET&&Q?.fileFormat?Q.fileFormat:$?.fileFormat?$.fileFormat:"unknow"},U.prototype.genFilePath=function(O,L){return L?""+(O||"")+(O?i.sep:"")+L:O||""},U.prototype.saveStore=function(O,L,$){return void 0===L&&(L=!0),this.store.saveFile(O,L,$).then(function(j){if(j)return O;throw new Error("fail to save file in local store")})},U.prototype.remove=function(O,L){return this.store.removeFile(O,L)},U.prototype.clear=function(O){return this.store.clear(O)},U.prototype.list=function(O){return this.store.ls(O)},U.prototype.updateVersion=function(O,L){var $=this;return this.store.findFileByPath(O).then(function(j){if(j)return $.saveStore(c(c({},j),{version:L})).then(function(){});throw new Error("the target path: "+O+" isn't existed")})},U.prototype.updateSourceURL=function(O,L){var $=this;return this.store.findFileByPath(O).then(function(j){if(j)return $.saveStore(c(c({},j),{sourceURL:L})).then(function(){});throw new Error("the target path: "+O+" isn't existed")})},U}(p);t.IResourceManager=Y,Object.defineProperty(t,"__esModule",{value:!0})}(hS.exports,BT),ID(hS.exports);class $T{constructor(i){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,i&&(this._cancelError=i),this._locked=!1}acquire(){const i=this.isLocked(),o=new Promise((a,c)=>this._queue.push({resolve:a,reject:c}));return i||this._dispatch(),o}runExclusive(i){var o=this;return Oe(function*(){const a=yield o.acquire();try{return yield i()}finally{a()}})()}waitForUnlock(){var i=this;return Oe(function*(){return i.isLocked()?new Promise(o=>i._waiters.push({resolve:o})):Promise.resolve()})()}isLocked(){return this._locked}release(){if(this._currentReleaser){const i=this._currentReleaser;this._currentReleaser=void 0,i()}}cancel(){this._queue.forEach(i=>i.reject(this._cancelError)),this._queue=[]}_dispatch(){const i=this._queue.shift();if(!i)return;let o=!1;this._currentReleaser=()=>{o||(o=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,i.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach(i=>i.resolve()),this._waiters=[]}}function Lp(t,i,o){const a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=()=>{"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,i())}:(a.onload=()=>{i()},a.onerror=()=>{o()}),a.src=t,window.crossOriginIsolated&&(a.crossOrigin="anonymous"),"function"==typeof document.body.append?document.getElementsByTagName("head")[0].append(a):document.getElementsByTagName("head")[0].appendChild(a)}function LC(t,i){let o=t;/^https?:\/\//.test(o)||(o=`https://${t}`);try{const a=new URL(o);if(!i)return a.href;if(i.hostname)return a.hostname;if(i.path)return a.pathname}catch{return""}return""}function dc(t){if(t){var i;const o=document.getElementById(t);null==o||null===(i=o.parentNode)||void 0===i||i.removeChild(o)}}let Ag="zoom.us";const fS="3.8.10",xp=`https://dmogdx0jrul3u.cloudfront.net/${fS}/lib/av`,Fp=`https://source.zoom.us/${fS}/lib/av`,Tg=`https://jssdk.zoomus.cn/${fS}/lib/av`,Is=()=>Ag,Gr=(t,i,o)=>ME([i,o].map((a,c)=>{if("initial"!==a)return ve(["success"===a]);{const l=0===c?"ENCODE":"DECODE";return Ho(Mt(`${t.toUpperCase()}_${l}_SUCCESS`,1).pipe(ye(()=>!0)),Mt(`${t.toUpperCase()}_${l}_FAIL`,1).pipe(ye(()=>!1)))}})),Hl=t=>{const i=Ve(t.value);return i?Vt(i):Mt(Fa,1).pipe(Ht(Pd),Pe(t),ye(o=>{let[,a]=o;return Ve(a)}))};function k1(t,i){var o,a;const c="audio"===t?null===(o=i.audio)||void 0===o?void 0:o.audioSsrc:null===(a=i.video)||void 0===a?void 0:a.videoSsrc,l="audio"===t?uy:HN;return"audio"===t&&vr()||c?Promise.resolve():ze(l)}const qt=()=>ve(navigator.mediaDevices.enumerateDevices()).pipe(ye(t=>{const i=[],o=[],a=[];return t.forEach(c=>{const{kind:l,deviceId:p,label:h}=c,g=h.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(l){case"audioinput":"communications"===p||/ZoomAudioDevice/i.test(g)||/Zoom-\S*/.test(g)||/CubebAggregateDevice\S*/.test(g)||/Microsoft Teams Audio/i.test(g)||i.push({deviceId:p,label:g});break;case"audiooutput":"communications"===p||/ZoomAudioDevice/i.test(g)||/Microsoft Teams Audio/i.test(g)||o.push({deviceId:p,label:g});break;case"videoinput":a.push({deviceId:p,label:g})}}),{microphones:i,speakers:o,cameras:a}}));function xC(t){const{x:i,y:o,width:a,height:c}=t.getBoundingClientRect();return{scaleWidth:a,scaleHeight:c,srcOffsetX:i,srcOffsetY:o}}function Vp(t){if(t){let o=t;try{t.width=t.width}catch{var i;o=t.cloneNode(!0),null===(i=t.parentNode)||void 0===i||i.replaceChild(o,t)}return o}return t}function FC(){try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(UN)}catch{return!1}}function gS(){var t;return null===(t=WebAssembly)||void 0===t?void 0:t.validate(jN)}const mS=(()=>{const t=new $T;return{withAudioAction:i=>function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return new Promise(function(){var l=Oe(function*(p,h){let g=!1;const v=setTimeout(()=>{g=!0,t.release()},3e4);try{yield t.acquire(),g||clearTimeout(v),p(i(...a))}catch(S){g||(clearTimeout(v),h(S))}});return function(p,h){return l.apply(this,arguments)}}())},processAudioAction:i=>t.acquire().then(()=>i()),completeAudioAction:()=>{t.release()},cancelAllAudioAction:()=>{t.cancel()}}})();function Rg(t){const i=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(t,{get:(o,a)=>"string"==typeof a&&i.includes(a)?function(){return mS.withAudioAction(o[a].bind(o))(...arguments)}:Reflect.get(o,a)})}function Og(t){var i;const{browserVersion:o,isChrome:a,isFirefox:c,isSafari:l,isAndroidOrIOSBrowser:p,isSupportMediaStreamTrackProcessor:h,isSupportOffscreenCanvas:g}=Re,v=Number(null==o||null===(i=o.match(/^\d+/))||void 0===i?void 0:i[0]),S=a&&v>=91,b=c&&v>=89,E=l&&lf(o,"17.4")>=0,I=navigator.hardwareConcurrency>2;let _=e0();return t&&!_&&(_=g&&h),!p&&_&&(S||b||E)&&I}const vS=(t,i)=>{const o=document.createElement("link");return o.rel="preload",o.href=t,o.as=i,o.crossOrigin="anonymous",o},Gl=(t,i,o)=>{const a=[],c=[],l=Array.isArray(t)?t:[t];return fs.filter(p=>{var h;return l.includes(p.category)&&(p.tag===i||(null===(h=p.tag)||void 0===h?void 0:h.split(",").includes(i)))}).forEach(p=>{"worker"===p.type?a.push(`${o}${p.name}`):"wasm"===p.type&&c.push(`${o}${p.name}`)}),{workers:a,wasms:c}};function HT(t,i,o){const a={};if("function"!=typeof window.SharedArrayBuffer){const{isIOSMobile:c,isSafari:l,isSupportOffscreenCanvas:p,isSupportMediaStreamTrackProcessor:h}=Re;Object.assign(a,{enableMultiDecodeVideoWithoutSAB:!!i&&(c||l||p&&h)}),p&&h&&Object.assign(a,{enableVirtualBackgroundWithoutSAB:!!o})}return Og(o)&&Object.assign(a,{resourceManager:hS.exports.IResourceManager,file:[{path:`${t}/vb-resource/dualModel.bin`,type:"bin"},{path:`${t}/vb-resource/tf.min.js`,type:"js"}]}),a}function eu(t,i){const{media:{isAudioBridgeReceiveReady:o,isAudioBridgeSendReady:a},audio:{customizeAudioOption:c}}=t,l=void 0!==i?i:!(null==c||!c.speakerOnly);return ME([o?ve([!0]):Mt(YN,1).pipe(fi(!0)),a||l?ve([!0]):Mt(B0,1).pipe(fi(!0))])}function yS(t,i,o){if(t.deviceId===i)return!0;if("default"===i){const a=o.find(c=>c.deviceId===i);if(a)return a.label.indexOf(t.label)>-1}return!1}function zl(t){return t.find(i=>"default"===i.deviceId)}const VC=(()=>{let t,i=!1;return{watch:function(o){i=!0,t=Promise.race([o,Ws(()=>!0,1e4)]).then(()=>{t=void 0,i=!1}).finally(()=>{t=void 0,i=!1})},acquire:function(){return i&&t?t:Promise.resolve()}}})(),SS=(t,i)=>ze({event:s0,operations:[ne(o=>void 0!==o[`${t}`]),Ct(1)]},o=>o[`${t}`]===i);let Xi=(()=>{class t{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return void 0===this.instance&&(this.instance=new t),this.instance}static destroyInstance(){if(this.instance){this.instance.stopAudioElement(),this.instance.stopVideoElement();const a=document.getElementById(l0);var o;a&&(null===(o=a.parentNode)||void 0===o||o.removeChild(a)),this.instance=void 0}}setAudioElement(o){return void 0===this._audioElement&&(this._audioElement=new Audio),new Promise((a,c)=>{if(this.videoSrc===o.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(p=this._videoElement).currentTime>0&&!p.paused&&!p.ended&&p.readyState>2?a(""):this._videoElement.play().then(()=>{a("")}).catch(()=>{c()});else{var l;this.isUsingSameFile=!1;const h=Re.isFirefox?"canplay":"canplaythrough",g=()=>{this._audioElement.play().then(()=>{this._audioElement.removeEventListener(h,g),a("")})},v=()=>{this._audioElement.removeEventListener(h,g),this._audioElement.removeEventListener("error",v),c()};this._audioElement.addEventListener(h,g),this._audioElement.addEventListener("error",v),this._audioElement.src=o.url,this._audioElement.loop=!!o.loop,mi(o.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max(null!==(l=o.currentTime)&&void 0!==l?l:0,1e-4)}var p})}setVideoElement(o){return void 0===this._videoElement&&(this._videoElement=document.createElement("video")),new Promise((a,c)=>{var l;this.videoSrc=o.url;const p=Re.isFirefox?"canplay":"canplaythrough",h=()=>{this._videoElement.play().then(()=>{this._videoElement.removeEventListener(p,h),a("")})},g=()=>{this._videoElement.removeEventListener(p,h),this._videoElement.removeEventListener("error",g),c()};this._videoElement.addEventListener(p,h),this._videoElement.addEventListener("error",g),this._videoElement.src=o.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!o.loop,this._videoElement.currentTime=null!==(l=o.currentTime)&&void 0!==l?l:0,mi(o.url)&&this._videoElement.setAttribute("crossorigin",""),Re.isSafari&&!document.getElementById(l0)&&(this._videoElement.id=l0,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement))})}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile||this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}return t.instance=void 0,t})();const pc=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{socket:{zoomSocketStatus:o,xmppSocketStatus:a,mainSessionSocketStatus:c},meeting:{meetingStatus:l}}=t,p=[];if(l===wt.Joined){var h;const g=Ye.getInstance(),v=Ot.createAgent();if((null===(h=Ve(t))||void 0===h?void 0:h.audio)===xt.Computer&&g.leaveComputerAudio(),g.disconnect(),VC.watch(g.destroy()),t.video&&(t.video.subscribedVideoList.length>0&&t.video.subscribedVideoList.forEach(S=>{v.unsubscribeVideo(S)}),t.video.isCurrentUserStartedVideo&&F($a)),t.share&&t.share.isReceiveSharing){const S=t.share.activeNodeId;t.share.remoteControlledUserList.length>0&&t.share.remoteControlledUserList.forEach(b=>{v.sharingRequestRemoteControl(b,!1)}),v.unsubscribeSharing(S)}Xi.destroyInstance()}if(i||(ot.clearSession(),[Rt.WebclientTk,Rt.WebclientZsk,Rt.WebclientZtk,Rt.WebclientRecordingToken].forEach(g=>{sessionStorage.removeItem(g)}),No.destroy()),o!==Wt.Closed&&p.push(ls()),a!==Wt.Closed&&p.push(et()),c!==Wt.Closed&&p.push(Hd()),i){const g=Ve(t);p.push(Ae({audio:g?.audio,muted:g?.muted,video:g?.bVideoOn,isFailover:i}))}else p.push(Ae({audio:!1,muted:void 0,video:!1,isFailover:i}));return p.push(nf(),Gt(),Hf(),c1(i),aC(),lC(i),b1(),Jy(),Pp(),w1(),CC(),Np(),NT(),O1(i),N1(),pS(i),jT(i),Rr(wt.Closed)),p},hc=function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return ze({event:yo,operations:[ye(c=>c.find(l=>l.userId===t.userId&&(!t.key||void 0!==l[`${t.key}`]))),ne(c=>!!c),Ct(1)]},...o)},UC={[`${zi.AudioBridgeEnable}`]:{mask:240,action:Xd},[`${zi.AudioDecodeInWorklet}`]:{mask:15,action:BE},[`${zi.VideoFullHD}`]:{mask:15,action:hT},[`${zi.VideoShareFullHD}`]:{mask:15,action:sC},[`${zi.WebGL2Render}`]:{mask:15,action:fC},[`${zi.WebGPURender}`]:{mask:15,action:gT},[`${zi.ZMKFromRWG}`]:{mask:15,action:xv}};function fc(t){if(!t)return"";const i=t.match(/rid=(.*)/);return i?i[1]:""}function sa(t){return el(ye((i,o)=>t(i,o)),ne(i=>null!=i))}function jC(t){return el(ae((i,o)=>t(i,o)||Se))}function es(t){return el(ae((i,o)=>t(i,o)),ae(i=>Array.isArray(i)?ve(i):Vt(i)))}const L1={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},BC={[`${yn}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(t){t.add&&this.payloads.add.push(...t.add),t.update&&this.payloads.update.push(...t.update),t.remove&&this.payloads.remove.push(...t.remove)}})};function bS(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L1;return i=>new qn(o=>{const a=new Map;let c=0,l=null;const{period:p,rules:h}=t;let g=null;l||(l=((b,E)=>{const I=performance.now();let _=0,w=!1;return setTimeout(function A(){_+=E,c=0;const T=performance.now()-I-_,M=setTimeout(A,Math.max(E-T,0));w&&clearTimeout(M)},E),()=>{w=!0}})(0,p));const v=Object.keys(BC),S=i.subscribe({next(b){if(b&&b.evt&&null!==l){c+=1;const{evt:E,body:I}=b,_=String(E);if(v.indexOf(_)>=0)if(g){const w=a.get(_);if(w)w.onThrottle(I);else{const A=BC[_]();A.onThrottle(I),a.set(_,A)}}else{let w=0;if(h.forEach(A=>{c>A.peak&&(w=A.throttle)}),w>0){const A=BC[_]();A.onThrottle(I),a.set(_,A),g=setTimeout(()=>{a.forEach((T,M)=>{const P={evt:Number(M),body:T.payloads};o.next(P)}),a.clear(),g=null},w)}else o.next(b)}else o.next(b)}else o.next(b)},error(b){o.error(b)},complete(){o.complete()}});return()=>{S.unsubscribe(),l&&(l(),l=null),c=0}})}let $C=function(t){return t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Mac=2]="Mac",t[t.Pad=3]="Pad",t[t.Mobile=4]="Mobile",t[t.CallIn=5]="CallIn",t[t.Linux=6]="Linux",t[t.WebClient=7]="WebClient",t[t.ChromeOs=8]="ChromeOs",t}({});const x1=t=>!(4&~t),Wl=t=>!(1048576&~t),HC=t=>{let{share:{isReceiveSharing:i}}=t;return i},GC=t=>{let{share:{activeNodeId:i}}=t;return i},F1=En([Yt,HC,GC],function(){let t=arguments.length>2?arguments[2]:void 0;if(arguments.length>1&&arguments[1]){const i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(o=>o.userId===t&&!0===o.sharerOn);if(i){let{os:o}=i;const{pwaOS:a}=i;return"mac"===a?o=$C.Mac:"win"===a&&(o=$C.Windows),{...i,os:o}}}return null}),aa=En([Yt],t=>t.filter(i=>i.sharerOn)),jp=En([aa],t=>t.some(i=>!!i.bVideoShare)),ql=En([t=>{let{share:{remoteControlledUserList:i}}=t;return i},HC,GC],(t,i,o)=>!!i&&t.some(a=>po(a,o)));var zC,V1=new Uint8Array(16);function U1(){if(!zC&&!(zC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zC(V1)}for(var zr,Bn,ES,ua,ws=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,eo=[],WC=0;WC<256;++WC)eo.push((WC+256).toString(16).substr(1));function Mg(t,i,o){var a=(t=t||{}).random||(t.rng||U1)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i){o=o||0;for(var c=0;c<16;++c)i[o+c]=a[c];return i}return function(l){var g,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=(eo[l[p+0]]+eo[l[p+1]]+eo[l[p+2]]+eo[l[p+3]]+"-"+eo[l[p+4]]+eo[l[p+5]]+"-"+eo[l[p+6]]+eo[l[p+7]]+"-"+eo[l[p+8]]+eo[l[p+9]]+"-"+eo[l[p+10]]+eo[l[p+11]]+eo[l[p+12]]+eo[l[p+13]]+eo[l[p+14]]+eo[l[p+15]]).toLowerCase();if("string"!=typeof(g=h)||!ws.test(g))throw TypeError("Stringified UUID is invalid");return h}(a)}(function(t){t[t.PLAIN=0]="PLAIN",t[t.RSA=1]="RSA",t[t.AESGCM256=2]="AESGCM256"})(zr||(zr={})),function(t){t[t.info=0]="info",t[t.debug=1]="debug",t[t.log=2]="log",t[t.warn=3]="warn",t[t.error=4]="error"}(Bn||(Bn={})),function(t){t[t.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"}(ES||(ES={})),function(t){t.beforeInit="beforeInit",t.afterInit="afterInit",t.beforeLog="beforeLog",t.hitSizeLimit="hitSizeLimit",t.afterLog="afterLog",t.beforeReport="beforeReport",t.afterReport="afterReport"}(ua||(ua={}));class CS{constructor(){}}var Pg,IS={exports:{}},qC={exports:{}},GT=Sv(Object.freeze({__proto__:null,default:{}}));qC.exports=(Pg=Pg||function(t,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==Aa&&Aa.crypto&&(o=Aa.crypto),!o)try{o=GT}catch{}var a=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function w(){}return function(A){var T;return w.prototype=A,T=new w,w.prototype=null,T}}(),l={},p=l.lib={},h=p.Base={extend:function(w){var A=c(this);return w&&A.mixIn(w),A.hasOwnProperty("init")&&this.init!==A.init||(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var A in w)w.hasOwnProperty(A)&&(this[A]=w[A]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}},g=p.WordArray=h.extend({init:function(w,A){w=this.words=w||[],this.sigBytes=A??4*w.length},toString:function(w){return(w||S).stringify(this)},concat:function(w){var A=this.words,T=w.words,M=this.sigBytes,P=w.sigBytes;if(this.clamp(),M%4)for(var N=0;N<P;N++)A[M+N>>>2]|=(T[N>>>2]>>>24-N%4*8&255)<<24-(M+N)%4*8;else for(var V=0;V<P;V+=4)A[M+V>>>2]=T[V>>>2];return this.sigBytes+=P,this},clamp:function(){var w=this.words,A=this.sigBytes;w[A>>>2]&=4294967295<<32-A%4*8,w.length=t.ceil(A/4)},clone:function(){var w=h.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var A=[],T=0;T<w;T+=4)A.push(a());return new g.init(A,w)}}),v=l.enc={},S=v.Hex={stringify:function(w){for(var A=w.words,T=w.sigBytes,M=[],P=0;P<T;P++){var N=A[P>>>2]>>>24-P%4*8&255;M.push((N>>>4).toString(16)),M.push((15&N).toString(16))}return M.join("")},parse:function(w){for(var A=w.length,T=[],M=0;M<A;M+=2)T[M>>>3]|=parseInt(w.substr(M,2),16)<<24-M%8*4;return new g.init(T,A/2)}},b=v.Latin1={stringify:function(w){for(var A=w.words,T=w.sigBytes,M=[],P=0;P<T;P++)M.push(String.fromCharCode(A[P>>>2]>>>24-P%4*8&255));return M.join("")},parse:function(w){for(var A=w.length,T=[],M=0;M<A;M++)T[M>>>2]|=(255&w.charCodeAt(M))<<24-M%4*8;return new g.init(T,A)}},E=v.Utf8={stringify:function(w){try{return decodeURIComponent(escape(b.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return b.parse(unescape(encodeURIComponent(w)))}},I=p.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(w){"string"==typeof w&&(w=E.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var A,T=this._data,M=T.words,P=T.sigBytes,N=this.blockSize,H=P/(4*N),V=(H=w?t.ceil(H):t.max((0|H)-this._minBufferSize,0))*N,x=t.min(4*V,P);if(V){for(var J=0;J<V;J+=N)this._doProcessBlock(M,J);A=M.splice(0,V),T.sigBytes-=x}return new g.init(A,x)},clone:function(){var w=h.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});p.Hasher=I.extend({cfg:h.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(A,T){return new w.init(T).finalize(A)}},_createHmacHelper:function(w){return function(A,T){return new _.HMAC.init(w,T).finalize(A)}}});var _=l.algo={};return l}(Math),Pg),IS.exports=function(t){return t.enc.Utf8}(qC.exports);var Ng={exports:{}};Ng.exports=function(t){return o=t.lib.WordArray,t.enc.Base64={stringify:function(c){var l=c.words,p=c.sigBytes,h=this._map;c.clamp();for(var g=[],v=0;v<p;v+=3)for(var S=(l[v>>>2]>>>24-v%4*8&255)<<16|(l[v+1>>>2]>>>24-(v+1)%4*8&255)<<8|l[v+2>>>2]>>>24-(v+2)%4*8&255,b=0;b<4&&v+.75*b<p;b++)g.push(h.charAt(S>>>6*(3-b)&63));var E=h.charAt(64);if(E)for(;g.length%4;)g.push(E);return g.join("")},parse:function(c){var l=c.length,p=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var g=0;g<p.length;g++)h[p.charCodeAt(g)]=g}var v=p.charAt(64);if(v){var S=c.indexOf(v);-1!==S&&(l=S)}return function a(c,l,p){for(var h=[],g=0,v=0;v<l;v++)if(v%4){var S=p[c.charCodeAt(v-1)]<<v%4*2|p[c.charCodeAt(v)]>>>6-v%4*2;h[g>>>2]|=S<<24-g%4*8,g++}return o.create(h,g)}(c,l,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var o}(qC.exports);var kg=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(S){l(S)}}function h(v){try{g(a.throw(v))}catch(S){l(S)}}function g(v){var S;v.done?c(v.value):(S=v.value,S instanceof o?S:new o(function(b){b(S)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const zT=t=>{try{const i=Ng.exports.parse(t);return IS.exports.stringify(i)}catch{return t}},wS=t=>{for(var i=t.length,o=t.length-1;o>=0;o--){var a=t.charCodeAt(o);a>127&&a<=2047?i++:a>2047&&a<=65535&&(i+=2),a>=56320&&a<=57343&&o--}return i},WT=()=>kg(void 0,void 0,void 0,function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}),j1=(t,i,o)=>kg(void 0,void 0,void 0,function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:o},i,t)}catch(a){throw a}}),KC=(t,i)=>{const o="string"==typeof t?function(a){const c=new ArrayBuffer(a.length),l=new Uint8Array(c);for(let p=0,h=a.length;p<h;p++)l[p]=a.charCodeAt(p);return c}(t):t;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},i,o)},_S={},Lg=(t,i)=>{_S[i]=t},QC=_S,xg=t=>{try{return JSON.stringify(t)}catch{return"json stringify failed"}},B1=t=>{try{return JSON.parse(t)}catch{return t}},qT=t=>{let i=0;return i+=wS(t.message),t.tags.forEach(o=>{i+=wS(o)}),i};class $1{constructor(i){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,E=>(E^crypto.getRandomValues(new Uint8Array(1))[0]&15>>E/4).toString(16));const{databaseName:o,maxSize:a,publicKey:c,reportUrl:l,plugins:p,idbManager:h,logManager:g,currentSize:v,externalKeys:S}=i;this.databaseName=o,this.maxSize=a,this.publicKey=c??"",this.reportUrl=l??"",this.plugins=p??[],this.idbManager=h,this.logManager=g,this.currentSize=v??0,this.externalKeys=S,this.commonMethods=Object.assign({},QC)}getLocalAESGCM256Key(){var i,o,c,l;return o=this,void 0,l=function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield WT();const o=this.externalKeys?null===(i=this.externalKeys.filter(a=>a.usage===ES.PROTECT_LOCAL_KEY)[0])||void 0===i?void 0:i.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,o),this.localAESGCM256Key},new((c=void 0)||(c=Promise))(function(p,h){function g(b){try{S(l.next(b))}catch(E){h(E)}}function v(b){try{S(l.throw(b))}catch(E){h(E)}}function S(b){var E;b.done?p(b.value):(E=b.value,E instanceof c?E:new c(function(I){I(E)})).then(g,v)}S((l=l.apply(o,[])).next())})}updateCurrentSize(i){var o;let a=null!==(o=this.currentSize)&&void 0!==o?o:0;if(i instanceof Map)for(const[c,l]of i)a+=qT(l);else a+=qT(i);return this.currentSize=a,a>=this.maxSize}}const JC=(...t)=>{const i={},o=[];for(const c of t)c.forEach(l=>{i[l.id]||(i[l.id]=!0,o.push(l))});const a=new Map;return o.sort((c,l)=>c?.id-l?.id).forEach(c=>{a.set(c.id,c)}),a},Fg=(t,i)=>{const o=new Map;return i.forEach(a=>{t(a)&&o.set(a.id,a)}),o};class ZC{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=i=>{for(const o of i)this.store.byTime.set(o.id,o)},this.pushByTag=i=>{i.forEach(o=>{const a=o.tags;Array.isArray(a)&&a.forEach(c=>{this.store.byTag[c]||(this.store.byTag[c]=new Map),this.store.byTag[c].set(o.id,o)})})},this.addLog=i=>{let o=i;Array.isArray(i)||(o=[i]),this.pushByTime(o),this.pushByTag(o)},this.syncFromIDB=i=>{return o=this,void 0,l=function*(){const o=yield i.getAllLogs();this.addLog(o)},new((c=void 0)||(c=Promise))(function(p,h){function g(b){try{S(l.next(b))}catch(E){h(E)}}function v(b){try{S(l.throw(b))}catch(E){h(E)}}function S(b){var E;b.done?p(b.value):(E=b.value,E instanceof c?E:new c(function(I){I(E)})).then(g,v)}S((l=l.apply(o,[])).next())});var o,c,l},this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=i=>{for(const o of i){const a=this.store.byTime.get(o);if(!a)continue;const{tags:c}=a;for(const l of c)this.store.byTag[l].delete(o);this.store.byTime.delete(o)}},this.filterStore=i=>{const o=((c,l)=>{if(!l)return c.byTime;if("string"==typeof l)return c.byTag[l]||new Map;if(Array.isArray(l)){if(l.every(p=>"string"==typeof p))return JC(...l.map(p=>c.byTag[p]).filter(p=>!!p))}else{if("function"==typeof l)return Fg(l,c.byTime);if("object"==typeof l)if(l.tags&&l.filter){if("string"==typeof l.tags)return Fg(l.filter,c.byTag[l.tags]);if(Array.isArray(l.tags)&&l.tags.every(p=>"string"==typeof p))return JC(...l.tags.map(p=>{const h=c.byTag[p];return h?Fg(l.filter,h):new Map}))}else{if(l.filter)return Fg(l.filter,c.byTime);if(l.tags){if("string"==typeof l)return c.byTag[l]||new Map;if(Array.isArray(l)&&l.every(p=>"string"==typeof p))return JC(...l.map(p=>c.byTag[p]))}}else console.error("Wrong filter type")}return new Map})(this.store,i),a=new Map;for(const[c,l]of o){const p=Object.assign(Object.assign({},l),{message:B1(zT(l.message))});a.set(c,p)}return a},this.store={byTag:{},byTime:new Map}}}function ca(t,i,o){const a=t.plugins;if(!Array.isArray(a))return o;let c=o;return a.forEach(l=>{const p=l[i];if("function"==typeof p){const h=p(t,c);h&&(c=h)}}),c}const YC=(t,i,o,a,c,l={})=>{return void 0,void 0,v=function*(){const{noCache:p,extraProperties:h={}}=l,g=((S,b,E,I,_,w)=>{const A=Array.isArray(b)?b:[b],T=Date.now();return Object.assign({message:S,logLevel:E,tags:A,encryptMode:I,timestamp:T,laplaceSessionId:_},w)})(`${i}`,o,a,c,t.uuid,h),v=ca(t,ua.beforeLog,g);if(p)ca(t,ua.afterLog,g);else{const{idbManager:S,logManager:b}=t,E=yield S.makeNextId();v.message=(_=>{try{const w=IS.exports.parse(_);return Ng.exports.stringify(w)}catch{return _}})(v.message);const I=Object.assign(Object.assign({},v),{id:E});t.updateCurrentSize(I)&&ca(t,ua.hitSizeLimit,I),b.addLog(I),yield S.addLog(I),ca(t,ua.afterLog,I)}},new((g=void 0)||(g=Promise))(function(S,b){function E(w){try{_(v.next(w))}catch(A){b(A)}}function I(w){try{_(v.throw(w))}catch(A){b(A)}}function _(w){var A;w.done?S(w.value):(A=w.value,A instanceof g?A:new g(function(T){T(A)})).then(E,I)}_((v=v.apply(undefined,[])).next())});var g,v};Lg(YC,"commonLog");const KT=t=>new Promise(i=>{const o=new XMLHttpRequest;o.open(t.type||"GET",t.url,!0),o.withCredentials=t.withCredentials,o.onerror=a=>{i({error:a,report:t.reportItem})},o.onreadystatechange=function(){if(4===o.readyState){const a=o.status;i(a>=200&&a<300?{report:t.reportItem}:{error:`Request failed, status: ${a}, responseText: ${o.responseText}`,report:t.reportItem})}},Object.entries(t.headers).forEach(([a,c])=>{c&&a&&o.setRequestHeader(a,c)}),o.send(t.data)}),Kl=(t,i=2)=>{let o=`${t}`;for(;o.length<i;)o=`0${o}`;return o},QT=t=>{const i=new Date(t);return`${i.getUTCFullYear()}-${Kl(i.getUTCMonth()+1)}-${Kl(i.getUTCDate())} ${Kl(i.getUTCHours())}:${Kl(i.getUTCMinutes())}:${Kl(i.getUTCSeconds())}.${Kl(i.getUTCMilliseconds(),3)}`},XC={version:"000001",flag:"0"},DS=(t,i,o)=>{return(a=t,c=i.reportUrl,l=o,Promise.all(a.map(p=>Object.assign({url:c||"",type:"POST",withCredentials:!1,headers:{},data:xg({messages:p.messages,meta:p.meta}),reportItem:p},l)).map(KT))).then(a=>{a.forEach(c=>{var l;ca(i,ua.afterReport,{report:c.report,error:null!==(l=c.error)&&void 0!==l?l:null})})});var a,c,l},eI=(t,i,o)=>{return void 0,void 0,p=function*(){const a=t.logManager.filterStore(i);if(!a||0===a?.size||!o)return;const{xhrOptions:c={},additionalContext:l}=o,h=((t,i)=>Array.from(t.values()).reduce((o,a)=>{const c=((h,g)=>{const{message:v,logLevel:S,tags:b,timestamp:E}=h,w=function(T,M){var P={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&M.indexOf(N)<0&&(P[N]=T[N]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(N=Object.getOwnPropertySymbols(T);H<N.length;H++)M.indexOf(N[H])<0&&Object.prototype.propertyIsEnumerable.call(T,N[H])&&(P[N[H]]=T[N[H]])}return P}(h,["message","logLevel","tags","timestamp","encryptMode","id"]),A=Object.assign(Object.assign({time:QT(E),logLevel:Bn[S],message:v,tags:b},g),w);return xg(A)})(a,i),l=wS(c),p=o[o.length-1];return p.currentSize+l>30720?o.push({messages:[c],ids:[a.id],currentSize:l}):(p.messages.push(c),p.ids.push(a.id),p.currentSize+=l),o},[{messages:[],ids:[],currentSize:0}]).filter(o=>o.currentSize>0).map(o=>({messages:o.messages.join("\n"),ids:o.ids,meta:XC})))(ca(t,ua.beforeReport,a),l);DS(h,t,c)},new((l=void 0)||(l=Promise))(function(h,g){function v(E){try{b(p.next(E))}catch(I){g(I)}}function S(E){try{b(p.throw(E))}catch(I){g(I)}}function b(E){var I;E.done?h(E.value):(I=E.value,I instanceof l?I:new l(function(_){_(I)})).then(v,S)}b((p=p.apply(undefined,[])).next())});var l,p};Lg(eI,"commonReport");var tI=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(S){l(S)}}function h(v){try{g(a.throw(v))}catch(S){l(S)}}function g(v){var S;v.done?c(v.value):(S=v.value,S instanceof o?S:new o(function(b){b(S)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const G1=(t,i,o)=>tI(void 0,void 0,void 0,function*(){const{idbManager:a,logManager:c}=t;if(Array.isArray(o)&&(yield a.deleteLogs(o),c.deleteLogs(o),!i))return;const l=t.logManager.filterStore(i),p=[];for(const[g,v]of l)p.push(v.id);let h=p;Array.isArray(p)||(h=[p]),yield a.deleteLogs(h),c.deleteLogs(h)}),z1=t=>tI(void 0,void 0,void 0,function*(){const{idbManager:i,logManager:o}=t;yield i.reset(),o.reset()});function JT(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,a=new Array(i);o<i;o++)a[o]=t[o];return a}function nu(t){return new Promise(function(i,o){t.oncomplete=t.onsuccess=function(){return i(t.result)},t.onabort=t.onerror=function(){return o(t.error)}})}function nI(t,i){var o=indexedDB.open(t);o.onupgradeneeded=function(){return o.result.createObjectStore(i)};var a=nu(o);return function(c,l){return a.then(function(p){return l(p.transaction(i,c).objectStore(i))})}}var Vg;function Bp(){return Vg||(Vg=nI("keyval-store","keyval")),Vg}function rI(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bp())("readwrite",function(i){return t.forEach(function(o){return i.delete(o)}),nu(i.transaction)})}Lg(G1,"commonDelete"),Lg(z1,"commonReset");var YT=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(S){l(S)}}function h(v){try{g(a.throw(v))}catch(S){l(S)}}function g(v){var S;v.done?c(v.value):(S=v.value,S instanceof o?S:new o(function(b){b(S)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const XT={default:{queue:[],isRunning:!1,listeners:[]}},eR=t=>{let i=XT[t];return i||(i={queue:[],isRunning:!1,listeners:[]},XT[t]=i),i};function W1(t){return YT(this,void 0,void 0,function*(){const i=eR(t),{queue:o,listeners:a}=i;for(;o.length>0&&!i.isRunning;){const c=o.shift();i.isRunning=!0;try{const l=yield c.task();c.resolution(l)}catch(l){c.rejection(l)}i.isRunning=!1,W1(t)}a.length&&a.forEach(c=>{c()})})}function oI(t,i){const o=eR(i);try{return new Promise((a,c)=>{o.queue.push({task:t,resolution:a,rejection:c}),W1(i)})}catch(a){return Promise.reject(a)}}const q1=(t,i)=>{eR(t).listeners.push(i)};var ts=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(S){l(S)}}function h(v){try{g(a.throw(v))}catch(S){l(S)}}function g(v){var S;v.done?c(v.value):(S=v.value,S instanceof o?S:new o(function(b){b(S)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const tR="change_meta",nR="change_log",Ug=()=>Promise.resolve();class rR{constructor(i){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=o=>function(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bp())("readonly",function(c){return nu(c.get(a))})}(o,this.store),this.set=(o,a)=>ts(this,void 0,void 0,function*(){try{return!(this.dbFailCount.write>3)&&(yield function(c,l){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bp())("readwrite",function(p){return p.put(l,c),nu(p.transaction)})}(o,a,this.store))}catch(c){c instanceof DOMException&&(c&&"QuotaExceededError"===c.name?(yield this.deleteOldLogsForSetNewOne(),yield this.set(o,a)):this.dbFailCount.write+=1),console.error(c)}}),this.deleteOldLogsForSetNewOne=()=>ts(this,void 0,void 0,function*(){var o;const a=yield this.getAllLogs(),c=[];for(let l=0;l<13;l++){const p=null===(o=a[l])||void 0===o?void 0:o.id;(p||0===p)&&c.push(`${p}`)}return rI(c,this.store)}),this.adjustMaxId=()=>ts(this,void 0,void 0,function*(){return this.resetting?Ug():(this.isChangingMeta=!0,yield oI(()=>ts(this,void 0,void 0,function*(){var o;const a=yield this.getAllLogs(),c=a[a.length-1],l=null!==(o=c?.id)&&void 0!==o?o:0;return yield this.set("maxId",l),l}),tR))}),this.makeNextId=()=>ts(this,void 0,void 0,function*(){return this.resetting?Ug():(this.isChangingMeta=!0,yield oI(()=>ts(this,void 0,void 0,function*(){const o=yield this.get("maxId");if(!o&&0!==o)return yield this.set("maxId",0),0;const a=o+1;return yield this.set("maxId",a),a}),tR))}),this.addLog=o=>ts(this,void 0,void 0,function*(){if(this.resetting)return Ug();this.isChangingLog=!0,yield oI(()=>ts(this,void 0,void 0,function*(){const{id:a}=o;return this.set(`${a}`,o)}),nR)}),this.getAllLogs=()=>ts(this,void 0,void 0,function*(){return(yield function ZT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp();return t("readonly",function(i){if(i.getAll&&i.getAllKeys)return Promise.all([nu(i.getAllKeys()),nu(i.getAll())]).then(function(a){var h,c=function(v){if(Array.isArray(v))return v}(h=a)||function(v,S){var b=null==v?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(null!=b){var E,I,_=[],w=!0,A=!1;try{for(b=b.call(v);!(w=(E=b.next()).done)&&(_.push(E.value),2!==_.length);w=!0);}catch(T){A=!0,I=T}finally{try{w||null==b.return||b.return()}finally{if(A)throw I}}return _}}(h)||function(v,S){if(v){if("string"==typeof v)return JT(v,2);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?JT(v,2):void 0}}(h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=c[1];return c[0].map(function(h,g){return[h,p[g]]})});var o=[];return t("readonly",function(a){return(c=a,c.openCursor().onsuccess=function(){var p;this.result&&(o.push([(p=this.result).key,p.value]),this.result.continue())},nu(c.transaction)).then(function(){return o});var c})})}(this.store)).filter(([o])=>"maxId"!==o).sort((o,a)=>{var c,l;return(null===(c=o[1])||void 0===c?void 0:c.id)-(null===(l=a[1])||void 0===l?void 0:l.id)}).map(([,o])=>o)}),this.deleteLogs=o=>ts(this,void 0,void 0,function*(){if(this.resetting)return Ug();this.isChangingLog=!0,yield oI(()=>ts(this,void 0,void 0,function*(){return rI(o.map(a=>`${a}`),this.store)}),nR),yield this.adjustMaxId()}),this.saveAESGCM256Key=(o,a,c)=>ts(this,void 0,void 0,function*(){if(c){const l=yield self.crypto.subtle.exportKey("raw",a),p=yield(h=l,g=c,v=new Uint8Array(16),kg(void 0,void 0,void 0,function*(){return new Promise((S,b)=>{requestAnimationFrame(()=>kg(void 0,void 0,void 0,function*(){var E;const I=null===(E=g?.algorithm)||void 0===E?void 0:E.name;let _;if("RSA-OAEP"===I?_=KC:"AES-GCM"===I&&(_=j1),!_)throw new Error("Unsupported encrypt key type");if("string"==typeof h){const w=new TextEncoder,A=yield _(w.encode(h),g,v);S(A)}else{const w=yield _(h,g,v);S(w)}}))})}));yield this.set(`aes-gcm-256-${o}`,p)}else yield this.set(`aes-gcm-256-${o}`,a);var h,g,v}),this.reset=()=>ts(this,void 0,void 0,function*(){return this.resetting?Ug():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?Ug():(this.resetting=!0,yield function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp())("readwrite",function(o){return o.clear(),nu(o.transaction)})}(this.store),this.resetting=!1,void(this.waitingForReset=!1)))}),this.store=nI(i,i+"-store"),q1(tR,()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()}),q1(nR,()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()})}}var Nn=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(S){l(S)}}function h(v){try{g(a.throw(v))}catch(S){l(S)}}function g(v){var S;v.done?c(v.value):(S=v.value,S instanceof o?S:new o(function(b){b(S)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const iV={databaseName:"laplace-default-db",maxSize:49283072};let sV=(()=>{class t{constructor(o){this.commonLogWithContext=(c,l,p,h,g)=>Nn(this,void 0,void 0,function*(){yield YC(this.runtimeMetaManager,c,l,p,h,g)}),this.commonReportWithContext=(c,l)=>Nn(this,void 0,void 0,function*(){yield eI(this.runtimeMetaManager,c,l)}),this.commonDeleteWithContext=c=>Nn(this,void 0,void 0,function*(){yield G1(this.runtimeMetaManager,c)}),this.resetWithContext=()=>Nn(this,void 0,void 0,function*(){yield z1(this.runtimeMetaManager)}),this.initLocalAESGCM256Key=()=>Nn(this,void 0,void 0,function*(){return yield WT()}),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.log,zr.PLAIN,{extraProperties:p})}),this.info=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.info,zr.PLAIN,{extraProperties:p})}),this.warn=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.warn,zr.PLAIN,{extraProperties:p})}),this.debug=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.debug,zr.PLAIN,{extraProperties:p})}),this.error=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.error,zr.PLAIN,{extraProperties:p})}),this.logWithEncryption=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.log,zr.AESGCM256,{extraProperties:p})}),this.infoWithEncryption=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.info,zr.AESGCM256,{extraProperties:p})}),this.debugWithEncryption=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.debug,zr.AESGCM256,{extraProperties:p})}),this.warnWithEncryption=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.warn,zr.AESGCM256,{extraProperties:p})}),this.errorWithEncryption=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.error,zr.AESGCM256,{extraProperties:p})}),this.logWithoutCache=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.log,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.infoWithoutCache=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.info,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.warnWithoutCache=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.warn,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.debugWithoutCache=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.debug,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.errorWithoutCache=(c,l,p)=>Nn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Bn.error,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.getLogs=c=>{const l=this.runtimeMetaManager.logManager;return l?l.filterStore(c):new Map},this.report=(...c)=>((l,p,h={})=>{return void 0,void 0,b=function*(){var g,v;const S=null!==(g=h.sampleRate)&&void 0!==g?g:1;if(Math.random()>S)return;if(wS(p)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const b=Object.assign({message:Object.assign({strMsg:p},h.extraMsg),time:QT(Date.now())},h.extraData);return!(null===(v=h?.tags)||void 0===v)&&v.length&&(b.tags=h?.tags),DS([{messages:JSON.stringify(b),meta:XC}],l,h.xhrOptions)},new((S=void 0)||(S=Promise))(function(E,I){function _(T){try{A(b.next(T))}catch(M){I(M)}}function w(T){try{A(b.throw(T))}catch(M){I(M)}}function A(T){var M;T.done?E(T.value):(M=T.value,M instanceof S?M:new S(function(P){P(M)})).then(_,w)}A((b=b.apply(undefined,[])).next())});var S,b})(this.runtimeMetaManager,...c),this.reportByHttps=(c,l)=>Nn(this,void 0,void 0,function*(){yield this.commonReportWithContext(c,l)}),this.deleteLog=c=>Nn(this,void 0,void 0,function*(){yield this.commonDeleteWithContext(c)}),this.deleteAll=()=>Nn(this,void 0,void 0,function*(){yield this.resetWithContext()});const{runtimeMetaManager:a}=o;this.runtimeMetaManager=a}}return t.init=i=>Nn(void 0,void 0,void 0,function*(){const{databaseName:o="laplace-default-db"}=i,a=new rR(o),c=new ZC,l=new $1(Object.assign(Object.assign(Object.assign({},iV),i),{idbManager:a,logManager:c}));ca(l,ua.beforeInit),yield c.syncFromIDB(l.idbManager);const p=new t({runtimeMetaManager:l});return ca(l,ua.afterInit),p}),t})();class aV extends CS{constructor(i){super(),this.config={verbose:!1},this.beforeLog=(o,a)=>{const{verbose:c}=this.config;switch(c&&console.log("beforeLog, ","state: ",a,"meta: ",o),a.logLevel){case Bn.error:console.error(a.message);break;case Bn.warn:console.warn(a.message);break;case Bn.log:console.log(a.message);break;case Bn.debug:console.debug(a.message);break;case Bn.info:console.info(a.message)}},this.afterLog=(o,a)=>{const{verbose:c}=this.config;c&&console.log("afterLog, ","state: ",a,"meta: ",o)},this.beforeReport=(o,a)=>{const{verbose:c}=this.config;c&&console.log("beforeReport, ","pluginParams: ",a,"meta: ",o)},this.afterReport=(o,a)=>{const{verbose:c}=this.config;c&&console.log("afterReport, ","pluginParams: ",a,"runtimeMetaManager: ",o)},i&&(this.config=i)}}const K1=t=>{const i=[];for(const[o,a]of t)i.push(a);return i};class uV extends CS{constructor(i){super(),this.config={debug:!1},this.debugLog=o=>{const{debug:a}=this.config;a&&console.log(`[AutoCleanLogPlugin]: ${o}`)},this.afterInit=o=>{const{expireBefore:a}=this.config;if(!a)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:c,commonMethods:{commonDelete:l}}=o,p=c.getStore().byTime,h=("function"==typeof a?K1(p).filter(a):K1(p).filter(g=>g.timestamp<a)).map(g=>g.id);l(o,void 0,h),this.debugLog(`afterInit, clean log id: ${h}`)},this.afterReport=(o,{report:a,error:c})=>{if(c)return this.debugLog("error"),void console.error(c);const{cleanAfterReport:l}=this.config;if(!l)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:p}}=o;p(o,void 0,a.ids),this.debugLog(`afterReport, clean log id: ${a.ids}`)},i&&(this.config=i)}}var Q1="Expected a function",lV=/^\s+|\s+$/g,Z1=/^[-+]0x[0-9a-f]+$/i,$p=/^0b[01]+$/i,jg=/^0o[0-7]+$/i,Y1=parseInt,oR="object"==typeof self&&self&&self.Object===Object&&self,X1="object"==typeof Aa&&Aa&&Aa.Object===Object&&Aa||oR||Function("return this")(),pV=Object.prototype.toString,ek=Math.max,tk=Math.min,iI=function(){return X1.Date.now()};function Ql(t){var i=typeof t;return!!t&&("object"==i||"function"==i)}function sI(t){if("number"==typeof t)return t;if("symbol"==typeof(a=t)||function(c){return!!c&&"object"==typeof c}(a)&&"[object Symbol]"==pV.call(a))return NaN;var a;if(Ql(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=Ql(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(lV,"");var o=$p.test(t);return o||jg.test(t)?Y1(t.slice(2),o?2:8):Z1.test(t)?NaN:+t}const iR=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class hV extends CS{constructor(i){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=o=>{var a;return null===(a=this.config.publicTags)||void 0===a?void 0:a.concat(o).filter(c=>c)},this.debugLog=o=>{const{debug:a}=this.config;a&&console.log("[AutoLogErrorPlugin]:",o)},this.ignore=o=>{var a,c,l,p,h;return void 0!==(null===(a=this.config)||void 0===a?void 0:a.maxErrorCount)&&this.errorCount>=(null===(c=this.config)||void 0===c?void 0:c.maxErrorCount)||!(null===(l=this.config)||void 0===l||!l.ignoredErrorMsgKeywords)&&o&&(null===(h=null===(p=this.config)||void 0===p?void 0:p.ignoredErrorMsgKeywords)||void 0===h?void 0:h.some(g=>o?.includes(g)))},this.report=function(t,i,o){var a=!0,c=!0;if("function"!=typeof t)throw new TypeError(Q1);return Ql(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),function(l,p,h){var g,v,S,b,E,I,_=0,w=!1,A=!1,T=!0;if("function"!=typeof l)throw new TypeError(Q1);function M(x){var J=g,Y=v;return g=v=void 0,_=x,b=l.apply(Y,J)}function P(x){var J=x-I;return void 0===I||J>=p||J<0||A&&x-_>=S}function N(){var J,Y,x=iI();if(P(x))return H(x);E=setTimeout(N,(Y=p-((J=x)-I),A?tk(Y,S-(J-_)):Y))}function H(x){return E=void 0,T&&g?M(x):(g=v=void 0,b)}function V(){var Y,x=iI(),J=P(x);if(g=arguments,v=this,I=x,J){if(void 0===E)return _=Y=I,E=setTimeout(N,p),w?M(Y):b;if(A)return E=setTimeout(N,p),M(I)}return void 0===E&&(E=setTimeout(N,p)),b}return p=sI(p)||0,Ql(h)&&(w=!!h.leading,S=(A="maxWait"in h)?ek(sI(h.maxWait)||0,p):S,T="trailing"in h?!!h.trailing:T),V.cancel=function(){void 0!==E&&clearTimeout(E),_=0,g=I=v=E=void 0},V.flush=function(){return void 0===E?b:H(iI())},V}(t,i,{leading:a,maxWait:i,trailing:c})}(()=>{if(null===this.runtimeMetaManager)return;const{autoReport:o}=this.config,{commonMethods:{commonReport:a}}=this.runtimeMetaManager;return a(this.runtimeMetaManager,iR,o)},600,{trailing:!0,leading:!1}),this.afterInit=o=>{if(this.runtimeMetaManager=o,!self.addEventListener)return;const{commonMethods:{commonLog:a}}=o,c=(l,p,h)=>{this.debugLog(h),this.errorCount+=1;try{return function(g){const v=(new TextEncoder).encode(g);return crypto.subtle.digest("SHA-1",v).then(S=>Array.from(new Uint8Array(S)).map(b=>b.toString(16).padStart(2,"0")).join(""))}(l).then(g=>this.hashErrors[g]?"dismissed":(this.hashErrors[g]=!0,a(o,l,this.addPublicTags([].concat(p)),Bn.error,zr.PLAIN,{extraProperties:{messageHash:g}}).then(this.report))).catch(console.error)}catch(g){return console.error(g),Promise.resolve(g)}};try{self.addEventListener("error",l=>{var p,h,g,v,S,b,E;if(!this.ignore(l?.message)){if(l?.target&&(null!==(p=l?.target)&&void 0!==p&&p.src||null!==(h=l?.target)&&void 0!==h&&h.href)){const I=`Load Resource Error in ${null===(g=l?.target)||void 0===g?void 0:g.tagName} element: ${(null===(v=l?.target)||void 0===v?void 0:v.src)||(null===(S=l?.target)||void 0===S?void 0:S.href)}`;return c(I,"RESOURCE_ERROR",l)}{const I=`Javascript Runtime Error in ${l?.filename} (${l?.lineno}:${l?.colno}): ${l?.message}\nStack: ${null!==(E=null===(b=l?.error)||void 0===b?void 0:b.stack)&&void 0!==E?E:l?.stack}`;return c(I,"JS_ERROR",l)}}}),self.addEventListener("unhandledrejection",l=>{var p;if(this.ignore(null===(p=l?.reason)||void 0===p?void 0:p.message))return;let h;const g=l?.reason;return h="string"==typeof g?`Promise Error: ${g}`:g instanceof Error?`Promise Error: ${g.message} ${g.name} ${g.stack}`:"object"==typeof g?`Promise Error with reason: ${xg(g)}`:`Promise Error with unrecognized reason: ${g}`,c(h,"UNHANDLED_PROMISE_REJECTION",l)})}catch(l){console.error(l)}this.debugLog("afterInit, add listener")},i&&(this.config=i),this.config.publicTags=[].concat(i?.publicTags)}}let gc=function(t){return t.DeviceAudioStreamCaptured="device audio stream captured",t.AudioJoinComplete="audio join complete",t.AudioLeaveComplete="audio leave complete",t.SharingAudioStartComplete="sharing audio start complete",t.SharingAudioStopComplete="sharing audio stop complete",t.AudioBridgeReconnectStart="audio bridge reconnect start",t.AudioBridgeReconnectEnd="audio bridge reconnect end",t}({}),Hp=function(t){return t.VBSettingSuccess="video VB setting success",t.VBSettingFailed="init video VB failed",t.VBPreloadSuccess="preload video VB success",t.VBPreloading3S="preload video VB 3s",t.VBPreloading10S="preload video VB 10s",t.StartCaptureVideoSuccess="start capture video success",t.StopCaptureVideoSuccess="stop capture video success",t}({});function Wr(t){return`{E}${t}{/E}`}const sR={enable:!1,enableReport:!1,gatewayEndPoint:"",newGatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},aI=["debug","log","info","print","warn","error"],Gp=(t,i)=>[...t,...i].filter(o=>!!o);let _i=(()=>{class t{static getInstance(){return this.agentInstance||(this.agentInstance=new t),this.agentInstance}constructor(){var o=this,a=this;this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.disableAutoReport=void 0,this.initConfig=function(){var c=Oe(function*(l){let p,h=sR;try{l.logConfig&&(h=JSON.parse(l.logConfig),h.gatewayEndPoint&&(o.reportUrl=h.gatewayEndPoint),h.newGatewayEndPoint&&(o.reportUrl=h.newGatewayEndPoint));const{enable:b,enableReport:E,reportUrl:I,logLevel:_,encryptKeys:w,trackingId:A,accountId:T}=l;if(void 0!==b&&(h={...h,enable:!!b}),void 0!==E&&(h={...h,enableReport:!!E}),I&&(o.reportUrl=I),"string"==typeof _){const M=aI.indexOf(_),P=aI.reduce((N,H,V)=>V<M?{...N,[`${H}`]:!1}:{...N,[`${H}`]:!0},{});h={...h,logLevel:P}}else void 0!==_&&(h={...h,logLevel:_});if(A&&(o.trackingId=A,h={...h,enable:!0,enableReport:!0}),void 0!==w){const M=Array.isArray(w)?w:[w];p=yield Promise.all(M.map(P=>{return(N=P,window.crypto.subtle.importKey("raw",(new TextEncoder).encode(N.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])).then(N=>({usage:ES.PROTECT_LOCAL_KEY,key:N}));var N}))}void 0!==T&&(o.accountId=T)}catch(b){console.error("parse log config error",b)}const g=(new Date).getTime()-6048e5,v=h.enableReport&&o.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:o.trackingId}}:void 0;o.publicTags=["VideoSDK",o.trackingId];const S=[l.debugMode&&new aV({verbose:!1}),new uV({debug:!1,cleanAfterReport:!0,expireBefore:g}),new hV({debug:!1,autoReport:v,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:o.accountId?[...o.publicTags,Wr(o.accountId)]:o.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:l.logEncryptionPubKey,reportUrl:o.reportUrl,externalKeys:p,plugins:S},logConfig:h}});return function(l){return c.apply(this,arguments)}}(),this.handleInitLaplaceSuccess=(c,l)=>{var p;this.laplace=c;const h=ot.get(pf.VSDKLogTrackingId);let g=[];try{g=JSON.parse(h?window.atob(h):"[]")}catch{}g.length>=(null!==(p=l?.trackingCount)&&void 0!==p?p:7)&&g.shift();const v=g.reduce((S,b)=>({...S,[`${b}`]:!0}),{});c.deleteLog(S=>{var b;return!(null!==(b=S.tags)&&void 0!==b&&b.some(E=>v[E]))}),g.push(this.trackingId),ot.set(pf.VSDKLogTrackingId,window.btoa(JSON.stringify(g)),Tt.LocalStorage)},this.init=function(){var c=Oe(function*(l){const{laplaceConfig:p,logConfig:h}=yield o.initConfig(l);return h.enable?(o.logConfig=h,sV.init(p).then(g=>{o.handleInitLaplaceSuccess(g,h)}).catch(g=>{throw{type:bs,reason:"Logger init failed.",error:g}})):Promise.reject({type:ie,reason:"Logger feature is not enabled."})});return function(l){return c.apply(this,arguments)}}(),this.check=c=>{var l,p;return!(!this.checkLaplace()||(null===(l=this.logConfig)||void 0===l||null===(p=l.logLevel)||void 0===p||!p[c])&&(console.warn(`Logger ${c} is not enabled.`),1))},this.log=(c,l,p)=>{if(this.check("log"))try{var h;return null===(h=this.laplace.logWithEncryption(c,Gp(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.logWithExtraProperties=(c,l,p)=>{if(this.check("log"))try{var h;return null===(h=this.laplace.log(c,l,p))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.warn=(c,l,p)=>{if(this.check("warn"))try{var h;return null===(h=this.laplace.warnWithEncryption(c,Gp(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.info=(c,l,p)=>{if(this.check("info"))try{var h;return null===(h=this.laplace.infoWithEncryption(c,Gp(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.debug=(c,l,p)=>{if(this.check("debug"))try{var h;return null===(h=this.laplace.debugWithEncryption(c,Gp(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.error=(c,l,p)=>{if(this.check("error"))try{var h;return null===(h=this.laplace.errorWithEncryption(c,Gp(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.checkLaplace=()=>{var c;return!(null===(c=this.laplace)||void 0===c||!c.log)},this.makeLogger=c=>{var l;const p=Gp(null!==(l=this.publicTags)&&void 0!==l?l:[],c);return{log:(h,g)=>this.log(h,p,g??[]),logWithExtraProperties:(h,g)=>this.logWithExtraProperties(h,p,g),warn:(h,g)=>this.warn(h,p,g??[]),info:(h,g)=>this.info(h,p,g??[]),debug:(h,g)=>this.debug(h,p,g??[]),error:(h,g)=>this.error(h,p,g??[])}},this.reportToGlobalTracing=function(c){var l;let p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.checkLaplace()?null!==(l=a.logConfig)&&void 0!==l&&l.enableReport&&a.reportUrl?function(){try{return!!ot.get(hf.DisableAutoReportLogs)}catch{return!1}}()&&!p?Promise.resolve():a.laplace.reportByHttps(c,{gzip:!1,encrypt:!1,xhrOptions:{url:a.reportUrl},additionalContext:{trackingId:a.trackingId}}):Promise.reject({type:ie,reason:"Please use getLogs to obtain log data and report by yourself."}):Promise.reject({type:ie,reason:"Logger has not been enabled or initialized."})},this.report=function(c,l){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warn";if(a.checkLaplace()&&a.logConfig.enableReport&&a.reportUrl){var h,g,v;const S=Array.isArray(l)?l:[l],b=a.accountId?[...S,Wr(a.accountId)]:S;null===(h=(g=a.makeLogger(b))[`${p}`])||void 0===h||null===(v=h.call(g,c))||void 0===v||v.then(()=>{a.reportToGlobalTracing(S)})}},this.getLogs=(c,l)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const p=c.getState(),{meeting:{meetingNumber:h,userId:g,userEmail:v,userName:S}}=p,b={meetingNumber:h,userId:g,userEmail:v,userName:S},E=this.laplace.getLogs(l),I=[];for(const[,_]of E)I.push({..._,...b});return I},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=Mg()}}return t.agentInstance=void 0,t})();const Bg=_i.getInstance(),aR=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","preInitAudioBridge","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce((t,i)=>{const{type:o,methods:a}=i;return[...t,...a.map(c=>({name:c,type:o}))]},[]),rk=aR.map(t=>t.name),ok=function(t){const i=aR.find(l=>l.name===t);if(i){const{type:l}=i;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];const p=a?.map(h=>Na(h));Bg.makeLogger([l,`${l} Media SDK`]).info(`${t},params:${JSON.stringify(p)}`)}};function wo(t){return new Proxy(t,{get:(i,o)=>"string"==typeof o&&rk.includes(o)?function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];try{Reflect.apply(ok,void 0,[o,...c])}catch{}return Reflect.apply(Reflect.get(i,o),i,c)}:Reflect.get(i,o)})}const AS=_i.getInstance().makeLogger(["Remote Control"]),ik=wo(Ye.getInstance());function zp(t,i,o,a){let{share:{activeNodeId:c,shareQuality:l}}=i;const{share:{isReceiveSharingFromMainSession:p}}=i;o&&(c=o),void 0!==a&&(l=a);const h=jp(i);t.subscribeSharing(c,l,p,h)}class uI{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(i){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new Rn,this.checkerSubscription=On(i).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var i;this.checkerSubject&&(this.checkerSubject.complete(),null===(i=this.checkerSubscription)||void 0===i||i.unsubscribe(),this.checkerSubject=void 0)}}const cI=new uI,uR=new uI;function TS(){return cI.stopCheck()}function RS(){return uR.stopCheck()}function $g(t,i){TS(),RS();const{share:{remoteControllingSsrc:o},meeting:{userId:a}}=t;o&&(cR(),i.takeBackRemoteControlPermission(a,o))}function mc(t,i,o,a,c){return OS.apply(this,arguments)}function OS(){return OS=Oe(function*(t,i,o,a,c){const{share:{isSDKGrabControl:l,isGrabRemoteControl:p}}=o;p||(a.subscribeGrabRemoteControl(t,!0),yield ar(Mt(wl,1).pipe(ne(g=>!!g))));const h=F1(o);h&&(l?(c.resendRemoteControlPositionPDU(),c.updateRemoteControlProperties({os:h.os,isControllerNow:!0,dimension:i&&xC(i)})):i&&c.startRemoteControl(i,h.os,xC(i)))}),OS.apply(this,arguments)}function cR(){AS.log("qr scanning stop"),ik.startRemoteControlQRCheck(!1)}const la=Ot.createAgent(),kr=wo(Ye.getInstance()),_s=Ot.createAgent(),ru=wo(Ye.getInstance());function ns(t){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];throw Error("[Immer] minified error nr: "+t+(o.length?" "+o.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ou(t){return!!t&&!!t[Zo]}function Jl(t){var i;return!!t&&(function(o){if(!o||"object"!=typeof o)return!1;var a=Object.getPrototypeOf(o);if(null===a)return!0;var c=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return c===Object||"function"==typeof c&&Function.toString.call(c)===LS}(t)||Array.isArray(t)||!!t[hI]||!(null===(i=t.constructor)||void 0===i||!i[hI])||pR(t)||da(t))}function vc(t,i,o){void 0===o&&(o=!1),0===Hg(t)?(o?Object.keys:Qg)(t).forEach(function(a){o&&"symbol"==typeof a||i(a,t[a],t)}):t.forEach(function(a,c){return i(c,a,t)})}function Hg(t){var i=t[Zo];return i?i.i>3?i.i-4:i.i:Array.isArray(t)?1:pR(t)?2:da(t)?3:0}function lR(t,i){return 2===Hg(t)?t.has(i):Object.prototype.hasOwnProperty.call(t,i)}function dR(t,i,o){var a=Hg(t);2===a?t.set(i,o):3===a?(t.delete(i),t.add(o)):t[i]=o}function pR(t){return kS&&t instanceof Map}function da(t){return qg&&t instanceof Set}function Wp(t){return t.o||t.t}function qp(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var i=gR(t);delete i[Zo];for(var o=Qg(i),a=0;a<o.length;a++){var c=o[a],l=i[c];!1===l.writable&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[c]})}return Object.create(Object.getPrototypeOf(t),i)}function lI(t,i){return void 0===i&&(i=!1),Gg(t)||ou(t)||!Jl(t)||(Hg(t)>1&&(t.set=t.add=t.clear=t.delete=sk),Object.freeze(t),i&&vc(t,function(o,a){return lI(a,!0)},!0)),t}function sk(){ns(2)}function Gg(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function pa(t){var i=xS[t];return i||ns(18,t),i}function Ds(){return su}function Zl(t,i){i&&(pa("Patches"),t.u=[],t.s=[],t.v=i)}function $n(t){iu(t),t.p.forEach(rs),t.p=null}function iu(t){t===su&&(su=t.l)}function zg(t){return su={p:[],l:su,h:t,m:!0,_:0}}function rs(t){var i=t[Zo];0===i.i||1===i.i?i.j():i.O=!0}function Yl(t,i){i._=i.p.length;var o=i.p[0],a=void 0!==t&&t!==o;return i.h.g||pa("ES5").S(i,t,a),a?(o[Zo].P&&($n(i),ns(4)),Jl(t)&&(t=MS(i,t),i.l||Wg(i,t)),i.u&&pa("Patches").M(o[Zo].t,t,i.u,i.s)):t=MS(i,o,[]),$n(i),i.u&&i.v(i.u,i.s),t!==pI?t:void 0}function MS(t,i,o){if(Gg(i))return i;var a=i[Zo];if(!a)return vc(i,function(l,p){return Kp(t,a,i,l,p,o)},!0),i;if(a.A!==t)return i;if(!a.P)return Wg(t,a.t,!0),a.t;if(!a.I){a.I=!0,a.A._--;var c=4===a.i||5===a.i?a.o=qp(a.k):a.o;vc(3===a.i?new Set(c):c,function(l,p){return Kp(t,a,c,l,p,o)}),Wg(t,c,!1),o&&t.u&&pa("Patches").R(a,o,t.u,t.s)}return a.o}function Kp(t,i,o,a,c,l){if(ou(c)){var p=MS(t,c,l&&i&&3!==i.i&&!lR(i.D,a)?l.concat(a):void 0);if(dR(o,a,p),!ou(p))return;t.m=!1}if(Jl(c)&&!Gg(c)){if(!t.h.F&&t._<1)return;MS(t,c),i&&i.A.l||Wg(t,c)}}function Wg(t,i,o){void 0===o&&(o=!1),t.h.F&&t.m&&lI(i,o)}function PS(t,i){var o=t[Zo];return(o?Wp(o):t)[i]}function hR(t,i){if(i in t)for(var o=Object.getPrototypeOf(t);o;){var a=Object.getOwnPropertyDescriptor(o,i);if(a)return a;o=Object.getPrototypeOf(o)}}function dI(t){t.P||(t.P=!0,t.l&&dI(t.l))}function Zn(t){t.o||(t.o=qp(t.t))}function NS(t,i,o){var a=pR(i)?pa("MapSet").N(i,o):da(i)?pa("MapSet").T(i,o):t.g?function(c,l){var p=Array.isArray(c),h={i:p?1:0,A:l?l.A:Ds(),P:!1,I:!1,D:{},l,t:c,k:null,o:null,j:null,C:!1},g=h,v=au;p&&(g=[h],v=Jg);var S=Proxy.revocable(g,v),b=S.revoke,E=S.proxy;return h.k=E,h.j=b,E}(i,o):pa("ES5").J(i,o);return(o?o.A:Ds()).p.push(a),a}function fR(t,i){switch(i){case 2:return new Map(t);case 3:return Array.from(t)}return qp(t)}var or,su,yc=typeof Symbol<"u"&&"symbol"==typeof Symbol("x"),kS=typeof Map<"u",qg=typeof Set<"u",Kg=typeof Proxy<"u"&&void 0!==Proxy.revocable&&typeof Reflect<"u",pI=yc?Symbol.for("immer-nothing"):((or={})["immer-nothing"]=!0,or),hI=yc?Symbol.for("immer-draftable"):"__$immer_draftable",Zo=yc?Symbol.for("immer-state"):"__$immer_state",LS=""+Object.prototype.constructor,Qg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,gR=Object.getOwnPropertyDescriptors||function(t){var i={};return Qg(t).forEach(function(o){i[o]=Object.getOwnPropertyDescriptor(t,o)}),i},xS={},au={get:function(t,i){if(i===Zo)return t;var c,h,g,o=Wp(t);if(!lR(o,i))return c=t,(g=hR(o,i))?"value"in g?g.value:null===(h=g.get)||void 0===h?void 0:h.call(c.k):void 0;var a=o[i];return t.I||!Jl(a)?a:a===PS(t.t,i)?(Zn(t),t.o[i]=NS(t.A.h,a,t)):a},has:function(t,i){return i in Wp(t)},ownKeys:function(t){return Reflect.ownKeys(Wp(t))},set:function(t,i,o){var p,h,a=hR(Wp(t),i);if(a?.set)return a.set.call(t.k,o),!0;if(!t.P){var c=PS(Wp(t),i),l=c?.[Zo];if(l&&l.t===o)return t.o[i]=o,t.D[i]=!1,!0;if(((p=o)===(h=c)?0!==p||1/p==1/h:p!=p&&h!=h)&&(void 0!==o||lR(t.t,i)))return!0;Zn(t),dI(t)}return t.o[i]===o&&"number"!=typeof o&&(void 0!==o||i in t.o)||(t.o[i]=o,t.D[i]=!0,!0)},deleteProperty:function(t,i){return void 0!==PS(t.t,i)||i in t.t?(t.D[i]=!1,Zn(t),dI(t)):delete t.D[i],t.o&&delete t.o[i],!0},getOwnPropertyDescriptor:function(t,i){var o=Wp(t),a=Reflect.getOwnPropertyDescriptor(o,i);return a&&{writable:!0,configurable:1!==t.i||"length"!==i,enumerable:a.enumerable,value:o[i]}},defineProperty:function(){ns(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ns(12)}},Jg={};vc(au,function(t,i){Jg[t]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}}),Jg.deleteProperty=function(t,i){return Jg.set.call(this,t,i,void 0)},Jg.set=function(t,i,o){return au.set.call(this,t[0],i,o,t[0])};var Di=function(){function t(o){var a=this;this.g=Kg,this.F=!0,this.produce=function(c,l,p){if("function"==typeof c&&"function"!=typeof l){var h=l;l=c;var g=a;return function(w){var A=this;void 0===w&&(w=h);for(var T=arguments.length,M=Array(T>1?T-1:0),P=1;P<T;P++)M[P-1]=arguments[P];return g.produce(w,function(N){var H;return(H=l).call.apply(H,[A,N].concat(M))})}}var v;if("function"!=typeof l&&ns(6),void 0!==p&&"function"!=typeof p&&ns(7),Jl(c)){var S=zg(a),b=NS(a,c,void 0),E=!0;try{v=l(b),E=!1}finally{E?$n(S):iu(S)}return typeof Promise<"u"&&v instanceof Promise?v.then(function(w){return Zl(S,p),Yl(w,S)},function(w){throw $n(S),w}):(Zl(S,p),Yl(v,S))}if(!c||"object"!=typeof c){if(void 0===(v=l(c))&&(v=c),v===pI&&(v=void 0),a.F&&lI(v,!0),p){var I=[],_=[];pa("Patches").M(c,v,I,_),p(I,_)}return v}ns(21,c)},this.produceWithPatches=function(c,l){if("function"==typeof c)return function(v){for(var S=arguments.length,b=Array(S>1?S-1:0),E=1;E<S;E++)b[E-1]=arguments[E];return a.produceWithPatches(v,function(I){return c.apply(void 0,[I].concat(b))})};var p,h,g=a.produce(c,l,function(v,S){p=v,h=S});return typeof Promise<"u"&&g instanceof Promise?g.then(function(v){return[v,p,h]}):[g,p,h]},"boolean"==typeof o?.useProxies&&this.setUseProxies(o.useProxies),"boolean"==typeof o?.autoFreeze&&this.setAutoFreeze(o.autoFreeze)}var i=t.prototype;return i.createDraft=function(o){var l;Jl(o)||ns(8),ou(o)&&(ou(l=o)||ns(22,l),o=function p(h){if(!Jl(h))return h;var g,v=h[Zo],S=Hg(h);if(v){if(!v.P&&(v.i<4||!pa("ES5").K(v)))return v.t;v.I=!0,g=fR(h,S),v.I=!1}else g=fR(h,S);return vc(g,function(b,E){var I,_;v&&(_=b,(2===Hg(I=v.t)?I.get(_):I[_])===E)||dR(g,b,p(E))}),3===S?new Set(g):g}(l));var a=zg(this),c=NS(this,o,void 0);return c[Zo].C=!0,iu(a),c},i.finishDraft=function(o,a){var c=(o&&o[Zo]).A;return Zl(c,a),Yl(void 0,c)},i.setAutoFreeze=function(o){this.F=o},i.setUseProxies=function(o){o&&!Kg&&ns(20),this.g=o},i.applyPatches=function(o,a){var c;for(c=a.length-1;c>=0;c--){var l=a[c];if(0===l.path.length&&"replace"===l.op){o=l.value;break}}c>-1&&(a=a.slice(c+1));var p=pa("Patches").$;return ou(o)?p(o,a):this.produce(o,function(h){return p(h,a)})},t}(),Ai=new Di,B=Ai.produce;Ai.produceWithPatches.bind(Ai),Ai.setAutoFreeze.bind(Ai),Ai.setUseProxies.bind(Ai),Ai.applyPatches.bind(Ai),Ai.createDraft.bind(Ai),Ai.finishDraft.bind(Ai);const FS={ssrc:0,status:_t.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Ei.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isChromeExtensionInstalled:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:bn.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isFullHDVideoShareEnabled:!1,userSsrcMapping:{},statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}}},mR=mr({[`${ky}`]:B((t,i)=>{let{payload:o}=i;t.sharePrivilege=o}),[`${Qa}`]:B((t,i)=>{let{payload:o}=i;t.isRemoteSharingActive=1===o.bStatus,t.activeNodeId=o.activeNodeID,t.activeSsrc=o.ssrc}),[`${Io}`]:B((t,i)=>{let{payload:o}=i;t.isReceiveSharing=o}),[`${Ja}`]:B((t,i)=>{let{payload:o}=i;t.isChromeExtensionInstalled=o}),[`${f1}`]:B((t,i)=>{let{payload:o}=i;t.shareDimension={...o}}),[`${wi}`]:B((t,i)=>{let{payload:o}=i;t.status=o}),[`${g1}`]:B((t,i)=>{let{payload:o}=i;t.ssrc=o}),[`${eT}`]:B((t,i)=>{let{payload:o}=i;t.shareQuality=o}),[`${Ly}`]:B((t,i)=>{let{payload:o}=i;t.receivedShareDimension={...o}}),[`${iT}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlledUserList.includes(o)||t.remoteControlledUserList.push(o)}),[`${ng}`]:B((t,i)=>{let{payload:o}=i;const a=t.remoteControlledUserList.indexOf(o);a>=0&&t.remoteControlledUserList.splice(a,1)}),[`${eg}`]:B((t,i)=>{let{payload:o}=i;t.isGrabRemoteControl=o,!1===o&&(t.remoteControlViewportDomSelector=void 0)}),[`${tT}`]:B((t,i)=>{let{payload:o}=i;t.isSDKGrabControl=o}),[`${Za}`]:B((t,i)=>{let{payload:o}=i;t.isReceiveSharingFromMainSession=o}),[`${Ll}`]:B((t,i)=>{let{payload:o}=i;t.isSharingToBreakoutRoom=o}),[`${xy}`]:B((t,i)=>{let{payload:o}=i;t.isSharingWithSecondCamera=o}),[`${nT}`]:B((t,i)=>{let{payload:o}=i;t.secondCameraId=o}),[`${xl}`]:B((t,i)=>{let{payload:o}=i;t.isRequireReadReceipt=o}),[`${wp}`]:B((t,i)=>{let{payload:o}=i;t.isOptimizedForSharedVideo=o}),[`${Fy}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${Fl}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${tg}`]:B((t,i)=>{let{payload:o}=i;t.capturedEnsuredCanvas.includes(o)||t.capturedEnsuredCanvas.push(o)}),[`${rT}`]:B((t,i)=>{let{payload:o}=i;t.renderedEnsuredCanvas.includes(o)||t.renderedEnsuredCanvas.push(o)}),[`${_p}`]:B((t,i)=>{let{payload:o}=i;t.remoteControllingSsrc=o}),[`${Dp}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlApprovedSsrc=o}),[`${oT}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlAppDownloadUrl=o}),[`${Vl}`]:B((t,i)=>{let{payload:o}=i;(t.remoteControlAppInstallStatus!==bn.Installed||bn.Unknown)&&(t.remoteControlAppInstallStatus=o)}),[`${Yi}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlAppLaunchSheme=o}),[`${iC}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,ssrc:c}=o;Object.assign(t.userSsrcMapping,{[`${a}`]:c})}),[`${Vy}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t,o)}),[`${rc}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlViewportDomSelector=o}),[`${sC}`]:B((t,i)=>{let{payload:o}=i;t.isFullHDVideoShareEnabled=o}),[`${aC}`]:()=>({...FS})},FS),vR={remoteControlEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{meetingOptions:o,rcAutoDelete:a,jwtRc:c,opRc:l}}=i;return Vy({isRemoteControlEnabled:o?.isRemoteControlEnbaled&&l&&1===c,isEnableAutoDeleteRcApp:1===a})})),remoteControlEpics1:(t,i)=>Ce(t,16391).pipe(ae(o=>{const{payload:{body:{bOn:a,sendID:c,receiveID:l}}}=o,{meeting:{userId:p},share:{status:h,activeNodeId:g,isGrabRemoteControl:v}}=i.value,S=[];if(h===_t.End&&S.push(_p(0)),h!==_t.End)if(po(p,c))if(a){TS(),RS(),h===_t.Paused&&(_s.resumeSharing(),ru.resumeDesktopSharing(),S.push(wi(_t.Sharing))),S.push(_p(l));const E=Yt(i.value).find(I=>po(I.userId,l));E&&S.push(iC({userId:E.userId,ssrc:l}))}else S.push(_p(0));else{var b;const E=null===(b=Yt(i.value))||void 0===b?void 0:b.find(I=>po(I.userId,c));E&&(S.push(iC({userId:E.userId,ssrc:c})),F(SA,{userId:E.userId,displayName:E.displayName,isSharingEntireScreen:ru.isSharingEntireScreen()}))}else if(!l||po(l,p)){const E=Ve(i.value);if(!Pr(E.userRole)&&!Re.isAndroidOrIOSBrowser){const I=c&&po(g,c);a?(S.push(iT(g)),I&&(v||_s.subscribeGrabRemoteControl(g,!0))):(S.push(ng(g)),I&&(v&&(_s.subscribeGrabRemoteControl(g,!1),S.push(eg(!1)),F(wl,!1)),ru.updateRemoteControlProperties({isControllerNow:!1}))),F(Mf,a)}}return ve(S)})),remoteControlEpics2:(t,i)=>Ce(t,16395).pipe(Pe(i),ne(o=>{let[a,c]=o;return a.payload.body.id===c.meeting.userId}),ye(o=>{let[a]=o;const{payload:{body:{bOn:c}}}=a;return ru.updateRemoteControlProperties({isControllerNow:c}),F(wl,c),eg(c)})),remoteControlEpics3:t=>Qe(t,[he.StartRemoteControlSuccess,he.StartRemoteControlFailed,he.CancelRemoteControlSuccess]).pipe(sa(i=>i.payload.type===he.StartRemoteControlSuccess?(F(mA),tT(!0)):i.payload.type===he.CancelRemoteControlSuccess?tT(!1):void(i.payload.type===he.StartRemoteControlFailed&&F(N0)))),remoteControlEpics4:t=>Qe(t,[he.RemoteControlCopiedTextNotify,he.RemoteControlPasteTextLengthOverflow]).pipe(Te(i=>{if(i.payload.type===he.RemoteControlCopiedTextNotify){const{payload:{data:o}}=i;F(hy,{content:o.data,x:o.x,y:o.y})}else F(hy,{error:"length of pasted text is too long"})}),We(Se)),remoteControlEpics5:(t,i)=>Ce(t,4342).pipe(ne(o=>0===o.payload.body.result),ae(o=>{const{payload:{body:{downloadUrl:a,ssrc:c,urlScheme:l}}}=o,{share:{remoteControlApprovedSsrc:p,status:h}}=i.value,g=[],{isMacOS:v}=Re;if(h!==_t.End){if(!p||p===c){TS();try{const _=JSON.parse(a||"{}");g.push(oT(v?_.macDownloadUrl:_.winDownloadUrl))}catch(_){console.warn("unsupported JSON string",_)}}const S={},b=Yt(i.value).find(_=>po(_.userId,c));b&&Object.assign(S,{controllerName:Mn(b.displayName)}),Object.assign(S,{ssrc:c});const{deviceId:E}=ru.getShareStreamInfo();E&&Object.assign(S,{DeviceID:E});const I=`${l}&${new URLSearchParams(S).toString()}`;g.push(Yi(I),Vl(bn.Unknown)),F(L0,I)}return ve(g)})),remoteControlEpics6:t=>t.pipe(Me(`${rC}`),ae(()=>cI.startCheck(1e4).pipe(ye(()=>(F(Xu,bn.Unknown),Vl(bn.Unknown)))))),remoteControlEpics7:(t,i)=>t.pipe(Me(`${Ul}`),ne(()=>{const{share:{remoteControlAppInstallStatus:o}}=i.value;return o===bn.Installed}),ae(()=>uR.startCheck(12e4).pipe(ae(()=>{F(Xu,Xv.Unlaunched);const{share:{remoteControlApprovedSsrc:o,isEnableAutoDeleteRcApp:a},meeting:{userId:c}}=i.value,l=[],{isMacOS:p}=Re;return o&&(_s.remoteControlConsent(Yv.CacheClean,o,c,{...ru.getShareStreamInfo(),platform:p?"mac":"win"},a),l.push(Yi(""),Dp(0))),ve(l)})))),remoteControlEpics8:(t,i)=>t.pipe(Me(`${Yi}`),ne(o=>!!o.payload),ae(o=>{const{payload:a}=o,c=[];let l;if(a){(function(h){if(!h.startsWith("zoomprc://"))return;const g=Pa("__ZOOM_SDK_RC_APP_SCHEME_@__");let v=document.getElementById(g);v||(v=document.createElement("iframe"),v.id=g,v.style.display="none",document.body.appendChild(v)),v.contentWindow.location.href=h})(a),c.push(Ul());const p=performance.now();document.hasFocus()?l=it(25).pipe(Fd(()=>{const h=performance.now()-p<500;return h||F(Xu,bn.Uninstalled),h&&i.value.share.remoteControlAppInstallStatus===bn.Unknown}),st(()=>{const h=performance.now()-p,g=[];return document.hasFocus()||(h>75?g.push(rC()):TS(),F(Xu,bn.Installed),g.push(Vl(bn.Installed),Ul())),ve(g)}),function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return function(v){return zh(v,Vt.apply(void 0,Vi([],di(h))))}}(Vl(bn.Uninstalled))):(F(Xu,bn.Unknown),c.push(Vl(bn.Unknown)))}return l?Kn(l,ve(c)):ve(c)})),remoteControlEpics9:(t,i)=>Ce(t,16428).pipe(ae(()=>(F(Pf,yl.Ended),$g(i.value,_s),ve([Yi(""),Dp(0)])))),remoteControlEpics10:(t,i)=>t.pipe(Me(`${wi}`),ne(o=>{const{share:{remoteControllingSsrc:a,remoteControlApprovedSsrc:c}}=i.value;return!(o.payload!==_t.End||!a&&!c)}),Te(()=>{const{share:{remoteControllingSsrc:o,remoteControlApprovedSsrc:a,isEnableAutoDeleteRcApp:c},meeting:{userId:l}}=i.value,{isMacOS:p}=Re;o&&$g(i.value,_s),a!==o&&_s.remoteControlConsent(Yv.Decline,a,l,{...ru.getShareStreamInfo(),platform:p?"mac":"win"},c)}),We(Se)),remoteControlEpics11:(t,i)=>Ce(t,16430).pipe(ae(()=>{return TS(),RS(),F(Xu,Xv.Launched),i.value.share.status!==_t.End&&(o=i.value,a=ru,(c=Oe(function*(l){const{media:{assetsPath:p}}=l,h=`${p}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise((g,v)=>{AS.log(`load qr scanner script start. url:${h}`),Lp(h,()=>{AS.log("load qr scanner script done."),g("")},v)})}),function(l){return c.apply(this,arguments)})(o).then(()=>{AS.log("qr scanning start"),a.startRemoteControlQRCheck(!0)})),ve([Yi(""),Dp(0)]);var o,a,c})),remoteControlEpics12:t=>Qe(t,he.CurrentDesktopSharingWidthHeight).pipe(Te(()=>{_s.syncSharedContentMetaWithRcApp(ru.getShareStreamInfo())}),We(Se)),remoteControlEpics13:(t,i)=>Qe(t,he.SendRemoteControlQrCode).pipe(Te(o=>{const{payload:{data:a}}=o,{share:{status:c}}=i.value;c!==_t.End&&Array.isArray(a)&&a.length>0&&a.forEach(l=>{null!=l&&l.startsWith("zrc_")&&_s.sendRemoteControlAuth(l)})}),We(Se)),remoteControlEpics14:t=>Ce(t,16434).pipe(Te(i=>{const{payload:{body:{result:o}}}=i;0===o&&(cR(),F(Pf,yl.Started))}),We(Se)),remoteControlEpics15:(t,i)=>Ce(t,yn).pipe(ne(o=>{var a,c;const{meeting:{userId:l},share:{remoteControlledUserList:p}}=i.value,{payload:{body:h}}=o;return p.length>0&&((null===(a=h.update)||void 0===a?void 0:a.some(g=>g.id!==l&&!1===g.bShareOn))||(null===(c=h.remove)||void 0===c?void 0:c.some(g=>g.id!==l)))}),ae(o=>{var a,c,l,p;const{payload:{body:h}}=o,{share:{remoteControlledUserList:g,activeNodeId:v,isGrabRemoteControl:S},meeting:{userId:b}}=i.value,E=(null!==(a=null===(c=h.update)||void 0===c?void 0:c.filter(_=>_.id!==b&&!1===_.bShareOn))&&void 0!==a?a:[]).concat(null!==(l=null===(p=h.remove)||void 0===p?void 0:p.filter(_=>_.id!==b))&&void 0!==l?l:[]),I=[];return g.forEach(_=>{E.find(w=>w.id===_)&&(I.push(ng(_)),_===v&&S&&(I.push(eg(!1)),F(wl,!1)))}),ve(I)})),remoteControlEpics16:(t,i)=>t.pipe(Me(`${er}`),Te(()=>{const{share:{remoteControllingSsrc:o,status:a}}=i.value;a===_t.Sharing&&o&&F(Pf,yl.Ended)}),We(Se))},fV=qr({epics0:(t,i)=>Ce(t,yi).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.lockShare)}),Pe(i),Te(o=>{let[a,c]=o;const{share:{sharePrivilege:l}}=c,{payload:{body:{lockShare:p}}}=a;l!==p&&F(vA,p)}),ye(o=>{let[a]=o;return ky(a.payload.body.lockShare)})),epics1:t=>Ce(t,20227).pipe(ye(i=>g1(i.payload.body.ssrc))),epics2:(t,i)=>Ce(t,20225).pipe(Pe(i),ne(o=>{let[a,c]=o;const{payload:{body:l}}=a,{share:{isReceiveSharingFromMainSession:p}}=c;return!p||p&&l.fromMainSession}),ye(o=>{let[a,c]=o;const{share:{isReceiveSharing:l,activeNodeId:p,isReceiveSharingFromMainSession:h},breakoutRoom:g}=c,{payload:{body:v}}=a;if(l&&1===v.bStatus){let S=!1;g?.currentRoom.status===je.InRoom&&g.mainSessionAttendeeList.length>0&&(S=g.mainSessionAttendeeList.findIndex(b=>b.userId===p)>-1),la.unsubscribeSharing(p,S),zp(la,c,v.activeNodeID),kr.switchSharingSource(v.ssrc,h),F(py,{userId:v.activeNodeID})}else if(1===v.bStatus){const S={activeUserId:v.activeNodeID,isActive:!0};h&&Object.assign(S,{isFromMainSession:!0}),F(R0,S)}else if(l){const S={activeUserId:v.activeNodeID,isActive:!1};h&&Object.assign(S,{isFromMainSession:!0}),F(R0,S)}return Qa(v)})),epics3:t=>Qe(t,he.CheckChromeSharingExtensionResponse).pipe(ye(i=>(F(cy,i.payload.data),Ja(i.payload.data)))),epics4:(t,i)=>Qe(t,[he.SharingDesktopStreamHaveAudio,he.SharingDesktopStreamHaveNoAudio]).pipe(ne(o=>o.payload.type!==he.SharingDesktopStreamHaveAudio||!i.value.audio.secondaryAudioMicrophoneId),Pe(i),ye(o=>{let[a,c]=o;const{meeting:{userId:l},share:{isSharingToBreakoutRoom:p,isOptimizedForSharedVideo:h}}=c,{payload:{type:g}}=a;return la.startSharing(l,{bShareToBO:p,bShareAudio:g===he.SharingDesktopStreamHaveAudio,bShareVideo:!!h}),kr.switchSharingMode(h?Zv.VideoMode:Zv.Normal),nC(!1)})),epics5:t=>Qe(t,[he.DesktopSharingError,he.DesktopSharingChromeExtensionUninstalled,he.DesktopSharingPermissionDenied,he.DesktopSharingSystemError]).pipe(ae(i=>{const o=[];let a="";return[he.DesktopSharingPermissionDenied,he.DesktopSharingSystemError].includes(i.payload.type)&&(o.push(nC(!0)),i.payload.type===he.DesktopSharingSystemError?Re.isMacOS&&(a="To use screen share on Chrome, please allow screen recording access in system setting."):a="To use screen share, please allow the permission request."),F(fA,{reason:a}),ve(o)})),epics6:t=>Qe(t,he.CurrentDesktopSharingWidthHeight).pipe(ne(i=>!!i.payload.data),ye(i=>{F(gA,i.payload.data);const{payload:{data:{width:o,height:a}}}=i;return kr.ajustmentSharingCanvas(o,a),f1(i.payload.data)})),epics7:(t,i)=>Qe(t,he.SharingDecodeMaxSize).pipe(ne(o=>!!o.payload.data),Pe(i),sa(o=>{let[a,c]=o;const{share:{shareQuality:l,activeNodeId:p}}=c,{payload:{data:{fps:h}}}=a,g=Number(h);if(l!==g)return zp(la,c,p,g),eT(g)})),epics8:t=>Ce(t,20226).pipe(Te(i=>{var o,a;if(F(Yr,null===(o=i.payload)||void 0===o?void 0:o.body),null!==(a=i.payload)&&void 0!==a&&a.body){const{payload:{body:{width:c,height:l}}}=i;kr.ajustmentReceivedSharingCanvas(c,l)}}),ye(i=>Ly(i.payload.body))),epics9:t=>Qe(t,he.SharingPara).pipe(Te(i=>{var o,a;if(F(Yr,null===(o=i.payload.data)||void 0===o?void 0:o.body),null!==(a=i.payload.data)&&void 0!==a&&a.body){const{payload:{data:{body:{width:c,height:l}}}}=i;kr.ajustmentReceivedSharingCanvas(c,l)}}),ye(i=>{var o;return Ly(null===(o=i.payload.data)||void 0===o?void 0:o.body)})),epics10:(t,i)=>Qe(t,he.UserStopDesktopSharing).pipe(Pe(i),ye(o=>{let[,a]=o;const{meeting:{userId:c},share:{status:l}}=a;return l!==_t.End&&(la.stopSharing(c),kr.stopDesktopSharing(),F(ly)),wi(_t.End)})),epics11:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l}}=c,p=a.payload.body.update;return p&&p.length>0&&p.findIndex(h=>h.id===l&&void 0!==h.bShareOn)>-1}),ae(o=>{let[a,c]=o;const{meeting:{userId:l},share:{status:p,isReceiveSharing:h,activeNodeId:g}}=c,{payload:{body:{update:v}}}=a,S=v.find(I=>I.id===l&&!1===I.bShareOn),b=v.find(I=>I.id===l&&!0===I.bShareOn),E=[];return S&&p!==_t.End&&(la.stopSharing(l),kr.stopDesktopSharing(),E.push(wi(_t.End)),F(O0)),b&&p===_t.End&&(h&&(kr.stopRenderSharing(),la.unsubscribeSharing(g),E.push(Io(!1))),E.push(wi(_t.Sharing))),ve(E)})),epics12:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l}}=c,p=a.payload.body.update;return p&&p.length>0&&p.findIndex(h=>h.id!==l&&void 0!==h.bShareOn)>-1}),ae(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{share:{activeNodeId:p,isReceiveSharing:h}}=c,g=aa(c),v=l.filter(E=>!0===E.bShareOn&&!1===E.bSharePause),S=l.filter(E=>!0===E.bShareOn&&!0===E.bSharePause),b=l.filter(E=>!1===E.bShareOn);return v.length>0&&v.forEach(E=>{-1===g.findIndex(I=>I.userId===E.id)?F($r,E):F(P0,E)}),S.length>0&&S.forEach(E=>{F(M0,E)}),b.length>0&&(b.forEach(E=>{F(Il,E)}),h&&b.some(E=>E.id===p))?Ho(Ce(t,20225).pipe(Ct(1),We(Se)),On(50).pipe(We(Ee("timeout")))).pipe(Ur(()=>{const{share:{activeNodeId:E,isReceiveSharingFromMainSession:I},audio:_}=i.value,w=g.filter(A=>A.userId!==E);if(w.length>0){const A=w[0],{userId:T}=A;return la.unsubscribeSharing(E,I),zp(la,i.value,T),kr.switchSharingSource(T,I),_?.localShareAudioUserMutedList.forEach(M=>{kr.setSharingAudioVolume(T,M.userId!==T||M.muted,M.isFromMainSession)}),F(py,{userId:T}),Vt(Qa({activeNodeID:T,bStatus:1,ssrc:T}))}return Se})):Se})),epics13:(t,i)=>Ce(t,zD).pipe(Pe(i),st(o=>{let[a,c]=o;const{payload:{body:{encryptKey:l,additionalType:p}}}=a,{media:{sharingDecodeStatus:h,sharingEncodeStatus:g},meeting:{confId:v,userId:S,zoomId:b,meetingId:E,meetingNumber:I,isWebinar:_}}=c;return Hl(i).pipe(st(w=>{let A=g;return(!Re.isSupportSendScreenSharing||_&&w&&Pr(w.userRole))&&(A="failed"),Gr("sharing",A,h).pipe(Te(T=>{let[M,P]=T;const N={userId:S,sn:ji(b),confId:v,encryptKey:ji(l),encryptType:p,meetingId:E,meetingNumber:I};if(M&&kr?.updateMediaParams({iVType:Or.SHARING_ENCODE,isFromMainSession:!1,updateParams:N}),P){kr.updateMediaParams({iVType:Or.SHARING_DECODE,isFromMainSession:!1,updateParams:N});const{participants:{attendeesList:H}}=i.value;if(H.length>0){const V=H.map(x=>({userid:x.userId,sn:x.zoomID&&ji(x.zoomID)}));kr.updateUserMediaSN({added:V,isFromMainSession:!1,iVType:Or.SHARING_DECODE})}}}),We(Se))}))})),epics14:(t,i)=>ur(t,20235).pipe(Pe(i),Te(o=>{let[a,c]=o;const{media:{sharingDecodeStatus:l}}=c,{type:p,payload:{body:h}}=a,g=p===`${Ra}`;Gr("sharing","success",l).subscribe(v=>{let[,S]=v;S&&kr.addReceivedSharingChannelType({isFromMainSession:g,...h})})}),We(Se)),epics15:(t,i)=>ur(t,20236).pipe(Pe(i),Te(o=>{let[a,c]=o;const{media:{sharingDecodeStatus:l}}=c,{type:p,payload:{body:{ssrc:h}}}=a,g=p===`${Ra}`;Gr("sharing","success",l).subscribe(v=>{let[,S]=v;S&&kr.removeReceivedSharingChannelType({isFromMainSession:g,ssrc:h})})}),We(Se)),epics16:t=>Qe(t,he.SharingFirstDecodeFrameReceivedSsrc).pipe(ne(i=>!!i.payload.data),Te(i=>{const{payload:{data:{ssrc:o}}}=i;la.sendReceivingSharingReady(o)}),We(Se)),epics17:(t,i)=>Ce(t,20233).pipe(ne(()=>!!i.value.share.isRequireReadReceipt),Te(o=>{const{payload:{body:{bReceiveOk:a}}}=o;a&&F(yA)}),We(Se)),epics18:(t,i)=>Ce(t,yi).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.lockShare)}),ae(o=>{const{payload:{body:{lockShare:a}}}=o,{share:{isOptimizedForSharedVideo:c,isSharingToBreakoutRoom:l},audio:{isSharingAudio:p},meeting:{userId:h}}=i.value,g=[];return a===Ei.MultipleShare&&c&&(la.startSharing(h,{bShareAudio:p,bShareToBO:l,bShareVideo:!1}),kr.switchSharingMode(Zv.Normal),g.push(wp(!1))),ve(g)})),epics19:(t,i)=>Qe(t,he.ShareQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{meeting:{isWebinar:p},media:{sharingEncodeStatus:h,sharingDecodeStatus:g},share:{status:v,isReceiveSharing:S},participants:{xmppAttendeeList:b}}=l;let E=Y0(l).length>0;p&&(E=E||!!b.length);const _=S&&"success"===g;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?v!==_t.End&&"success"===h&&E?(F(k0,c.payload),Fy(c.payload)):Fy(Ys):_?(F(k0,c.payload),Fl(c.payload)):Fl(Ys)}))},vR),os=Ot.createAgent();let Ti=function(t){return t.Add="add",t.List="list",t.Remove="memberremove",t.rename="rename",t.update="UPDATE",t}({}),As=function(t){return t.Open="open",t.Message="message",t.Error="error",t.Close="close",t}({}),Qp=(()=>{class t{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new t),this.xmppInstance}on(o,a){let c=this.eventHandlers.get(o);c||(c=[]),c.push(a),this.eventHandlers.set(o,c)}off(o,a){const c=this.eventHandlers.get(o);if(c){const l=c.filter(p=>p!==a);this.eventHandlers.set(o,l)}}emit(o,a){const c=this.eventHandlers.get(o);c&&c instanceof Array&&c.slice(0).forEach(l=>{try{l(a)}catch(p){console.error(p)}})}sendMessageToRwg(o){this.seq+=1;const a=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(o,{seq:a}))),a}connect(o){this.websocket=new WebSocket(o),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var o;null===(o=this.websocket)||void 0===o||o.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",o=>{this.emit(As.Open,o)}),this.websocket.addEventListener("message",o=>{const{data:a}=o;var c;if(a instanceof ArrayBuffer)0===new Uint8Array(a)[0]&&(null===(c=this.websocket)||void 0===c||c.send(a));else try{this.emit(As.Message,JSON.parse(a))}catch{console.warn("Unsupported format",a)}}),this.websocket.addEventListener("close",o=>{this.emit(As.Close,o)}),this.websocket.addEventListener("error",o=>{this.emit(As.Error,o)}))}join(o){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:o}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(o){return{seq:this.sendMessageToRwg({evt:24578,jids:o||[]})}}sendWebinarMseeage(o,a,c){return{seq:this.sendMessageToRwg({evt:24582,body:{msg:o,jid:a?[a]:[],type:c,bcm:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}})}}sendAnswer(o,a,c){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:a.jid,question_attendeename:a.displayName,question_text:a.questionText,question_id:a.questionId,question_anonymous:a.isAnonymous,question_time:a.questionTime,text:o,isPrivate:c}})}}answerOnline(o,a){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,isLiveStart:a}})}}dismissQuestion(o){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bOpen:!1}})}}deleteQuestion(o){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:o,bDelete:!0}})}}deleteComment(o){return{seq:this.sendMessageToRwg({body:{comment_id:o,bDelete:!0},evt:24616})}}reopenQuestion(o){return{seq:this.sendMessageToRwg({body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bOpen:!0},evt:24590})}}askQuestion(o,a){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3?arguments[3]:void 0;const p=Kd();return{seq:this.sendMessageToRwg({body:{id:p,text:o,isAnonymous:c,bAllowAttendeeViewAllQuestion:l,name:a},evt:24592}),questionId:p}}upOrDownVote(o,a){return{seq:this.sendMessageToRwg({body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bUpVote:a},evt:24598})}}rename(o,a){return{seq:this.sendMessageToRwg({body:{jid:o,displayName:a},evt:24600})}}setSkinTome(o){return{seq:this.sendMessageToRwg({body:{skinTone:o},evt:24618})}}}return t.xmppInstance=null,t})();const Jp=_i.getInstance();let Sc,fI;const Zp=Ot.createAgent();let to=null;function VS(t){switch(t.responseType){case"json":if("response"in t)return t.response;var i=t;return JSON.parse(i.responseText);case"document":return t.responseXML;default:return"response"in t?t.response:(i=t).responseText}}var bc,yR=function(t,i,o,a){void 0===a&&(a="download_load"),this.originalEvent=t,this.xhr=i,this.request=o,this.type=a;var l=i.responseType;this.status=i.status??0,this.responseType=l??"";var p=i.getAllResponseHeaders();this.responseHeaders=p?p.split("\n").reduce(function(v,S){var b=S.indexOf(": ");return v[S.slice(0,b)]=S.slice(b+2),v},{}):{},this.response=VS(i);var g=t.total;this.loaded=t.loaded,this.total=g},Zg=Md(function(t){return function(i,o,a){var c;this.message=i,this.name="AjaxError",this.xhr=o,this.request=a,this.status=o.status,this.responseType=o.responseType;try{c=VS(o)}catch{c=o.responseText}this.response=c}}),SR=function(){function t(i,o){return Zg.call(this,"ajax timeout",i,o),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(Zg.prototype),t}(),uk=ye(function(t){return t.response}),no=((bc=function(t){var i;return i="string"==typeof t?{url:t}:t,new qn(function(o){var a,c,l,p=Vh({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},i),h=p.queryParams,g=p.body,v=p.headers,S=p.url;if(!S)throw new TypeError("url is required");if(h)if(S.includes("?")){var b=S.split("?");if(2<b.length)throw new TypeError("invalid url");l=new URLSearchParams(b[1]),new URLSearchParams(h).forEach(function(te,me){return l.set(me,te)}),S=b[0]+"?"+l}else S=S+"?"+(l=new URLSearchParams(h));var E={};if(v)for(var I in v)v.hasOwnProperty(I)&&(E[I.toLowerCase()]=v[I]);var _=p.crossDomain;_||"x-requested-with"in E||(E["x-requested-with"]="XMLHttpRequest");var A=p.xsrfCookieName,T=p.xsrfHeaderName;if((p.withCredentials||!_)&&A&&T){var M=null!==(c=null===(a=document?.cookie.match(new RegExp("(^|;\\s*)("+A+")=([^;]*)")))||void 0===a?void 0:a.pop())&&void 0!==c?c:"";M&&(E[T]=M)}var P,N=function(te,me){var Ne;if(!te||"string"==typeof te||typeof FormData<"u"&&te instanceof FormData||function(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(te)||function(De){return yI(De,"ArrayBuffer")}(te)||function(De){return yI(De,"File")}(te)||function(De){return yI(De,"Blob")}(te)||function(De){return typeof ReadableStream<"u"&&De instanceof ReadableStream}(te))return te;if(function(De){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(De)}(te))return te.buffer;if("object"==typeof te)return me["content-type"]=null!==(Ne=me["content-type"])&&void 0!==Ne?Ne:"application/json;charset=utf-8",JSON.stringify(te);throw new TypeError("Unknown body type")}(g,E),H=Vh(Vh({},p),{url:S,headers:E,body:N});P=i.createXHR?i.createXHR():new XMLHttpRequest;var V=i.progressSubscriber,x=i.includeDownloadProgress,J=void 0!==x&&x,Y=i.includeUploadProgress,z=void 0!==Y&&Y,U=function(te,me){P.addEventListener(te,function(){var Ne,De=me();null===(Ne=V?.error)||void 0===Ne||Ne.call(V,De),o.error(De)})};U("timeout",function(){return new SR(P,H)}),U("abort",function(){return new Zg("aborted",P,H)});var O=function(te,me){return new yR(me,P,H,te+"_"+me.type)},L=function(te,me,Ne){te.addEventListener(me,function(De){o.next(O(Ne,De))})};z&&[gI,mI,vI].forEach(function(te){return L(P.upload,te,bR)}),V&&[gI,mI].forEach(function(te){return P.upload.addEventListener(te,function(me){var Ne;return null===(Ne=V?.next)||void 0===Ne?void 0:Ne.call(V,me)})}),J&&[gI,mI].forEach(function(te){return L(P,te,ER)});var $=function(te){o.error(new Zg("ajax error"+(te?" "+te:""),P,H))};P.addEventListener("error",function(te){var me;null===(me=V?.error)||void 0===me||me.call(V,te),$()}),P.addEventListener(vI,function(te){var me,Ne,De=P.status;if(De<400){null===(me=V?.complete)||void 0===me||me.call(V);var Be=void 0;try{Be=O(ER,te)}catch(He){return void o.error(He)}o.next(Be),o.complete()}else null===(Ne=V?.error)||void 0===Ne||Ne.call(V,te),$(De)});var j=H.user,Q=H.method,re=H.async;for(var I in j?P.open(Q,S,re,j,H.password):P.open(Q,S,re),re&&(P.timeout=H.timeout,P.responseType=H.responseType),"withCredentials"in P&&(P.withCredentials=H.withCredentials),E)E.hasOwnProperty(I)&&P.setRequestHeader(I,E[I]);return N?P.send(N):P.send(),function(){P&&4!==P.readyState&&P.abort()}})}).get=function(t,i){return no({method:"GET",url:t,headers:i})},bc.post=function(t,i,o){return no({method:"POST",url:t,body:i,headers:o})},bc.delete=function(t,i){return no({method:"DELETE",url:t,headers:i})},bc.put=function(t,i,o){return no({method:"PUT",url:t,body:i,headers:o})},bc.patch=function(t,i,o){return no({method:"PATCH",url:t,body:i,headers:o})},bc.getJSON=function(t,i){return uk(no({method:"GET",url:t,headers:i}))},bc),bR="upload",ER="download",gI="loadstart",mI="progress",vI="load",CR=Object.prototype.toString;function yI(t,i){return CR.call(t)==="[object "+i+"]"}const ck=_i.getInstance(),SI=t=>{const{meeting:{encryptedRWC:i,encryptedGEORWC:o,discardedRwcList:a,meetingOptions:c}}=t;let l=[];return c?.isEnableGeoFenceRWC&&o&&o?.length>0?l=o.filter(p=>!a.includes(p.rwc)).reduce((p,h)=>{const{dl:g,rwc:v,rwcToken:S}=h,b=p.find(E=>E.dl===g);if(b)b.items.push({rwc:v,rwcToken:S});else{const E={dl:g,items:[]};E.items.push({rwc:v,rwcToken:S}),p.push(E)}return p},[]):i&&(l=[{dl:0,items:Object.keys(i).map(p=>({rwc:p,rwcToken:i[p]}))}]),l},Yg=t=>Kn(...t.map(i=>0===i.dl?ve(i.items):On(i.dl).pipe(ae(()=>ve(i.items))))),US=()=>Ho(Mt(Gu,1),Mt(Pn,1),Mt(So,1)),IR=(t,i)=>t.pipe(Me(`${Jd}`),Pe(i),ne(o=>{let[,a]=o;return void 0!==a.meeting.encryptedRWC||void 0!==a.meeting.encryptedGEORWC&&a.meeting.encryptedGEORWC.length>0}),st(o=>{let[,a]=o;const{meeting:{ts:c,auth:l,meetingNumber:p,meetingOptions:h,meetingId:g,userName:v},breakoutRoom:S}=a,b=h?.isEnableGeoFenceRWC,E=SI(a);if(E.length>0){const I={serversLength:E.reduce((w,A)=>w+A.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0,retryCounts:0};let _;return b&&(_=new tl,Yg(E).subscribe(w=>{var A;return null===(A=_)||void 0===A?void 0:A.next(w)})),(b?_:Yg(E)).pipe(Ke(US()),Fd(()=>{const{meeting:{meetingStatus:w,meetingId:A}}=i.value,T=w===wt.Initial&&!!A&&I.pingFailedServerList.length<I.serversLength&&I.serversLength>0;return!T&&_&&_.complete(),T}),Te(()=>{if(I.pingRwcServerCounts=I.pingRwcServerCounts+1,b&&I.pingRwcServerCounts===I.serversLength){const w=1e3*Math.floor(5*Math.pow(2,I.retryCounts));I.retryCounts=I.retryCounts+1,ck.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry,current rwc list:${JSON.stringify(SI(i.value))},retry counts:${I.retryCounts}, ${JSON.stringify({meetingId:g,meetingNumber:Wr(p),userName:Wr(v)})}`,["Ping RWC Retry"]),On(w).pipe(ye(()=>{const A=SI(i.value);return Object.assign(I,{serversLength:A.reduce((T,M)=>T+M.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0}),A})).subscribe(A=>{Yg(A).subscribe(T=>{_.next(T)})})}}),ae(w=>{const{rwc:A,rwcToken:T}=w,M=((P,N,H,V,x,J)=>{const Y={ts:V,auth:x,rwcToken:H,dmz:1};return J&&Object.assign(Y,{confID:J}),`https://${P}/wc/ping/${N}?${new URLSearchParams(Y).toString()}`})(A,p,T,c,l,S?.currentRoom.boConfId);return no({url:M,crossDomain:mi(M)}).pipe(Ke(US()),ae(P=>{let N={};return N=P.response?{...P.response,rwc:A,fromNginx:!1}:{rwc:A,rwg:A,rwcToken:T,fromNginx:!0},ve([AD(N),Ev()])}),Ur(()=>{const{pingFailedServerList:P,serversLength:N}=I;return P.push(M),P.length===N?(b&&_&&_.complete(),ck.report(`ping rwc error, ${JSON.stringify({meetingId:g,meetingNumber:Wr(p),userName:Wr(v)})}`,["Join Meeting Flow","Ping RWC Error"],"error"),F(Pn,{reason:"connection error",errorCode:Bi.CommonError}),ve([...pc(i.value)])):Se}))}),cs(Lv(performance.now())))}return Se}));let wR=0;const lk=_i.getInstance(),bI={meetingStatus:wt.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",isAudioBridgeEnabled:!0,discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0,sequence:""},enableLongPollingCheckStart:!1,rsPwd:"",chatModerationPolicy:{}},dk=mr({[`${fo}`]:B((t,i)=>{let{payload:o}=i;o.customerKey=t.customerKey||o.customerKey||"",Object.assign(t,o),t.meetingStatus=wt.Initial}),[`${wN}`]:B((t,i)=>{let{payload:o}=i;o.customerKey=t.customerKey||o.customerKey||"",Object.assign(t,o)}),[`${_N}`]:B((t,i)=>{let{payload:o}=i;t.isWindowOpen=o}),[`${BD}`]:B((t,i)=>{let{payload:o}=i;t.signatureType=o.useSDK?"sdk":"api",t.apiKey=o.apiKey,t.signature=o.signature,t.lang=o.language}),[`${DN}`]:B((t,i)=>{let{payload:o}=i;t.ztk=o}),[`${AN}`]:B((t,i)=>{let{payload:o}=i;t.zsk=o}),[`${TN}`]:B((t,i)=>{let{payload:o}=i;t.tk=o.tk,t.mtkGuid=o.mtkGuid}),[`${Lv}`]:B((t,i)=>{let{payload:o}=i;t.pingRWCTimestamp=o}),[`${bt}`]:B((t,i)=>{let{payload:o}=i;t.meetingInfoTimestamp=o}),[`${$i}`]:B((t,i)=>{let{payload:o}=i;t.confId=o.confID,t.conId=o.conID,t.e2eEncrypt=o.e2eEncrypt,t.meetingNumber=parseInt(o.mn,10),t.zoomId=o.zoomID,t.meetingStatus=wt.Joined,t.jid=o.jid,t.xtoken=o.xtoken,t.groups=o.groups,t.svcUrl=o.svcUrl,t.encType=o.encType,t.userGUID=o.userGUID,t.userId=o.userID,t.role=o.role,t.participantID=o.participantID,t.reportDomain=o.reportDomain,t.abToken=o.ABtoken,t.supportLocalAB=!!o.supportLocalAB,o.enableWebTransport&&(t.enableWebtransport=o.enableWebTransport,t.webtransportPort=o.WebTransportPort)}),[`${mn}`]:B((t,i)=>{let{payload:o}=i;if(o.gatewayUser){var a;const{userId:l,sn:p}=o.gatewayUser,h=null===(a=t.gatewayUserList)||void 0===a?void 0:a.find(g=>g.userId===l);var c;h?h.sn=p:null===(c=t.gatewayUserList)||void 0===c||c.push(o.gatewayUser)}else Object.assign(t,o)}),[`${Ze}`]:B((t,i)=>{let{payload:o}=i;t.isHost=o}),[`${tr}`]:B((t,i)=>{let{payload:o}=i;t.isCoHost=o}),[`${go}`]:B((t,i)=>{let{payload:o}=i;t.isOnHold=o}),[`${Qr}`]:B((t,i)=>{let{payload:o}=i;t.isMeetingReset=o}),[`${zo}`]:B((t,i)=>{let{payload:o}=i;t.audioVideoBeforeOnHold=o}),[`${cl}`]:B((t,i)=>{let{payload:o}=i;t.currentUserAudioBeforeReset=o}),[`${vn}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserMutedBeforeReset=o}),[`${Rr}`]:B((t,i)=>{let{payload:o}=i;t.meetingStatus=o}),[`${Hi}`]:B((t,i)=>{let{payload:o}=i;t.region=o.region,t.network=o.network}),[`${lt}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserStartVideoBeforeReset=o}),[`${Yd}`]:B((t,i)=>{let{payload:o}=i;t.joinMeetingTimeStamp=o}),[`${$D}`]:B((t,i)=>{let{payload:o}=i;t.activeAppInfo=o}),[`${Qs}`]:B((t,i)=>{let{payload:o}=i;t.idleStartTime=o}),[`${jn}`]:B((t,i)=>{let{payload:o}=i;t.sessionIdleTimeoutMins=o}),[`${Xd}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeEnabled=o}),[`${ll}`]:B((t,i)=>{var o,a;let{payload:c}=i;const l=null===(o=t.encryptedGEORWC)||void 0===o||null===(a=o.find(h=>h.rwc===c))||void 0===a?void 0:a.dc;if(l){var p;const h=null===(p=t.encryptedGEORWC)||void 0===p?void 0:p.filter(g=>g.dc===l);h&&t.discardedRwcList.some(g=>h?.findIndex(v=>v.rwc===g)>=0)&&t.discardedRwcList.push(...h.map(g=>g.rwc)),t.discardedRwcList.push(c)}}),[`${Js}`]:B((t,i)=>{let{payload:o}=i;t.sharePronounType=o}),[`${ep}`]:B((t,i)=>{let{payload:o}=i;t.stayAwake=o}),[`${YE}`]:B((t,i)=>{let{payload:o}=i;t.failover.joinMeetingSuccessTimestamp=o}),[`${La}`]:B(t=>{Object.assign(t.failover,{...bI.failover,count:t.failover.count,joinMeetingSuccessTimestamp:t.failover.joinMeetingSuccessTimestamp})}),[`${dl}`]:B((t,i)=>{let{payload:o}=i;const{count:a,reason:c,interval:l,sequence:p}=o;t.failover.count=a,t.failover.reason=c,t.failover.interval=l,t.failover.isCurrentFailoverRecorded=!0,t.failover.sequence=p}),[`${ju}`]:B((t,i)=>{let{payload:o}=i;t.quicklyLeave=o}),[`${xv}`]:B((t,i)=>{let{payload:o}=i;t.isEnableZmkFromRWG=o}),[`${Ae}`]:(t,i)=>{let{payload:o}=i;const{isFailover:a}=o,c={isMeetingReset:!0,apiKey:t.apiKey,signatureType:t.signatureType,signature:t.signature,lang:t.lang,proxy:1,stayAwake:t.stayAwake};return a&&Object.assign(c,{currentUserAudioBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.audio:o.audio,isCurrentUserMutedBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.muted:o.muted,isCurrentUserStartVideoBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.video:o.video,meetingNumber:t.meetingNumber,userName:t.userName,passWord:t.passWord,userEmail:t.userEmail,sdkUrl:t.sdkUrl,sdkOrigin:t.sdkOrigin,cv:t.cv,zsk:t.zsk,ztk:t.ztk,idleStartTime:t.idleStartTime,sessionIdleTimeoutMins:t.sessionIdleTimeoutMins,customerKey:t.customerKey,failover:t.failover,stayAwake:t.stayAwake,quicklyLeave:t.quicklyLeave}),{...bI,...c}}},bI),gk=qr({meetingMainEpics0:(t,i)=>Ce(t,0).pipe(Te(o=>{var a;if("READY"===(null===(a=o.payload.body)||void 0===a?void 0:a.status)){const{meeting:{zlkJwtToken:c,signatureType:l,sign:p,passWord:h,isHost:g,isOriginHost:v,ztk:S,zsk:b,tk:E,userEmail:I},breakoutRoom:_}=i.value,w=c?{zlkJwtToken:c}:{signType:l,sign:p};if(h&&""!==h&&(c?Object.assign(w,{mpwd:Mn(h)}):g&&v||Object.assign(w,{mpwd:h})),_?.currentRoom.status===je.Joining){const{currentRoom:{boId:T,boConfId:M,boToken:P}}=_;T&&M&&P&&Object.assign(w,{botk:P})}if(!c){S&&Object.assign(w,{zak:S}),(sessionStorage.getItem(Rt.WebclientZsk)||b)&&Object.assign(w,{zak:b}),E&&Object.assign(w,{tk:E});const T=ot.get(Rt.WebclientWebinarToken);void 0!==T&&Object.assign(w,{tk:T});const M=sessionStorage.getItem(Rt.WebclientRecordingToken);M&&Object.assign(w,{localRecordToken:M}),I&&Object.assign(w,{email:I})}os.sendLaunchParams(w);const A=ot.get(Rt.WebclientMeetingToken);A&&os.joinMeeting(A)}}),We(Se)),meetingMainEpics1:(t,i)=>{return Ce(t,4098).pipe(Pe(i),(o=a=>{let[c,l]=a;const{payload:{body:{res:p,userID:h,zoomID:g,mn:v,participantID:S,meetingtoken:b,role:E}}}=c,{meeting:{userEmail:I,userName:_,isMeetingReset:w,apiKey:A,zsk:T,signatureType:M}}=l;if(ho.Success===p){const{WebclientParticipantId:N,WebclientZoomId:H,WebclientUserEmail:V,WebclientUserName:x,WebclientMeetingToken:J}=Rt;ot.set(H,g,Tt.SessionStorage),ot.set(N,S,Tt.SessionStorage),I&&ot.set(V,I,Tt.SessionStorage),ot.set(x,_,Tt.SessionStorage),b&&ot.set(J,b,Tt.SessionStorage),T&&os.sendSdkKeyToMonitor(M,A,h);const Y=[$i(c.payload.body),Yd(performance.now())];return w&&Y.push(Qr(!1)),(E&Ko.Owner)===Ko.Owner&&(F(Pn,{reason:"dont support assisnt join through widget",errorCode:-1}),os.leaveMeeting()),F(JD,{meetingNumber:v}),ve(Y)}if(ho.MeetingLocked===p)F(Pn,Ks(p));else if(ho.UserFull===p)F(Pn,Object.assign({},Ks(p),{lmUrl:c.payload.body.lmURL}));else if(ho.MeetingIsOver===p)F(Pn,Ks(p));else if(ho.MMRIBReject===p)F(Pn,Ks(p));else if(ho.MMRConfParticipantExists===p)F(Pn,Ks(p));else if([ho.UserHasBeenRemoved,ho.WebinarBlockedEmail].includes(p))F(Pn,Ks(p));else if(ho.MeetingNotStarted===p){var P;const N=Ks(p),{meeting:{meetingNumber:H,passWord:V,userName:x,userEmail:J,inviteEmail:Y,meetingTopic:z,region:U,network:O,userId:L,lang:$,meetingId:j,participantID:Q,wrInfo:re,meetingInfo:te,isNewJoinFlow:me,enableLongPollingCheckStart:Ne,tid:De,signature:Be,rsPwd:He}}=l;Object.assign(N,{meetingInfo:{meetingNumber:H,password:V,userName:x,userEmail:J,inviteEmail:Y,meetingTopic:z,region:U,network:O,userId:L,lang:$,webEndpoint:Is(),meetingId:j,participantId:Q,wrInfo:Object.assign({},re,{isNew:me}),scheduleInfo:te,enableLongPollingCheckStart:Ne,rid:fc(De),role:Number(null===(P=qs(Be))||void 0===P?void 0:P.role),rsPwd:He}}),F(Pn,N)}else F(Pn,Ks(p));return ve(pc(l,!1))},el(st((a,c)=>o(a)||Se))));var o},meetingMainEpics2:(t,i)=>Ce(t,yi).pipe(Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:l}}=a,{meeting:{zoomId:p,encType:h,gcmSessinKey:g}}=c;if(void 0!==l?.encryptKey&&No.init(p,l.encryptKey,h),void 0!==l?.gatewayKey){const v=Ye.getInstance(),[,S,b]=l.gatewayKey.split(".");v.sendUserNodeList([{userid:Number(S),sn:b&&ji(b)}],g)}return F(s0,l),mn(l)})),meetingMainEpics3:(t,i)=>Ce(t,7939).pipe(Pe(i),ae(o=>{let[a,c]=o;const{payload:{body:l}}=a;if(void 0!==l.reason){if(ka.Reconnect===l.reason)return F(So,CN.WaitingRoomFailover===l.subReason?{reason:nr.OnHold}:{reason:nr.Failover}),Vt(er(zt.NormalCase));ka.KickedByHost===l.reason?F(Gu,{reason:"kicked by host"}):[ka.EndByHost,ka.EndByNone,ka.EndByAdmin,ka.EndByHostStartAnotherMeeting].includes(l.reason)?F(Gu,{reason:"ended by host"}):ka.FreeMeetingTimeout===l.reason?F(Gu,{reason:"free meeting ended"}):[ka.DuplicateSession,ka.MeetingTransfer].includes(l.reason)&&F(Gu,{reason:"duplicated session"})}return c.meeting.isMeetingReset?Se:ve(pc(c,!1))})),meetingMainEpics4:(t,i)=>t.pipe(Me(`${er}`),Pe(i),ae(o=>{let[,a]=o;const c=pc(a,!0);let l;if(a.meeting.zlkJwtToken){const p=function(g){if(g){const{meeting:{topic:v,passWord:S,userName:b,zlkJwtToken:E,lang:I,cv:_,customerKey:w}}=g;return{topic:v,passWord:S,userName:b,zlkJwtToken:E,lang:I,cv:_,customerKey:w}}return null}(a),h={topic:p?.topic,password:null!=p&&p.passWord?encodeURIComponent(p?.passWord):"",userName:p?.userName,zlk:p?.zlkJwtToken,lang:p?.lang,cv:p?.cv,customerKey:p?.customerKey};l=Vt(ul(h)).pipe(Wh(1e3))}else{const p=function(h){var g;const{meeting:{apiKey:v,signature:S,signatureType:b,meetingNumber:E,userName:I,lang:_,passWord:w,userEmail:A,sdkUrl:T,sdkOrigin:M,proxy:P,cv:N,ztk:H,zsk:V,tk:x}}=h;let J=H||sessionStorage.getItem(Rt.WebclientZtk),Y=V||sessionStorage.getItem(Rt.WebclientZsk);const z=1===Number(null===(g=qs(S))||void 0===g?void 0:g.role);return z||(J=Y,Y=""),{apiKey:v,signature:S,signatureType:b,meetingNumber:E,userName:I,lang:_,passWord:w?encodeURIComponent(w):"",userEmail:A,sdkUrl:T,sdkOrigin:M,proxy:P,cv:N,ztk:J,zsk:Y,tk:x||sessionStorage.getItem(Rt.WebclientTk),ulsm:z&&Y?1:0}}(a);l=Vt(vi(p)).pipe(Wh(1e3))}return zh(ve(c),l)})),meetingMainEpics5:t=>ur(t,7940).pipe(Te(i=>{F("MEETING_HOST_CHANGE_INDICATION",i.payload.body.bHost)}),ye(i=>Ze(i.payload.body))),meetingMainEpics6:t=>ur(t,7941).pipe(Te(i=>{F("MEETING_COHOST_CHANGE_INDICATION",i.payload.body.bCoHost)}),ye(i=>tr(i.payload.body))),meetingMainEpics7:t=>ur(t,7945).pipe(Te(i=>{const{payload:{body:{opt:o}}}=i;ot.set(Rt.WebclientOpt,o,Tt.SessionStorage)}),We(Se)),meetingMainEpics8:(t,i)=>Ce(t,7942).pipe(Te(o=>{const{payload:{body:{bHold:a}}}=o;ot.set(Rt.WebclientIsOnHold,a?1:0,Tt.SessionStorage),F(zu,a)}),Pe(i),ae(o=>{let[a,c]=o;const l=[go(a.payload.body.bHold)];if(a.payload.body.bHold){const p=Ve(c);if(p){l.push(zo({audio:p.audio,video:p.bVideoOn,muted:p.muted}));const h=wo(Ye.getInstance());if("computer"===p.audio&&(h.leaveComputerAudio(),os.joinOrLeaveVoip(!1)),p.bVideoOn&&h.stopCaptureVideo(),p.sharerOn&&(os.stopSharing(p.userId),h.stopDesktopSharing(),l.push(wi(_t.End))),c.video&&c.video.subscribedVideoList.length>0&&c.video.subscribedVideoList.forEach(g=>{os.unsubscribeVideo(g)}),c.share&&c.share.isReceiveSharing){const g=c.share.activeNodeId;c.share.remoteControlledUserList.length>0&&(c.share.remoteControlledUserList.forEach(v=>{os.sharingRequestRemoteControl(v,!1)}),ql(c)&&h.stopRemoteControl()),os.unsubscribeSharing(g),h.stopRenderSharing()}}}return ve(l)})),meetingMainEpics9:t=>Ce(t,7954).pipe(ye(i=>Hi(i.payload.body))),meetingMainEpics10:t=>Ce(t,4216).pipe(Te(i=>{F("MEETING_CLAIM_HOST_KEY_RESPONSE",i.payload.body.bresult)}),We(Se)),meetingMainEpics11:(t,i)=>t.pipe(Me(`${Zd}`,`${Un}`),Pe(i),ae(o=>{let[a,c]=o;const l=jA(c),{socket:{zoomSocketStatus:p},meeting:{meetingId:h}}=c;return p===Wt.Connected&&(a.type===`${Zd}`?os.leaveMeeting(l):a.type===`${Un}`&&os.endMeeting()),h&&F(Gu,{}),ve(pc(c,!1))})),meetingMainEpics12:(t,i)=>t.pipe(Me(`${JE}`),Pe(i),ae(o=>{let[a,c]=o;if(a.type===`${JE}`&&c.meeting.meetingNumber&&!c.meeting.zlkJwtToken){const l={mn:c.meeting.meetingNumber.toString(),name:c.meeting.userName,customerKey:c.meeting.customerKey?Mn(c.meeting.customerKey):""},{jbhLeave:p}={jbhLeave:`https://${Ag}/wc/jbhLeave`},h=`${p}/?${new URLSearchParams(l).toString()}`;fetch(h,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return Se})),meetingMainEpics13:t=>Ce(t,2).pipe(Te(()=>{console.warn("Upgrade to latest version to optimize meeting experience")}),We(Se)),meetingMainEpics14:t=>Ce(t,1).pipe(Te(i=>{const{payload:{body:{upgradeVersion:o}}}=i,a=Ks(1e4);if(a&&a.reason){const c=a.reason.replace(/{(\d+)}/g,()=>o);a.reason=c}F(Pn,a)}),We(Se)),meetingMainEpics15:t=>Ce(t,4265).pipe(ye(i=>{const{payload:{body:o}}=i,{nShareType:a}=o;return F(ZD,{userSharePronounType:a}),Js(a)})),meetingMainEpics16:t=>Ce(t,4128).pipe(Te(i=>{const{payload:{body:{meetingtoken:o}}}=i,{WebclientMeetingToken:a}=Rt;o&&ot.set(a,o,Tt.SessionStorage)}),We(Se)),meetingMainEpics17:(t,i)=>t.pipe(Me(`${$i}`),ne(()=>!!i.value.meeting.quicklyLeave),st(()=>pn(window,"beforeunload").pipe(Te(()=>{os.leaveMeeting()}),We(Se)))),meetingMainEpics18:(t,i)=>Ce(t,8025).pipe(ne(o=>!!o.payload.body.Zmk&&!!i.value.meeting.isEnableZmkFromRWG),ye(o=>{const{payload:{body:{Zmk:a}}}=o;return mn({zmk:a})}))},{wakeLockEpic0:(t,i)=>t.pipe(Me(`${$i}`),Pe(i),ne(o=>{let[,a]=o;return!!a.meeting.stayAwake}),Te(Oe(function*(){try{const{isSafari:o,isIOSMobile:a}=Re;to&&to.release().then(()=>{to=null}),"wakeLock"in navigator&&((o||a)&&(yield ar(Ho(pn(document,"click").pipe(Ct(1)),pn(document,"touchend").pipe(Ct(1))))),to=yield navigator.wakeLock.request("screen"),to.addEventListener("release",()=>{}))}catch{}})),st(()=>pn(document,"visibilitychange").pipe(ae(Oe(function*(){if("visible"===document.visibilityState){const{isSafari:o,isIOSMobile:a}=Re;to&&to.release().then(()=>{to=null}),"wakeLock"in navigator&&((o||a)&&(yield ar(Ho(pn(document,"click").pipe(Ct(1)),pn(document,"touchend").pipe(Ct(1))))),to=yield navigator.wakeLock.request("screen"))}else to&&to.release().then(()=>{to=null})})),We(Se)))),wakeLockEpic1:t=>t.pipe(Me(`${ls}`)).pipe(Te(()=>{to&&to.release().then(()=>{to=null})}),We(Se))},{meetingFailoverReportEpic0:(t,i)=>t.pipe(Me(`${fo}`),st(()=>{const o=0===i.value.meeting.failover.joinMeetingSuccessTimestamp&&!!ot.get(Rt.WebclientZoomId);return t.pipe(Me(`${$i}`),Ct(1),ae(()=>{const a=[],{count:c,sequence:l}=ot.get(Rt.WebclientFailoverCount)||{};let{meeting:{failover:{count:p,reason:h,interval:g}}}=i.value;const{meeting:{pingRWCTimestamp:v}}=i.value;if(o){p=c+1,h=zt.RefreshPage,g=0;const E=l?`${l}-${h}`:`${h}`;ot.set(Rt.WebclientFailoverCount,{count:p,sequence:E},Tt.SessionStorage),a.push(dl({count:p,reason:h,interval:g,sequence:E}))}const S=performance.now();let b=`WCL_M, JMCT(${S-v})`;return p>0&&h!==zt.NormalCase&&(b=`${b},FAILOVER(${p},${h},${(g/1e3).toFixed(1)})`),Zp.sendRWGConnectionPerformance(b),a.push(La(),YE(S)),ve(a)}))})),meetingFailoverReportEpic1:(t,i)=>t.pipe(Me(`${er}`),ae(o=>{const{payload:a}=o,{meeting:{failover:{joinMeetingSuccessTimestamp:c,isCurrentFailoverRecorded:l},userGUID:p,userId:h}}=i.value,g=[];if(!l){let{count:v,sequence:S}=ot.get(Rt.WebclientFailoverCount)||{};S=S?`${S}-${a}`:`${a}`,a!==zt.NormalCase&&(v+=1,ot.set(Rt.WebclientFailoverCount,{count:v,sequence:S},Tt.SessionStorage));const b=performance.now()-c;g.push(dl({reason:a,count:v,interval:b,sequence:S,userGUID:p,userId:h}))}return ve(g)}))},{sessionIdleEpic0:(t,i)=>t.pipe(Me(`${$i}`),Pe(i),ne(o=>{let[,a]=o;return void 0!==a.meeting.zlkJwtToken}),st(()=>(Sc&&Sc.complete(),Sc=new Rn,fI=it(6e4).pipe(ye(()=>performance.now())).subscribe(Sc),Sc.pipe(ye(o=>ZE(o)))))),sessionIdleEpic1:t=>t.pipe(Me(`${ls}`)).pipe(Te(()=>{Sc&&(Sc.complete(),fI.unsubscribe())}),We(Se)),sessionIdleEpic2:(t,i)=>t.pipe(Me(`${ZE}`),Pe(i),ae(o=>{var a;let[c,l]=o;const{meeting:{idleStartTime:p,sessionIdleTimeoutMins:h,isOriginHost:g,isWebinar:v},participants:{attendeesList:S,xmppAttendeeList:b},recording:E,breakoutRoom:I}=l,_=c.payload,w=[];if(1!==S.length||v&&0!==b.length||(null==I||null===(a=I.currentRoom)||void 0===a?void 0:a.status)===je.InRoom||E?.cmrStatus===Sr.Start)w.push(Qs(void 0));else if(p){const A=g&&Iy(S[0].userRole)?h:40;_-p>60*A*1e3&&(console.warn(`No active for ${A} minutes, will end the session.`),Jp.report(`Session idle timeout(${A} minutes), end the session automatically!`,["Join Meeting Flow","Session idle"],"warn"),w.push(Un()),On(500).subscribe(()=>{mp()}))}else w.push(Qs(_));return ve(w)})),sessionIdleEpic3:(t,i)=>t.pipe(Me(`${xu}`),ne(o=>[yn,yi].includes(o.payload.evt)&&void 0!==i.value.meeting.idleStartTime),Ht(Ui),ae(()=>{var o;const{participants:{attendeesList:a,xmppAttendeeList:c},recording:l,breakoutRoom:p}=i.value,h=[];return(a.length>1||c.length>0||l?.cmrStatus===Sr.Start||(null==p||null===(o=p.currentRoom)||void 0===o?void 0:o.status)===je.InRoom)&&h.push(Qs(void 0)),ve(h)})),sessionIdleEpic4:t=>t.pipe(Me(`${Zd}`,`${Un}`),fi(Qs(void 0)))},{meetingInfoEpic:(t,i)=>t.pipe(Me(`${ul}`),st(o=>{const a=Object.assign({},o.payload,{password:Mn(o.payload.password),topic:Mn(o.payload.topic)}),{videoSDKUrl:c}={meetingSDKUrl:`https://${Ag}/api/v1/wc/info`,videoSDKUrl:`https://${Ag}/wc/lsdk`};return function(l,p){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"zoomsdkjsonpcallback";return new qn(g=>{wR++;const v=`${h}${wR}`,S=document.createElement("script");Object.keys(p).forEach(b=>null==p[b]&&delete p[b]),S.src=`${l}?${new URLSearchParams(Object.assign(p,{callback:v})).toString()}`,S.async=!0,S.onerror=b=>g.error(b),document.getElementsByTagName("head")[0].appendChild(S),window[v]=b=>{S.parentNode&&S.parentNode.removeChild(S),delete window[v],g.next(b),g.complete()}})}(c,a).pipe(Ke(t.pipe(Me(`${Zd}`),Ct(1))),Ur(l=>Vt({status:!1,result:l.toString(),errorCode:-3e3})),ae(l=>{const[p,h]=(g=Vt(l),[ne(v=b=>!0===b.status&&void 0!==b.result,S)(un(g)),ne(PF(v,S))(un(g))]);var g,v,S;return h.subscribe(b=>{lk.report(`get meeting info error, ${JSON.stringify(b)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),b.state||(3e3===b.errorCode&&"Meeting password is incorrect"===b.errorMessage?F(Pn,{errorCode:Bi.WrongPasscode,reason:"Incorrect passcode."}):3e3===b.errorCode&&"The role type error"===b.errorMessage?F(Pn,{errorCode:Bi.RoleTypeMissing,reason:"Role type error"}):-3e3===b.errorCode?F(Pn,{errorCode:Bi.CommonError,reason:"connection error"}):3e3===b.errorCode?F(Pn,{reason:b.errorMessage,errorCode:Bi.CommonError}):300===b.errorCode?F(Pn,{reason:"This account does not exist or does not belong to you",errorCode:Bi.CommonError}):124===b.errorCode&&"Parse lite sdk topic and pwd fail"===b.errorMessage?F(Pn,{reason:"Topic is invalid",errorCode:Bi.CommonError}):124===b.errorCode&&"The java web token is expired or more than 2 days or ineffective."===b.errorMessage?F(Pn,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:Bi.CommonError}):124===b.errorCode&&F(Pn,{reason:"Verify JWT failed",errorCode:Bi.CommonError}))}),p.pipe(jC(b=>{if(!0===b.status){const{result:{mid:I,websdkClientFeatureOptions:_,showRecommendVersion:w}}=b;ot.init(I);const A=((N,H)=>{if(N.result){const{result:{mn:V,ts:x,auth:J,track_auth:Y,mid:z,tid:U,encryptedRWC:O,encryptedGEORWC:L,user_identity:$,meetingOptions:j,can_recording:Q,wcXMPPConfig:re,call_out_country_json:te,isOriginalHost:me,support_call_out:Ne,liveTranscription:De,logConfig:Be,logEncryptionPubKey:He,toll_numbers_json:ke,h323Password:xe,liveStreamInfo:nt,rc_auto_delete:Nt,jwt_rc:vt,op_rc:ee,mediaSDKVersion:Z,mediaSDKPathPrefix:W,zmk:ue,fileTransfer:Ie,fileServerDomain:Le,accountId:Ge}}=N,{lang:rt,password:at,topic:yt,zlk:ct,cv:pt,userName:Xt}=H;return{meetingNumber:V,meetingId:z,tid:U,ts:x,auth:J,passWord:at,trackAuth:Y,customerKey:$,encryptedRWC:JSON.parse(O||"{}"),encryptedGEORWC:JSON.parse(L||"{}"),meetingOptions:JSON.parse(j||"{}"),recordingEnable:"1"===Q,topic:yt,userName:ot.get(Rt.WebclientUserName)||Xt,cv:pt,zlkJwtToken:ct,xmppConfig:JSON.parse(re||"{}"),callOutCountry:JSON.parse(te||"{}"),lang:rt,isOriginHost:me,isSupportCallOut:"1"===Ne,liveTranscription:JSON.parse(De||"{}"),logConfig:Be,logEncryptionPubKey:He,tollNumbers:void 0===ke?void 0:JSON.parse(ke),h323Password:xe,liveStreamInfo:JSON.parse(nt||"{}"),rcAutoDelete:Nt,jwtRc:vt,opRc:ee,mediaSDKPath:Z&&W?`${QE(W)}/${Z}`:void 0,zmk:ue,fileTransfer:JSON.parse(Ie||"{}"),fileServerDomain:Le,accountId:Ge}}return N})(b,o.payload);w&&console.log("Update VideoSDK-Web to the latest version to optimize meeting experience","https://developers.zoom.us/docs/video-sdk/web/");const T=[Vt(fo(A)),sl(IR,i,Jd())],M=((N,H)=>{const V=[];if(N){const x=N.split("").reverse();Object.keys(zi).filter(J=>/M:\d+(,\d+)*;V:\d+(,\d+)*/.test(zi[J])).forEach(J=>{const Y=zi[J];let[z,U]=Y.split(";");z.startsWith("V:")&&([z,U]=[U,z]);const O=U.slice(2).split(",").map(j=>x[Number(j)-1]).reverse().join(""),L=parseInt(O,16),$=UC[Y];$&&(Array.isArray($)?$:[$]).forEach(j=>{V.push(Vt(j.action(j.mask?(L&j.mask)>0:L)))})})}return V})(_);M.length>0&&T.unshift(...M);const P=((N,H)=>{const V=[];if(N){const J=N.split("").reverse(),Y=[];vo.forEach(z=>{var U;const[O,L]=z.split("-"),$=Number(L)-1;Y.length<$&&(Y.length=$+1),Y[$]=null!==(U=J[Number(O)-1])&&void 0!==U?U:"0"});for(let z=0;z<Y.length;z++){var x;Y[z]=null!==(x=Y[z])&&void 0!==x?x:"0"}V.push(Vt(ds(Y.reverse().join(""))))}return V})(_);return P.length>0&&T.unshift(...P),zh(...T)}}))}),cs(bt(performance.now())))})),pingRWCEpic:IR});var _R={exports:{}};_R.exports=function(){function t(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)i[c]=a[c]}return i}return function i(o,a){function c(l,p,h){if(typeof document<"u"){"number"==typeof(h=t({},a,h)).expires&&(h.expires=new Date(Date.now()+864e5*h.expires)),h.expires&&(h.expires=h.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var g="";for(var v in h)h[v]&&(g+="; "+v,!0!==h[v]&&(g+="="+h[v].split(";")[0]));return document.cookie=l+"="+o.write(p,l)+g}}return Object.create({set:c,get:function(l){if(typeof document<"u"&&(!arguments.length||l)){for(var p=document.cookie?document.cookie.split("; "):[],h={},g=0;g<p.length;g++){var v=p[g].split("="),S=v.slice(1).join("=");try{var b=decodeURIComponent(v[0]);if(h[b]=o.read(S,b),l===b)break}catch{}}return l?h[l]:h}},remove:function(l,p){c(l,"",t({},p,{expires:-1}))},withAttributes:function(l){return i(this.converter,t({},this.attributes,l))},withConverter:function(l){return i(t({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(o)}})}({read:function(i){return'"'===i[0]&&(i=i.slice(1,-1)),i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(i){return encodeURIComponent(i).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}();var mk=_R.exports;const{WebclientIsOnHold:vk,WebclientOpt:yk,WebclientParticipantId:Sk,WebclientZoomId:bk,WebclientMeetingToken:Ek}=Rt,{WebclientDeviceId:EI}=pf;function CI(t){let{retryCount:i,rwgServerList:o,userName:a,auth:c,trackAuth:l,meetingId:p,customerKey:h,tid:g,lang:v,ts:S,bid:b,botk:E,confID:I,zlkJwtToken:_,isAudioBridgeEnabled:w,isMeetingReset:A,cameraDevicesList:T,isFullHDVideoEnabled:M,isFullHDVideoShareEnabled:P}=t;const N=mk.get("_zm_mtk_guid");let H=ot.get(EI);if(H||(H=Mg(),ot.set(EI,H,Tt.LocalStorage)),o.length>i){var V;const x=o[i],J={dn2:Mn(a),auth:c,browser:`${Re.browser}${Re.browserVersion} ${null!==(V=window)&&void 0!==V&&V.crossOriginIsolated?"SAB":""}`,trackAuth:l,mid:p,tid:g,lang:v,ts:S,"ZM-CID":H,_ZM_MTG_TRACK_ID:N||"",customer_key:Mn(h),cfs:0,islch:1};if(_)try{const{vendor:O}=qs(_);O&&Object.assign(J,{vendor:O})}catch(O){console.log(O)}x.rwcAuth?Object.assign(J,{rwcAuth:x.rwcAuth}):x.rwcToken&&Object.assign(J,{rwcToken:x.rwcToken});const Y=ON()?1:Re.isIE||Re.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(J,{as_type:Y}),[{key:yk,queryKey:"opt"},{key:Sk,queryKey:"participantID"},{key:bk,queryKey:"zoomid"}].forEach(O=>{const L=ot.get(O.key);void 0!==L&&(J[O.queryKey]=L)});const z=b&&E&&I;return z&&Object.assign(J,{bid:Mn(b),confID:I}),ot.get(Ek)&&Object.assign(J,{isdj:1}),vr()&&(Object.assign(J,{from:Re.isAndroidBrowser?"android":"ios"}),w&&Object.assign(J,{useABAudio:1})),Object.assign(J,{clientCaps:Ec({isAudioBridgeEnabled:w&&vr(),isBO:z,isFullHDVideoEnabled:M,isFullHDVideoShareEnabled:P})}),Object.assign(J,{isCamera:A?T.length>0?1:0:1}),Object.assign(J,{clientOS:Re.isAndroidOrIOSBrowser?Re.isIOSMobile?"ios":"android":Re.isMacOS?"mac":"win"}),Object.assign(J,{audioFeature:Ye.getAudioFeatureFlag()}),{queryObject:{...J},rwgServer:x}}return null}function Ec(t){const{isAudioBridgeEnabled:i,isBO:o,isFullHDVideoEnabled:a,isFullHDVideoShareEnabled:c}=t;let l=Qo.WebCameraIndication|Qo.SendMeetingTokenSeparately|Qo.SmartSummary|Qo.LocalRecording|Qo.LocalRecordingGrantPermission|Qo.UnifyErrorType;const p=Ye.getPTZCapability();return(p.pan||p.tilt||p.zoom)&&(l|=Qo.SupportFarEndCameraControl),Ye.isSupportVideoShare()&&(l|=Qo.SupportVideoShare),i&&Ye.isSupportAudioBridgeAVSync()&&(l|=Qo.WebrtcAudioRtcpTime),Ye.isSupportShareMultiStream()&&(l|=Qo.ShareMultiStream),Ye.isSupportVideoLTR()&&(l|=Qo.VideoLTR),o||(l|=Qo.RequestRemoteControl),a&&Ye.isSupportFullHDVideo()&&(l|=Qo.SupportSend1080PVideo),c&&Ye.isSupportFullHDVideoShare()&&(l|=Qo.SupportSend1080PVideoShare),l}function Yp(t,i){return i?el(Wh(i),ne(()=>{const{socket:{zoomSocketStatus:o},meeting:{meetingStatus:a,isMeetingReset:c}}=t.value;return o!==Wt.Closed&&a===wt.Joined&&!c})):el(ne(()=>{const{socket:{zoomSocketStatus:o},meeting:{meetingStatus:a,isMeetingReset:c}}=t.value;return o!==Wt.Closed&&a===wt.Joined&&!c}))}const Xl=Ot.createAgent();let jS;const Cc=Qp.getInstance();let Xg;const ha=NN.getInstance();let Xp;const ed={zoomSocketStatus:Wt.Closed,xmppSocketStatus:Wt.Closed,mainSessionSocketStatus:Wt.Closed,retryCount:0,rwgServerList:[]},DR=mr({[`${Gd}`]:B((t,i)=>{let{payload:o}=i;t.zoomSocketStatus=o.status}),[`${AD}`]:B((t,i)=>{let{payload:o}=i;const{rwgServerList:a}=t;a.find(c=>c.rwg===o.rwg)||a.push(o)}),[`${TD}`]:B((t,i)=>{let{payload:o}=i;t.retryCount=o}),[`${rl}`]:B((t,i)=>{let{payload:o}=i;t.xmppSocketStatus=o}),[`${Cv}`]:B((t,i)=>{let{payload:o}=i;t.mainSessionSocketStatus=o}),[`${nf}`]:()=>ed},ed),II=qr({epics0:(t,i)=>t.pipe(Me(`${Ev}`),Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Closed&&!!a.meeting.meetingId}),st(o=>{let[,a]=o;const{media:{patchedMediaSDKStatus:c}}=a;return(c===up.Loading?Mt(j0,1):ve([0])).pipe(st(()=>{const{socket:{retryCount:l,rwgServerList:p},meeting:h,breakoutRoom:g,video:v,share:S}=i.value;let b;const E={...h,retryCount:l,rwgServerList:p};if(v){const{cameraDevicesList:_,isFullHDVideoEnabled:w}=v;Object.assign(E,{cameraDevicesList:_,isFullHDVideoEnabled:w})}if(S){const{isFullHDVideoShareEnabled:_}=S;Object.assign(E,{isFullHDVideoShareEnabled:_})}if(g&&g.currentRoom.status===je.Joining){const{currentRoom:{boId:_,boConfId:w,boToken:A}}=g;Object.assign(E,{bid:_,botk:A,confID:w})}if(b=h.zlkJwtToken?function(_){const w=CI(_);if(w){const{queryObject:A,rwgServer:T}=w,{topic:M,cv:P,meetingNumber:N}=_;return Object.assign(A,{topic:Mn(M),iccv:P}),`wss://${T.rwg}/instantsdk/${N}?${new URLSearchParams(A).toString()}`}return null}(E):function(_){const w=CI(_);if(w){const{queryObject:A,rwgServer:T}=w,{cv:M,meetingNumber:P}=_;return Object.assign(A,{jscv:M,browser:A.browser+" ComponentView"}),[{key:vk,queryKey:"cfs"}].forEach(N=>{const H=ot.get(N.key);void 0!==H&&(A[N.queryKey]=H)}),`wss://${T.rwg}/wc/api/${P}?${new URLSearchParams(A).toString()}`}return null}(E),b){const _=(Xl.connect(b),jS=new Rn,Nu(w=>Xl.on(hn.Message,w),w=>Xl.off(hn.Message,w),w=>w.data).subscribe(jS),jS);return Kn(_.pipe(ne(w=>"string"==typeof w),ye(w=>{try{return JSON.parse(w)}catch(A){return console.error(A),{evt:0}}}),bS(),sa(w=>{if(0!==w.evt||!w.body||"invalid parameters!"!==w.body.test)return xu(w);F(Pn,{errorCode:Bi.InvalidParameter,reason:"Invalid parameter"})}),cs(Gd({status:Wt.Connecting,rwgUrl:b}))),_.pipe(ne(w=>w instanceof ArrayBuffer),ye(w=>be(w))))}return Se}))})),epics1:(t,i)=>t.pipe(Me(`${Ev}`),Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Closed&&!!a.meeting.meetingId}),st(()=>{const[o,a,c,l]=[hn.Open,hn.Close,hn.Error,hn.Inactive].map(p=>Nu(h=>Xl.on(p,h),h=>Xl.on(p,h)));return Kn(o.pipe(ae(()=>Kn(Vt(Gd({status:Wt.Connected})),On(6e4).pipe(Pe(i),ne(p=>{let[,h]=p;return h.meeting.meetingStatus===wt.Initial&&!h.meeting.isMeetingReset}),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NoHeartbeat))))))),a.pipe(Yp(i),ye(()=>(F(So,{reason:nr.Failover}),er(zt.Disconnect)))),l.pipe(Yp(i),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NoHeartbeat)))),c.pipe(Pe(i),ae(p=>{let[,h]=p;const{meeting:{meetingStatus:g,isMeetingReset:v},socket:{rwgServerList:S,retryCount:b}}=h,E=[];if(g===wt.Initial&&null!=S&&S.length){const I=S[b];return On(5e3).pipe(ne(()=>i.value.meeting.meetingStatus===wt.Initial),ae(()=>{const{socket:{rwgServerList:_,retryCount:w}}=i.value,A=[];return _.length>w+1?A.push(TD(w+1),ls({retry:!0})):(F(Pn,{reason:"connection error",errorCode:Bi.CommonError}),A.push(...pc(i.value))),ve(A)}),cs(ll(I?.rwc)))}return v||g!==wt.Joined||(F(So,{reason:nr.Failover}),E.push(er(zt.OnError))),ve(E)})))})),epics2:(t,i)=>t.pipe(Me(`${ls}`),st(o=>o.payload&&o.payload.retry?Vt(Ev()).pipe(Wh(1e3),cs(Gd({status:Wt.Closed}))):Vt(Gd({status:Wt.Closed}))),Wh(100),Te(()=>{var o;i.value.socket.zoomSocketStatus===Wt.Closed&&(Xl.close(),null===(o=jS)||void 0===o||o.complete())}))},{xmppEpics0:(t,i)=>t.pipe(Me(`${$i}`),ae(()=>{const{meeting:{meetingOptions:o,zlkJwtToken:a,isWebinar:c}}=i.value,l=[];return(o.isPollingEnabled||a||c)&&l.push(zs()),ve(l)})),xmppEpics1:(t,i)=>t.pipe(Me(`${zs}`),Pe(i),ne(o=>{let[,a]=o;return"closed"===a.socket.xmppSocketStatus}),st(o=>{let[,a]=o;const{meeting:{svcUrl:c,meetingNumber:l,conId:p}}=a;return(g=`wss://${c}/wc/media/${l}?type=x&cid=${p}`,Cc.connect(g),Xg=new Rn,Nu(v=>Cc.on(As.Message,v),v=>Cc.off(As.Message,v)).subscribe(Xg),Xg).pipe(ne(g=>void 0!==g?.evt),ye(g=>ef(g)),cs(rl(Wt.Connecting)));var g})),xmppEpics2:(t,i)=>t.pipe(Me(`${zs}`),st(()=>{const[o,a,c]=[As.Open,As.Close,As.Error].map(l=>Nu(p=>Cc.on(l,p),p=>Cc.on(l,p)));return Kn(o.pipe(Te(()=>{const l=function(){const{isSupportEssentialAudioAndVideoAbility:p,isSupportAudioWorklet:h}=Re;return p&&h?11:10}();Cc.join(l)}),fi(rl(Wt.Connected))),a.pipe(Yp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.DisconnectXmpp)))),c.pipe(Yp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.OnError)))))})),xmppEpics3:t=>t.pipe(Me(`${et}`),fi(rl(Wt.Closed)),Wh(100),Te(()=>{var i;Cc.close(),null===(i=Xg)||void 0===i||i.complete()}))},{mainSessionEpics0:(t,i)=>t.pipe(Me(`${tf}`),Pe(i),ne(o=>{let[,a]=o;return"closed"===a.socket.mainSessionSocketStatus}),st(o=>{let[,a]=o;const{meeting:{svcUrl:c,meetingNumber:l,conId:p}}=a;return(g=`wss://${c}/wc/media/${l}?type=m&cid=${p}&mode=2`,ha.connect(g),Xp=new Rn,Nu(v=>ha.on(hn.Message,v),v=>ha.off(hn.Message,v)).pipe(ye(v=>v.data)).subscribe(Xp),Xp).pipe(ye(g=>{try{return JSON.parse(g)}catch(v){return console.error(v),{evt:0}}}),ne(g=>0!==g.evt),bS(),ye(g=>Ra(g)),cs(Cv(Wt.Connecting)));var g})),mainSessionEpics1:(t,i)=>t.pipe(Me(`${tf}`),st(()=>{const[o,a,c]=[hn.Open,hn.Close,hn.Error].map(l=>Nu(p=>ha.on(l,p),p=>ha.on(l,p)));return Kn(o.pipe(fi(Cv(Wt.Connected))),a.pipe(Yp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.DisconnectMChannel)))),c.pipe(Yp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.OnErrorMChannel)))))})),mainSessionEpics2:t=>t.pipe(Me(`${Hd}`),fi(Cv(Wt.Closed)),Te(()=>{var i;ha.close(),null===(i=Xp)||void 0===i||i.complete()}))}),th={id:"userId",type:t=>yp(t)?{userType:t,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:t},role:t=>({userRole:t,isHost:Iy(t)}),dn2:t=>({displayName:gi(t)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:t=>({bLocalRecord:t}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},fa=t=>{const i={};return["add","remove","update"].forEach(o=>{const c=t[o];null!=c&&(i[o]=c.reduce((l,p)=>{const h=Object.keys(p).reduce((v,S)=>{const b=th[S];return Object.assign(v,"function"==typeof b?b(p[S]):"string"==typeof b?{[`${b}`]:p[S]}:{[`${S}`]:p[S]}),v},{}),g=l.find(v=>v.userId===h.userId);return void 0!==g?Object.assign(g,h):l.push(h),l},[]))}),i},nh={name:"displayName",node:t=>({userId:Number(t)}),role:t=>({userRole:Number(t)})},Ic=t=>Object.keys(t).reduce((i,o)=>{const a=nh[o];return Object.assign(i,"function"==typeof a?a(t[o]):"string"==typeof a?{[`${a}`]:t[o]}:{[`${o}`]:t[o]}),i},{}),td={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},rh=mr({[`${$f}`]:B((t,i)=>{let{payload:o}=i;void 0!==o.add&&o.add.length>0&&o.add.forEach(a=>{if(a.userType===q0.Assitant){const c=t.assistantList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.assistantList.push(a)}else if(K0(a.userRole)){const c=t.allowTalkAttendeesList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.allowTalkAttendeesList.push(a)}else{const c=t.attendeesList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.attendeesList.push(a)}}),void 0!==o.update&&o.update.length>0&&o.update.forEach(a=>{const c=t.attendeesList.find(l=>l.userId===a.userId);if(void 0!==c)Object.assign(c,a);else{const l=t.allowTalkAttendeesList.find(p=>p.userId===a.userId);if(void 0!==l)Object.assign(l,a);else{const p=t.assistantList.find(h=>h.userId===a.userId);void 0!==p&&Object.assign(p,a)}}}),void 0!==o.remove&&o.remove.length>0&&o.remove.forEach(a=>{const c=t.attendeesList.findIndex(l=>l.userId===a.userId);if(-1!==c)t.attendeesList.splice(c,1);else{const l=t.allowTalkAttendeesList.findIndex(p=>p.userId===a.userId);if(-1!==l)t.allowTalkAttendeesList.splice(l,1);else{const p=t.assistantList.findIndex(h=>h.userId===a.userId);-1!==p&&t.assistantList.splice(p,1)}}})}),[`${Cy}`]:B((t,i)=>{let{payload:o}=i;const{xmppAttendeeList:a}=t,c=a.map(l=>l.jid);o.forEach(l=>{const{jid:p}=l,h=c.indexOf(p);-1!==h?Object.assign(a[h],l):a.push(l)})}),[`${G0}`]:B((t,i)=>{let{payload:o}=i;t.isAdmitAllSilentUsers=o}),[`${PA}`]:B(t=>{t.attendeesList.forEach(i=>{i.bRaiseHand&&(i.bRaiseHand=!1)})}),[`${NA}`]:B(t=>{t.attendeesList.forEach(i=>{i.feedback>0&&(i.feedback=0)})}),[`${Gf}`]:B((t,i)=>{let{payload:o}=i;t.failoverAttendeesList.push(o)}),[`${Rl}`]:B((t,i)=>{let{payload:o}=i;o.forEach(a=>{const c=t.failoverAttendeesList.findIndex(l=>l.zoomID===a.zoomID);-1!==c&&t.failoverAttendeesList.splice(c,1)})}),[`${o1}`]:B((t,i)=>{let{payload:o}=i;const{jid:a,name:c}=o,l=t.xmppAttendeeList.find(p=>p.jid===a);l&&(l.displayName=c)}),[`${zf}`]:B((t,i)=>{let{payload:o}=i;const{jid:a}=o,c=t.xmppAttendeeList.findIndex(l=>l.jid===a);-1!==a&&t.xmppAttendeeList.splice(c,1)}),[`${vp}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,key:c,value:l}=o,p=t.attendeesList.find(h=>h.userId===a);p&&(p[`${c}`]=l)}),[`${Hf}`]:()=>td},td),ih=qr({epics0:(t,i)=>Ce(t,yn).pipe(ye(o=>fa(o.payload.body)),Pe(i),ae(o=>{let[a,c]=o,l=[$f(a)];const{meeting:{userId:p,isWebinar:h,isOnHold:g},participants:{attendeesList:v,failoverAttendeesList:S,allowTalkAttendeesList:b}}=c,E=b.map(_=>_.userId);if(a.add){const _=a.add.filter(A=>A.userId===p);_.length>0&&_.forEach(A=>{void 0!==A.bHold&&l.push(go(A.bHold)),F(Fa,A)});const w=a.add.filter(A=>A.userId!==p);if(w.length>0){const A=w.filter(M=>!K0(M.userRole)).map(M=>{const P={...M};if(yp(M.userType)){var N;const V=null===(N=c.audio)||void 0===N?void 0:N.dialout.find(x=>x.phoneNodeId===M.userId);V&&Object.assign(P,{phoneNumber:V.phoneNumber})}const H=S.find(V=>V.zoomID===M.zoomID);return H&&Object.assign(P,{source:H.isOnHold?"on hold":"failover"}),P}),T=A.filter(M=>!!M.source).map(M=>({zoomID:M.zoomID}));if(l.push(Rl(T)),F(yf,A),h){const M=w.filter(P=>K0(P.userRole));M.length>0&&F(Va,M.map(P=>({userId:P.userId,isAllowToTalk:!0})))}}}if(a.update){const _=a.update.filter(A=>A.userId===p);_.length>0&&_.forEach(A=>{F(Br,A),void 0!==A.bHold&&l.push(go(A.bHold))});const w=a.update.filter(A=>!(A.userId===p||E.includes(A.userId)));if(w.length>0&&F(yo,w),h){const A=a.update.filter(T=>T.userId!==p&&E.includes(T.userId));A.length>0&&F(Va,A)}}if(a.remove){const _=a.remove.map(w=>{const A=v.find(T=>T.userId===w.userId);return A?2===w.action&&1===w.nUserStatus?A.bHold?(l.push(Gf({zoomID:A.zoomID,isOnHold:!0})),{...w,...A,reason:"on hold"}):(l.push(Gf({zoomID:A.zoomID,isOnHold:!1})),{...w,...A,reason:"failover"}):{...w,...A}:null}).filter(w=>!!w);if(F(ut,_),h){const w=a.remove.filter(A=>E.includes(A.userId));w.length>0&&F(Va,w.map(A=>({userId:A.userId,isAllowToTalk:!1})))}}const I=l.filter(_=>_.type===`${go}`);if(I.length>0){const _=I[I.length-1];l=l.filter(w=>w.type!==`${go}`),_.payload!==g&&(l.push(_),F(zu,!g))}return ve(l)})),epics1:(t,i)=>co(t,24595).pipe(ae(o=>{const{payload:{body:{action:a,data:c}}}=o,{meeting:{jid:l},participants:{xmppAttendeeList:p}}=i.value,h=[];if(a===Ti.rename){c.forEach(v=>{h.push(o1(v))});const g=c.map(v=>Ic(v));F(Va,g)}if(a===Ti.Remove){c.forEach(v=>{h.push(zf(v))});const g=c.map(v=>({...Ic(v),removed:!0}));F(kN,g)}if([Ti.Add,Ti.List,Ti.update].includes(a)){const g=c.map(v=>{const S=Ic(v);return Object.keys(S).reduce((b,E)=>(""!==S[E]&&Object.assign(b,{[E]:S[E]}),b),{})});if(F(Va,g),h.push(Cy(g)),a===Ti.update){const v=c.find(S=>S.jid===l);if(v&&void 0!==v.bRaiseHand){const S=p.find(b=>b.jid===l);S?.bRaiseHand!==v.bRaiseHand&&F("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:v.bRaiseHand})}}}return ve(h)})),epics2:t=>Ce(t,7951).pipe(Te(i=>{!1===i.payload.body.bStarted&&F("ADMIT_ALL_SILENT_USERS_END",i.payload.body.bStarted)}),ye(i=>G0(i.payload.body.bStarted))),epics3:t=>Ce(t,7946).pipe(ne(i=>{var o;return["bRaiseHand","feedback"].includes(null===(o=i.payload.body)||void 0===o?void 0:o.key)&&0===i.payload.body.value}),ye(i=>(F(yo,{}),"bRaiseHand"===i.payload.body.key?PA():NA())))}),nd={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,fileWithVersion:!1,enforceMultipleVideos:!1,enforceVirtualBackground:!1,enableAudioQos:!0,enableVideoQos:!0,isAudioBridgeReceiveReady:!1,isAudioBridgeSendReady:!1,isMediaAgentInitialized:!1,disableRenderLimits:!1,adaptedABOptionForMediaSDK:""},AR=mr({[`${uo}`]:B((t,i)=>{let{payload:o}=i;t.audioDecodeStatus=o}),[`${jE}`]:B((t,i)=>{let{payload:o}=i;t.audioEncodeStatus=o}),[`${ol}`]:B((t,i)=>{let{payload:o}=i;t.sharingDecodeStatus=o}),[`${zd}`]:B((t,i)=>{let{payload:o}=i;t.sharingEncodeStatus=o}),[`${Iv}`]:B((t,i)=>{let{payload:o}=i;t.videoDecodeStatus=o}),[`${Vu}`]:B((t,i)=>{let{payload:o}=i;t.videoEncodeStatus=o}),[`${rf}`]:B((t,i)=>{let{payload:o}=i;t.mediaConstraints=o.mediaConstraints,t.assetsPath=o.assetsPath,t.fileWithVersion=o.fileWithVersion,t.enforceMultipleVideos=!!o.enforceMultipleVideos,t.enforceVirtualBackground=o.enforceVirtualBackground,t.skipJsMedia=o.skipJsMedia,t.patchJsMedia=o.patchJsMedia,t.alternativeNameForVideoPlayer=o.alternativeNameForVideoPlayer,o.enforceMultipleVideos&&"object"==typeof o.enforceMultipleVideos&&(t.disableRenderLimits=!!o.enforceMultipleVideos.disableRenderLimits)}),[`${yN}`]:B((t,i)=>{let{payload:o}=i;const{type:a,encryptKey:c,additionalType:l}=o,p={encryptKey:c,additionalType:l};"audio"===a?t.audioEncrypt=p:"video"===a?t.videoEncrypt=p:"sharing"===a&&(t.sharingEncrypt=p)}),[`${BE}`]:B((t,i)=>{let{payload:o}=i;t.isEnableDecoderInWorklet=o}),[`${$E}`]:B((t,i)=>{let{payload:o}=i;t.patchedMediaSDKStatus=o}),[`${Go}`]:B((t,i)=>{let{payload:o}=i;t.assetsPath=o}),[`${wv}`]:B((t,i)=>{let{payload:o}=i;t.enableAudioQos=o.audioQos,t.enableVideoQos=o.videoQos}),[`${il}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeReceiveReady=o}),[`${SN}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeSendReady=o}),[`${_v}`]:B((t,i)=>{let{payload:o}=i;t.isMediaAgentInitialized=o}),[`${ds}`]:B((t,i)=>{let{payload:o}=i;t.adaptedABOptionForMediaSDK=o}),[`${Gt}`]:t=>({...nd,mediaConstraints:t.mediaConstraints,assetsPath:t.assetsPath,fileWithVersion:t.fileWithVersion,enforceMultipleVideos:t.enforceMultipleVideos,disableRenderLimits:t.disableRenderLimits,enforceVirtualBackground:t.enforceVirtualBackground,alternativeNameForVideoPlayer:t.alternativeNameForVideoPlayer})},nd),Lr=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player",renderCountMap:new Map},this.onceMap=new WeakMap,this.subscribers=[]}get(t){return this.state[t]}dispatch(t,i,o){i&&Object.assign(this.state,i),t&&this.notifySubscribers(t,o)}subscribe(t){return this.subscribers.push(t),()=>{const i=this.subscribers.indexOf(t);-1!==i&&this.subscribers.splice(i,1)}}once(t,i){this.onceMap.set(i,{event:t,unSubscribe:this.subscribe(i)})}notifySubscribers(t,i){const o=[];this.subscribers.forEach(a=>{a(t,this.state,i);const c=this.onceMap.get(a);if(c){const{event:l,unSubscribe:p}=c;l===t&&(o.push(p),this.onceMap.delete(a))}}),o.forEach(a=>a())}};var xr,em;(function(t){t[t.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",t[t.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",t[t.START_SHARING=23]="START_SHARING",t[t.STOP_SHARING=24]="STOP_SHARING",t[t.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",t[t.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",t[t.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",t[t.ZOOM_RENDER=48]="ZOOM_RENDER",t[t.REMOVE_EXPIRED_CANVAS=76]="REMOVE_EXPIRED_CANVAS",t[t.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",t[t.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",t[t.SEND_RENDER_LOG=79]="SEND_RENDER_LOG"})(xr||(xr={})),function(t){t[t.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW",t[t.MOBILE_CAPTURE_DEVICE_CHANGE=135]="MOBILE_CAPTURE_DEVICE_CHANGE"}(em||(em={}));const sh="default-sesssion-key";var tm,wI,_I,ga;function nm(t,i,o,a,c){const l=document.createElement("canvas");l.id=a;const p=OR(l,t,i);return c(`VPISC:${window.devicePixelRatio},${p}`),l.style.pointerEvents="none",l.style.position="absolute",l.style.left="0px",l.style.top="0px",l.style.width=t+"px",l.width=t*wc(l),l.style.height=i+"px",l.height=i*wc(l),l.ariaHidden="true",l.style.zIndex=o,l}function uu(t,i){const o=DI(()=>{if(t){OR(t,i.clientWidth,i.clientHeight),[xr.UPDATE_CANVAS_SIZE,xr.UPDATE_SHARING_DECODE_PARAM].forEach(l=>{var p,h;null===(h=Yo(null===(p=i?.getSessionId)||void 0===p?void 0:p.call(i)))||void 0===h||h.Notify_MeidaSDK(l,{width:i.clientWidth*wc(t),height:i.clientHeight*wc(t),canvas:t})}),t.style.width=i.clientWidth+"px",t.style.height=i.clientHeight+"px";try{t.width=i.clientWidth*wc(t),t.height=i.clientHeight*wc(t)}catch{}Lr.dispatch("resize",void 0,t.id)}},300),a=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),c=new ResizeObserver(o);return a.addEventListener("change",o),c.observe(i),()=>{AI.delete(t),c?.disconnect(),a.removeEventListener("change",o)}}function TR(t,i){Object.defineProperties(t,i.reduce((o,a)=>(o[a]={get:()=>t.getAttribute(a),set:c=>{c?t.setAttribute(a,c):t.removeAttribute(a)}},o),{}))}function RR(t,i){Object.entries(i).forEach(([o,a])=>{t.getAttribute(o)||t.setAttribute(o,a)})}function BS(t,i){const o=t.getAttribute(i);return!(!o||"true"!==o)}function Yo(t=sh){var i;return null===(i=Lr.get("mediaSDKInstanceMap").get(t))||void 0===i?void 0:i()}function rm(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();let t=(new Date).getTime(),i=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,o=>{let a=16*Math.random();return t>0?(a=(t+a)%16|0,t=Math.floor(t/16)):(a=(i+a)%16|0,i=Math.floor(i/16)),("x"===o?a:3&a|8).toString(16)})}function DI(t,i){let o;return function(...a){clearTimeout(o),o=setTimeout(()=>{t(...a)},i)}}function $S(t,i){const o=Object.keys(t),a=Object.keys(i);if(o.length!==a.length)return!1;for(const c of o){const l=t[c],p=i[c];if("object"==typeof l&&"object"==typeof p){if(!$S(l,p))return!1}else if(l!==p)return!1}return!0}function rd(t){return!t||"0"===t}(function(t){t.Video="video",t.Share="share"})(tm||(tm={})),function(t){t.DEFAULT="",t.MAIN="main"}(wI||(wI={})),function(t){t.Video_90P="0",t.Video_180P="1",t.Video_360P="2",t.Video_720P="3",t.Video_1080P="4"}(_I||(_I={})),function(t){t[t.Unknown=0]="Unknown",t[t.VideoTag=1]="VideoTag",t[t.WebGL=2]="WebGL",t[t.WebGL2=3]="WebGL2",t[t.WebGPU=4]="WebGPU"}(ga||(ga={}));const AI=new Map;function OR(t,i,o){const a=i>=2*window.screen.width||o>=2*window.screen.height?1:window.devicePixelRatio,c=AI.get(t);return AI.set(t,a),c&&c!==a&&Lr.dispatch("scale",void 0,t.id),a}function wc(t){return AI.get(t)||window.devicePixelRatio}function _c(t,i){i&&t?.Notify_MeidaSDK(xr.SEND_RENDER_LOG,{message:i})}function MR(t,i){const o=Lr.get("renderCountMap"),a=o.get(t)||0;o.set(t,i?a+1:a-1)}function pr(t,i){const{left:o,top:a,bottom:c,right:l,width:p,height:h}=t.getBoundingClientRect(),g=i.getBoundingClientRect();return{left:o-g.left,top:a-g.top,bottom:g.bottom-c,right:g.right-l,width:p,height:h}}const TI=[];for(let t=0;t<=1;t+=.01)TI.push(t);class RI{constructor(i,o){if(this.getRenderParams=o,this.el=document.createElement("div"),this.position=null,this.id="",this.srcObject=null,this.removePositionObserve=null,this.viewId=`${Lr.get("tagName")}-${rm()}`,this.getSDK=()=>{var a,c;return Yo(null===(c=null===(a=this.container)||void 0===a?void 0:a.getSessionId)||void 0===c?void 0:c.call(a))},!i)throw new Error(`The ${Lr.get("tagName")} must have a ${Lr.get("tagName")}-container as its ancestor element.`);this.container=i,this.el.style.width="100%",this.el.style.height="100%",this.debounceUpdateVideoPosition=DI(this.updateVideoPosition.bind(this),300)}getElement(){return this.el}init(){this.removeSubscribe=Lr.subscribe((i,o,a)=>{a===this.getCanvas().id&&("resize"===i?(this.updateVideoPosition(),setTimeout(()=>{this.updateVideoPosition()},300)):"scale"===i&&_c(this.getSDK(),`VPSC:${wc(this.getCanvas())}`))})}getCanvas(){return this.container.getCanvas()}initObservePosition(){this.stopObservePosition(),this.removePositionObserve=function(i,o,a){const{wrapper:c=document.documentElement}=a,l=DI(o,300);let p,h;const g=(v=1,S=!1)=>{p&&(p.disconnect(),p=null);const{top:b,left:E,width:I,height:_,right:w,bottom:A}=pr(i,c);if(!I||!_)return void o({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const T=b<0||A<0||E<0||w<0,M=((V,x,J,Y,z,U)=>V<=0&&V+U<=0||x<=0&&x+U<=0||J<=0&&J+z<=0||Y<=0&&Y+z<=0)(b,A,E,w,I,_),P={root:c,threshold:T?TI:v};T||(P.rootMargin=`${-b}px ${-w}px ${-A}px ${-E}px`);let N=!0,H=!0;S&&(H=!1),o({hide:M,cross:T,top:b,left:E,width:I,height:_,bottom:A,right:w}),l({hide:M,cross:T,top:b,left:E,width:I,height:_,bottom:A,right:w},!0),p=new IntersectionObserver(([V])=>{if(0===V.intersectionRatio)return H?g(1,!0):void 0;if(v!==V.intersectionRatio){if(!N)return g();g(0===V.intersectionRatio?1e-7:V.intersectionRatio)}1===V.intersectionRatio&&T&&g(),N=!1},P),p.observe(i)};return g(),h=new ResizeObserver(()=>g()),h.observe(i),()=>{p?.disconnect(),p=null,h?.disconnect(),h=null}}(this.el,(i,o)=>{o?setTimeout(()=>{this.updateVideoPosition()},300):this.debounceUpdateVideoPosition(i)},{wrapper:this.container})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(i){return this.transformRectToPosition(pr(i,this.container))}transformRectToPosition(i){const{left:o,width:a,height:c,bottom:l,top:p}=i,h=wc(this.getCanvas());return{x:o*h,y:l*h,width:a*h,height:c*h,left:o*h,bottom:l*h,top:p*h}}playVideo(i){this.initObservePosition(),"string"==typeof i?this.id=i:this.srcObject=i;const o=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign(Object.assign({},o),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=o}updateVideoPosition(i){if(!this.id&&!this.srcObject)return;const o=this.transformRectToPosition(i||pr(this.el,this.container));this.position&&$S(o,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign(Object.assign({},o),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=o)}stopVideo(){this.stopObservePosition(),(this.id||this.srcObject)&&this.position&&((this.id||this.srcObject)&&this.stopRender(Object.assign(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=null,this.id="",this.srcObject=null)}updateVideoQuality(i){var o;this.id&&(null===(o=this.getSDK())||void 0===o||o.Notify_MeidaSDK(xr.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:i}))}refresh(){this.debounceUpdateVideoPosition()}destroy(){var i;this.stopVideo(),null===(i=this.removeSubscribe)||void 0===i||i.call(this)}}class OI{constructor(i){this.container=i,this.id="",this.srcObject=null,this.getSDK=()=>{var o,a;return Yo(null===(a=null===(o=this.container)||void 0===o?void 0:o.getSessionId)||void 0===a?void 0:a.call(o))},this.el=document.createElement("video"),this.el.style.width="100%",this.el.style.height="100%",this.el.setAttribute("autoplay","true"),this.el.setAttribute("muted","true"),this.el.setAttribute("playsinline","true")}getElement(){return this.el}init(){}playVideo(i){"string"==typeof i?this.id=i:this.srcObject=i,this.addRender(Object.assign({userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){(this.id||this.srcObject)&&(this.stopRender(Object.assign({userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{})),this.id="",this.srcObject=null)}updateVideoQuality(i){}destroy(){this.stopVideo()}}class PR extends RI{addRender({width:i,height:o,x:a,y:c,canvas:l,zone:p,userId:h,left:g,bottom:v,top:S,fillMode:b,videoQuality:E}){var I;this.getSDK()&&(MR(this.container,!0),function(_){var w,A;const T=Lr.get("renderCountMap").get(_)||0,M=(null===(A=null===(w=null==JsMediaSDK_Instance?void 0:JsMediaSDK_Instance.util)||void 0===w?void 0:w.getMaxCountRender)||void 0===A?void 0:A.call(w))||25,P=T>=0&&T<=M,N=Lr.get("tagName");P||console.error(`In your environment, the maximum number of ${N} that can be accommodated in each ${N}-container is ${M}. The current number has exceeded this limit, which may cause video rendering issues.`)}(this.container)),null===(I=this.getSDK())||void 0===I||I.Notify_MeidaSDK(xr.ADD_RENDER_VIDEO,{width:i,height:o,x:a,y:c,canvas:l,zone:p,userId:h,left:g,bottom:v,top:S,fillMode:b,videoQuality:E})}zoomRender({width:i,height:o,x:a,y:c,userId:l,canvas:p,RGBA:h,zone:g,left:v,bottom:S,top:b}){var E;null===(E=this.getSDK())||void 0===E||E.Notify_MeidaSDK(xr.ZOOM_RENDER,{width:i,height:o,x:a,y:c,userId:l,canvas:p,RGBA:h,zone:g,left:v,bottom:S,top:b})}stopRender({width:i,height:o,x:a,y:c,userId:l,canvas:p,doNotClean:h,RGBA:g,zone:v,left:S,bottom:b,top:E,videoQuality:I}){var _;this.getSDK()&&MR(this.container,!1),null===(_=this.getSDK())||void 0===_||_.Notify_MeidaSDK(xr.STOP_RENDER_VIDEO,{width:i,height:o,x:a,y:c,userId:l,canvas:p,doNotClean:h,RGBA:g,zone:v,left:S,bottom:b,top:E,videoQuality:I})}}class Ck extends OI{addRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(xr.ADD_RENDER_VIDEO,{userId:i,videodom:o})}stopRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(xr.STOP_RENDER_VIDEO,{userId:i,videodom:o})}}class NR extends RI{addRender({width:i,height:o,userId:a,canvas:c,isFromMainSession:l}){var p;null===(p=this.getSDK())||void 0===p||p.Notify_MeidaSDK(xr.START_SHARING,{width:i,height:o,canvas:c,ssrc:a,isFromMainSession:l})}zoomRender(){}stopRender({canvas:i}){var o;null===(o=this.getSDK())||void 0===o||o.Notify_MeidaSDK(xr.STOP_SHARING,{canvas:i})}}class MI extends OI{addRender({userId:i,videodom:o}){var a,c;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(xr.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[o]),null===(c=this.getSDK())||void 0===c||c.Notify_MeidaSDK(xr.ADD_RENDER_VIDEO,{userId:i,videodom:o})}stopRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(xr.STOP_RENDER_VIDEO,{userId:i,videodom:o})}}let ah=(()=>{class t{static VERTEX_SHADER="\n    attribute vec2 position;\n    varying vec2 texCoord;\n\n    void main() {\n      texCoord = (position + 1.0) * 0.5;\n      // gl_Position = vec4(position, 0.0, 1.0);\n      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);\n    }\n  ";static FRAGMENT_SHADER="\n    precision mediump float;\n    varying vec2 texCoord;\n    uniform sampler2D videoTexture;\n\n    void main() {\n      gl_FragColor = texture2D(videoTexture, texCoord);\n    }\n  ";constructor(){}preview(o,a,c){const l=a.getContext("webgl"),p=this.#e(l,t.VERTEX_SHADER,t.FRAGMENT_SHADER),h=l.getAttribLocation(p,"position"),g=l.getUniformLocation(p,"videoTexture");l.useProgram(p);const v=this.#n(l);l.bindBuffer(l.ARRAY_BUFFER,v),l.enableVertexAttribArray(h),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),this.frame({glContext:l,program:p,positionAttributeLocation:h,textureLocation:g,positionBuffer:v,viewport:c,source:o})}frame(o){const a=o.glContext;o.glContext.clearColor(0,0,0,1),o.glContext.clear(o.glContext.COLOR_BUFFER_BIT),o.glContext.viewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h),o.glContext.enable(o.glContext.DEPTH_TEST);const c=o.glContext.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.uniform1i(o.textureLocation,0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,o.source),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),o.glContext.drawArrays(o.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame(()=>this.frame(o))}#e(o,a,c){const l=this.#t(o,o.VERTEX_SHADER,a),p=this.#t(o,o.FRAGMENT_SHADER,c);let h=o.createProgram();return o.attachShader(h,l),o.attachShader(h,p),o.linkProgram(h),h}#t(o,a,c){const l=o.createShader(a);return o.shaderSource(l,c),o.compileShader(l),l}#n(o){const a=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,a),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),a}}return t})(),Ik=(()=>{class t{static VERTEX_SHADER="#version 300 es\n    in vec2 position;\n    out vec2 texCoord;\n\n    void main() {\n      texCoord = (position + 1.0) * 0.5;\n      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);\n    }\n  ";static FRAGMENT_SHADER="#version 300 es\n    precision mediump float;\n    in vec2 texCoord;\n    uniform sampler2D videoTexture;\n    out vec4 fragColor;\n\n    void main() {\n      fragColor = texture(videoTexture, texCoord);\n    }\n  ";constructor(){}preview(o,a,c){const l=a.getContext("webgl2"),p=this.#e(l,t.VERTEX_SHADER,t.FRAGMENT_SHADER),h=l.getAttribLocation(p,"position"),g=l.getUniformLocation(p,"videoTexture");l.useProgram(p);const v=this.#n(l);l.bindBuffer(l.ARRAY_BUFFER,v),l.enableVertexAttribArray(h),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),this.frame({glContext:l,program:p,positionAttributeLocation:h,textureLocation:g,positionBuffer:v,viewport:c,source:o})}frame(o){const a=o.glContext;o.glContext.clearColor(0,0,0,1),o.glContext.clear(o.glContext.COLOR_BUFFER_BIT),o.glContext.viewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h),o.glContext.enable(o.glContext.DEPTH_TEST);const c=o.glContext.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.uniform1i(o.textureLocation,0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,o.source),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),o.glContext.drawArrays(o.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame(()=>this.frame(o))}#e(o,a,c){const l=this.#t(o,o.VERTEX_SHADER,a),p=this.#t(o,o.FRAGMENT_SHADER,c);let h=o.createProgram();return o.attachShader(h,l),o.attachShader(h,p),o.linkProgram(h),h}#t(o,a,c){const l=o.createShader(a);return o.shaderSource(l,c),o.compileShader(l),l}#n(o){const a=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,a),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),a}}return t})(),wk=(()=>{class t{static VERTEX_SHADER="\n    struct VertexOutput {\n      @builtin(position) Position: vec4<f32>,\n      @location(0) uv: vec2<f32>,\n    }\n\n    @vertex\n    fn vert_main(@builtin(vertex_index) VertexIndex: u32) -> VertexOutput {\n      var pos = array<vec2<f32>, 6>(\n        vec2<f32>( 1.0,  1.0),\n        vec2<f32>( 1.0, -1.0),\n        vec2<f32>(-1.0, -1.0),\n        vec2<f32>( 1.0,  1.0),\n        vec2<f32>(-1.0, -1.0),\n        vec2<f32>(-1.0,  1.0)\n      );\n\n      var uv = array<vec2<f32>, 6>(\n        vec2<f32>(1.0, 0.0),\n        vec2<f32>(1.0, 1.0),\n        vec2<f32>(0.0, 1.0),\n        vec2<f32>(1.0, 0.0),\n        vec2<f32>(0.0, 1.0),\n        vec2<f32>(0.0, 0.0)\n      );\n\n      var output : VertexOutput;\n      output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n      output.uv = uv[VertexIndex];\n      return output;\n    }\n  ";static FRAG_SHADER_VF="\n    @group(0) @binding(0) var mySampler: sampler;\n    @group(0) @binding(1) var vfTexture: texture_external;\n\n    @fragment\n    fn frag_main(@location(0) uv : vec2<f32>) -> @location(0) vec4<f32> {\n      var color0: vec4<f32> = textureSampleBaseClampToEdge(vfTexture, mySampler, uv);\n      return color0;\n    }\n  ";constructor(){}preview(o,a,c){var l=this;return Oe(function*(){if(!o||!a||!c)throw new Error("Invalid arguments: source, target, or viewport is missing");const p=yield navigator.gpu.requestAdapter(),h=yield p.requestDevice(),g=navigator.gpu.getPreferredCanvasFormat(),v=a.getContext("webgpu");v.configure({device:h,format:g,alphaMode:"opaque"});const S=h.createSampler({}),b=h.createRenderPipeline({layout:"auto",vertex:{module:h.createShaderModule({code:t.VERTEX_SHADER}),entryPoint:"vert_main"},fragment:{module:h.createShaderModule({code:t.FRAG_SHADER_VF}),entryPoint:"frag_main",targets:[{format:g}]},primitive:{topology:"triangle-list"}});l.frame({device:h,context:v,pipeline:b,sampler:S,source:o,viewport:c})})()}frame(o){const a=o.device.createCommandEncoder(),c={colorAttachments:[{view:o.context.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store"}]},l=a.beginRenderPass(c);l.setPipeline(o.pipeline);const p=o.device.createBindGroup({layout:o.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:o.sampler},{binding:1,resource:o.device.importExternalTexture({source:o.source})}]});l.setBindGroup(0,p),l.setViewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h,0,1),l.draw(6),l.end(),o.device.queue.submit([a.finish()]),requestAnimationFrame(()=>this.frame(o))}}return t})();class Dc{constructor(){}preview(i,o,a,c){let l=null;1==i?a.srcObject=o:2==i?(l=new ah,l.preview(o,a,c)):3==i?(l=new Ik,l.preview(o,a,c)):4==i&&(l=new wk,l.preview(o,a,c))}static getInstance(){return Dc.instance||(Dc.instance=new Dc),Dc.instance}}class _k extends RI{constructor(){super(...arguments),this.rendersProxy=Dc.getInstance(),this.videoSource=null}createSource(i,o,a){return c=this,void 0,h=function*(){const c=document.createElement("video");return c.width=o,c.height=a,c.loop=!0,c.autoplay=!0,c.muted=!0,c.srcObject=i,yield c.play(),c},new((p=void 0)||(p=Promise))(function(g,v){function S(I){try{E(h.next(I))}catch(_){v(_)}}function b(I){try{E(h.throw(I))}catch(_){v(_)}}function E(I){var _;I.done?g(I.value):(_=I.value,_ instanceof p?_:new p(function(w){w(_)})).then(S,b)}E((h=h.apply(c,[])).next())});var c,p,h}addRender(i){i.renderType&&i.srcObject&&!this.videoSource&&(this.videoSource&&(this.videoSource=null),this.createSource(i.srcObject,i.width,i.height).then(o=>{this.videoSource=o,this.rendersProxy.preview(i.renderType,this.videoSource,i.canvas,{x:i.x,y:i.renderType===ga.WebGPU?i.top:i.y,w:i.width,h:i.height})}))}zoomRender(i){i.renderType&&this.videoSource&&(this.videoSource.width!==i.width&&(this.videoSource.width=i.width),this.videoSource.height!==i.height&&(this.videoSource.height=i.height))}stopRender(i){i.renderType&&this.videoSource&&(this.videoSource.srcObject=null,this.videoSource=null)}}class kR extends OI{constructor(){super(...arguments),this.rendersProxy=Dc.getInstance()}addRender(i){i.srcObject&&i.videodom&&this.rendersProxy.preview(ga.VideoTag,i.srcObject,i.videodom)}stopRender(i){i.videodom.srcObject=null}}const Ac="node-id",uh="media-type",ch="video-quality",PI="share-source",NI="fill-mode",Ts="stop-no-clean",kI="refresh-key";class lh extends HTMLElement{static get observedAttributes(){return[Ac,uh,ch,kI]}constructor(){super(),this.container=null,this._srcObject=null,TR(this,lh.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.callback=(i,o)=>{i===em.MOBILE_CAPTURE_DEVICE_CHANGE&&o===this.getAttribute(Ac)&&this.initRender()}}initRender(){var i,o,a,c,l;if(this.render&&this.render.destroy(),null===(i=this.getContainer())||void 0===i?void 0:i.useInsideRender()){const S=null===(o=this.getContainer())||void 0===o?void 0:o.getInsideRenderType();if(S===ga.VideoTag)this.render=new kR(this.getContainer());else{if(![ga.WebGL,ga.WebGL2,ga.WebGPU].includes(S))return void console.error("Inside render type error.");this.render=new _k(this.getContainer(),this.getRenderParams)}return this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init(),void(this.srcObject&&this.render.playVideo(this.srcObject))}const p=this.getAttribute(Ac),h=p&&(null===(a=this.getCurrentMediaSDK())||void 0===a?void 0:a.isPreviewVideotag(p));let g=0;this.getAttribute(uh)===tm.Share?(this.render=new NR(this.getContainer(),this.getRenderParams),g=2):null!==(c=this.getCurrentMediaSDK())&&void 0!==c&&c.getWebRTCFlag()?(this.render=new Ck(this.getContainer()),g=4):h?(this.render=new MI(this.getContainer()),g=1):(this.render=new PR(this.getContainer(),this.getRenderParams),g=3),this.getCurrentMediaSDK()&&_c(this.getCurrentMediaSDK(),`VPREN:${g}`),this.innerHTML="",this.appendChild(this.render.getElement()),this.render.init();const v=this.getAttribute(Ac);rd(v)||null===(l=this.render)||void 0===l||l.playVideo(v)}get srcObject(){return this._srcObject}set srcObject(i){var o,a,c,l;!this._srcObject&&i?null===(o=this.render)||void 0===o||o.playVideo(i):this._srcObject&&i?(null===(a=this.render)||void 0===a||a.stopVideo(),null===(c=this.render)||void 0===c||c.playVideo(i)):this._srcObject&&(null===(l=this.render)||void 0===l||l.stopVideo()),this._srcObject=i}getContainer(){return this.container||(this.container=this.closest(`${Lr.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var i,o;return Yo(null===(o=null===(i=this.getContainer())||void 0===i?void 0:i.getSessionId)||void 0===o?void 0:o.call(i))}getParsedParams(){var i,o;return{fillMode:BS(this,NI),doNotClean:BS(this,Ts),isFromMainSession:"main"===this.getAttribute(PI),videoQuality:this.getAttribute(ch),renderType:null!==(o=null===(i=this.getContainer())||void 0===i?void 0:i.getInsideRenderType())&&void 0!==o?o:ga.Unknown}}connectedCallback(){var i;this.style.display="block",RR(this,lh.defaultValues),this.initRender(),null===(i=this.getCurrentMediaSDK())||void 0===i||i.addCallback(this.callback),this.removeSubscribe=Lr.subscribe((o,a,c)=>{var l,p,h,g;"failover"===o&&c===((null===(p=null===(l=this.getContainer())||void 0===l?void 0:l.getSessionId)||void 0===p?void 0:p.call(l))||sh)&&(this.initRender(),rd(this.getAttribute(Ac))||null===(h=this.render)||void 0===h||h.playVideo(this.getAttribute(Ac)),this.srcObject&&(null===(g=this.render)||void 0===g||g.playVideo(this.srcObject)))})}disconnectedCallback(){var i,o,a;null===(i=this.removeSubscribe)||void 0===i||i.call(this),null===(o=this.render)||void 0===o||o.destroy(),this.callback&&(null===(a=this.getCurrentMediaSDK())||void 0===a||a.removeCallback(this.callback))}attributeChangedCallback(i,o,a){var c,l,p,h,g;if(this.render)switch(i){case Ac:!(null===(c=this.getCurrentMediaSDK())||void 0===c)&&c.getWebRTCFlag()||!(null===(l=this.getCurrentMediaSDK())||void 0===l||!l.isPreviewVideotag(a))!=this.render instanceof MI&&this.initRender(),rd(o)&&!rd(a)?this.render.playVideo(a):rd(o)||rd(a)?rd(o)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(a));break;case uh:this.initRender();break;case ch:null===(p=this.render)||void 0===p||p.updateVideoQuality(a);break;case kI:rd(a)||null===(g=null===(h=this.render)||void 0===h?void 0:h.refresh)||void 0===g||g.call(h)}}}lh.customAttributes=[Ac,uh,ch,PI,NI,Ts,kI],lh.defaultValues={[Ac]:"",[uh]:tm.Video};const Rs="session-id",Xo="z-index",Vo="inside-render";class od extends HTMLElement{static get observedAttributes(){return[Rs,Xo,Vo]}constructor(){super(),this.canvasId="video-player-canvas-"+(this.getAttribute("label")?`${this.getAttribute("label")}-`:"")+rm(),this.needInitCanvas=!1,this.callback=null,TR(this,od.customAttributes);const i=this.attachShadow({mode:"open"}),o=document.createElement("slot");this.appendCanvas=a=>{i.insertBefore(a,o)},i.appendChild(o)}connectedCallback(){this.style.display="block",this.style.position||(this.style.position="relative"),RR(this,od.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.removeSubscribe=Lr.subscribe((i,o,a)=>{"failover"===i&&a===(this.getSessionId()||sh)&&(this.replaceCanvas(),this.initCanvasEvents())})}disconnectedCallback(){var i,o,a,c;null===(i=this.removeListener)||void 0===i||i.call(this),null===(o=this.removeSubscribe)||void 0===o||o.call(this),this.canvas&&(null===(a=Yo(this.getSessionId()))||void 0===a||a.Notify_MeidaSDK(xr.REMOVE_EXPIRED_CANVAS,{canvasId:this.canvasId}),this.canvas.remove(),this.canvas=void 0),this.callback&&(null===(c=Yo(this.getSessionId()))||void 0===c||c.removeCallback(this.callback))}attributeChangedCallback(i,o,a){i===Xo&&this.canvas&&a&&(this.canvas.style.zIndex=a)}adoptedCallback(){}createCanvas(){this.getCurrentMediaSDK()&&_c(this.getCurrentMediaSDK(),"VPCC"),this.canvas=nm(this.clientWidth,this.clientHeight,this.getAttribute(Xo)||"",this.canvasId,i=>_c(this.getCurrentMediaSDK(),i)),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}initCanvasEvents(){var i;this.removeListener=uu(this.canvas,this),this.callback=(o,a)=>{var c,l;o===em.WEBGL_LOST_IN_MULTI_VIEW&&a.replaceCanvas&&a.canvasId===(null===(c=this.canvas)||void 0===c?void 0:c.id)&&(this.replaceCanvas(),null===(l=Yo(this.getSessionId()))||void 0===l||l.Notify_MeidaSDK(xr.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},null===(i=this.getCurrentMediaSDK())||void 0===i||i.addCallback(this.callback)}replaceCanvas(){var i;if(this.getCurrentMediaSDK()&&_c(this.getCurrentMediaSDK(),"VPRC"),this.canvas){null===(i=this.removeListener)||void 0===i||i.call(this);const o=nm(this.clientWidth,this.clientHeight,this.getAttribute(Xo)||"",this.canvasId,a=>_c(this.getCurrentMediaSDK(),a));this.removeListener=uu(o,this),this.shadowRoot&&this.shadowRoot.replaceChild(o,this.canvas),this.canvas=o}}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}useInsideRender(){return null!==this.getAttribute(Vo)&&void 0!==this.getAttribute(Vo)&&"false"!==this.getAttribute(Vo)&&"0"!==this.getAttribute(Vo)}getInsideRenderType(){return Number(this.getAttribute("inside-render-type"))}getSessionId(){return this.getAttribute(Rs)||void 0}getCurrentMediaSDK(){return Yo(this.getSessionId())}getRGBA(){return function(i){let o=0,a=0,c=0,l=0;if("r"===i[0])if("a"===i[3]){const p=i.slice(5,-1).split(",").map(h=>parseInt(h.trim(),10));o=p[0],a=p[1],c=p[2],l=p[3]}else{const p=i.slice(4,-1).split(",").map(h=>parseInt(h.trim(),10));o=p[0],a=p[1],c=p[2]}else if("#"===i[0]){let p=i.slice(1);3===p.length&&(p=p.split("").map(g=>g.repeat(2)).join(""));const h=parseInt(p,16);o=h>>16&255,a=h>>8&255,c=255&h}return{R:o/255,G:a/255,B:c/255,A:l}}(getComputedStyle(this).getPropertyValue("background-color"))}}function xI(t){const{audio:{isBackgroundNoiseSuppression:i,originalSound:o,highBitrate:a}}=t,c={currentSelect:ey.Denoise},l={highfidelity:!1,stereo:!1};if(o){Object.assign(c,{currentSelect:ey.OriginalSound});const p={};Object.assign(p,"boolean"==typeof o?l:{highfidelity:!!o.hifi,stereo:!!o.stereo}),Object.assign(c,{originalSound:p})}return Object.assign(c,{backgroundNoiseSuppression:i?wf.Zoom:wf.Browser,highBitrate:a}),c}function om(t,i,o,a){const{meeting:{userId:c},audio:{localShareAudioUserMutedList:l},share:{isReceiveSharingFromMainSession:p}}=a;return l.filter(h=>h.userId!==i).forEach(h=>{t.setSharingAudioVolume(h.userId,!0,h.isFromMainSession)}),t.setSharingAudioVolume(i,o,!!p),i===c?My(o):qA({userId:i,muted:o})}function id(t,i,o){return FI.apply(this,arguments)}function FI(){return FI=Oe(function*(t,i,o){var a,c;const{audio:{audioSsrc:l,activeMicrophone:p,activeSpeaker:h,isAllowToTalk:g,customizeAudioOption:{speakerOnly:v,mute:S,microphoneId:b,speakerId:E},isUsingMediaPlayback:I,mediaPlaybackFile:_,isHIDEnabled:w,microphoneDevicesList:A,isVerifiedAudioPermissionOnIOSMobile:T,speakerDevicesList:M},meeting:{svcUrl:P,conId:N,reportDomain:H,isAudioBridgeEnabled:V,userId:x,supportLocalAB:J,abToken:Y}}=i,z=Ve(i),U=!!v||Pr(z.userRole)&&!g,O=o??!U;vr()&&(V||console.warn("Cannot start audio due to the service is not ready."),yield ar(eu(i,!O)).then(j=>{let[Q,re]=j;return Q&&re?Promise.resolve():Promise.reject()}));let L=p,$=h;if(void 0!==b||void 0!==E){let j=A,Q=M;if(0===A.length){const{microphones:re,speakers:te}=yield ar(qt());j=re,Q=te}b&&j.findIndex(re=>re.deviceId===b)>-1&&(L=b),E&&Q.findIndex(re=>re.deviceId===E)>-1&&($=E)}if(I&&null!=_&&_.url){const j=Xi.getInstance();yield j.setAudioElement(_),L=j.audioElement}else Xi.getInstance().stopAudioElement();return U&&!T&&Re.isIOSMobile&&(yield Oe(function*(){yield navigator.mediaDevices.getUserMedia({audio:!0})})()),null===(a=t.joinComputerAudio(l,L,$,O,xI(i),vr()?{rwgHost:P,cid:N,nginxHost:H,abToken:Y,supportLocalAB:J,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0,w?{microphoneLabel:null===(c=A.find(j=>j.deviceId===p))||void 0===c?void 0:c.label,defaultMuted:!(null==z||!z.muted)}:void 0))||void 0===a?void 0:a.then(()=>{S&&(Ot.createAgent().mute(x,!0),t.muteAudio()),null!=z&&z.muted?t.muteAudio():t.unmuteAudio()})}),FI.apply(this,arguments)}function im(t,i,o){return sd.apply(this,arguments)}function sd(){return sd=Oe(function*(t,i,o){const a=[],{audio:{isJoinComputerAudioBeforeSharingAudio:c,mutedBeforeSharingAudio:l}}=o,p=Ve(o);return!0===c&&(yield id(t,o),a.push(kl(void 0)),!1===l&&(a.push(tc(Sf.SharingAudio)),i.mute(p.userId,!1)),a.push(Ka(void 0))),a}),sd.apply(this,arguments)}function LR(t,i,o){return HS.apply(this,arguments)}function HS(){return HS=Oe(function*(t,i,o){const{audio:{isSharingAudio:a},meeting:{userId:c}}=o,l=[];if(l.push(om(t,c,!0,o)),a){yield t.leaveSharingAudio(!1),l.push(Cp(!1));const p=yield im(t,i,o);l.push(...p),setTimeout(()=>{F(Cr,{state:"off"})},0)}return l.push(Oy(!1)),l}),HS.apply(this,arguments)}function VI(t,i,o){return UI.apply(this,arguments)}function UI(){return UI=Oe(function*(t,i,o){const{audio:{audioSsrc:a,activeMicrophone:c,activeSpeaker:l},meeting:{svcUrl:p,conId:h,reportDomain:g,supportLocalAB:v,abToken:S}}=o,b=Ve(o),E=[];if(!Ri()){const I=yield(_=Oe(function*(w,A){const T=[],M=Ve(A),{audio:{isMicrophoneForbidden:P}}=A;return M?.audio===xt.Computer&&(T.push(kl(!0)),T.push(Ka(M.muted)),M.muted||w.muteAudio(),yield w.leaveComputerAudio(),T.push(bp(0)),P&&T.push(Ty(!1))),T}),function(w,A){return _.apply(this,arguments)})(t,o);E.push(...I)}var _;return yield t.leaveSharingAudio(!0),yield t.joinSharingAudio({ssrc:a,microphoneDeviceId:c,speakerDeviceId:l,isCaptureAudio:Pr(b.userRole),audioBridge:vr()?{rwgHost:p,cid:h,nginxHost:g,abToken:S,supportLocalAB:v,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0}),E.push(Oy(!0)),E.push(Cp(!0)),E.push(om(t,b.userId,!1,o)),E.findIndex(I=>I.type===`${kl}`&&!0===I.payload)>-1&&(E.push(Zi(bi.SharingAudio)),i.mute(o.meeting.userId,!0)),setTimeout(()=>{F(Cr,{state:"on"})},0),E}),UI.apply(this,arguments)}od.customAttributes=[],od.defaultValues={};const dh=()=>{if(MN())return!0;{var t;let{browser:o}=Re;if(o=null===(t=o)||void 0===t?void 0:t.toLocaleLowerCase(),o.indexOf("safari")>-1&&-1===o.indexOf("ios-safari")){var i;const a=null===(i=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))||void 0===i?void 0:i[1];return lf(a||"","15.2")>=0&&lf(a||"","17.1")<0}return!1}};function jI(t,i,o){for(let a=0;a<o.length&&0!==i.length;a++){const{userId:c,displayName:l}=o[a];if(i.includes(c)){const p=t.find(h=>h.userId===c);p&&(p.displayName=l,i.splice(i.indexOf(c),1))}}}function Ri(){return Ye.isSupportOpenMicWhenShareAudio()}function xR(t){return Ye.isSupportAudioDenoise(t)}function BI(){return Ye.isSupportStereoAudio()}function FR(){var t;return"function"==typeof(null===(t=window.navigator.hid)||void 0===t?void 0:t.requestDevice)}function $I(t,i,o){const{audio:{isAllowToTalk:a,customizeAudioOption:c},media:{audioDecodeStatus:l,audioEncodeStatus:p}}=t;return{encodeInitStatus:Pr(i.userRole)&&!a||o||null!=c&&c.speakerOnly||vr()?"success":p,decodeInitStatus:vr()?"success":l}}function GS(t,i,o){vr()?eu(i,o).subscribe(a=>{let[c,l]=a;c&&l&&t.joinOrLeaveVoip(!0)}):t.joinOrLeaveVoip(!0)}const cu=Ot.createAgent(),ei=Rg(wo(Ye.getInstance())),VR=t=>!t.muted,sm=Ot.createAgent(),ad=Rg(wo(Ye.getInstance())),HI=Ot.createAgent(),ph=Rg(wo(Ye.getInstance())),zS={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],crcDevice:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0}}},GI=mr({[`${X0}`]:B((t,i)=>{let{payload:o}=i;t.asnIds={...o}}),[`${Qf}`]:B((t,i)=>{let{payload:o}=i;t.bCanUnmute=o}),[`${BA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,phoneNumber:c}=o;-1===t.dialout.findIndex(l=>l.sequence===a)&&t.dialout.push({sequence:a,phoneNumber:c,returnCode:-1,uuid:Mg()})}),[`${Ay}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,code:c,nodeId:l}=o,p=t.dialout.find(h=>h.sequence===a);p&&(p.returnCode=c,l&&(p.phoneNodeId=l))}),[`${eC}`]:B((t,i)=>{let{payload:o}=i;t.isAllowToTalk=o,t.isAllowToTalkAttendeeConnected=!1}),[`${Zi}`]:B((t,i)=>{let{payload:o}=i;t.mutedSource=o}),[`${tc}`]:B((t,i)=>{let{payload:o}=i;t.unmutedSource=o}),[`${Ml}`]:B((t,i)=>{let{payload:o}=i;t.audioSsrc=o}),[`${$A}`]:B((t,i)=>{let{payload:o}=i;t.bMutedUponEntry=o}),[`${HA}`]:B((t,i)=>{let{payload:o}=i;t.isUserGrantCaptureAudio=o}),[`${Ty}`]:B((t,i)=>{let{payload:o}=i;t.isMicrophoneForbidden=o}),[`${bp}`]:B((t,i)=>{let{payload:o}=i;t.webrtcRestartCount=o}),[`${GA}`]:B((t,i)=>{let{payload:o}=i;t.microphoneDevicesList=o}),[`${zA}`]:B((t,i)=>{let{payload:o}=i;t.speakerDevicesList=o}),[`${Jf}`]:B((t,i)=>{let{payload:o}=i;t.activeMicrophone=o}),[`${Ry}`]:B((t,i)=>{let{payload:o}=i;t.activeSpeaker=o}),[`${Pl}`]:B((t,i)=>{let{payload:o}=i;t.canPlayAudio=o}),[`${Ep}`]:B((t,i)=>{let{payload:o}=i;t.isComputerAudioLoading=o}),[`${Zf}`]:B((t,i)=>{let{payload:o}=i;if(o){const{speakerOnly:a,mute:c,backgroundNoiseSuppression:l,originalSound:p,syncButtonsOnHeadset:h,mediaFile:g,microphoneId:v,speakerId:S,highBitrate:b}=o;t.customizeAudioOption.speakerOnly=a,t.customizeAudioOption.mute=c,t.customizeAudioOption.microphoneId=v,t.customizeAudioOption.speakerId=S,t.isBackgroundNoiseSuppression=!!l,t.isHIDEnabled=!!h,t.originalSound=p,t.highBitrate=!!b,Qd(t.mediaPlaybackFile,g)||(t.mediaPlaybackFile=g,t.isUsingMediaPlayback=!(null==g||!g.url)),c&&(t.mutedSource=bi.Inherited)}}),[`${Nl}`]:B((t,i)=>{let{payload:o}=i;t.isAllowToTalkAttendeeConnected=o}),[`${Ka}`]:B((t,i)=>{let{payload:o}=i;t.mutedBeforeSharingAudio=o}),[`${Cp}`]:B((t,i)=>{let{payload:o}=i;t.isSharingAudio=o}),[`${My}`]:B((t,i)=>{let{payload:o}=i;t.isShareAudioMuted=o}),[`${WA}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,isFromMainSession:c}=o;-1===t.localShareAudioUserMutedList.findIndex(l=>l.userId===a)&&t.localShareAudioUserMutedList.push({userId:a,isFromMainSession:c,muted:!1})}),[`${qA}`]:B((t,i)=>{let{payload:o}=i;const a=t.localShareAudioUserMutedList.find(c=>c.userId===o.userId);a&&(a.muted=o.muted)}),[`${kl}`]:B((t,i)=>{let{payload:o}=i;t.isJoinComputerAudioBeforeSharingAudio=o}),[`${Oy}`]:B((t,i)=>{let{payload:o}=i;t.isShareAudioEnabled=o}),[`${Py}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${Ny}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${KA}`]:B((t,i)=>{let{payload:o}=i;-1===t.locallyMutedAudioList.findIndex(a=>a===o)&&t.locallyMutedAudioList.push(o)}),[`${Ip}`]:B((t,i)=>{let{payload:o}=i;const a=t.locallyMutedAudioList.findIndex(c=>c===o);-1!==a&&t.locallyMutedAudioList.splice(a,1)}),[`${l1}`]:B((t,i)=>{let{payload:o}=i;const a=t.localUserAudioVolumeList.find(c=>c.userId===o.userId);a?a.volume=o.volume:t.localUserAudioVolumeList.push(o)}),[`${d1}`]:B((t,i)=>{let{payload:o}=i;const a=t.localUserAudioVolumeList.findIndex(c=>c.userId===o.userId);-1!==a&&t.localUserAudioVolumeList.splice(a,1)}),[`${QA}`]:B((t,i)=>{let{payload:o}=i;t.isBackgroundNoiseSuppression=o}),[`${p1}`]:B((t,i)=>{let{payload:o}=i;t.isHIDEnabled=o}),[`${JA}`]:B((t,i)=>{let{payload:o}=i;t.mediaPlaybackFile=o,t.isUsingMediaPlayback=!(null==o||!o.url)}),[`${ZA}`]:B((t,i)=>{let{payload:o}=i;t.isStopAllImcomingAudio=o}),[`${h1}`]:B((t,i)=>{let{payload:o}=i;t.isVerifiedAudioPermissionOnIOSMobile=o}),[`${tC}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeSignalReconnecting=o}),[`${Yf}`]:B((t,i)=>{let{payload:o}=i;t.originalSound=o}),[`${nc}`]:B((t,i)=>{let{payload:o}=i;t.leaveAudioSource=o}),[`${Xf}`]:B((t,i)=>{let{payload:o}=i;t.secondaryAudioMicrophoneId=o}),[`${YA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,ip:c,protocol:l}=o;-1===t.crcDevice.findIndex(p=>p.sequence===a)&&t.crcDevice.push({sequence:a,ip:c,protocol:l,transId:0,uuid:Mg()})}),[`${XA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,transID:c,result:l}=o,p=t.crcDevice.find(h=>h.sequence===a);p&&Object.assign(p,{transId:c,returnCode:l})}),[`${c1}`]:(t,i)=>{let{dialout:o,crcDevice:a,locallyMutedAudioList:c,localUserAudioVolumeList:l,customizeAudioOption:p,originalSound:h,highBitrate:g,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:b,mediaPlaybackFile:E,isUsingMediaPlayback:I,isVerifiedAudioPermissionOnIOSMobile:_,activeSpeaker:w,activeMicrophone:A}=t,{payload:T}=i;return T?{...zS,dialout:o,crcDevice:a,locallyMutedAudioList:c,localUserAudioVolumeList:l,customizeAudioOption:{...zS.customizeAudioOption,speakerOnly:p.speakerOnly},originalSound:h,highBitrate:g,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:b,mediaPlaybackFile:E,isUsingMediaPlayback:I,isVerifiedAudioPermissionOnIOSMobile:_,activeSpeaker:w,activeMicrophone:A}:{...zS}}},zS),zI={epics0:(t,i)=>Ce(t,12033).pipe(Pe(i),ye(o=>{let[a,c]=o;const{participants:{allowTalkAttendeesList:l}}=c,p=a.payload.body;let h={};if(p){const g=Yt(c),v=Object.keys(p).map(b=>({key:b,userId:p[b]})),S=v.map(b=>b.userId);jI(v,S,g),l.length>0&&S.length>0&&jI(v,S,l),h=v.reduce((b,E)=>({...b,[`${E.key}`]:{userId:E.userId,displayName:E.displayName}}),{}),F(GN,Object.values(h))}return X0(h)})),epics1:(t,i)=>Ce(t,16135).pipe(Pe(i),Te(o=>{let[a,c]=o;const{payload:{body:{id:l,bLeadershipOn:p}}}=a,{audio:{bCanUnmute:h}}=c,g=Ve(c);if(g){const{isHost:v,bCoHost:S,userId:b,audio:E,muted:I}=g,_=v||S;p&&po(b,l)&&(null!==E&&""!==E&&!0!==I||!_&&!h||F(hp,Kv.Spotlight))}}),We(Se)),epics2:(t,i)=>Ce(t,12037).pipe(Pe(i),Te(o=>{let[,a]=o;const c=Ve(a);null!==c?.audio&&""!==c?.audio&&1==c?.muted&&F(hp,Kv.Unmute)}),We(Se)),epics3:(t,i)=>Ce(t,yi).pipe(ne(o=>o.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some(a=>void 0!==o.payload.body[a])),ae(o=>{const{payload:{body:{bCanUnmute:a,bMutedAll:c,bMutedUponEntry:l}}}=o,p=[];if(void 0!==a&&p.push(Qf(o.payload.body.bCanUnmute)),void 0!==c){const h=Ve(i.value);h?.audio!==xt.Computer&&h?.audio!==xt.Phone||0!=h.muted||o.payload.body.bMutedAll&&p.push(Zi(bi.PassiveByMuteAll))}return void 0!==l&&p.push($A(o.payload.body.bMutedUponEntry)),ve(p)})),epics4:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Connected}),ae(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a;if(null!=l&&l.some(p=>void 0!==p.audio||void 0!==p.muted)){const{meeting:{userId:p}}=c,h=l.filter(v=>v.id!==p),g=l.filter(v=>v.id===p);if(h&&h.forEach(v=>{F(w0,v)}),g.length>0)return Hl(i).pipe(ae(v=>{const{audio:{mutedSource:S,unmutedSource:b,isAllowToTalk:E,isShareAudioEnabled:I,isSharingAudio:_,isAudioBridgeSignalReconnecting:w,leaveAudioSource:A,customizeAudioOption:{speakerOnly:T}}}=i.value,M=v;return ve(g).pipe(es(function(){var P=Oe(function*(N){const H=[];if(N.audio!==M.audio)if(""===N.audio)F(ea,{source:A}),H.push(nc(void 0));else if(N.audio===xt.Computer){const V=Pr(M.userRole)&&!E||!!T;_&&F(xo),V&&(F(xo),Re.isIOSMobile&&H.push(h1(!0))),w&&(F(xo),H.push(tC(!1)))}else N.audio===xt.Phone&&(M.audio===xt.Computer&&(yield ei.leaveComputerAudio(),H.push(nc(lr.Pstn)),cu.joinOrLeaveVoip(!1)),F(sy));return""!==M.audio&&N.muted!==M.muted&&(N.muted!==M.muted&&(!0===N.muted?(S!==bi.Inherited&&F(C0,{source:S??bi.PassiveByMuteOne}),M.audio!==xt.Computer||I&&!Ri()||ei.muteAudio()):!1===N.muted&&(b!==Sf.Inherited&&F(I0,{source:b??Sf.Passive}),M.audio===xt.Computer&&ei.unmuteAudio())),void 0!==N.muted&&H.push(Zi(void 0),tc(void 0))),H});return function(N){return P.apply(this,arguments)}}()))}))}return Se})),epics5:(t,i)=>Ce(t,12036).pipe(Pe(i),ae(o=>{let[a,c]=o;const l=Ve(c),{media:{audioEncodeStatus:p}}=c,{promoterID:h,bAllowTalk:g}=a.payload.body;if(l?.userId===h){if(F(ay,g),g)return"success"!==p&&ei.enableAudioEncode(),Gr("audio",p,"success").pipe(ae(v=>(v&&F(hp,Kv.AllowToTalk),Se)),cs(eC(!0)));if(cu.mute(h,!0),l?.audio===xt.Computer)return ei.leaveComputerAudio(),On(300).pipe(Te(Oe(function*(){(dh()?ar(Ho(pn(document,"click").pipe(Ct(1)),pn(document,"touchend").pipe(Ct(1)))):Promise.resolve(!0)).then(()=>{id(ei,c,!1)})})),We(Se),cs(eC(!1),Zi(bi.Inherited)))}return Se})),epics6:t=>Ce(t,8205).pipe(Te(i=>{F("AUDIO_ALLOW_TO_TALK_RESPONSE",i.payload.body)}),We(Se)),epics7:(t,i)=>co(t,24597).pipe(Pe(i),Te(o=>{let[a,c]=o;const l=Ve(c);l?.audio===xt.Phone&&cu.audioDrop(l.userId)}),We(Se)),epics8:(t,i)=>Ce(t,12035).pipe(Pe(i),st(o=>{let[a,c]=o;const{meeting:{currentUserAudioBeforeReset:l}}=c,{payload:{body:{ssrc:p}}}=a,h=Hl(i).pipe(ae(g=>{if(l===xt.Computer&&(null==g||!g.audio)){const{encodeInitStatus:v,decodeInitStatus:S}=$I(i.value,g);return Gr("audio",v,S).pipe(ne(b=>{let[E,I]=b;return E&&I}),Te(()=>{(dh()?ar(Ho(pn(document,"click").pipe(Ct(1)),pn(document,"touchend").pipe(Ct(1)))):Promise.resolve(!0)).then(()=>{GS(cu,i.value),id(ei,i.value)});const{audio:{locallyMutedAudioList:b,localUserAudioVolumeList:E,isStopAllImcomingAudio:I}}=i.value;b.length>0&&b.forEach(_=>{ei.muteOrUnmuteOtherAudio(_,!0)}),E.length>0&&E.forEach(_=>{ei.adjustOtherAudioVolume(_.userId,_.volume)}),I&&ei.stopAllIncomingAudio(!0)}),fi(cl(void 0)))}return Se}));return F(uy,p),Kn(Vt(Ml(p)),h)})),epics9:(t,i)=>Ce(t,7952).pipe(st(o=>Mt(sy,1).pipe(Pe(i),Te(a=>{let[,c]=a;const{BindStatus:l,nOperatorUserId:p}=o.payload.body,h=c.participants.attendeesList.find(g=>g.userId===p);!0===l&&F(dA,{operatorName:h?.displayName,operatorUserId:p,operatorRole:h?.userRole})}),We(Se)))),epics10:(t,i)=>Qe(t,he.UserGrantCaptureAudio).pipe(Pe(i),ae(o=>{let[a,c]=o;const l=Ve(c);var p;(p=l,p?.audio===xt.Computer?Promise.resolve():ze({event:Br,operations:[ne(_=>void 0!==_.audio&&""!==_.audio),Ct(1)]},_=>{let{audio:w}=_;return w===xt.Phone||w===xt.Computer})).then(()=>{F(xo)});const{meeting:{isCurrentUserMutedBeforeReset:h},audio:{bMutedUponEntry:g,isUserGrantCaptureAudio:v,isAllowToTalk:S,activeMicrophone:b}}=c,{payload:{data:E}}=a,I=[HA(!0)];return l&&(!0===l.muted&&!1===S&&(I.push(Zi(bi.Inherited)),cu.mute(l.userId,!0)),(!0===h||!(v||l.isHost||S)&&g)&&(I.push(Zi(bi.Inherited)),cu.mute(l.userId,!0),h&&I.push(vn(void 0))),E&&b!==E&&I.push(Jf(E))),ve(I)})),epics11:t=>Qe(t,he.UserForbiddedCaptureAudio).pipe(Te(()=>{F(bl)}),fi(Ty(!0))),epics12:t=>Qe(t,he.AudioWebsocketBroken).pipe(Te(()=>{F(Ha)}),We(Se)),epics13:(t,i)=>Qe(t,he.AudioZeroData).pipe(Pe(i),sa(o=>{let[,a]=o;const{audio:{webrtcRestartCount:c,activeMicrophone:l}}=a;if(c<3)return ei.restoreWebRTC(l),bp(c+1)})),epics14:(t,i)=>t.pipe(Me(`${Pl}`),ne(o=>!1===o.payload),ae(()=>(F(_0),Ho(pn(document,"click").pipe(Ct(1)),pn(document,"touchend").pipe(Ct(1))).pipe(Te(()=>{GS(cu,i.value),id(ei,i.value)}),fi(Pl(!0)))))),epics15:t=>Qe(t,[he.JoinComputerAudioComplete,he.JoinSharingAudioComplete,he.LeaveComputerAudioComplete,he.LeaveSharingAudioComplete]).pipe(Te(()=>{mS.completeAudioAction()}),We(Se)),epics16:(t,i)=>Qe(t,he.AudioQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{meeting:{isWebinar:p},media:{audioEncodeStatus:h,audioDecodeStatus:g},participants:{xmppAttendeeList:v,allowTalkAttendeesList:S}}=l,b=Ve(l),E=Y0(l);let I=E.length>0,_=E.some(VR);const w=vr();p&&(I=I||!!v.length,_=_||S.some(VR));const A=(b?.audio===xt.Computer||b?.audio===xt.Phone)&&("success"===h||w)&&!(null!=b&&b.muted)&&I,T=(b?.audio===xt.Computer||b?.audio===xt.Phone)&&("success"===g||w)&&I&&_;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?A?(F(D0,c.payload),Py(c.payload)):Py(d0):T?(F(D0,c.payload),Ny(c.payload)):Ny(d0)})),epics17:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{payload:{body:l}}=a,{audio:{locallyMutedAudioList:p,localUserAudioVolumeList:h}}=c;return(p.length>0||h.length>0)&&l?.remove&&l.remove.length>0}),ae(o=>{let[a,c]=o;const{payload:{body:{remove:l}}}=a,{audio:{locallyMutedAudioList:p,localUserAudioVolumeList:h}}=c,g=p.concat(h.map(v=>v.userId)).filter(v=>-1!==l.indexOf(S=>S.id===v));return g.length>0?(g.forEach(v=>{ei.muteOrUnmuteOtherAudio(v,!1)}),ve(g.map(v=>[Ip(v),d1({userId:v})]).flat())):Se})),epics18:(t,i)=>Qe(t,he.HidStatusMute).pipe(ae(o=>{const{payload:{data:a}}=o,c=i.value,{meeting:{userId:l},audio:{isShareAudioEnabled:p,bCanUnmute:h}}=c,g=[];if(a)p&&!Ri()&&g.push(Ka(!0)),g.push(Zi(bi.Active)),cu.mute(l,!0);else if(!p||Ri()){p&&g.push(Ka(!1));const v=Ve(c);(h||null!=v&&v.isHost||null!=v&&v.bCoHost)&&(g.push(tc(Sf.Active)),cu.mute(l,!1))}return ve(g)})),epics19:t=>Ce(t,12040).pipe(Te(i=>{const{payload:{body:{mode:o}}}=i;ei.setAudioCodecMode(o)}),We(Se)),epics20:(t,i)=>Qe(t,[he.AudioSpeakerSetSuccess,he.JoinComputerAudioComplete,he.AudioSpeakerSetError]).pipe(ae(o=>{const{payload:{data:a,type:c}}=o,{audio:{activeSpeaker:l,activeMicrophone:p}}=i.value,h=[];return c===he.AudioSpeakerSetSuccess&&l!==a?h.push(Ry(a)):c===he.JoinComputerAudioComplete&&null!==a&&p!==a&&h.push(Jf(a)),c===he.AudioSpeakerSetSuccess?F(El,!0):c===he.AudioSpeakerSetError&&F(El,!1),ve(h)})),epics21:(t,i)=>Qe(t,he.AudioLevelIndicator).pipe(ne(()=>{const o=Ve(i.value);return!!o&&o.audio===xt.Computer&&!o.muted}),Te(o=>{const{payload:{data:a}}=o;F(Of,{level:a.value})}),ae(()=>Se))},UR=qr(zI,{shareAudioEpics0:(t,i)=>ur(t,yn).pipe(ne(o=>{const a=o.payload.body.update;return a&&a.length>0&&a.findIndex(c=>void 0!==c.bShareOn)>-1}),Pe(i),ae(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{audio:{localShareAudioUserMutedList:p}}=c,h=l.filter(v=>!0===v.bShareOn&&!0===v.bShareAudioOn),g=[];return h.length>0&&h.forEach(v=>{-1===p.findIndex(S=>S.userId===v.id)&&g.push(WA({userId:v.id,isFromMainSession:!!v.bShareToBORooms}))}),ve(g)})),shareAudioEpics1:(t,i)=>Qe(t,he.SharingDesktopStreamHaveAudio).pipe(ne(()=>!i.value.audio.secondaryAudioMicrophoneId),st(()=>Ce(t,yn).pipe(ne(o=>{var a;const{payload:{body:c}}=o,{meeting:{userId:l}}=i.value;return(null==c||null===(a=c.update)||void 0===a?void 0:a.findIndex(p=>p.id===l&&!0===p.bShareOn))>-1}),Ct(1),es(Oe(function*(){const o=i.value;return yield VI(ad,sm,o)})),cs(Oy(!0))))),shareAudioEpics2:(t,i)=>Qe(t,he.SharingDesktopStreamHaveNoAudio).pipe(Pe(i),ne(o=>{var a;let[,c]=o;return!0===(null===(a=c.audio)||void 0===a?void 0:a.isShareAudioEnabled)}),es(function(){var o=Oe(function*(a){let[,c]=a;return yield LR(ad,sm,c)});return function(a){return o.apply(this,arguments)}}())),shareAudioEpics3:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Connected&&!0===a.audio.isSharingAudio}),ae(o=>{var a;let[c,l]=o;if(null!==(a=c.payload.body.update)&&void 0!==a&&a.some(p=>void 0!==p.audio||void 0!==p.muted)){const{meeting:{userId:p}}=l,h=c.payload.body.update.filter(g=>g.id===p);return Hl(i).pipe(ae(g=>{const v=[];return h.findIndex(S=>S.audio===xt.Computer)>-1&&g?.audio!==xt.Computer&&!Ri()&&(v.push(kl(!0)),v.push(Ka(!0))),ve(v)}))}return Se})),shareAudioEpics4:(t,i)=>t.pipe(Me(`${wi}`),Ht(Ui),Pe(i),ne(o=>{var a;let[,c]=o;return!0===(null===(a=c.audio)||void 0===a?void 0:a.isShareAudioEnabled)}),es(function(){var o=Oe(function*(a){let[c,l]=a;const{payload:p}=c,{audio:{isShareAudioMuted:h,isSharingAudio:g}}=l,v=[];if(p===_t.End){const S=yield LR(ad,sm,l);v.push(...S)}else if(p===_t.Paused){if(!1===h&&!0===g){yield ad.leaveSharingAudio(!0),v.push(Cp(!1));const S=yield im(ad,sm,l);v.push(...S),setTimeout(()=>{F(Cr,{state:"off"})},0)}}else if(p===_t.Sharing&&!1===h&&!1===g){const S=yield VI(ad,sm,l);v.push(...S)}return v});return function(a){return o.apply(this,arguments)}}())),shareAudioEpics5:(t,i)=>Qe(t,he.SharingDesktopStreamHaveAudio).pipe(ne(()=>!!i.value.audio.secondaryAudioMicrophoneId),Te(()=>{const{audio:{audioSsrc:o,secondaryAudioMicrophoneId:a},meeting:{svcUrl:c,conId:l,reportDomain:p,supportLocalAB:h,abToken:g}}=i.value;ad.joinSharingAudio({ssrc:o,microphoneDeviceId:a,speakerDeviceId:null,isCaptureAudio:!0,audioBridge:vr()?{rwgHost:c,cid:l,nginxHost:p,abToken:g,supportLocalAB:h,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0}),F(hA)}),ae(()=>Se))},{audioBridgEpics0:t=>Ce(t,4299).pipe(Te(i=>{const{payload:o}=i;ph.passThroughRWGMessage(o)}),We(Se)),audioBridgEpics1:t=>Qe(t,he.AudioBridgeReconnectStart).pipe(ae(()=>(HI.joinOrLeaveVoip(!1),ve([tC(!0),nc(lr.Failover)])))),audioBridgEpics2:(t,i)=>Qe(t,he.AudioBridgeReconnectEnd).pipe(Te(()=>{GS(HI,i.value)}),We(Se)),audioBridgEpics3:t=>Ce(t,yn).pipe(ne(i=>{var o,a;return vr()&&((null===(o=i.payload.body.update)||void 0===o?void 0:o.some(c=>void 0!==c.muted))||(null===(a=i.payload.body.remove)||void 0===a?void 0:a.length)>0)}),Te(i=>{const{payload:{body:{update:o,remove:a}}}=i;ph.sendUserAudioStatus({update:(o||[]).filter(c=>void 0!==c.muted).map(c=>({userId:c.id,muted:c.muted})),remove:(a||[]).map(c=>({userId:c.id}))})}),We(Se)),audioBridgEpics4:(t,i)=>Qe(t,he.NotifyUIFailover).pipe(ne(()=>!i.value.meeting.isMeetingReset&&i.value.meeting.meetingStatus===wt.Joined),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NotifyUiFailover)))),audioBridgEpics5:(t,i)=>sf(t,i).pipe(ne(()=>{const{meeting:{isAudioBridgeEnabled:o,abToken:a}}=i.value;return o&&vr()&&!!a}),Te(()=>{const{meeting:{abToken:o,svcUrl:a,reportDomain:c,conId:l,supportLocalAB:p}}=i.value;ph.preInitAudioBridge({abToken:o,rwgHost:a,cid:l,nginxHost:c,supportLocalAB:p,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser})}),We(Se)),audioBridgEpics6:(t,i)=>Ce(t,16129).pipe(ne(o=>{const{payload:{body:{bVideoOn:a}}}=o,{meeting:{isAudioBridgeEnabled:c}}=i.value;return c&&vr()&&!!a}),Te(o=>{const{payload:{body:{id:a}}}=o;ph.changeActiveVideoSsrc(a)}),We(Se)),audioBridgEpics7:(t,i)=>Qe(t,[he.RecoverWebrtcAudio,he.AudioStreamFailed]).pipe(ae(()=>{const o=Ve(i.value),a=[];return o?.audio===xt.Computer&&(ph.leaveComputerAudio(),dh()?(HI.joinOrLeaveVoip(!1),a.push(nc(lr.EndedBySystem)),a.push(bp(0))):id(ph,i.value)),ve(a)})),audioBridgEpics8:t=>Qe(t,[he.AudioBridgeFirstRecvData,he.AudioBridgeCanSendData]).pipe(ye(i=>{const{payload:{type:o}}=i;return o===he.AudioBridgeFirstRecvData?(F(YN),il(!0)):(F(B0),SN(!0))})),audioBridgEpics9:(t,i)=>t.pipe(Me(`${fo}`),ne(()=>!!i.value.meeting.zlkJwtToken),Te(()=>{const{meeting:{zlkJwtToken:o}}=i.value;if(o){const{enforce_web_rtc_audio:a,audio_compatible_mode:c}=qs(o);void 0===a&&void 0===c||ot.set(hf.EnforceWebRTCAudio,1===Number(a)||1===Number(c),Tt.Memory)}}),We(Se))},{dialEpics0:(t,i)=>Ce(t,8198).pipe(Pe(i),ne(o=>{let[a,c]=o;return c.audio.dialout.map(l=>l.sequence).includes(a.payload.seq)}),ae(o=>{let[a,c]=o;const{payload:{seq:l,body:{phoneNodeID:p,result:h}}}=a,g=[Ay({code:h,sequence:l,nodeId:p})],{audio:{dialout:v}}=c,S=v.find(I=>I.sequence===l),b={code:h};if(S&&(Object.assign(b,{phoneNumber:S.phoneNumber,uuid:S.uuid}),p&&Object.assign(b,{userId:p})),F(zN,b),h===jt.Success){if(F(WN),p&&Yt(c).findIndex(I=>I.userId===p)>-1){var E;const I=null===(E=c.audio.dialout.find(_=>_.sequence===l))||void 0===E?void 0:E.phoneNumber;I&&(g.push(vp({userId:p,key:"phoneNumber",value:I})),F(yo,[{userId:p,phoneNumber:I}]))}}else[jt.Canceling,jt.Canceled,jt.CancelFailed].includes(h)?h===jt.Canceled?F(KN):h===jt.CancelFailed&&F(QN):-1===[jt.Calling,jt.Ringing,jt.Accepted,jt.Success].indexOf(h)&&F(qN);return ve(g)})),dialEpics1:(t,i)=>Ce(t,4120).pipe(Pe(i),ne(o=>{let[a,c]=o;return c.audio.crcDevice.map(l=>l.sequence).includes(a.payload.seq)}),ae(o=>{let[a,c]=o;const{payload:{seq:l,body:{result:p,transID:h}}}=a,{audio:{crcDevice:g}}=c,v=[],S=g.find(b=>b.sequence===l);return S&&(F(A0,{code:p,ip:S.ip,protocol:S.protocol,uuid:S.uuid}),v.push(XA({sequence:l,transID:h,result:p}))),p===cp.Success?F(T0):[cp.Success,cp.Ringing].includes(p)||F(Rf),ve(v)}))});var WI="object"==typeof global&&global&&global.Object===Object&&global,jR="object"==typeof self&&self&&self.Object===Object&&self,lu=WI||jR||Function("return this")(),hh=lu.Symbol,BR=Object.prototype,Ak=BR.hasOwnProperty,Tk=BR.toString,am=hh?hh.toStringTag:void 0,Rk=Object.prototype.toString,Ok="[object Null]",qI="[object Undefined]",$R=hh?hh.toStringTag:void 0;function um(t){return null==t?void 0===t?qI:Ok:$R&&$R in Object(t)?function(i){var o=Ak.call(i,am),a=i[am];try{i[am]=void 0;var c=!0}catch{}var l=Tk.call(i);return c&&(o?i[am]=a:delete i[am]),l}(t):Rk.call(t)}function ud(t){return null!=t&&"object"==typeof t}var cm=Array.isArray;function Os(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}var du="[object AsyncFunction]",fh="[object Function]",HR="[object GeneratorFunction]",Mk="[object Proxy]";function GR(t){if(!Os(t))return!1;var i=um(t);return i==fh||i==HR||i==du||i==Mk}var zR,lm=lu["__core-js_shared__"],WS=(zR=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||""))?"Symbol(src)_1."+zR:"",WR=Function.prototype.toString;function Tc(t){if(null!=t){try{return WR.call(t)}catch{}try{return t+""}catch{}}return""}var Pk=/^\[object .+?Constructor\]$/,cd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gh(t,i){var a,c,o=(a=t,c=i,a?.[c]);return function(a){return!(!Os(a)||(c=a,WS&&WS in c))&&(GR(a)?cd:Pk).test(Tc(a));var c}(o)?o:void 0}var KI=gh(lu,"WeakMap"),mh=9007199254740991,gV=/^(?:0|[1-9]\d*)$/;function Uo(t,i){var o=typeof t;return!!(i=i??mh)&&("number"==o||"symbol"!=o&&gV.test(t))&&t>-1&&t%1==0&&t<i}function Lk(t,i){return t===i||t!=t&&i!=i}var QR=9007199254740991;function QI(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=QR}function xk(t){return null!=t&&QI(t.length)&&!GR(t)}var wn=Object.prototype;function JR(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||wn)}function ZR(t){return ud(t)&&"[object Arguments]"==um(t)}var YR=Object.prototype,vh=YR.hasOwnProperty,Fk=YR.propertyIsEnumerable,dm=ZR(function(){return arguments}())?ZR:function(t){return ud(t)&&vh.call(t,"callee")&&!Fk.call(t,"callee")},pm="object"==typeof $e&&$e&&!$e.nodeType&&$e,jo=pm&&Ro&&!Ro.nodeType&&Ro,JI=jo&&jo.exports===pm?lu.Buffer:void 0,hm=(JI?JI.isBuffer:void 0)||function(){return!1},kn={};kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Arguments]"]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object Boolean]"]=kn["[object DataView]"]=kn["[object Date]"]=kn["[object Error]"]=kn["[object Function]"]=kn["[object Map]"]=kn["[object Number]"]=kn["[object Object]"]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object WeakMap]"]=!1;var ZI,YI="object"==typeof $e&&$e&&!$e.nodeType&&$e,yh=YI&&Ro&&!Ro.nodeType&&Ro,qS=yh&&yh.exports===YI&&WI.process,XR=function(){try{return yh&&yh.require&&yh.require("util").types||qS&&qS.binding&&qS.binding("util")}catch{}}(),eO=XR&&XR.isTypedArray,XI=eO?(ZI=eO,function(t){return ZI(t)}):function(t){return ud(t)&&QI(t.length)&&!!kn[um(t)]},fm=Object.prototype.hasOwnProperty,Vk=function(t,i){return function(o){return t(i(o))}}(Object.keys,Object),Uk=Object.prototype.hasOwnProperty;function tO(t){if(!JR(t))return Vk(t);var i=[];for(var o in Object(t))Uk.call(t,o)&&"constructor"!=o&&i.push(o);return i}var Sh=gh(Object,"create"),nO=Object.prototype.hasOwnProperty,rO=Object.prototype.hasOwnProperty;function ld(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}function Rc(t,i){for(var o=t.length;o--;)if(Lk(t[o][0],i))return o;return-1}ld.prototype.clear=function(){this.__data__=Sh?Sh(null):{},this.size=0},ld.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},ld.prototype.get=function(t){var i=this.__data__;if(Sh){var o=i[t];return"__lodash_hash_undefined__"===o?void 0:o}return nO.call(i,t)?i[t]:void 0},ld.prototype.has=function(t){var i=this.__data__;return Sh?void 0!==i[t]:rO.call(i,t)},ld.prototype.set=function(t,i){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Sh&&void 0===i?"__lodash_hash_undefined__":i,this};var gm=Array.prototype.splice;function pu(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}pu.prototype.clear=function(){this.__data__=[],this.size=0},pu.prototype.delete=function(t){var i=this.__data__,o=Rc(i,t);return!(o<0||(o==i.length-1?i.pop():gm.call(i,o,1),--this.size,0))},pu.prototype.get=function(t){var i=this.__data__,o=Rc(i,t);return o<0?void 0:i[o][1]},pu.prototype.has=function(t){return Rc(this.__data__,t)>-1},pu.prototype.set=function(t,i){var o=this.__data__,a=Rc(o,t);return a<0?(++this.size,o.push([t,i])):o[a][1]=i,this};var mm=gh(lu,"Map");function vm(t,i){var o,a,c=t.__data__;return("string"==(a=typeof(o=i))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==o:null===o)?c["string"==typeof i?"string":"hash"]:c.map}function Ms(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}function Oc(t){var i=this.__data__=new pu(t);this.size=i.size}Ms.prototype.clear=function(){this.size=0,this.__data__={hash:new ld,map:new(mm||pu),string:new ld}},Ms.prototype.delete=function(t){var i=vm(this,t).delete(t);return this.size-=i?1:0,i},Ms.prototype.get=function(t){return vm(this,t).get(t)},Ms.prototype.has=function(t){return vm(this,t).has(t)},Ms.prototype.set=function(t,i){var o=vm(this,t),a=o.size;return o.set(t,i),this.size+=o.size==a?0:1,this},Oc.prototype.clear=function(){this.__data__=new pu,this.size=0},Oc.prototype.delete=function(t){var i=this.__data__,o=i.delete(t);return this.size=i.size,o},Oc.prototype.get=function(t){return this.__data__.get(t)},Oc.prototype.has=function(t){return this.__data__.has(t)},Oc.prototype.set=function(t,i){var o=this.__data__;if(o instanceof pu){var a=o.__data__;if(!mm||a.length<199)return a.push([t,i]),this.size=++o.size,this;o=this.__data__=new Ms(a)}return o.set(t,i),this.size=o.size,this};var jk=Object.prototype.propertyIsEnumerable,oO=Object.getOwnPropertySymbols,iO=oO?function(t){return null==t?[]:(t=Object(t),function(i,o){for(var a=-1,c=null==i?0:i.length,l=0,p=[];++a<c;){var h=i[a];o(h)&&(p[l++]=h)}return p}(oO(t),function(i){return jk.call(t,i)}))}:function(){return[]};function ew(t){return a=iO,c=function KS(t){return xk(t)?function(i,o){var a=cm(i),c=!a&&dm(i),l=!a&&!c&&hm(i),p=!a&&!c&&!l&&XI(i),h=a||c||l||p,g=h?function(b,E){for(var I=-1,_=Array(b);++I<b;)_[I]=E(I);return _}(i.length,String):[],v=g.length;for(var S in i)!fm.call(i,S)||h&&("length"==S||l&&("offset"==S||"parent"==S)||p&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||Uo(S,v))||g.push(S);return g}(t):tO(t)}(i=t),cm(i)?c:function(l,p){for(var h=-1,g=p.length,v=l.length;++h<g;)l[v+h]=p[h];return l}(c,a(i));var i,a,c}var QS=gh(lu,"DataView"),tw=gh(lu,"Promise"),JS=gh(lu,"Set"),sO="[object Map]",aO="[object Promise]",Bk="[object Set]",$k="[object WeakMap]",Hk="[object DataView]",mV=Tc(QS),uO=Tc(mm),ZS=Tc(tw),Gk=Tc(JS),zk=Tc(KI),Mc=um;(QS&&Mc(new QS(new ArrayBuffer(1)))!=Hk||mm&&Mc(new mm)!=sO||tw&&Mc(tw.resolve())!=aO||JS&&Mc(new JS)!=Bk||KI&&Mc(new KI)!=$k)&&(Mc=function(t){var i=um(t),o="[object Object]"==i?t.constructor:void 0,a=o?Tc(o):"";if(a)switch(a){case mV:return Hk;case uO:return sO;case ZS:return aO;case Gk:return Bk;case zk:return $k}return i});var dd=Mc,cO=lu.Uint8Array;function YS(t){var i=-1,o=null==t?0:t.length;for(this.__data__=new Ms;++i<o;)this.add(t[i])}function Wk(t,i){for(var o=-1,a=null==t?0:t.length;++o<a;)if(i(t[o],o,t))return!0;return!1}YS.prototype.add=YS.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},YS.prototype.has=function(t){return this.__data__.has(t)};var qk=1,vV=2;function lO(t,i,o,a,c,l){var p=o&qk,h=t.length,g=i.length;if(h!=g&&!(p&&g>h))return!1;var v=l.get(t),S=l.get(i);if(v&&S)return v==i&&S==t;var b=-1,E=!0,I=o&vV?new YS:void 0;for(l.set(t,i),l.set(i,t);++b<h;){var _=t[b],w=i[b];if(a)var A=p?a(w,_,b,i,t,l):a(_,w,b,t,i,l);if(void 0!==A){if(A)continue;E=!1;break}if(I){if(!Wk(i,function(T,M){if(!I.has(M)&&(_===T||c(_,T,o,a,l)))return I.push(M)})){E=!1;break}}else if(_!==w&&!c(_,w,o,a,l)){E=!1;break}}return l.delete(t),l.delete(i),E}function dO(t){var i=-1,o=Array(t.size);return t.forEach(function(a,c){o[++i]=[c,a]}),o}function Kk(t){var i=-1,o=Array(t.size);return t.forEach(function(a){o[++i]=a}),o}var vO=hh?hh.prototype:void 0,rw=vO?vO.valueOf:void 0,ow=Object.prototype.hasOwnProperty,iw="[object Arguments]",yO="[object Array]",XS="[object Object]",SO=Object.prototype.hasOwnProperty;function bO(t,i,o,a,c){return t===i||(null==t||null==i||!ud(t)&&!ud(i)?t!=t&&i!=i:function(l,p,h,g,v,S){var b=cm(l),E=cm(p),I=b?yO:dd(l),_=E?yO:dd(p),w=(I=I==iw?XS:I)==XS,A=(_=_==iw?XS:_)==XS,T=I==_;if(T&&hm(l)){if(!hm(p))return!1;b=!0,w=!1}if(T&&!w)return S||(S=new Oc),b||XI(l)?lO(l,p,h,g,v,S):function(V,x,J,Y,z,U,O){switch(J){case"[object DataView]":if(V.byteLength!=x.byteLength||V.byteOffset!=x.byteOffset)return!1;V=V.buffer,x=x.buffer;case"[object ArrayBuffer]":return!(V.byteLength!=x.byteLength||!U(new cO(V),new cO(x)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lk(+V,+x);case"[object Error]":return V.name==x.name&&V.message==x.message;case"[object RegExp]":case"[object String]":return V==x+"";case"[object Map]":var L=dO;case"[object Set]":if(L||(L=Kk),V.size!=x.size&&!(1&Y))return!1;var j=O.get(V);if(j)return j==x;Y|=2,O.set(V,x);var Q=lO(L(V),L(x),Y,z,U,O);return O.delete(V),Q;case"[object Symbol]":if(rw)return rw.call(V)==rw.call(x)}return!1}(l,p,I,h,g,v,S);if(!(1&h)){var M=w&&SO.call(l,"__wrapped__"),P=A&&SO.call(p,"__wrapped__");if(M||P){var N=M?l.value():l,H=P?p.value():p;return S||(S=new Oc),v(N,H,h,g,S)}}return!!T&&(S||(S=new Oc),function(V,x,J,Y,z,U){var O=1&J,L=ew(V),$=L.length;if($!=ew(x).length&&!O)return!1;for(var j=$;j--;){var Q=L[j];if(!(O?Q in x:ow.call(x,Q)))return!1}var re=U.get(V),te=U.get(x);if(re&&te)return re==x&&te==V;var me=!0;U.set(V,x),U.set(x,V);for(var Ne=O;++j<$;){var De=V[Q=L[j]],Be=x[Q];if(Y)var He=O?Y(Be,De,Q,x,V,U):Y(De,Be,Q,V,x,U);if(!(void 0===He?De===Be||z(De,Be,J,Y,U):He)){me=!1;break}Ne||(Ne="constructor"==Q)}if(me&&!Ne){var ke=V.constructor,xe=x.constructor;ke==xe||!("constructor"in V)||!("constructor"in x)||"function"==typeof ke&&ke instanceof ke&&"function"==typeof xe&&xe instanceof xe||(me=!1)}return U.delete(V),U.delete(x),me}(l,p,h,g,v,S))}(t,i,o,a,bO,c))}var rL=Object.prototype.hasOwnProperty;const EO=t=>4294966272&t,sw=t=>{let i={R:0,G:0,B:0,A:0};if("string"==typeof t&&t.startsWith("#")){const h=t.slice(1);try{if(3===h.length){const g=Array.from(h).map(v=>v.repeat(2)).map(v=>parseInt(v,16));i={R:g[0]/255,G:g[1]/255,B:g[2]/255,A:1}}else if(6===h.length||8===h.length){var o,a,c,l,p;const g=null===(o=h.match(/\S{2}/g))||void 0===o?void 0:o.map(v=>parseInt(v,16));i={R:(null!==(a=g?.[0])&&void 0!==a?a:0)/255,G:(null!==(c=g?.[1])&&void 0!==c?c:0)/255,B:(null!==(l=g?.[2])&&void 0!==l?l:0)/255,A:null!=g&&g[3]?(null!==(p=g?.[3])&&void 0!==p?p:0)/255:1}}}catch{console.warn("error color representation:",t)}}else"object"==typeof t&&(i={R:t.R/255,G:t.G/255,B:t.B/255,A:t.A||1});return i};function aw(t){let{captureWidth:i=0,captureHeight:o=0}=t||{};const{hd:a}=t||{};var c,l;return 0!==i&&0!==o||(a&&Ye.isSupportSending720P()?(i=1280,o=720):(i=640,o=360)),{captureWidth:i,captureHeight:o,isCustomizedResolution:!(null==t||!t.captureWidth||!t.captureHeight||(c=i,l=o,Math.abs(Math.floor(c/l*10)-Math.floor(16/9*10))<=1))}}function uw(t,i){return"default"===t||i.some(o=>o.deviceId===t)||[Ba.Environment,Ba.User,Ba.Left,Ba.Right].includes(t)}function cw(t,i){if("function"==typeof DOMMatrixReadOnly){const o=new DOMMatrixReadOnly(getComputedStyle(t).transform).scale(-1,1).toString();t.style.transform=o,t.dataset.mirrored=i?"1":"0"}}function CO(t,i,o){const a=[],{video:{videoSsrc:c,activeCamera:l}}=i,{cameraId:p=l,videoElement:h,originalRatio:g,ptz:v,hd:S,fullHd:b,mediaFile:E,fps:I,mirrored:_}=o||{};let w;if(void 0!==h){let H=h instanceof HTMLVideoElement?h:null;if("string"==typeof h){let[V,x]=[document.body,h];if(h.indexOf(">")>-1){const[J,Y]=h.split(">");V=document.querySelector(J),x=Y}V&&(H=V.querySelector(x))}if(!H)return[];w=H,H.id||(H.id=Pa("__ZOOM_SDK_SELF_VIDEO_@__")),_&&"1"!==H.dataset.mirrored&&cw(H,_)}let A=I??If.Default;A=Math.max(If.Min,A),A=Math.min(If.Max,A);const{captureWidth:T,captureHeight:M,isCustomizedResolution:P}=aw(o);if(P)t.updateVideoHDValue(!1);else{t.updateVideoHDValue(!!S||!!b);const H=!!b&&Ye.isSupportFullHDVideo();t.updateVideoFullhdValue(H)}let N=Promise.resolve(p);if(E&&E.url){const H=Xi.getInstance();N=H.setVideoElement(E).then(()=>H.videoElement)}else Xi.getInstance().stopVideoElement();return N.then(H=>{t.startCaptureVideo(c,H,T,M,w,Re.isAndroidOrIOSBrowser&&Ef.includes(H),!g&&function(){var V,x;const{isAndroidOrIOSBrowser:J,isFirefox:Y,isSafari:z}=Re;return J||!(null!==(V=navigator.mediaDevices)&&void 0!==V&&null!==(x=V.getSupportedConstraints)&&void 0!==x&&x.call(V).aspectRatio)||Y||z||MN()}(),v,A)}),a.push(dC({cameraId:p,captureWidth:T,captureHeight:M,videoElement:"string"==typeof h?h:h instanceof HTMLVideoElement?Po(h):void 0,originalRatio:g,ptz:v,hd:S,fullHd:b,mediaFile:E,fps:A,mirrored:_})),a}function IO(t,i,o){const{max:a,min:c,step:l}=t;let p=o/100*(a-c);l&&(p=Math.min(Math.floor(p/l)*l,Math.floor(p)));let h=i+p;return h=Math.min(a,h),h=Math.max(c,h),h}function lw(t,i){let o="",a=i;switch(t){case Qu.Down:a=-i,o="tilt";break;case Qu.Up:o="tilt";break;case Qu.Left:a=-i,o="pan";break;case Qu.Right:o="pan";break;case Qu.ZoomIn:o="zoom";break;case Qu.ZoomOut:a=-i,o="zoom"}return{key:o,range:a}}function dw(t){const i=["pan","tilt","zoom"].reduce((o,a)=>t[a]&&0!==t[a].value?{...o,[a]:t[a].value}:o,{});return function(o){if(null==o)return!0;if(xk(o)&&(cm(o)||"string"==typeof o||"function"==typeof o.splice||hm(o)||XI(o)||dm(o)))return!o.length;var a=dd(o);if("[object Map]"==a||"[object Set]"==a)return!o.size;if(JR(o))return!tO(o).length;for(var c in o)if(rL.call(o,c))return!1;return!0}(i)?null:i}function wO(t){return{pan:(t&Xs.Pan)===Xs.Pan,tilt:(t&Xs.Tilt)===Xs.Tilt,zoom:(t&Xs.Zoom)===Xs.Zoom}}function hu(t){const{isAndroidBrowser:i,isIOSMobile:o,isFirefox:a,isSupportImageCapture:c,isSupportMediaStreamTrackProcessor:l,isSupportOffscreenCanvas:p}=Re,g="function"!=typeof window.SharedArrayBuffer&&i&&!a;return o&&"function"==typeof VideoFrame||g||!e0()&&!t&&!FC()&&(c||l)&&p}function pw(){var t,i;return"orientation"in window.screen?null===(t=screen.orientation.type)||void 0===t?void 0:t.startsWith("landscape"):"orientation"in window?90===Math.abs(window.orientation):"matchMedia"in window?!(null===(i=window.matchMedia("(orientation: landscape)"))||void 0===i||!i.matches):screen.availWidth>screen.availHeight}function _O(t,i,o){const{meeting:{userId:a},video:{isSupportHDVideo:c,renderedVideoList:l,maximumNumbeOfHDSubscriptions:p,receivedVideoMaxQuality:h}}=o,g=t===a;let v=i;if(i>=qo.Video_720P)if(c){const b=l.filter(I=>I.videoQuality===qo.Video_720P).map(I=>I.userId),E=p??1;b.length>=E&&(b.includes(t)||g||(console.warn(`Warning: Web Video SDK currently only supports subscribing to ${E} 720p video stream, so quality has been downgraded to 360p`),v=qo.Video_360P))}else console.warn("Can not subscribe 720P video stream,will downgrade to 360P stream"),v=qo.Video_360P;const S=Math.max(h,qo.Video_360P);return[v,Math.min(v,S)]}const Pc=Ot.createAgent(),Ps=wo(Ye.getInstance());let Ns,Sm;function DO(t,i,o){return hw.apply(this,arguments)}function hw(){return hw=Oe(function*(t,i,o){const a=Pa(t),c=document.createElement("img");return c.src=i,c.id=a,c.style.display="none",mi(i)&&c.setAttribute("crossorigin",""),yield new Promise((l,p)=>{c.onload=()=>{o&&URL.revokeObjectURL(i),l("")},c.onerror=()=>{o&&URL.revokeObjectURL(i),p("Cannot load  image.")}}),{imageId:a,imgElement:c}}),hw.apply(this,arguments)}function bm(t,i,o){return fw.apply(this,arguments)}function fw(){return fw=Oe(function*(t,i,o){if(t===qu)return qu;{let a=t;if(i){const c=yield(l=t,new Promise((p,h)=>{try{Ns&&Sm||(Ns=document.createElement("canvas"),Sm=Ns.getContext("2d"));const g=Ns,v=Sm;if(v){v.clearRect(0,0,Ns.width,Ns.height);const S=new Image;S.src=l,mi(l)&&(S.crossOrigin="");const b=16/9,E=1280,I=Math.floor(E/b);g.width=E,g.height=I,S.onload=()=>{const{width:_,height:w}=S,A=w*b;if(A>_){const T=_,M=Math.floor(_/b),P=0,N=(w-M)/2;v?.drawImage(S,P,N,T,M,0,0,E,I)}else v.drawImage(S,(_-A)/2,0,A,w,0,0,E,I);try{g.toBlob(T=>{p(T)})}catch(T){T instanceof DOMException&&T.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),h(T)}},S.onerror=_=>{h("Cannot load  image.")}}}catch(g){h(g)}}));a=URL.createObjectURL(c)}if(a){const{imageId:c,imgElement:l}=yield DO(c0,a,!!i);return(o??document.body).appendChild(l),c}}var l;return null}),fw.apply(this,arguments)}function gw(t,i,o){return Em.apply(this,arguments)}function Em(){return Em=Oe(function*(t,i,o){var a;const c=null!==(a=o&&o.parentNode)&&void 0!==a?a:document.body,{imageUrl:l,cropped:p,rootWidth:h,rootHeight:g}=t;let v=t;!i.video.customizedVideoOption||t.captureWidth&&t.captureHeight||(v=i.video.customizedVideoOption);const{captureWidth:S,captureHeight:b}=aw(v),E=document.createElement("div");let I;E.style.display="none",I=l?yield bm(l,p,E):null;let _,w=Pa(BN);if(o){const A=Vp(o);A.id?w=A.id:A.id=w,_=A;try{h&&o.width!==h&&(o.width=h),g&&o.height!==g&&(o.height=g)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else{const A=document.createElement("canvas");A.width=h??380,A.height=g??214,A.id=w,_=A,E.appendChild(A)}return c?.appendChild(E),{captureWidth:S,captureHeight:b,imageId:I,canvas:_,divElement:E}}),Em.apply(this,arguments)}function mw(t,i,o,a){return eb.apply(this,arguments)}function eb(){return eb=Oe(function*(t,i,o,a){const c=Array.isArray(t)?t:t&&[t];if(c?.length>0){Ns&&Sm||(Ns=document.createElement("canvas"),Sm=Ns.getContext("2d"));const l=Ns,p=Sm;if(l.width=i,l.height=o,p)try{p.fillStyle="#fff",p.clearRect(0,0,i,o);for(let g=0;g<c.length;g++){const v=c[g],{type:S,x:b,y:E}=v;if("rectangle"===S){const{width:I,height:_}=v;p.fillRect(b,E,I,_)}else if("square"===S){const{length:I}=v;p.fillRect(b,E,I,I)}else if("circle"===S){const{radius:I}=v;p.beginPath(),p.arc(b,E,I,0,2*Math.PI),p.fill()}else if("svg"===S){const{svg:I,width:_,height:w}=v,A=new Image;A.src=I,mi(I)&&(A.crossOrigin=""),yield new Promise((P,N)=>{A.onload=()=>{P("")},A.onerror=()=>{N()}});const{width:T,height:M}=A;p.drawImage(A,0,0,T,M,b,E,_,w)}}const h=yield new Promise(g=>{l?.toBlob(v=>{g(v)})});if(h){const g=URL.createObjectURL(h),{imageId:v,imgElement:S}=yield DO($N,g,!0);return(a??document.body).appendChild(S),v}}catch(h){h instanceof DOMException&&h.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}),eb.apply(this,arguments)}function vw(t,i){if(t===i||null==t&&null==i)return!0;const o=Array.isArray(t)?[...t]:[t],a=Array.isArray(i)?[...i]:[i];if(o.length!==a.length)return!1;const c=(l,p)=>l.type<p.type?-1:l.type===p.type?0:1;o.sort(c),a.sort(c);for(let l=0;l<o.length;l++)if(!Qd(o[l],a[l]))return!1;return!0}function Cm(t,i,o,a){const{video:{isCurrentUserStartedVideo:c,virtualBackground:{isVBPreloadReady:l,isVBConfigured:p,imageSrc:h},backgroundMode:g},meeting:{isCurrentUserStartVideoBeforeReset:v}}=o;return ar((S=l,void 0!==S?ve([S]):Mt(_f,1).pipe(ye(b=>b)))).then(S=>{return S?a||!p&&t.imageUrl!==qu&&t.imageUrl?(b=Oe(function*(E,I,_,w){const{canvas:A,imageId:T,captureHeight:M,captureWidth:P,divElement:N}=yield gw(E,_,w),{cameraId:H}=E,{video:{videoSsrc:V,activeCamera:x}}=_;return I.startVirtualBackgroundSetting(A,T,V,H??x,P,M),N}),function(E,I,_,w){return b.apply(this,arguments)})(t,i,o,a).then(b=>c?cg(!0):ar(Mt(Df,1)).then(E=>{var I;return a||i.stopVirtualBackgroundSetting(),E?(null==b||null===(I=b.parentNode)||void 0===I||I.removeChild(b),!0):Promise.reject("Cannot access the virtual background image.")})):h===t.imageUrl&&g===Ki.VirtualBackground&&!v||function(){var b=Oe(function*(E,I,_){const{imageUrl:w,cropped:A}=E;if(w){const T=yield bm(w,A);T&&(_.video.backgroundMode===Ki.Mask&&(I.stopMaskSetting(!0),yield Ws(()=>{I.stopVirtualBackgroundSetting()},0)),I.updateVirtualBackgroundImage(T),T!==qu&&setTimeout(()=>{dc(T)},0))}else I.updateVirtualBackgroundImage(null)});return function(E,I,_){return b.apply(this,arguments)}}()(t,i,o):Promise.reject("Cannot load virtual background model.");var b});var S}function Im(t,i,o,a){const{video:{mask:{isMaskConfigured:c,imageSrc:l,clip:p},backgroundMode:h,isCurrentUserStartedVideo:g},meeting:{isCurrentUserStartVideoBeforeReset:v}}=o;return a||!c&&t.imageUrl?(S=Oe(function*(b,E,I,_){const{canvas:w,imageId:A,captureHeight:T,captureWidth:M,divElement:P}=yield gw(b,I,_),{cameraId:N,clip:H,rootWidth:V=1280,rootHeight:x=720}=b,J=H?yield mw(H,V,x,P):null,{video:{videoSsrc:Y,activeCamera:z}}=I;return J?(E.startMaskSetting(w,A,J,Y,N??z,V,x,M,T),P):Promise.reject("Clip is empty")}),function(b,E,I,_){return S.apply(this,arguments)})(t,i,o,a).then(S=>g?hg(!0):ar(Mt(iy,1)).then(b=>{var E;return a||i.stopMaskSetting(),b?(null==S||null===(E=S.parentNode)||void 0===E||E.removeChild(S),!0):Promise.reject("Cannot set video mask")})):h===Ki.Mask&&t.imageUrl===l&&vw(t.clip,p)&&!v?Promise.resolve(!0):function(){var S=Oe(function*(b,E,I){const{imageUrl:_,cropped:w,clip:A,rootWidth:T,rootHeight:M}=b,{video:{mask:{imageSrc:P,cropped:N,clip:H},backgroundMode:V}}=I;if(_){if(V===Ki.VirtualBackground&&(E.stopVirtualBackgroundSetting(!0),yield Ws(()=>{E.stopMaskSetting()},0)),_!==P||w!==N){const x=yield bm(_,w);x&&(E.updateMaskBackgroundImage(x),setTimeout(()=>{dc(x)},0))}if((!vw(A,H)||!P)&&A&&T&&M){const x=yield mw(A,T,M);x&&(E.updateMaskClip(x,T,M),setTimeout(()=>{dc(x)},0))}}else E.updateMaskBackgroundImage(null),E.updateMaskClip(null,T,M)});return function(b,E,I){return S.apply(this,arguments)}}()(t,i,o);var S}const wm=Ot.createAgent(),is=wo(Ye.getInstance()),AO=Ot.createAgent(),yw=wo(Ye.getInstance()),TO={videoSsrc:0,cameraDevicesList:[],activeCamera:Re.isAndroidOrIOSBrowser?Ba.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,isMirrored:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?qo.Video_1080P:qo.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,isFullHDVideoEnabled:!1,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Ki.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{},rendererType:h0.WebGL,selfPreviewVideoList:[]},RO=mr({[`${sT}`]:B((t,i)=>{let{payload:o}=i;t.videoSsrc=o}),[`${Ap}`]:B((t,i)=>{let{payload:o}=i;t.cameraDevicesList=o}),[`${rg}`]:B((t,i)=>{let{payload:o}=i;const a=t.activeCamera;if(a in t.ptz){const c=t.ptz[a];["pan","tilt","zoom"].forEach(l=>{c[l]&&(c[l].value=0)})}t.activeCamera=o}),[`${m1}`]:B((t,i)=>{let{payload:o}=i;t.activeVideoId=o.userId}),[`${uC}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserStartedVideo=o}),[`${Uy}`]:B((t,i)=>{let{payload:o}=i;t.spotlightUserList=o}),[`${og}`]:B((t,i)=>{let{payload:o}=i;t.isCaptureForbidden=o}),[`${jy}`]:B((t,i)=>{let{payload:o}=i;t.receivedVideoMaxQuality=o}),[`${cC}`]:B((t,i)=>{let{payload:o}=i;t.isVideoMuted=o}),[`${oc}`]:B((t,i)=>{let{payload:o}=i;t.isCaptureCameraLoading=o}),[`${ic}`]:B((t,i)=>{let{payload:o}=i;t.isCameraTaken=o}),[`${ig}`]:B((t,i)=>{let{payload:o}=i;t.receivedVideoDimension=o}),[`${sc}`]:B((t,i)=>{let{payload:o}=i;t.subscribedVideoList.includes(o)||t.subscribedVideoList.push(o)}),[`${sg}`]:B((t,i)=>{let{payload:o}=i;const a=t.subscribedVideoList.indexOf(o);a>=0&&t.subscribedVideoList.splice(a,1)}),[`${Tp}`]:B((t,i)=>{let{payload:o}=i;const a=t.renderedVideoList.find(c=>c.userId===o.userId&&c.key===o.key&&c.canvasId===o.canvasId);a?(void 0!==o.videoQuality&&(a.videoQuality=o.videoQuality),void 0!==o.aspectRatio&&(a.aspectRatio=o.aspectRatio)):t.renderedVideoList.push({...o})}),[`${ug}`]:B((t,i)=>{let{payload:o}=i;const a=t.renderedVideoList.findIndex(c=>c.userId===o.userId&&c.key===o.key&&c.canvasId===o.canvasId);a>=0&&t.renderedVideoList.splice(a,1)}),[`${By}`]:B((t,i)=>{let{payload:o}=i;t.isFollowHostVideoLayout=o}),[`${ag}`]:B((t,i)=>{let{payload:o}=i;t.hostDragLayout=o}),[`${aT}`]:B((t,i)=>{let{payload:o}=i;t.isSupportHDVideo=o}),[`${uT}`]:B((t,i)=>{let{payload:o}=i;t.maximumNumbeOfHDSubscriptions=o}),[`${cT}`]:B((t,i)=>{let{payload:o}=i;t.bCanUnmuteVideo=o}),[`${$y}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.isVBPreloadReady=o}),[`${cg}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.isVBConfigured=o}),[`${gt}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.imageSrc=o.imageUrl,t.virtualBackground.cropped=o.cropped,t.backgroundMode=Ki.VirtualBackground}),[`${tt}`]:B((t,i)=>{let{payload:o}=i;const{encode:a,decode:c}=o;void 0!==a&&(t.hardwareAcceleration.encode=a),void 0!==c&&(t.hardwareAcceleration.decode=c)}),[`${Hy}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${lg}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${dC}`]:B((t,i)=>{let{payload:o}=i;const{cameraId:a,captureWidth:c,captureHeight:l,videoElement:p,originalRatio:h,ptz:g,hd:v,fullHd:S,mediaFile:b,fps:E,mirrored:I}=o;t.activeCamera=a,t.customizedVideoOption={captureWidth:c,captureHeight:l,videoElement:p,originalRatio:h,ptz:g,hd:v,fullHd:S,fps:E},Qd(t.mediaPlaybackFile,b)||(t.mediaPlaybackFile=b,t.isUsingMediaPlayback=!(null==b||!b.url)),void 0!==I&&(t.isMirrored=!!I)}),[`${Gy}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,level:c,bwLevel:l,type:p}=o;Object.prototype.hasOwnProperty.call(t.networkQuality,`${a}`)?t.networkQuality[`${a}`][`${p}`]={level:c,bwLevel:l}:Object.assign(t.networkQuality,{[`${a}`]:{[p]:{level:c,bwLevel:l}}})}),[`${lT}`]:B((t,i)=>{let{payload:o}=i;const{deviceId:a,ptzRange:c}=o;if(Object.prototype.hasOwnProperty.call(t.ptz,a)){const l=t.ptz[a];l&&["pan","tilt","zoom"].forEach(p=>{const h=c[p];if(h){var g;const v=null===(g=l[p])||void 0===g?void 0:g.capability;v?Object.assign(v,{...h}):l[p]={capability:{...h},value:0}}})}else Object.assign(t.ptz,{[a]:{pan:c.pan?{capability:{...c.pan},value:0}:null,tilt:c.tilt?{capability:{...c.tilt},value:0}:null,zoom:c.zoom?{capability:{...c.zoom},value:0}:null}})}),[`${jl}`]:B((t,i)=>{let{payload:o}=i;t.currentCameraControlStatus.isRequested=o}),[`${Ya}`]:B((t,i)=>{let{payload:o}=i;const{isInControl:a,userId:c}=o;t.currentCameraControlStatus.isInControl=a,t.currentCameraControlStatus.controllingUserId=c}),[`${zy}`]:B((t,i)=>{let{payload:o}=i;t.farEndCameraControlStatus.controlledUserList.includes(o)||t.farEndCameraControlStatus.controlledUserList.push(o)}),[`${ac}`]:B((t,i)=>{let{payload:o}=i;const a=t.farEndCameraControlStatus.controlledUserList.indexOf(o);-1!==a&&t.farEndCameraControlStatus.controlledUserList.splice(a,1)}),[`${Wy}`]:B((t,i)=>{let{payload:o}=i;t.currentCameraControlStatus.isCameraMoving="start"===o.cmd}),[`${dg}`]:B((t,i)=>{let{payload:o}=i;const{constraints:a,deviceId:c}=o,l=t.ptz[c];["pan","tilt","zoom"].forEach(p=>{void 0!==a[p]&&(l[p].value=a[p])})}),[`${pg}`]:B((t,i)=>{let{payload:o}=i;t.farEndCameraControlStatus.isControlling=o}),[`${qy}`]:B((t,i)=>{let{payload:o}=i;t.networkQualityBroadcastTime=o}),[`${hg}`]:B((t,i)=>{let{payload:o}=i;t.mask.isMaskConfigured=o}),[`${Ky}`]:B((t,i)=>{let{payload:o}=i;const{imageUrl:a,cropped:c,rootHeight:l,rootWidth:p,clip:h}=o;t.mask.imageSrc=a,t.mask.cropped=c,t.mask.clip=h,t.mask.rootWidth=p,t.mask.rootHeight=l,t.backgroundMode=Ki.Mask}),[`${pC}`]:B((t,i)=>{let{payload:o}=i;t.backgroundMode=o}),[`${dT}`]:B((t,i)=>{let{payload:o}=i;t.capturedVideoDimension=o}),[`${pT}`]:B((t,i)=>{let{payload:o}=i;t.ensuredCanvas.includes(o)||t.ensuredCanvas.push(o)}),[`${Qy}`]:B((t,i)=>{let{payload:o}=i;t.mediaPlaybackFile=o,t.isUsingMediaPlayback=!(null==o||!o.url)}),[`${Rp}`]:B((t,i)=>{let{payload:o}=i;if(o){const{lastCopy:a,...c}=o;t.prefetchedVideo=c}else t.prefetchedVideo=o}),[`${hC}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t.subscriptionStatus,o)}),[`${hT}`]:B((t,i)=>{let{payload:o}=i;t.isFullHDVideoEnabled=o}),[`${fT}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,element:c}=o,l=t.videoAttachments[`${a}`];if(l)-1===l.indexOf(c)&&l.push(c);else{const p=[];p.push(c),Object.assign(t.videoAttachments,{[`${a}`]:p})}}),[`${fg}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,element:c}=o,l=t.videoAttachments[`${a}`];let p=c;Array.isArray(c)||(p=[c]),p.forEach(h=>{if(l){const g=l.indexOf(h);-1!==g&&l.splice(g,1)}})}),[`${fC}`]:B((t,i)=>{let{payload:o}=i;o&&(t.rendererType=h0.WebGL2)}),[`${gT}`]:B((t,i)=>{let{payload:o}=i;o&&(t.rendererType=h0.WebGPU)}),[`${mT}`]:B((t,i)=>{let{payload:o}=i;t.rendererType=o}),[`${Fo}`]:B((t,i)=>{let{payload:o}=i;t.isMirrored=o}),[`${vT}`]:B((t,i)=>{let{payload:o}=i;t.selfPreviewVideoList.includes(o)||t.selfPreviewVideoList.push(o)}),[`${gC}`]:B((t,i)=>{let{payload:o}=i;if(o){const a=t.selfPreviewVideoList.indexOf(o);a>=0&&t.selfPreviewVideoList.splice(a,1)}else t.selfPreviewVideoList=[]}),[`${v1}`]:B((t,i)=>{let{payload:o}=i;t.leadershipUserId=o}),[`${lC}`]:(t,i)=>{let{payload:o}=i;const a={cameraDevicesList:t.cameraDevicesList};return o&&Object.assign(a,{activeCamera:t.activeCamera,customizedVideoOption:t.customizedVideoOption,virtualBackground:{imageSrc:t.virtualBackground.imageSrc,cropped:t.virtualBackground.cropped},mask:{imageSrc:t.mask.imageSrc,cropped:t.mask.cropped,rootWidth:t.mask.rootWidth,rootHeight:t.mask.rootHeight,clip:t.mask.clip},backgroundMode:t.backgroundMode,ptz:t.ptz,subscriptionStatus:t.subscriptionStatus}),{...TO,...a}}},TO),sL=qr({videoRenderEpics0:t=>Ce(t,16129).pipe(ye(i=>{const{payload:{body:{id:o,bVideoOn:a}}}=i,c=EO(o);return F(f0,{bVideoOn:a,userId:c}),m1({bVideoOn:a,userId:c})})),videoRenderEpics1:(t,i)=>Qe(t,he.VideoDecodeMaxSize).pipe(ne(o=>{var a;return null==o||null===(a=o.payload)||void 0===a?void 0:a.data}),ye(o=>{const{size:a}=o.payload.data,{video:{renderedVideoList:c,receivedVideoMaxQuality:l},meeting:{userId:p}}=i.value,h=c.filter(g=>g.videoQuality>=qo.Video_720P&&g.userId!==p);return l!==a&&h.length>0&&(a>=qo.Video_720P||l>=qo.Video_720P)&&h.forEach(g=>{Pc.subscribeVideo(g.userId,g.videoQuality,!1)}),jy(a)})),videoRenderEpics2:t=>Ce(t,16135).pipe(ae(i=>{const{payload:{body:{bLeadershipOn:o,id:a}}}=i,c=[],l=[],p=o?EO(a):0;return o&&l.push(p),c.push(Uy(l),v1(p)),Ho(Mt(Yu,1),On(2e3).pipe(ye(()=>({leadershipEventOnly:!0})))).subscribe(h=>{const{spotlightList:g,leadershipEventOnly:v}=h;o?1===g?.length&&l[0]===g?.[0]||F(Tf,{spotlightList:g}):(v||0===g?.length)&&F(Tf,{spotlightList:[]})}),ve(c)})),videoRenderEpics3:(t,i)=>Ce(t,7958).pipe(Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:l}}=a;let p=[];l&&l.group_list&&l.group_list[0]&&(p=l.group_list[0].map(g=>g.id));const h=Yt(c);return h.length>0&&(p=p.filter(g=>h.findIndex(v=>v.userId===g)>=0)),F(Yu,{spotlightList:p}),Uy(p)})),videoRenderEpics4:t=>Qe(t,he.CurrentVideoResolution).pipe(sa(i=>(F(lp,i.payload.data),ig(i.payload.data)))),videoRenderEpics5:t=>Qe(t,[he.CurrentVideoResolution,he.CurrentCaptureVideoWidthHeight]).pipe(ne(i=>!!i.payload.data),ye(i=>{const{payload:{data:o,type:a}}=i;return a===he.CurrentVideoResolution?(F(lp,o),ig(o)):(F(Ju,o),dT(o))})),videoRenderEpics6:t=>Ce(t,yi).pipe(ne(i=>{const{payload:{body:o}}=i;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some(a=>void 0!==o[a])}),ye(i=>{const{payload:{body:{bFollowHostVideo:o,VideoHd:a,bCanUnmuteVideo:c}}}=i;if(void 0!==o)return F(iA,{bOn:o}),By(o);if(void 0!==c)return cT(c);{const l=1===a;return Ps.updateVideoHDValue(l),Ps.enableHardwareAccelerationForVideoEncode(!1),aT(l)}})),videoRenderEpics7:(t,i)=>Ce(t,7957).pipe(Pe(i),ye(o=>{let[a,c]=o;const{video:{isFollowHostVideoLayout:l}}=c,{payload:{body:p}}=a,h=p&&p.drag_list&&p.drag_list.map(g=>g.id);return l&&F(y0,{layout:h}),ag(h)})),videoRenderEpics8:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l},video:{subscribedVideoList:p}}=c,h=a.payload.body.update,g=a.payload.body.remove;return h&&h.length>0&&h.findIndex(v=>v.id!==l&&(void 0!==v.bVideoOn||v.bHold))>-1||g&&g.some(v=>p.includes(v.id))}),Te(o=>{let[a,c]=o;const{payload:{body:{remove:l,update:p}}}=a,{video:{subscribedVideoList:h}}=c,g=$F(c);if(l&&l.length>0&&l.filter(v=>h.includes(v.id)).forEach(v=>{F(ry,{userId:v.id})}),p&&p.length>0){const v=p.filter(b=>void 0!==b.bVideoOn).filter(b=>-1===g.findIndex(E=>E.userId===b.id)),S=p.filter(b=>!0===b.bHold);S.length>0&&S.filter(b=>h.includes(b.id)).forEach(b=>{F(ry,{userId:b.id})}),v.forEach(b=>{b.bVideoOn?F(dp,{userId:b.id}):h.includes(b.id)&&F(ry,{userId:b.id})})}}),We(Se)),videoRenderEpics9:(t,i)=>Qe(t,he.VideoQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{video:{isCaptureForbidden:p,isCameraTaken:h},media:{videoEncodeStatus:g,videoDecodeStatus:v}}=l,S=Ve(l),b=Y0(l),E=b.length>0,I=S?.bVideoOn&&!p&&!h,_=b.some(T=>T.bVideoOn),A="success"===v&&E&&_;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?"success"===g&&I&&E?(F(pp,c.payload),Hy(c.payload)):Hy(Ys):A?(F(pp,c.payload),lg(c.payload)):lg(Ys)})),videoRenderEpics10:(t,i)=>Qe(t,[he.CurrentDecodeVideoQuality,he.CurrentDecodeVideoFps]).pipe(Te(o=>{const{payload:{type:a,data:c}}=o,{video:{subscriptionStatus:l}}=i.value;if(l.detailed)if(a===he.CurrentDecodeVideoQuality){const{ssrc:p,width:h,height:g,quality:v}=c;F(oy,{userId:p,width:h,height:g,quality:v})}else if(a===he.CurrentDecodeVideoFps){const{ssrc:p,fps:h}=c;F(oy,{userId:p,fps:h})}}),We(Se)),videoRenderEpics11:(t,i)=>sf(t,i).pipe(ae(Oe(function*(){return Re.isAndroidOrIOSBrowser?1:(yield Ye.isSupportVideoDecodeHardwareAcceleration())?4:1})),ye(o=>uT(o))),videoRenderEpics12:(t,i)=>Qe(t,he.NetworkQualityChange).pipe(ne(o=>!!o.payload.data),ae(o=>{var a;const{payload:{data:{bwLevel:c,isUplink:l,networkLevel:p}}}=o,h=[],{meeting:{userId:g},video:{networkQuality:v,subscribedVideoList:S,networkQualityBroadcastTime:b}}=i.value,E=l?"uplink":"downlink";h.push(Gy({userId:g,level:p,bwLevel:c,type:E}));const I=Qd(null===(a=v[`${g}`])||void 0===a?void 0:a[E],{level:p,bwLevel:c});if(!I&&-1!==p&&(!l&&S.filter(_=>_!==g).length>0||l)&&F(S0,{userId:g,type:E,level:p}),l){const _=performance.now();(!I||_-(b??0)>3e4)&&(Pc.broadcastUserNetworkQuality({isUplink:l,level:p,bwLevel:c}),h.push(qy(_)))}return ve(h)})),videoRenderEpics13:(t,i)=>ur(t,8005).pipe(ne(o=>{var a;return!(null===(a=o.payload.body)||void 0===a||!a.nUserID)}),ae(o=>{const{payload:{body:{nLevel:a,nUserID:c}}}=o,{video:{networkQuality:l}}=i.value,p=l[`${c}`],h=[];return p&&p.uplink.level===a||(F(S0,{userId:c,level:a,type:"uplink"}),h.push(Gy({userId:c,level:a,type:"uplink"}))),ve(h)})),videoRenderEpics14:(t,i)=>Ce(t,yn).pipe(ne(o=>{const{payload:{body:a}}=o,{video:{prefetchedVideo:c}}=i.value;return c?.userId&&(a.update||a.remove)}),ae(o=>{const{payload:{body:a}}=o,c=[],{video:{prefetchedVideo:l}}=i.value;let p=!1;return a.remove&&(p=-1!==a.remove.findIndex(h=>h.id===l?.userId)),a.update&&(p=-1!==a.update.findIndex(h=>h.id===l?.userId&&!1===h.bVideoOn)),p&&l&&(l.loaded||Ps.cancelPrefetchVideoSsrc(l.userId),Pc.unsubscribeVideo(l.userId),c.push(Rp(void 0))),ve(c)})),videoRenderEpics15:(t,i)=>t.pipe(Me(`${Rp}`),ne(o=>!!o.payload),Te(o=>{const{payload:{lastCopy:a}}=o,{video:{prefetchedVideo:c}}=i.value;!c||a&&a.userId===c.userId||(null!=a&&a.userId&&(a.loaded&&Ps.cancelPrefetchVideoSsrc(a.userId),Pc.unsubscribeVideo(a.userId)),Pc.subscribeVideo(c.userId,qo.Video_360P,!1),Ps.prefetchVideoSsrc(c.userId))}),We(Se)),videoRenderEpics16:(t,i)=>Qe(t,he.NewActiveSpeakerFirstFrameCallback).pipe(ne(()=>!!i.value.video.prefetchedVideo),ae(o=>{const{payload:{data:{ssrc:a}}}=o,{video:{prefetchedVideo:c}}=i.value,l=[];return c&&(po(c.userId,a)?(l.push(Rp({userId:c.userId,loaded:!0,lastCopy:c})),F(cA,{userId:c.userId})):Pc.unsubscribeVideo(c.userId)),ve(l)})),videoRenderEpics17:(t,i)=>Ce(t,16131).pipe(ne(o=>void 0!==o.payload.body.ssrc),Te(()=>{const{media:{videoDecodeStatus:o,videoEncodeStatus:a}}=i.value;Gr("video",a,o).subscribe(c=>{let[l,p]=c;const{video:{subscriptionStatus:h}}=i.value;l&&h.encode&&Ps.subscribeToQos([Mr.VideoEncode],Ku),p&&(h.decode&&Ps.subscribeToQos([Mr.VideoDecode],Ku),h.detailed&&Ps.enableVideoObserver(!0))})}),We(Se)),videoRenderEpics18:(t,i)=>t.pipe(Me(`${Tp}`,`${ug}`),ne(()=>[0,1].includes(i.value.video.renderedVideoList.length)),Te(()=>{const o=i.value.video.renderedVideoList.length;1===o?Ps.enableVideoObserver(!0,!0):0===o&&Ps.enableVideoObserver(!1)}),We(Se)),videoRenderEpics19:(t,i)=>Qe(t,he.CurrentDecodeVideoQuality).pipe(ae(o=>{const{payload:{data:a}}=o,{video:{renderedVideoList:c,videoAttachments:l}}=i.value,p=[],{ssrc:h,width:g,height:v}=a,S=v?g/v:0,b=c.filter(E=>po(E.userId,h));if(b.some(E=>E.aspectRatio&&Math.abs(E.aspectRatio-S)>.2)){const E=b.filter(I=>I.canvasId===Cf);if(E.length>0){const I=l[`${h}`];I&&I.every(_=>{if(_){const{clientWidth:w,clientHeight:A}=_;return Math.abs((A?w/A:0)-S)<=.2}return!0})&&p.push(Tp({userId:h,key:Ss,canvasId:Cf,aspectRatio:S}))}E.length===b.length&&0!==p.length||F(E0,{userId:h,aspectRatio:S})}return ve(p)})),videoRenderEpics20:(t,i)=>Qe(t,he.SyncRendererTypeResponse).pipe(ae(o=>{const{payload:{data:{rendererType:a}}}=o,{video:{rendererType:c}}=i.value,l=[];return c!==a&&l.push(mT(a)),ve(l)}))},{videoCaptureEpics0:(t,i)=>Qe(t,he.StartVideoCaptureSuccess).pipe(Ht(Ui),ae(o=>{const{video:{cameraDevicesList:a,activeCamera:c,ptz:l,isCurrentUserStartedVideo:p,isUsingMediaPlayback:h},meeting:{userId:g}}=i.value,{payload:{data:{currentDeviceID:v,PTZRange:S}}}=o,b=[];if(a.length<1&&!h&&(F(m0,{reason:"Cannot detect camera devices"}),is.stopCaptureVideo()),uw(c,a)||h){if(p||wm.muteAttendeeVideo(g,!1),F(uA),h)b.push(rg("default"));else if(v&&S&&b.push(lT({deviceId:v,ptzRange:S})),c!==v&&b.push(rg(v)),Object.prototype.hasOwnProperty.call(l,v)){const E=l[v];if(E){const I=dw(E);I&&is.movePTZCamera(I)}}}else F(ty,{reason:"cannot find target camera"}),is.stopCaptureVideo();return ve(b)})),videoCaptureEpics1:(t,i)=>Ce(t,yn).pipe(ne(o=>{const{payload:{body:{update:a}}}=o,{meeting:{userId:c}}=i.value;return a?.some(l=>l.id===c&&void 0!==l.bVideoOn)}),ye(o=>{const{payload:{body:{update:a}}}=o,{meeting:{userId:c}}=i.value,l=a.find(p=>p.id===c);return F(!0===l.bVideoOn?v0:$a),uC(!!l.bVideoOn)})),videoCaptureEpics2:t=>Qe(t,[he.UserForbiddedCaptureVideo,he.UserCameraIsTakenByOtherPrograms,he.VideoWebsocketBroken,he.StopVideoCaptureFailed]).pipe(ae(i=>{const{payload:{type:o}}=i,a=[];switch(o){case he.UserForbiddedCaptureVideo:F(ny),a.push(og(!0));break;case he.UserCameraIsTakenByOtherPrograms:F(Zu,{reason:"User camera is taken by other programs."}),a.push(ic(!0));break;case he.VideoWebsocketBroken:F(Er,{reason:"Video websocket broken."});break;case he.StopVideoCaptureFailed:F($a,{failed:!0,reason:"Unknown."})}return ve(a)})),videoCaptureEpics3:(t,i)=>Qe(t,he.StopVideoCaptureSuccess).pipe(Pe(i),sa(o=>{let[,a]=o;const{meeting:{userId:c},video:{isCurrentUserStartedVideo:l}}=a;l||F($a),wm.muteAttendeeVideo(c,!0)})),videoCaptureEpics4:(t,i)=>Ce(t,16133).pipe(Pe(i),ne(o=>{var a,c;let[l,p]=o;return(null==l||null===(a=l.payload)||void 0===a||null===(c=a.body)||void 0===c?void 0:c.id)===p.meeting.userId}),sa(o=>{let[a]=o;const{id:c,bVideoMute:l}=a.payload.body;return F(g0,{id:c,isVideoMuted:l}),!0===l&&is.stopCaptureVideo(),!1===l&&F(oA,{id:c,isVideoMuted:l}),cC(l)})),videoCaptureEpics5:(t,i)=>Ce(t,16131).pipe(ne(o=>void 0!==o.payload.body.ssrc),st(o=>{const{payload:{body:{ssrc:a}}}=o;return F(HN,a),Kn(Vt(sT(a)),Hl(i).pipe(ae(c=>{const{meeting:{isCurrentUserStartVideoBeforeReset:l},media:{videoEncodeStatus:p}}=i.value;return!0!==c?.bVideoOn&&!0===l?Gr("video",p,"success").pipe(ne(h=>{let[g,v]=h;return g&&v}),ye(()=>{const h=i.value,{video:{backgroundMode:g,mask:v,virtualBackground:S,activeCamera:b,customizedVideoOption:E}}=h;let I=Promise.resolve(!0);return g===Ki.VirtualBackground&&S.imageSrc?I=Cm({imageUrl:S.imageSrc,cropped:S.cropped},is,h):g===Ki.Mask&&v.imageSrc&&v.clip&&(I=Im({imageUrl:v.imageSrc,cropped:v.cropped,clip:v.clip,rootHeight:v.rootHeight,rootWidth:v.rootWidth},is,h)),I.then(()=>{CO(is,h,{cameraId:b,...E})}),lt(void 0)})):Se})))})),videoCaptureEpics6:(t,i)=>t.pipe(Me(`${Ap}`),Te(o=>{const{payload:a}=o,c=i.value,{meeting:{userId:l}}=c,p=Ve(c);0===a.length?p&&!p.bVideoConnect||wm.connectCamera(l,!1):null!=p&&p.bVideoConnect||wm.connectCamera(l,!0)}),We(Se)),videoCaptureEpics7:t=>Qe(t,he.InitSuccessVideo).pipe(ne(i=>!Re.isIPad&&Re.isAndroidOrIOSBrowser&&i.payload.data===Eo.EncodeSuccess),st(()=>"orientation"in window.screen?pn(screen.orientation,"change").pipe(ae(()=>(is.setMobileRotateMode(pw()),Se))):pn(window,"orientationchange").pipe(ae(i=>{var o,a,c;const l=null===(o=i.target)||void 0===o||null===(a=o.screen)||void 0===a||null===(c=a.orientation)||void 0===c?void 0:c.angle,p=90===Math.abs(l);return is.setMobileRotateMode(p),Se})))),videoCaptureEpics8:t=>Qe(t,he.StartVideoCaptureSuccess).pipe(ne(()=>!Re.isIPad&&Re.isAndroidOrIOSBrowser),Te(()=>{is.setMobileRotateMode(pw())}),We(Se)),videoCaptureEpics9:(t,i)=>Qe(t,he.VideoStreamFailed).pipe(ne(()=>!!i.value.video.isCurrentUserStartedVideo&&Re.isIOSMobile),Te(()=>{is.stopCaptureVideo()}),We(Se))},{vbEpics0:t=>Qe(t,[he.VbModelPreloadingOk,he.VbModelPreloading_3S,he.VbModelPreloading_10S,he.VbSettingParaError]).pipe(ae(i=>{const{payload:{type:o,data:a}}=i,c=[];return[he.VbModelPreloadingOk,he.VbModelPreloading_3S,he.VbModelPreloading_10S].includes(o)?(c.push($y(!0)),F(_f,!0),o===he.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):o===he.VbSettingParaError&&(a===bf.VBModelNotMatch?(F(_f,!1),c.push($y(!1))):(F(Df,!1),c.push(cg(!1)))),ve(c)})),vbEpics1:t=>Qe(t,he.StartVideoStreamInVbSettingSuccess).pipe(ye(()=>(F(Df,!0),cg(!0)))),vbEpics2:t=>Qe(t,he.StartVideoStreamInMaskSettingSuccess).pipe(ye(()=>(F(iy,!0),hg(!0)))),vbEpics3:t=>Qe(t,he.MaskSettingParaError).pipe(ye(()=>(F(iy,!1),hg(!1))))},{cameraPtzEpics0:(t,i)=>Ce(t,8004).pipe(ae(o=>{const{payload:{body:{nCmd:a,nUserID:c,nReason:l,nButtonID:p}}}=o,h=i.value,g=Yt(h),{video:{currentCameraControlStatus:{isInControl:v,controllingUserId:S},cameraDevicesList:b,activeCamera:E}}=h,I=g.find(w=>po(w.userId,c)),_=[];if(_.push(jl(!0)),a===br.Request){const w={userId:I?.userId,displayName:I?.displayName};if(v){const A=g.find(T=>T.userId===S);Object.assign(w,{currentControllingUserId:A?.userId,currentControllingDisplayName:A?.displayName})}F(sA,w)}else if(a===br.Approve)_.push(zy(I?.userId)),F(b0,{isApproved:!0,userId:I?.userId,displayName:I?.displayName});else if(a===br.Decline)_.push(ac(I?.userId)),F(b0,{isApproved:!1,userId:I?.userId,displayName:I?.displayName,reason:l});else if(a===br.GiveUp)_.push(Ya({isInControl:!1,userId:0})),F(Af,{isControlled:!1});else if(a===br.StartControl||a===br.StopControl)_.push(Wy({cmd:a===br.StartControl?"start":"stop",type:p}));else if(a===br.SwitchCamera){const w=b.findIndex(T=>T.deviceId===E),A=w+1===b.length?0:w+1;if(A!==w){const T=b[A].deviceId;yw.changeCamera(T,Ef.includes(T))}}return ve(_)})),cameraPtzEpics1:(t,i)=>Ce(t,yn).pipe(ne(o=>{var a;const{payload:{body:c}}=o;return null==c||null===(a=c.update)||void 0===a?void 0:a.some(l=>void 0!==l.nFECC||void 0!==l.nFECCExecutive)}),Te(o=>{const{payload:{body:{update:a}}}=o,c=a.find(l=>void 0!==l.nFECC||void 0!==l.nFECCExecutive);if(c){const{meeting:{userId:l}}=i.value;po(c.nFECCExecutive,l)&&F(aA,{userId:c.id,ptz:wO(c.nFECC)})}}),We(Se)),cameraPtzEpics2:(t,i)=>Ce(t,yn).pipe(ne(o=>{var a;const{payload:{body:c}}=o,{video:{farEndCameraControlStatus:{controlledUserList:l}}}=i.value;return null==c||null===(a=c.remove)||void 0===a?void 0:a.some(p=>l.includes(p.id))}),ae(o=>{var a;const{payload:{body:c}}=o,l=[],{video:{farEndCameraControlStatus:{controlledUserList:p}}}=i.value,h=null==c||null===(a=c.remove)||void 0===a?void 0:a.find(g=>p.includes(g.id));return h&&l.push(ac(h.id)),ve(l)})),cameraPtzEpics3:(t,i)=>t.pipe(Me(`${Wy}`),st(o=>{const{payload:{cmd:a,type:c}}=o;return"start"===a?On(0,200).pipe(Fd(()=>!!i.value.video.currentCameraControlStatus.isCameraMoving),ae(()=>{const{video:{ptz:l,activeCamera:p}}=i.value,h=l[p],g=dw(h)||{},{key:v,range:S}=lw(c,2);return h[v]?(Object.assign(g,{[v]:IO(h[v].capability,h[v].value,S)}),yw.movePTZCamera(g).then(()=>dg({deviceId:p,constraints:g}))):Promise.resolve(void 0)}),ae(l=>"object"==typeof l&&void 0!==l.type?Vt(l):Se)):Se})),cameraPtzEpics4:(t,i)=>t.pipe(Me(`${rg}`),ae(o=>{const{payload:a}=o,{video:{customizedVideoOption:c,ptz:l}}=i.value;if(null!=c&&c.ptz){const p=l?.[a];void 0!==p&&AO.sendCameraAblity({pan:!!p.pan,tilt:!!p.tilt,zoom:!!p.zoom})}return Se}))});let fu=(()=>{class t{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new t),this.agentInstance}init(o,a){var c,l,p,h,g;!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance({ivObj:{[Or.AUDIO_ENCODE]:void 0,[Or.VIDEO_ENCODE]:void 0,[Or.SHARING_ENCODE]:void 0}})),this.mediaWorkersPath=QD(o,!1),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=a,null===(c=this.instance)||void 0===c||c.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,a);const v=ff(null===(l=this.mediaOptions)||void 0===l?void 0:l.enableMultiDecodeVideoWithoutSAB);null===(p=this.instance)||void 0===p||p.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:null===(h=this.mediaWorkersPath)||void 0===h?void 0:h.audioWorkletPath,isEnableListenInitEvent:!0}),null===(g=this.instance)||void 0===g||g.initVideoEncode(this.mediaWorkersPath,"",0,!1,"",0,v,!1,!1,!0,!0,!1,!0),this.inProgress=!0}onMediaSDKCallback(o,a){this.callbackList.length>0&&this.callbackList.forEach(c=>c(o,a))}registerCallback(o){this.callbackList.push(o)}unregisterCallback(o){this.callbackList=this.callbackList.filter(a=>a!==o)}destroy(){var o=this;return Oe(function*(){var a;o.callbackList=[],yield null===(a=o.instance)||void 0===a?void 0:a.destroy(),o.instance=null,o.inProgress=!1})()}disconnect(){var o,a;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(17,{}),null===(a=this.instance)||void 0===a||a.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(o,a,c,l,p,h){var g;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(91,{canvas:o,bgdom:a,width:p,height:h,ssid:0,VideoSelectValue:"default"===l?null:l,disableOriginalRatio:arguments.length>6&&void 0!==arguments[6]&&arguments[6],usingFacingMode:["user","environment"].includes(l)})}updateVirtualBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(92,{bgdom:o})}stopVirtualBackgroundSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(93,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}startMaskSetting(o,a,c,l,p,h,g,v,S){var b;null===(b=this.instance)||void 0===b||b.Notify_MeidaSDK(62,{canvas:o,maskdom:null,bgdom:null,dx:0,dy:0,dWidth:170,dHeight:170,width:1280,height:720,ssid:0,originWidth:379,originHeight:213,VideoSelectValue:"default"===p?null:p,usingFacingMode:["user","environment"].includes(p)})}stopMaskSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(65,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}}return t.agentInstance=void 0,t})();const MO="PREVIEW_VIDEO_ENCODE_SUCCESS",Sw="PREVIEW_VIDEO_VB_MODEL_READY";function PO(t,i,o,a){return bw.apply(this,arguments)}function bw(){return bw=Oe(function*(t,i,o,a){const{imageUrl:c,cropped:l,deviceId:p}=o,h=Pa("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__");i.id||(i.id=h);let[g,v]=[640,360];if(Ye.isSupportSending720P()&&(g=1280,v=720),c&&Og(a)){const S=yield bm(c,l);return t.startVirtualBackgroundSetting(i,S,0,p??"default",g,v),S&&S!==qu&&setTimeout(()=>{dc(S)},0),"vb"}return t.startMaskSetting(i,null,null,0,p??"default",0,0,0,0),"mask"}),bw.apply(this,arguments)}let NO=(()=>{class t{constructor(){this.previewMediaAgent=fu.getInstance(),this.isInit=void 0,this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.state=void 0,this.eventHandler=(o,a)=>{switch(o){case he.InitSuccessVideo:a===Eo.EncodeSuccess&&(this.isVideoEncoded=!0,F(MO));break;case he.VbModelPreloadingOk:case he.VbModelPreloading_3S:case he.VbModelPreloading_10S:this.isVBModelReady=!0,F(Sw,!0);break;case he.VbSettingParaError:a===bf.VBModelNotMatch&&(this.isVBModelReady=!1,F(Sw,!1))}}}static setMediaOption(o){t.mediaOption=o}setup(){if(t.mediaOption){if(Ye.getInstance().inProgress)return Promise.resolve("");if(!fu.getInstance().inProgress){this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler);const{assetsPath:o,enforceMultipleVideos:a,enforceVirtualBackground:c}=t.mediaOption,l={...HT(o,a,c)};this.previewMediaAgent.init(o,l),this.previewMediaAgent.registerCallback(this.eventHandler)}return Promise.resolve("")}return Promise.reject({type:ie,reason:"Cannot preview video with virtual background before `client.init` method."})}startPreview(o,a){var c=this;return Oe(function*(){var l;Ye.getInstance().inProgress?PO(Ye.getInstance(),o,a,null===(l=t.mediaOption)||void 0===l?void 0:l.enforceVirtualBackground):(void 0!==c.isVBModelReady?ve([c.isVBModelReady]):Mt(Sw,1)).subscribe(p=>{p&&(c.isVideoEncoded?ve([!0]):Mt(MO,1)).subscribe(()=>{var h;PO(fu.getInstance(),o,a,null===(h=t.mediaOption)||void 0===h?void 0:h.enforceVirtualBackground).then(g=>{c.state={mode:g,canvas:o,vb:a}})})})})()}stopPreview(){var o=this;return Oe(function*(){var a;Ye.getInstance().inProgress?Ye.getInstance().stopVirtualBackgroundSetting():"vb"===(null===(a=o.state)||void 0===a?void 0:a.mode)?fu.getInstance().stopVirtualBackgroundSetting():fu.getInstance().stopMaskSetting()})()}updatePreview(o,a){var c=this;return Oe(function*(){const l=Ye.getInstance().inProgress?Ye.getInstance():fu.getInstance();var p;if(o)if("mask"===(null===(p=c.state)||void 0===p?void 0:p.mode)){var h;Re.isChrome?(yield c.stopPreview(),yield c.startPreview(c.state.canvas,{imageUrl:o,cropped:a,deviceId:null===(h=c.state.vb)||void 0===h?void 0:h.deviceId})):console.warn('use the `start` method with the virtual background image parameter instead of using `updateVirtualBackground` to preview the video." ')}else{const g=yield bm(o,a);g&&(l.updateVirtualBackgroundImage(g),g!==qu&&setTimeout(()=>{dc(g)},0))}else l.updateVirtualBackgroundImage(null)})()}}return t.mediaOption=void 0,t})();const{InitSuccessVideo:Ew,InitSuccessAudio:Cw,InitSuccessSharing:Iw,InitFailedVideo:ww,InitFailedAudio:_w,InitFailedSharing:tb,SharingHealthCheckFailed:kO,VideoHealthCheckFailed:LO,AudioHealthCheckFailed:xO}=he,Fr=wo(Ye.getInstance()),Dw=_i.getInstance(),Aw=Dw.makeLogger(["Media Agent"]),FO=[xp,Tg,Fp].map(t=>LC(t,{hostname:!0})),_m=[],pd={epics0:(t,i)=>t.pipe(Me(`${fo}`),st(()=>{const{meeting:{isMeetingReset:o}}=i.value;return t.pipe(Ke(t.pipe(Me(`${ls}`),Ct(1))),Me(`${$i}`),Ct(1),es(a=>{var c;const{logger:l,media:{mediaConstraints:p,assetsPath:h},meeting:{zlkJwtToken:g,cv:v}}=i.value,{payload:{disableAqos:S,disableVqos:b}}=a,E=null!=l&&null!==(c=l.options)&&void 0!==c&&c.enable?_i.getInstance().makeLogger(["MEDIA SDK"]):void 0;return function(I){const{media:{patchedMediaSDKStatus:_}}=I;return _===up.Loading?ar(Mt(j0,1)):Promise.resolve()}(i.value).then(()=>{const I=[];let _=!b;const w=!S;return g&&lf(v,"1.3.0")<0&&(_=!1),I.push(wv({audioQos:w,videoQos:_})),Fr.init((A=E)&&new Proxy(A,{get:(T,M)=>"string"==typeof M&&"error"===M?function(){try{var P;Bg.report(arguments.length<=0?void 0:arguments[0],["MEDIA SDK",...null!==(P=arguments.length<=1?void 0:arguments[1])&&void 0!==P?P:[]],"error")}catch{}}:Reflect.get(T,M)})),I.push(_v(!0)),o&&void 0!==p&&void 0!==h&&I.push(UE()),I;var A})}))})),epics1:(t,i)=>t.pipe(Me(`${fo}`),ne(o=>{const{payload:{mediaSDKPath:a}}=o,{media:{skipJsMedia:c,patchJsMedia:l,assetsPath:p},meeting:{isMeetingReset:h}}=i.value;return!c&&FO.some(g=>new RegExp(`^https://${g}`).test(p??""))&&!!l&&!!a&&!h}),st(o=>{const{payload:{mediaSDKPath:a}}=o,c=QE(a);return ve(new Promise((l,p)=>{const h=`${c}/${mo}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),Lp(h,()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,Aw.info(`patched media sdk url:${h}`),l("")},()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),Aw.error(`cannot load patched media sdk :${h}`),p()})})).pipe(ae(()=>(F(j0),ve([$E(up.Done),Go(c)]))),Ur(()=>(F(j0),ve([$E(up.Done)]))),cs($E(up.Loading)))})),epics2:(t,i)=>sf(t,i).pipe(Te(()=>{const{media:{assetsPath:o,mediaConstraints:a,fileWithVersion:c,enforceMultipleVideos:l,enforceVirtualBackground:p,isEnableDecoderInWorklet:h},meeting:{isAudioBridgeEnabled:g}}=i.value;if(Fr.notifySDKMeetingReady(),o&&a){const v={enableDecoderInWorklet:h,enableAudioBridge:g&&vr()};Object.assign(v,HT(o,l,p)),Fr.setAssetsAndConstraint(o,a,c,v)}Hl(i).pipe(st(v=>ve(VC.acquire().then(()=>v)))).subscribe(v=>{const{meeting:{svcUrl:S,meetingNumber:b,conId:E,e2eEncrypt:I,userId:_,isWebinar:w,enableWebtransport:A,webtransportPort:T},media:{enableAudioQos:M,enableVideoQos:P,alternativeNameForVideoPlayer:N,adaptedABOptionForMediaSDK:H},video:{rendererType:V}}=i.value;v&&(Fr.connect({svcUrl:S,meetingNumber:b,conId:E,e2eEncrypt:I,isViewOnly:Pr(v.userRole),currentUserId:_,isWebinar:w,enableAudioQos:M,enableVideoQos:P,enableWebtransport:A,webtransportPort:T,rendererType:V,adaptedABOptionForMediaSDK:H}),function(x){var J;let Y="video-player";x.tagName&&(Y=x.tagName,Lr.dispatch("",{tagName:x.tagName}),_c(null===(J=x.mediaSDK)||void 0===J?void 0:J.call(x),`VPTN:${Y}`));const z=`${Y}-container`,U=x.sessionId||rm();Lr.get("renderCountMap").clear(),x.mediaSDK&&(Lr.get("mediaSDKInstanceMap").set(sh,x.mediaSDK),Lr.get("mediaSDKInstanceMap").set(U,x.mediaSDK)),x.failover&&Lr.dispatch("failover",void 0,x.sessionId||sh),customElements.get(z)||customElements.define(z,od),customElements.get(Y)||customElements.define(Y,lh)}({mediaSDK:()=>Fr.instance,tagName:N,failover:"1"}))})}),st(()=>Nu(o=>Fr.registerCallback(o),o=>Fr.unregisterCallback(o),(o,a)=>({type:o,data:a})).pipe(ye(o=>Fu(o))))),epics3:t=>Qe(t,[Ew,Cw,Iw,ww,_w,tb]).pipe(jC(i=>{const{payload:{type:o,data:a}}=i;if(o===Cw||o===_w){if(a===Eo.EncodeSuccess)return F(V0),Vt(jE("success"));if(a===Eo.DecodeSuccess)return F(CA),Vt(uo("success"));if(a===Eo.EncodeFailed)return F(gy),Vt(jE("failed"));if(a===Eo.DecodeFailed)return F(_A),Vt(uo("failed"))}else if(o===Ew||o===ww){if(a===Eo.EncodeSuccess)return F(IA),Vt(Vu("success"));if(a===Eo.DecodeSuccess)return F(ZN),Vt(Iv("success"));if(a===Eo.EncodeFailed)return F(Ga),Vt(Vu("failed"));if(a===Eo.DecodeFailed)return F(Nf),Vt(Iv("failed"))}else if(o===Iw||o===tb){if(a===Eo.EncodeSuccess)return F(wA),Vt(zd("success"));if(a===Eo.DecodeSuccess)return F(fy),Vt(ol("success"));if(a===Eo.EncodeFailed)return F(DA),Vt(zd("failed"));if(a===Eo.DecodeFailed)return F(U0),Vt(ol("failed"));if(o===Iw&&void 0===a)return F(fy),Vt(ol("success"))}})),epics4:(t,i)=>Qe(t,[Ew,Cw]).pipe(st(()=>"object"==typeof navigator.mediaDevices?Kn(qt(),Kn(Qe(t,he.StartVideoCaptureSuccess),pn(navigator.mediaDevices,"devicechange"),Qe(t,he.UserGrantCaptureAudio).pipe(ne(()=>!i.value.audio.isUserGrantCaptureAudio))).pipe(ae(()=>qt().pipe(Te(()=>{setTimeout(()=>{F(za)},50)}))))).pipe(Pe(i),ae(o=>{let[a,c]=o;const l=[GA(a.microphones),zA(a.speakers),Ap(a.cameras)];if(c.audio){const{audio:{activeMicrophone:g,activeSpeaker:v,microphoneDevicesList:S,speakerDevicesList:b},video:{cameraDevicesList:E,activeCamera:I}}=c,w=Ve(c),{microphones:A,speakers:T,cameras:M}=a,P=S.filter(V=>-1===A.findIndex(x=>x.deviceId===V.deviceId)),N=b.filter(V=>-1===T.findIndex(x=>x.deviceId===V.deviceId)),H=E.filter(V=>-1===M.findIndex(x=>x.deviceId===V.deviceId));if(P.length>0){if(yS(P[0],g,S)){const V=zl(A);Fr.changeMicrophone("default",V?.label,!(null==w||!w.muted)),l.push(Jf("default"))}}else if("default"===g){const V=zl(S),x=zl(A);S.length>0&&V?.label!==x?.label&&Fr.changeMicrophone("default",x?.label,!(null==w||!w.muted))}var p,h;N.length>0?yS(N[0],v,b)&&(Fr.changeSpeaker("default"),l.push(Ry("default"))):"default"===v&&b.length>0&&(null===(p=zl(b))||void 0===p?void 0:p.label)!==(null===(h=zl(T))||void 0===h?void 0:h.label)&&Fr.changeSpeaker("default"),H.length>0&&yS(H[0],I,E)&&(Fr.stopCaptureVideo(),l.push(rg(Re.isAndroidOrIOSBrowser?Ba.User:"default")))}return ve(l)})):Se)),epics5:(t,i)=>ur(t,yn).pipe(Te(o=>{const{type:a,payload:{body:c}}=o,l=a===`${Ra}`;if(c.add){const p=c.add.map(h=>({userid:h.id,sn:h.zoomID&&ji(h.zoomID)}));if(!l){const{meeting:{gcmSessinKey:h}}=i.value;Fr.sendUserNodeList(p,h)}Fr.updateUserMediaSN({added:p,isFromMainSession:l,iVType:Or.SHARING_DECODE}),l&&Fr.updateUserMediaSN({added:p,isFromMainSession:l,iVType:Or.AUDIO_DECODE})}if(c.remove&&c.remove.length>0){if(!l){const{meeting:{gcmSessinKey:p}}=i.value;Fr.sendUserNodeList(c.remove.map(h=>({userid:h.id,bremove:!0})),p)}Fr.updateUserMediaSN({removed:c.remove.map(p=>p.id),isFromMainSession:l,iVType:Or.SHARING_DECODE}),l&&Fr.updateUserMediaSN({removed:c.remove.map(p=>p.id),isFromMainSession:l,iVType:Or.AUDIO_DECODE})}}),We(Se)),epics6:t=>Qe(t,he.AesGcmIvResponse).pipe(Te(i=>{const{payload:{data:{workerType:o,iv:a}}}=i,c=ot.get(Rt.WebclientIVState);if(c){const l={...c,[o]:a};ot.set(Rt.WebclientIVState,l,Tt.SessionStorage)}}),We(Se)),epics7:t=>t.pipe(Me(`${xu}`),ne(i=>[jv,$u,zD].includes(i.payload.evt)),ye(i=>{const{payload:{evt:o,body:{encryptKey:a,additionalType:c}}}=i;return yN({type:o===jv?"audio":o===$u?"video":"sharing",encryptKey:a,additionalType:c})})),epics8:t=>t.pipe(Me(`${rf}`),Te(i=>{const{payload:o}=i;NO.setMediaOption({assetsPath:o.assetsPath,enforceMultipleVideos:o.enforceMultipleVideos,enforceVirtualBackground:o.enforceVirtualBackground})}),We(Se)),epics9:t=>t.pipe(Me(`${ul}`,`${vi}`),Te(()=>{fu.getInstance().inProgress&&(fu.getInstance().disconnect(),VC.watch(fu.getInstance().destroy()))}),We(Se)),epics10:t=>t.pipe(Me(`${ul}`,`${vi}`),st(()=>"permissions"in navigator?["microphone","camera"].map(i=>{navigator.permissions.query({name:i}).then(o=>{const a=()=>{F(AA,{name:i,state:o.state})};a(),o.addEventListener("change",a),_m.push(()=>{o.removeEventListener("change",a)})}).catch(()=>{})}):Se),We(Se)),epics11:t=>t.pipe(Me(`${Rr}`),ne(i=>i.payload===wt.Closed),Te(()=>{_m.length>0&&(_m.forEach(i=>i()),_m.length=0)}),We(Se)),epics12:t=>Qe(t,[kO,LO,xO,ww,_w,tb]).pipe(Te(i=>{Dw.report(`Media health check failed,refresh or restart the browser may recover,reason:${i.payload.type}`,"Media exception flow"),F(TA)}),ae(()=>Se))},VO=qr(pd),aL={meeting:dk,socket:DR,participants:rh,media:AR},uL=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qh;function Tw(t){return function(i){for(var o=Object.keys(i),a={},c=0;c<o.length;c++){var l=o[c];"function"==typeof i[l]&&(a[l]=i[l])}var p,g,h=Object.keys(a);try{g=a,Object.keys(g).forEach(function(v){var S=g[v];if(void 0===S(void 0,{type:Kh.INIT}))throw new Error(Vn(12));if(void 0===S(void 0,{type:Kh.PROBE_UNKNOWN_ACTION()}))throw new Error(Vn(13))})}catch(g){p=g}return function(g,v){if(void 0===g&&(g={}),p)throw p;for(var S=!1,b={},E=0;E<h.length;E++){var I=h[E],w=g[I],A=(0,a[I])(w,v);if(void 0===A)throw new Error(Vn(14));b[I]=A,S=S||A!==w}return(S=S||h.length!==Object.keys(g).length)?b:g}}({...aL,...t})}function le(t,i,o,a,c){var l={};return Object.keys(a).forEach(function(p){l[p]=a[p]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce(function(p,h){return h(t,i,p)||p},l),c&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(c):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,i,l),l=null),l}const fn=Symbol("store"),_e=Symbol("getState"),_n=Symbol("dispatch"),Dm=Symbol("additionFeatures"),ce=Symbol("mediaContext");function de(t,i,o){const a=o.value;o.value=function(){const c=this[fn];if(c){const{meeting:{isOnHold:g,isMeetingReset:v,meetingStatus:S}}=c.getState();if(S!==wt.Joined)return Promise.reject({type:_l,reason:"closed"});if(v)return Promise.reject({type:_l,reason:"reconnecting"});if(g)return Promise.reject({type:_l,reason:"on hold"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function Hn(t,i,o){const a=o.value;o.value=function(){const c=this[fn];if(c){const g=c.getState();if(!Co(g))return Promise.reject({type:Hr,reason:"only host or co-host can do the operation"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function hr(t,i,o){const a=o.value;o.value=function(){const c=this[fn];if(c){const g=c.getState();if(!_y(g))return Promise.reject({type:Hr,reason:"only host can do the operation"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function we(t){return function(i,o,a){const c=a.value;a.value=function(){const l=this[fn];if(l&&void 0===l.getState()[t])return Promise.reject({type:ie,reason:`Module:${t} is not enabled`});for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return c.apply(this,h)}}}function UO(t){return function(i,o,a){const c=a.value;a.value=function(){const l=this[fn];if(l){const{meeting:{meetingOptions:v}}=l.getState();if(!0===v[t])return Promise.reject({type:"OPERATION_LOCKED",reason:`${t} is locked`})}for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return c.apply(this,h)}}}let gu=function(t){return t.Self="Self",t.Other="Other",t.Client="Client",t.Phone="Phone",t.Attendee="Attendee",t}({});function Rw(t){return function(i,o,a){const c=a.value;a.value=function(l){const p=this[fn];if(p){const b=p.getState(),E=Array.isArray(t)?t:[t];let I=Yt(b).find(_=>_.userId===l);if(E.findIndex(_=>_===gu.Attendee)>-1&&(I=Dy(b).find(_=>_.userId===l)),!I)return Promise.reject({type:Je,reason:"no matching user"});{const{meeting:{userId:_}}=p.getState();for(let w=0;w<E.length;w++){const A=E[w];if(A===gu.Other&&l===_)return Promise.reject({type:ie,reason:"operation is not applicable to self"});if(A===gu.Self&&l!==_)return Promise.reject({type:ie,reason:"operation is only applicable to self "});if(A===gu.Client&&yp(I.userType)||A===gu.Phone&&!yp(I.userType))return Promise.reject({types:ie,reason:"improper target client"})}}}for(var h=arguments.length,g=new Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];const S=[l,...g];return c.apply(this,S)}}}const Am=_i.getInstance();function _o(t,i){return function(o,a,c){const l=c.value;c.value=function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];if(Am.checkLaplace())try{var v;const S=Am.makeLogger([t]),b=null===(v=i?h.map((E,I)=>i.includes(I+1)?Wr(E):E):h)||void 0===v?void 0:v.map(E=>Na(E));return S.info(`${a},params:${JSON.stringify(b)}`),l.apply(this,h).then(E=>(S.info(`${a} success`),E)).catch(E=>{let I=`${a},params:${JSON.stringify(b)},return failed,`;return"object"==typeof E&&(I=`${I},${E.type?`type:${E.type},`:""}${E.reason?`reason:${E.reason}`:""}`),Am.report(I,`${t} exception flow`,"error"),Promise.reject(E)})}catch{}return l.apply(this,h)}}}function Tm(t,i,o){return function(a,c,l){const p=l.value;l.value=function(){for(var h,g,v=arguments.length,S=new Array(v),b=0;b<v;b++)S[b]=arguments[b];const E=S[i];let I=t;return Array.isArray(I)||(I=[I]),!I.some(_=>E instanceof _)||o&&!o.every(_=>!!E[_])?Promise.reject({type:Je,reason:`Expected to accept ${null===(h=I)||void 0===h?void 0:h.map(_=>_.name).join(" or ")}, but actual it is ${"object"==typeof E&&null!==E?null===(g=Object.getPrototypeOf(E))||void 0===g?void 0:g.constructor.name:E}`}):p.apply(this,S)}}}class ss{constructor(i){this[fn]=void 0,this[_n]=void 0,this[_e]=void 0,this[Dm]=void 0,this[fn]=i,this[_n]=i.dispatch,this[_e]=i.getState}}const cL=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms","bid",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:t=>({isCoHost:!!t})},{from:"muted",to:(t,i)=>({muted:null!=i&&i.isSpeakerOnly||""===i?.audio?void 0:t})},{from:"userType",to:(t,i)=>{const o=yp(t),a={isPhoneUser:o};return o&&null!=i&&i.phoneNumber&&Object.assign(a,{phoneNumber:i.phoneNumber}),a}}];function hd(t){return cL.reduce((i,o)=>({...i,...function(l,p,h){if("string"==typeof l)return{[`${l}`]:p};if("object"==typeof l&&void 0!==l.from){const{to:g}=l;return"string"==typeof g?{[`${g}`]:p}:g(p,h)}}(o,t["string"==typeof o?o:o.from],t)}),{})}function nb(){const{isSupportAudioWorklet:t,isSupportEssentialAudioAndVideoAbility:i,isAndroidOrIOSBrowser:o,isSupportSendScreenSharing:a}=Re;return{audio:i&&t||o,video:i&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaCapabilities,screen:i&&a}}const Ow=t=>{let{breakoutRoom:{mainSessionAttendeeList:i}}=t;return i},jO=t=>{let{meeting:{zoomId:i}}=t;return i},BO=t=>{let{breakoutRoom:{isHugeBO:i}}=t;return i},as=En([t=>{let{breakoutRoom:{controlStatus:i}}=t;return i},t=>{let{breakoutRoom:{currentRoom:{status:i}}}=t;return i},t=>{let{breakoutRoom:{currentRoom:{boId:i}}}=t;return i}],(t,i,o)=>!(t!==dt.InProgress&&t!==dt.Closing||i!==je.InRoom&&i!==je.TimeUp||!o)),Mw=En([t=>{let{breakoutRoom:{rooms:i}}=t;return i},ec,jO,Ow,as,BO],(t,i,o,a,c,l)=>{const p=t.reduce((h,g)=>{const{attendeeGuidList:v}=g;return h.concat(v)},[]);return(c?a:i).filter(h=>!h.bHold&&!h.isHost&&h.zoomID!==o&&!h.bid&&!p.includes(h.userGUID)&&(!l||x1(h.caps)))}),lL=En([as,Ow,ec,jO,BO],(t,i,o,a,c)=>(t?i:o).filter(l=>!l.bHold&&!l.isHost&&l.zoomID!==a&&!l.bid&&(!c||x1(l.caps)))),ma=En([as,Ow,Yt],(t,i,o)=>t?i.find(a=>a.isHost):o.find(a=>a.isHost));var Pw,$O,HO,Ir;const fd=Ot.createAgent();let dL=(Pw=Rw(gu.Other),$O=Rw(gu.Other),HO=Rw(gu.Other),le((Ir=class extends ss{constructor(t){super(t),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(t,i,o){return this.useSDK=!0,this.init(t,i,o)}init(t,i,o){const{audio:a,video:c}=nb();if(!a||!c)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:ie,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[_n]:l,[fn]:p}=this;let h=Fp;const g=o?.fileWithVersion||!1;let v="en-US",S=`${Fp}/${mo}`;if(o){const{dependentAssets:b,additionalFeatures:E,constraints:I,language:_,webEndpoint:w}=o;_&&(v=_),w&&(Ag=LC(w,{hostname:!0})),b===tp.CDN||b===xp?(h=xp,S=`${xp}/${mo}`):b===tp.Global||b===Fp?(h=Fp,S=`${Fp}/${mo}`):b===tp.CN||b===Tg?(h=Tg,S=`${Tg}/${mo}`):b&&/^https?:\/\//.test(b)&&(h=QE(b),S=g?`${h}/1507_js_media.min.js`:`${h}/${mo}`),E&&Array.isArray(E)&&E.forEach(A=>{if(this[Dm][A]&&void 0===p.getState()[A]){const{epic:T,reducer:M,Client:P}=this[Dm][A];p.injectReducer(A,M),p.injectEpic(T);const N=new P(p);this.modules.set(A,N)}}),null!=I&&I.audio&&void 0===p.getState().audio&&(p.injectReducer("audio",GI),p.injectEpic(UR)),null!=I&&I.video&&void 0===p.getState().video&&(p.injectReducer("video",RO),p.injectEpic(sL)),null!=I&&I.screen&&void 0===p.getState().share&&(p.injectReducer("share",mR),p.injectEpic(fV))}return l(BD({apiKey:t,signature:i,language:v,useSDK:this.useSDK})),l(rf({mediaConstraints:o&&o.constraints||{},assetsPath:h,fileWithVersion:g,enforceMultipleVideos:o?.enforceMultipleVideos,enforceVirtualBackground:o?.enforceVirtualBackground,skipJsMedia:o?.skipJsMedia,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})),void 0!==o?.stayAwake&&l(ep(o.stayAwake)),void 0!==o?.quicklyLeaveMeeting&&l(ju(o.quicklyLeaveMeeting)),new Promise((b,E)=>{null!=o&&o.skipJsMedia?b(""):Lp(S,()=>{b("")},()=>{E({type:Je,reason:"dependent assets are not accessible"})})})}on(t,i){((o,a)=>{const c=gp[o];if(c){const l=na.get(o);if(l)l.push(a),na.set(o,l);else{na.set(o,[a]);const h=Kn(...c.map(g=>{const{event:v,payload:S}=g;return pn(qa,v).pipe(ye(b=>S(b)),Ht(Pd))})).subscribe(g=>{const v=na.get(o);v&&v.forEach(S=>{S(g)})});Bf.push(h)}}})(t,i)}off(t,i){((o,a)=>{if(gp[o]){const c=na.get(o);if(Array.isArray(c)){const l=c.filter(p=>p!==a);na.set(o,l)}}})(t,i)}getFeatureModule(t){return this.modules.get(t)}leave(){const{[_e]:t,[_n]:i}=this,{socket:{zoomSocketStatus:o}}=t();return i(o===Wt.Connected||o===Wt.Connecting?Zd():JE()),ar(On(500).pipe(fi("")))}end(){const{[_e]:t,[_n]:i}=this;return"connected"===t().socket.zoomSocketStatus?(i(Un()),ar(On(500).pipe(Te(()=>{mp()}),fi("")))):Promise.resolve("")}changeName(t,i){const o=this[fn].getState(),{meeting:{bAllowAttendeeRename:a}}=o,c=Ve(o),l=Pr(c.userRole),p=Co(o);if(l)return Promise.reject({type:Hr});if(i&&i!==c?.userId){if(p){const{participants:{attendeesList:h}}=o,g=h.find(v=>v.userId===i);if(g)return fd.rename(i,Mn(t),Mn(g.displayName)),hc({userId:i,key:"displayName"},v=>v.displayName===t);{const v=Dy(o).find(S=>S.userId===i);if(v){const S=Qp.getInstance();return fd.rename(v.userId,Mn(t),Mn(v.displayName)),S.rename(v.jid,t),ze(Va,b=>{const E=b.find(I=>I.jid===v.jid);return E&&E.displayName===t})}return Promise.reject({type:Je,reason:"no matching user"})}}return Promise.reject({type:Hr})}return t===c.displayName?Promise.resolve():p||a?(fd.rename(c.userId,Mn(t),Mn(c.displayName)),ze(Br,h=>h.displayName===t)):Promise.reject({type:Hr,reason:"host disallow rename themselves"})}makeHost(t){return fd.assignHost(t,!1),hc({userId:t,key:"isHost"},i=>!0===i.isHost)}makeCoHost(t){const i=this[fn].getState(),o=Yt(i).find(a=>a.userId===t);return!0===o?.bCoHost?Promise.reject({type:Je,reason:`user:[${t}] is already co-host `}):(fd.assignHost(t,!0),hc({userId:t,key:"bCoHost"},a=>!0===a.bCoHost))}revokeCoHost(t){const i=this[fn].getState(),o=Yt(i).find(a=>a.userId===t);return!1===o?.bCoHost?Promise.reject({type:Je,reason:`user:[${t}] is not a co-host`}):(fd.revokeCoHost(t),hc({userId:t,key:"bCoHost"},a=>!1===a.bCoHost))}reclaimHost(){const t=this[_e](),{meeting:{isOriginHost:i}}=t,o=Ve(t);return null!=o&&o.isHost?Promise.resolve(""):i?(fd.reclaimHost(o.userId,!1),ze(Br,a=>!0===a.isHost)):Promise.reject({type:Hr,reason:"You are not the origin host"})}isHost(){const t=this[fn].getState(),i=Ve(t);return!!i&&i.isHost}isCoHost(){const t=this[fn].getState(),i=Ve(t);return!!i&&!!i.bCoHost}isOriginHost(){const{meeting:{isOriginHost:t}}=this[_e]();return t}getCurrentUserInfo(){const t=this[fn].getState(),i=Ve(t);if(i){const o=hd(i);if(t.meeting.isWebinar&&Pr(i.userRole)){const{audio:a}=t,c=a?.isAllowToTalk;Object.assign(o,{isAllowToTalk:c})}if(t.breakoutRoom&&as(t)){const{breakoutRoom:{currentRoom:{boId:a}}}=t;Object.assign(o,{bid:a})}return o}return null}getParticipantsList(){const t=this[fn].getState(),{meeting:{meetingStatus:i}}=t,o=Ve(t);if(i===wt.Joined&&o&&!o.bHold){var a,c;const l=t.breakoutRoom&&as(t)?null===(a=t.breakoutRoom)||void 0===a||null===(c=a.currentRoom)||void 0===c?void 0:c.boId:"";return Yt(t).map(p=>{const h=hd(p);return l&&Object.assign(h,{bid:l}),h})}return[]}getAssistantsList(){const t=this[fn].getState(),{meeting:{meetingStatus:i}}=t,o=Ve(t);return i===wt.Joined&&o?a1(t).map(a=>({userId:a.userId,displayName:a.displayName,isNewAst:!0})):[]}getMeetingHost(){var t;const i=this[_e]();let o=Z0(i);return o||(null===(t=i.breakoutRoom)||void 0===t?void 0:t.currentRoom.status)!==je.InRoom||(o=i.breakoutRoom.mainSessionAttendeeList.find(a=>a.isHost)),void 0!==o?hd(o):null}getMeetingInfo(){const{meeting:{meetingStatus:t,isOnHold:i,meetingNumber:o,passWord:a,userName:c,userEmail:l,meetingTopic:p,meetingOptions:h,encType:g,region:v,network:S,topic:b,zlkJwtToken:E,userId:I,lang:_,inviteEmail:w,meetingId:A,participantID:T,h323Password:M,recordingDisclaimer:P,recordingDisclaimerForRecorder:N,wrInfo:H,meetingInfo:V,isNewJoinFlow:x,chatModerationPolicy:J}}=this[_e](),Y=t===wt.Joined&&!i;if(E)return{topic:b,password:a,userName:c,isInMeeting:Y,userId:I,meetingId:A};{let z="";return 0===g?z="None":1===g?z="AES ECB":2===g&&(z="AES GCM"),{meetingNumber:o,password:a,userName:c,userEmail:l,inviteEmail:w,meetingTopic:p,encryptionType:z,region:v,network:S,isInMeeting:Y,userId:I,lang:_,webEndpoint:Is(),meetingId:A,participantId:T,telPwd:M,recordingInfo:{recordingDisclaimer:P,recordingDisclaimerForRecorder:N,isUserEnableRecordingReminder:h?.isUserEnableRecordingReminder},wrInfo:Object.assign({},H,{isNew:x}),scheduleInfo:V,chatModerationPolicy:J}}}}).prototype,"end",[hr,de],Object.getOwnPropertyDescriptor(Ir.prototype,"end"),Ir.prototype),le(Ir.prototype,"changeName",[de],Object.getOwnPropertyDescriptor(Ir.prototype,"changeName"),Ir.prototype),le(Ir.prototype,"makeHost",[Pw,hr,de],Object.getOwnPropertyDescriptor(Ir.prototype,"makeHost"),Ir.prototype),le(Ir.prototype,"makeCoHost",[$O,hr,de],Object.getOwnPropertyDescriptor(Ir.prototype,"makeCoHost"),Ir.prototype),le(Ir.prototype,"revokeCoHost",[HO,hr,de],Object.getOwnPropertyDescriptor(Ir.prototype,"revokeCoHost"),Ir.prototype),le(Ir.prototype,"reclaimHost",[de],Object.getOwnPropertyDescriptor(Ir.prototype,"reclaimHost"),Ir.prototype),Ir);const pL=Ot.createAgent(),hL=Qp.getInstance(),GO=(t,i,o)=>{const a=i?.userId;if(null==t||!t.zoomID||null==i||!i.displayName||a===t.userId)return{type:Je,reason:"invalid target user"};const{chat:{chatPrivilege:c,panelistChatPrivilege:l},meeting:{isWebinar:p}}=o,h=Co(o),g=i.isHost||i.bCoHost;let v=!1;if(!h){if(p)if(Pr(t.userRole))(c===Sn.NoAttendee||c===Sn.AllPanelist&&a!==nn.Panelist||c===Sn.All&&a!==nn.All&&a!==nn.Panelist)&&(v=!0);else{const S=Pr(i?.userRole);(l===hl.Invalid||l===hl.AllPanelist&&(S||a===nn.All))&&(v=!0)}else(c===Sn.NoAttendee||c===Sn.Host&&!g||a===nn.SilentModeUsers||c===Sn.EveryonePublicly&&a!==nn.All&&!g)&&(v=!0);if(v)return{type:Hr,reason:"Insufficient chat privilege"}}return null};function zO(t,i){if(i===nn.All)return Gv;if(i===nn.Panelist)return Zt;if(i===nn.SilentModeUsers)return r0;{const{meeting:{isWebinar:o},participants:{xmppAttendeeList:a,attendeesList:c}}=t;return o?c.find(l=>l.userId===i)||a.find(l=>l.userId===i):c.find(l=>l.userId===i)}}function Rm(t,i,o){if(null!=o&&o.host)return[Z0(t),...UA(t)].filter(a=>a?.userId!==i).map(a=>({userId:a?.userId,displayName:a?.displayName,isHost:a?.isHost,isCoHost:a?.bCoHost}));{let a=[Z0(t),...UA(t),...t.participants.attendeesList.filter(c=>!(c.bCoHost||c.isHost||c.bHold))];if(null!=o&&o.includeAttendee){const c=Dy(t).filter(l=>!yp(l.userType));a=[...a,...c]}return a.filter(c=>void 0!==c&&c.userId!==i).map(c=>({userId:c?.userId,displayName:c?.displayName,isHost:c?.isHost,isCoHost:c?.bCoHost}))}}function Nc(t){const{text:i,destId:o,sn:a,attendeeId:c}=t;return No.beginEncrypt({text:i,type:Jr.RWG_CHAT}).then(l=>{pL.chat(l,o,a,c)})}function gd(t,i){const{chat:{chatHistory:o}}=i;return o.find(a=>{var c,l;return(null===(c=a.file)||void 0===c||null===(l=c.upload)||void 0===l?void 0:l.uniqueId)===t})}function Nw(t,i){const{meeting:{isWebinar:o},participants:{attendeesList:a}}=i,{destNodeID:c,senderName:l,attendeeNodeID:p}=t,h=a.find(E=>E.userId===c),g=t.sn?t.sn:h?.zoomID,v=l?gi(l):h?.displayName;let S,b="";if(p===nn.SilentModeUsers)return{sender:{name:"Host",userId:c},receiver:{name:"Everyone (in Waiting Room)",userId:p},timestamp:(new Date).getTime()};if(p===nn.All)b=o?"All panelists and attendees":"Everyone";else if(p===nn.Panelist)b="All panelists";else{if(o){const E=Dy(i).find(I=>I.userId===p);E&&(b=E.displayName)}if(!b){const E=a.find(I=>I.userId===p);E&&(b=E.displayName,S=E.userGUID)}}return{sn:g,sender:{name:v,userId:c,userGuid:h?.userGUID,avatar:h?.avatar},receiver:{name:b,userId:p,userGuid:S},timestamp:(new Date).getTime()}}function WO(t){var i;const[o]=t.split(".").reverse();return null!==(i=np[o])&&void 0!==i?i:""}function kw(t,i){const o=[];for(let a=t.length-1;a>=0;a--){const c=t[a];if(!c.file&&(!c.id&&c.sender.userId===i.userId&&[nn.All,nn.Panelist,nn.IndividualCcPanelist,i.destNodeID].includes(c.receiver.userId)&&o.unshift(c),c.id))break}return o.length>0?o[0]:null}const Lw=_i.getInstance(),qO=Lw.makeLogger(["File Transfer"]);function KO(t,i,o){const{name:a,size:c}=t,{meeting:{reportDomain:l,svcUrl:p,conId:h}}=o;return`https://${l}${i}?${new URLSearchParams({filename:a,filesize:c,rwg:p,cid:h}).toString()}`}function fL(t,i){return i.fileObj?`${t}/zoomfile/download?objkey=${i.fileObj}&business=meeting`:`${t}/file/${i.fileID}?business=meeting`}function Om(t,i){return{fileName:t.name,fileSize:t.size,receiverId:i?.userId,receiverGuid:i?.userGuid}}function kc(t,i,o){Lw.report(`${t}. file name:${Wr(i.name)},file size:${i.size}, ${"type"in i?`file type:${i.type}`:""}, error:${o.name};${o.message}`,["File Transfer"])}function xw(t){var i,o,a;return{id:t.id,fileName:null===(i=t.file)||void 0===i?void 0:i.name,fileSize:null===(o=t.file)||void 0===o?void 0:o.size,fileUrl:null===(a=t.file)||void 0===a?void 0:a.fileUrl,senderId:t.sender.userId,senderGuid:t.sender.userGuid}}function QO(t,i,o){return new Promise((a,c)=>{const l=new FileReader;l.readAsArrayBuffer(t.slice(i,o)),l.onload=p=>{var h;return a(null===(h=p.target)||void 0===h?void 0:h.result)},l.onerror=p=>c(p)})}function JO(t,i){return Fw.apply(this,arguments)}function Fw(){return Fw=Oe(function*(t,i){let[o,a]=[t.size,0];null!=i&&(o=Math.min(rn.ChunkSize,t.size-i),a=i);const c=t.size-a<=rn.ChunkSize,l=Math.ceil(o/rn.EncodeBlockSize);try{return function(p){const h=p.reduce((S,b)=>S+b.byteLength,0),g=new Uint8Array(h);let v=0;for(const S of p)g.set(new Uint8Array(S),v),v+=S.byteLength;return g}(yield Promise.all(Array.from({length:c?Math.max(l-1,1):l},(p,h)=>({start:h*rn.EncodeBlockSize+a,end:(c&&h===l-2?h+2:h+1)*rn.EncodeBlockSize+a})).map(function(){var p=Oe(function*(h){let{start:g,end:v}=h;try{const S=yield QO(t,g,v);return S?yield No.beginEncrypt({text:new Uint8Array(S),type:Jr.CHAT_FILE}):Promise.reject(null)}catch(S){return kc(`encrypt file buffer error. offset:${i},`,t,S),Promise.reject(S)}});return function(h){return p.apply(this,arguments)}}())))}catch(p){console.warn(p)}return null}),Fw.apply(this,arguments)}function Lc(t,i,o,a){return a.pipe(Me(`${Zy}`,`${ls}`),ne(c=>{if(c.type===`${ls}`)return!0;const{payload:{uniqueId:l,fileName:p,userId:h}}=c;return i===l&&t.name===p&&o.userId===h}),Ct(1),Te(c=>{qO.info(`Cancel file upload. file name:${Wr(t.name)},file size:${t.size},receiver id:${o.userId}`),F(Ua,{...Om(t,o),progress:0,status:rr.Cancel,retryToken:c.type===`${Zy}`?i:void 0})}))}function rb(t,i){if(null!=t&&t.file){const{file:o,receiver:a}=t,{upload:{chunkIndex:c,totalChunks:l,uniqueId:p}}=o;return F(Ua,{...Om(i,a),progress:Math.floor((c??0)/(l??1)*100),status:rr.Fail,retryToken:p}),ve([dr({upload:{status:rr.Fail,progress:0,uniqueId:p}}),Yy({uniqueId:p,file:i})])}return Se}function ob(t,i){return F(Ua,{...Om(t),progress:0,status:rr.Fail}),Vt(dr({upload:{status:rr.Fail,progress:0,uniqueId:i}}))}function ZO(t,i,o,a){return ro.apply(this,arguments)}function ro(){return ro=Oe(function*(t,i,o,a){const c=KO(t,"/wc/fileupload",a.value),l=new FormData;try{const p=yield JO(t),h=gd(i,a.value);if(p&&h){l.append("file",new File([p],t.name));const{meeting:{zmk:g}}=a.value,{receiver:v}=h;return no({url:c,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:g},crossDomain:mi(c),body:l,includeUploadProgress:!0}).pipe(Ke(Lc(t,i,v,o)),ae(S=>{const{type:b,loaded:E,responseHeaders:I,total:_}=S;let w=0,A=rr.InProgress;const T={upload:{uniqueId:i}},M=[];if("upload_loadstart"===b)w=0;else if("upload_progress"===b)w=Math.floor(E/_*100*.9);else if("upload_load"===b)w=90;else if("download_load"===b){var P,N;w=100,A=rr.Success;const{chat:{fileServerDomain:H}}=a.value,V=null===(P=I["zoom-file-id"])||void 0===P?void 0:P.trim(),x=null===(N=I["zoom-file-obj"])||void 0===N?void 0:N.trim(),J=fL(H,{fileObj:x});Object.assign(T,{fileID:V,fileObj:x,fileUrl:J})}return Object.assign(T.upload,{progress:w,status:A}),(w>0||"upload_loadstart"===b)&&(F(Ua,{...Om(t,v),progress:w,status:A}),M.push(dr(T))),ve(M)}),Ur(S=>(console.warn(S),kc("Upload small file error.",t,S),rb(h,t))))}}catch(p){console.warn(p)}return ob(t,i)}),ro.apply(this,arguments)}const bh=(()=>{const t=new $T;return i=>Oe(function*(){yield t.acquire(),i(...arguments),setTimeout(()=>{t.release()},3e3)})})(),gL=function(t){const i=["chatFileTransfer"];return new Proxy(t,{get:(o,a)=>"string"==typeof a&&i.includes(a)?function(){return bh(o[a].bind(o))(...arguments)}:Reflect.get(o,a)})}(Ot.createAgent()),YO={chatHistory:[],chatPrivilege:Sn.All,panelistChatPrivilege:hl.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},yV=mr({[`${Jo}`]:B((t,i)=>{let{payload:o}=i;t.chatHistory.push(o)}),[`${mC}`]:B((t,i)=>{let{payload:o}=i;t.chatPrivilege=o}),[`${bT}`]:B((t,i)=>{let{payload:o}=i;t.panelistChatPrivilege=o}),[`${ET}`]:B((t,i)=>{let{payload:o}=i;t.isAllowAttendeeChat=o}),[`${CT}`]:B((t,i)=>{let{payload:o}=i;const{destNodeID:a,msgID:c,userId:l}=o,p=kw(t.chatHistory,{userId:l,destNodeID:a});p&&Object.assign(p,{id:c})}),[`${gg}`]:B((t,i)=>{let{payload:o}=i;const{msgId:a}=o,c=t.chatHistory.findIndex(l=>l.id===a);c>=0&&t.chatHistory.splice(c,1)}),[`${vC}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t,o)}),[`${Op}`]:B((t,i)=>{let{payload:o}=i;const{originFile:a,...c}=o;t.chatHistory.push(c)}),[`${dr}`]:B((t,i)=>{let{payload:o}=i;const{upload:a,download:c,originFile:l,...p}=o;if(a){var h;const{uniqueId:g,...v}=a,S=t.chatHistory.find(b=>{var E;return b.file&&(null===(E=b.file.upload)||void 0===E?void 0:E.uniqueId)===g});null!=S&&null!==(h=S.file)&&void 0!==h&&h.upload&&(Object.assign(S.file.upload,{...v}),Object.assign(S.file,{...p}),S.file.upload.status===rr.Success&&t.failedFileTransfer[S.file.upload.uniqueId]&&delete t.failedFileTransfer[S.file.upload.uniqueId])}else if(c){const{id:g,fileUrl:v}=p,S=t.chatHistory.find(b=>{var E;return b.id===g&&(null===(E=b.file)||void 0===E?void 0:E.fileUrl)===v});null!=S&&S.file&&(S.file.download?Object.assign(S.file.download,{...c}):Object.assign(S.file,{download:c}))}}),[`${Zy}`]:B((t,i)=>{let{payload:o}=i;const{uniqueId:a,fileName:c,userId:l}=o,p=t.chatHistory.find(g=>g.file&&g.file.name==c&&g.file.upload.uniqueId===a&&g.file.upload.status===rr.InProgress&&g.receiver.userId===l);var h;null!=p&&p.file&&Object.assign(null===(h=p.file)||void 0===h?void 0:h.upload,{status:rr.Cancel,progress:0})}),[`${Yy}`]:B((t,i)=>{let{payload:o}=i;const{uniqueId:a,file:c}=o;t.failedFileTransfer[`${a}`]||Object.assign(t.failedFileTransfer,{[`${a}`]:c})}),[`${yC}`]:B((t,i)=>{let{payload:o}=i;const{fileID:a,msgID:c,senderId:l}=o,p=t.chatHistory.find(h=>{var g;return(null===(g=h.file)||void 0===g?void 0:g.fileID)===a&&h.sender.userId===l});p&&Object.assign(p,{id:c})}),[`${Xy}`]:B((t,i)=>{let{payload:o}=i;const{id:a,fileUrl:c}=o,l=t.chatHistory.find(h=>{var g,v;return h.id===a&&(null===(g=h.file)||void 0===g?void 0:g.fileUrl)===c&&(null===(v=h.file)||void 0===v?void 0:v.download.status)===Wo.InProgress});var p;null!=l&&l.file&&Object.assign(null===(p=l.file)||void 0===p?void 0:p.download,{status:Wo.Cancel,progress:0})}),[`${Jy}`]:()=>({...YO})},YO);var ir;const mu=Ot.createAgent();let mL=(le((ir=class extends ss{send(t,i){if(!t)return Promise.reject({type:Je,reason:"Text is empty"});const{[_e]:o,[_n]:a}=this,c=o(),l=Ve(c),p=zO(c,i),h=GO(l,p,c);if(h)return Promise.reject(h);const{meeting:{isWebinar:g,encType:v}}=c,S=v===Vv.AES_GCM;let b=Promise.resolve(),E=!1;const I=g&&Pr(p.userRole);return i===nn.SilentModeUsers?mu.chat(Mn(t),i):g?I?8&~p.clientCap?(b=Nc({text:t,destId:nn.Panelist,sn:l?.zoomID,attendeeId:i}).then(()=>function(_){const{text:w,jid:A,isGCMEnabled:T}=_;return No.beginEncrypt({text:w,type:Jr.XMPP_CHAT}).then(M=>{hL.sendWebinarMseeage(M,A,nn.IndividualCcPanelist,T)})}({text:t,jid:p.jid,isGCMEnabled:S})),E=!0):b=Nc({text:t,destId:nn.IndividualCcPanelist,sn:l?.zoomID,attendeeId:i}):p&&(b=Nc({text:t,destId:p.userId,sn:l?.zoomID})):b=Nc({text:t,destId:p.userId,sn:l?.zoomID}),b.then(()=>{const _=function(w,A,T,M){const P=(new Date).getTime(),N=performance.now();return{message:w,sender:{name:A.displayName,userId:A.userId,userGuid:A.userGUID,avatar:A.avatar},receiver:{name:T?.displayName,userId:M?nn.IndividualCcPanelist:T?.userId,userGuid:T?.userGUID},timestamp:P,highResTimeStampForIdentification:N}}(t,l,p,I);return a(Jo(_)),E?(F(Wu,_),_):new Promise((w,A)=>{Mt(ms).pipe(aN(5e3),ED(T=>_.highResTimeStampForIdentification!==T.identification||!([T.receiverId,nn.All,nn.Panelist].includes(i)||T.receiverId===nn.IndividualCcPanelist)),Ct(1)).subscribe(T=>{const{msgId:M}=T,{highResTimeStampForIdentification:P,...N}=_,H={id:M,...N,...I&&{receiver:{name:p?.displayName,userId:p?.userId}}};F(Wu,H),w(H)},()=>{A({type:F0})})})})}setPrivilege(t){const i=this[_e](),{meeting:{isWebinar:o},chat:{chatPrivilege:a},breakoutRoom:c}=i;return a===t?Promise.resolve(""):c?.controlStatus===dt.InProgress&&as(i)?Promise.reject({type:ie,reason:"Cannot update chat privilege in a subsession"}):!o&&!WD.includes(t)||o&&!qD.includes(t)?Promise.reject({type:Je,reason:"invalid privilege value of parameter"}):(mu.setChatPriviledge(t),ze(Zs,l=>l.chatPrivilege===t))}setPanelistPrivilege(t){const i=this[_e](),{chat:{panelistChatPrivilege:o}}=i,a=PN[t];return o===a?Promise.resolve(""):Object.values(mf).includes(t)?(mu.setPanelistChatPrivilege(t),ze(Zs,c=>c.panelistChatPrivilege===a)):Promise.reject({type:Je,reason:"Panelist privilege value is invalid"})}deleteMessage(t){const i=this[_e](),{chat:{chatHistory:o},meeting:{meetingOptions:a,userId:c}}=i;if(null!=a&&a.isEnableDeleteChatMsg){const l=Co(i),p=o.find(h=>h.id===t);if(p){const{sender:h}=p;if(l)mu.chatCmdReq(t,Hv.Delete);else{if(h.userId!==c)return Promise.reject({type:Hr,reason:"can not delete message"});mu.chatCmdReq(t,Hv.Delete)}return ze(rp,g=>g.id===t).then(()=>({id:t}))}return Promise.reject({type:Je,reason:"msgId is wrong"})}return Promise.reject({type:ie,reason:"can not delete messages"})}lockChat(t){const i=this[_e](),{meeting:{meetingOptions:o}}=i;return this.setPrivilege(t?Sn.NoOne:null!=o&&o.isPrivateChatEnabled?Sn.All:Sn.EveryonePublicly)}sendFile(t,i){if(!t)return Promise.reject({type:Je,reason:"File is empty"});const{[_e]:o,[_n]:a}=this,c=o(),{chat:{isFileTransferEnable:l,fileTransferFileType:p,fileTransferSizeLimit:h,failedFileTransfer:g}}=c;if(!l)return Promise.reject({type:ie,reason:"Send files via in-session chat is not enabled"});if("string"==typeof t){const v=gd(t,c);if(null!=v&&v.file&&g[t]){const{file:{upload:S,...b}}=v,{file:{name:E,upload:{uniqueId:I}},receiver:{userId:_}}=v;return a(dr({originFile:g[t],...b,upload:{...S,status:rr.InProgress}})),Promise.resolve(()=>{a(Zy({uniqueId:I,fileName:E,userId:_}))})}return Promise.reject({type:Je,reason:"Retry token is not correct."})}{const{name:v}=t;if(p.length>0){const[_]=v.split(".").reverse();if(!p.some(w=>w===_))return Promise.reject({type:ie,reason:"File is not in the allow list"})}if(t.size>h)return Promise.reject({type:ie,reason:"File size exceeds the maximum limit."});const S=Ve(c),b=zO(c,i),E=GO(S,b,c);if(E)return Promise.reject(E);const I=Kd();return a(Op(function(_,w,A,T,M){const P=(new Date).getTime();return{file:{name:_.name,size:_.size,type:_.type,upload:{progress:0,uniqueId:w,totalChunks:0,chunkIndex:0}},originFile:_,sender:{name:A.displayName,userId:A.userId,userGuid:A.userGUID,avatar:A.avatar},receiver:{name:T?.displayName,userId:T?.userId,attendeeId:void 0,userGuid:T?.userGUID},timestamp:P}}(t,I,S,b))),Promise.resolve(()=>{a(Yy({uniqueId:I,file:t})),a(Zy({uniqueId:I,fileName:v,userId:b?.userId}))})}}downloadFile(t,i,o){const{[_e]:a,[_n]:c}=this,{chat:{chatHistory:l}}=a();return t&&i&&l.find(h=>{var g;return h.id===t&&(null===(g=h.file)||void 0===g?void 0:g.fileUrl)===i})?(c(dr({id:t,fileUrl:i,download:{status:Wo.InProgress,progress:0,blob:o}})),Promise.resolve(()=>c(Xy({id:t,fileUrl:i})))):Promise.reject({type:Je,reason:"Invalid message id or file url!"})}getPrivilege(){const{chat:{chatPrivilege:t,isAllowAttendeeChat:i}}=this[_e]();return i?t:Sn.NoAttendee}getReceivers(){const t=this[_e](),{chat:{chatPrivilege:i,panelistChatPrivilege:o,isAllowAttendeeChat:a},meeting:{isWebinar:c}}=t;if(!c&&!a)return[];const l=Ve(t),p=Co(t);if(l)if(c)if(Pr(l.userRole)){if(!a)return[];if(i===Sn.All)return[Zt,Gv];if(i===Sn.AllPanelist)return[Zt];if(i===Sn.NoOne)return[]}else{if(p||o===hl.Everyone){const h=Rm(t,l.userId,{includeAttendee:!0});return[Zt,Gv,...h]}if(o===hl.AllPanelist){const h=Rm(t,l.userId);return[Zt,...h]}}else{const h=Co(t);if(i===Sn.All||h){const g=Rm(t,l.userId);return[Gv,...g]}if(i===Sn.Host)return Rm(t,l.userId,{host:!0});if(i===Sn.EveryonePublicly){const g=Rm(t,l.userId,{host:!0});return[Gv,...g]}if(i===Sn.NoOne)return[]}return[]}getHistory(){return this[_e]().chat.chatHistory.map(t=>{const{highResTimeStampForIdentification:i,...o}=t;if(o.file){const{name:a,size:c,type:l,fileUrl:p,upload:h,download:g}=o.file,v={name:a,size:c,type:l,fileUrl:p};return h&&Object.assign(v,{upload:{status:h.status,progress:h.progress}}),g&&Object.assign(v,{download:{status:g.status,progress:g.progress}}),{...o,file:v}}return o})}isAllowToDeleteMessages(){const t=this[_e](),{meeting:{meetingOptions:i}}=t;return i?.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[_e]().chat.isFileTransferEnable}getFileTransferSetting(){const t=this[_e](),{chat:{fileTransferFileType:i,fileTransferSizeLimit:o}}=t;return{typeLimit:(i??[]).map(a=>`.${a}`).join(","),sizeLimit:o}}}).prototype,"send",[de],Object.getOwnPropertyDescriptor(ir.prototype,"send"),ir.prototype),le(ir.prototype,"setPrivilege",[Hn,de],Object.getOwnPropertyDescriptor(ir.prototype,"setPrivilege"),ir.prototype),le(ir.prototype,"setPanelistPrivilege",[Hn,de,function(t,i,o){const a=o.value;o.value=function(){const c=this[fn];if(c){const{meeting:{isWebinar:g}}=c.getState();if(!g)return Promise.reject({type:_l,reason:"non-webinar"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}],Object.getOwnPropertyDescriptor(ir.prototype,"setPanelistPrivilege"),ir.prototype),le(ir.prototype,"deleteMessage",[de],Object.getOwnPropertyDescriptor(ir.prototype,"deleteMessage"),ir.prototype),le(ir.prototype,"lockChat",[Hn,de],Object.getOwnPropertyDescriptor(ir.prototype,"lockChat"),ir.prototype),le(ir.prototype,"sendFile",[de],Object.getOwnPropertyDescriptor(ir.prototype,"sendFile"),ir.prototype),le(ir.prototype,"downloadFile",[de],Object.getOwnPropertyDescriptor(ir.prototype,"downloadFile"),ir.prototype),ir);const vL=qr({epics0:(t,i)=>co(t,24583).pipe(Pe(i),ae(o=>{let[a,c]=o;if(c.meeting.zlkJwtToken)return Se;const{payload:{body:{sn:l,senderName:p,senderJid:h,receiver:g,text:v,type:S}}}=a,b=Ve(c),E=Dy(c),{meeting:{jid:I,userId:_},participants:{xmppAttendeeList:w}}=c;return No.beginDecrypt({decryptedText:v,type:Jr.XMPP_CHAT,zoomId:l}).then(A=>{var T;let{message:M}=A,P=null,N=0,H="";b&&Pr(b.userRole)&&I===g?(P=w.find(x=>x.jid===h),N=_,H=b.displayName):S===nn.Panelist&&(P=E.find(x=>x.jid===h),N=nn.Panelist,H=Zt.displayName);const V={message:M,sender:{name:p,userId:(null===(T=P)||void 0===T?void 0:T.userId)||0,avatar:""},receiver:{name:H,userId:N},timestamp:(new Date).getTime()};return F(Wu,V),Jo(V)})})),epics1:(t,i)=>Ce(t,7944).pipe(Pe(i),ae(o=>{let[a,c]=o;const{meeting:{bIbDisableChat:l}}=c,{payload:{body:{attendeeNodeID:p,sn:h,destNodeID:g,text:v,senderName:S,msgID:b}}}=a,E=Ve(c);if(E){const I=Pr(E?.userRole)&&p===E.userId&&!b;if(!l&&!I){const{sn:_,...w}=Nw({destNodeID:g,attendeeNodeID:p,senderName:S,sn:h},c);return(p===nn.SilentModeUsers?Promise.resolve({id:b,message:gi(v),...w}):No.beginDecrypt({decryptedText:v,zoomId:_,type:Jr.RWG_CHAT}).then(A=>{let{message:T}=A;return{id:b,message:T,...w}})).then(A=>(F(Wu,A),Jo(A)))}}return Se})),epics2:(t,i)=>Ce(t,yi).pipe(ne(o=>{var a,c;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.chatPriviledge)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.bAllowAttendeeChat)}),Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:{chatPriviledge:l,bAllowAttendeeChat:p}}}=a,{chat:{chatPrivilege:h}}=c;return void 0!==p?(F(Zs,!0===p?{chatPrivilege:h}:{chatPrivilege:Sn.NoAttendee}),ET(p)):(F(Zs,{chatPrivilege:l}),mC(l))})),epics3:t=>Ce(t,yi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.panelistChatPriviledge)}),ye(i=>{const{payload:{body:{panelistChatPriviledge:o}}}=i;return F(Zs,{panelistChatPrivilege:o}),bT(o)})),epics4:(t,i)=>Ce(t,4136).pipe(Pe(i),ae(o=>{let[a,c]=o;const{payload:{body:{result:l,destNodeID:p,msgID:h,fileID:g}}}=a,{meeting:{userId:v},chat:{chatHistory:S}}=c,b=[];if(l===Wi.Success)if(g){const I=S.find(_=>{var w;return(null===(w=_.file)||void 0===w?void 0:w.fileID)===g});if(I){const{file:_,receiver:w,...A}=I,{name:T,size:M,type:P,fileUrl:N}=_??{},{attendeeId:H,...V}=w;F(Wu,{id:h,file:{name:T,size:M,type:P,fileUrl:N,upload:{status:rr.Complete,progress:100}},receiver:{...V},...A}),b.push(yC({fileID:g,msgID:h,senderId:v}))}}else{const I=kw(S,{userId:v,destNodeID:p});var E;I&&(F(ms,{msgId:h,receiverId:p,identification:null!==(E=I.highResTimeStampForIdentification)&&void 0!==E?E:0}),b.push(CT({destNodeID:p,msgID:h,userId:v})))}else l!==Wi.Delete&&l!==Wi.Block||b.push(gg({msgId:h}));return ve(b)})),epics5:t=>Ce(t,4238).pipe(ae(i=>{const{payload:{body:{bSuccess:o,cmd:a,msgID:c}}}=i,l=[];return o&&a===Hv.Delete&&(l.push(gg({msgId:c})),F(rp,{id:c})),ve(l)})),epics6:t=>Ce(t,7960).pipe(ae(i=>{const{payload:{body:{cmd:o,msgID:a}}}=i,c=[];return o===Hv.Delete&&(c.push(gg({msgId:a})),F(rp,{id:a})),ve(c)}))},{chatFileEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{var o,a,c;const{payload:{fileTransfer:l,fileServerDomain:p}}=i;return vC({isFileTransferEnable:l?.isEnable,isEnableFileTransferEncrypted:l?.isEnableFileTransferEncrypted,fileTransferFileType:(null!==(o=l?.fileType)&&void 0!==o?o:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*(null!==(a=l?.sizeLimit)&&void 0!==a?a:0)*1024||rn.MaxSize,fileDownloadPromptIgnoreList:(null!==(c=l?.fileDownloadPromptIgnoreList)&&void 0!==c?c:"").replace(/\./g,"").split(","),fileServerDomain:`https://${p}`})})),chatFileEpics1:(t,i)=>t.pipe(Me(`${Op}`),ae(function(){var o=Oe(function*(a){const{payload:{originFile:c,file:{upload:{uniqueId:l}}}}=a;return c.size>rn.ChunkSize?yield(p=Oe(function*(h,g,v,S){const b=KO(h,"/wc/multiupload/init",S.value),E=yield(A=Oe(function*(T){const M=Math.ceil(T.size/rn.ReaderChunkSize);return(yield Promise.all(Array.from({length:M},(P,N)=>({start:N*rn.ReaderChunkSize,end:(N+1)*rn.ReaderChunkSize})).map(function(){var P=Oe(function*(N){let{start:H,end:V}=N;try{const x=yield QO(T,H,V);return Nv(yield window.crypto.subtle.digest("SHA-256",x))}catch(x){return kc("calculate file hash error.",T,x),Promise.reject(x)}});return function(N){return P.apply(this,arguments)}}()))).join("")}),function(T){return A.apply(this,arguments)})(h),{meeting:{zmk:I,meetingId:_}}=S.value,w=gd(g,S.value);var A;if(E&&w){const{receiver:A}=w,T={fileName:h.name,length:h.size,channelType:4,digest:E,shareJid:_};return no({url:b,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:I},crossDomain:mi(b),body:T}).pipe(Ke(Lc(h,g,A,v)),ye(M=>{var P;const{responseHeaders:N,response:H}=M,V=null===(P=N["x-zm-trackingid"])||void 0===P?void 0:P.trim(),{uploadid:x,path:J,metadata:Y}=H,z=Math.ceil(h.size/rn.ChunkSize);return dr({originFile:h,upload:{uniqueId:g,status:rr.InProgress,progress:0,chunkIndex:0,totalChunks:z,uploadid:x,trackingId:V,path:J,metadata:Y}})}),Ur(M=>(console.warn(M),kc("Upload file meta error.",h,M),rb(w,h))),cs(dr({upload:{uniqueId:g,status:rr.Init}})))}return ob(h,g)}),function(h,g,v,S){return p.apply(this,arguments)})(c,l,t,i):yield ZO(c,l,t,i);var p});return function(a){return o.apply(this,arguments)}}()),ae(o=>o)),chatFileEpics2:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{var a;return(null===(a=o.payload.upload)||void 0===a?void 0:a.status)===rr.Success}),es(function(){var o=Oe(function*(a){const{payload:{upload:{uniqueId:c}}}=a,{chat:{isEnableFileTransferEncrypted:l,chatHistory:p}}=i.value,h=p.find(v=>{var S,b;return(null===(S=v.file)||void 0===S||null===(b=S.upload)||void 0===b?void 0:b.uniqueId)===c}),g=[];if(h&&h.file){const{file:{name:v,size:S,fileObj:b,fileID:E,type:I},receiver:{userId:_,attendeeId:w}}=h;let[A,T]=["",""];if(l){const[M,P]=yield Promise.all([v,`${S}`].map(N=>No.beginEncrypt({text:N,type:Jr.RWG_CHAT})));[A,T]=[M,P]}else[A,T]=[v,`${S}`].map(M=>Mn(M));yield gL.chatFileTransfer({fileID:E,fileSize:T,fileName:A,fileObj:b,type:I,destNodeID:_,attendeeNodeID:w}),g.push(dr({upload:{uniqueId:c,status:rr.Complete}}))}return g});return function(a){return o.apply(this,arguments)}}())),chatFileEpics3:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a,originFile:c}}=o;return!!a&&!!a.uniqueId&&a.status===rr.InProgress&&c?.size<=rn.ChunkSize&&0===a.totalChunks}),ae(function(){var o=Oe(function*(a){const{payload:{originFile:c,upload:{uniqueId:l}}}=a;return yield ZO(c,l,t,i)});return function(a){return o.apply(this,arguments)}}()),ae(o=>o)),chatFileEpics4:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a}}=o;return!!a&&!!a.uniqueId&&a.totalChunks>0&&a.chunkIndex!==a.totalChunks}),ae(function(){var o=Oe(function*(a){const{payload:{originFile:c,upload:{uniqueId:l}}}=a;return yield(p=Oe(function*(h,g,v,S){const b=gd(g,S.value);if(null!=b&&b.file){const{file:{upload:{chunkIndex:E,totalChunks:I,uploadid:_,path:w,trackingId:A,etags:T},size:M},receiver:P}=b,N=E*rn.ChunkSize,H=yield JO(h,N);if(H){const{chat:{fileServerDomain:V},meeting:{zmk:x}}=S.value,J=`${V}/upload/parts?${new URLSearchParams({uploadid:_,partNumber:E+1}).toString()}`,Y=new FormData,z=new File([H],h.name);return Y.append("file",z),no({url:J,method:"POST",headers:{"Zoom-File-Size":z.size,"Zoom-File-Path":w,"x-zm-trackingid":A,"Zoom-File-Origin":"redirect=support_auth",zmk:x},crossDomain:mi(J),body:Y,includeUploadProgress:!0}).pipe(Ke(Lc(h,g,P,v)),ae(U=>{var O;const{type:L,loaded:$,total:j,responseHeaders:Q}=U;let re=0;const te={upload:{uniqueId:g,status:rr.InProgress}},me=[],Ne=gd(g,S.value),De=null==Ne||null===(O=Ne.file)||void 0===O?void 0:O.upload.progress;if("upload_loadstart"===L)re=De||Math.floor(E/I*100);else if("upload_progress"===L)re=Math.floor((E*rn.ChunkSize+.9*$)/M*100);else if("upload_load"===L)re=Math.floor((E*rn.ChunkSize+.9*j)/M*100);else if("download_load"===L){re=De||Math.floor((E+1)/I*100);const Be=Q["x-zm-etag"].trim(),He=T?{...T,[`${E+1}`]:Be}:{[`${E+1}`]:Be};Object.assign(te.upload,{etags:He,chunkIndex:E+1,totalChunks:I}),Object.assign(te,{originFile:h})}return(re>0||"upload_loadstart"===L)&&(Object.assign(te.upload,{progress:re}),F(Ua,{...Om(h,P),progress:re,status:rr.InProgress}),me.push(dr(te))),ve(me)}),Ur(U=>(console.warn(U),kc(`Upload file chunk error. chunk:${E},total chunks:${I},uploadid:${_},trackingId:${A}`,h,U),rb(b,h))))}}return ob(h,g)}),function(h,g,v,S){return p.apply(this,arguments)})(c,l,t,i);var p});return function(a){return o.apply(this,arguments)}}()),ae(o=>o)),chatFileEpics5:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a}}=o;return!!a&&!!a.uniqueId&&a.totalChunks>0&&a.chunkIndex==a.totalChunks}),ae(o=>{const{payload:{originFile:a,upload:{uniqueId:c}}}=o;return function(l,p,h,g){const{chat:{fileServerDomain:v},meeting:{zmk:S}}=g.value,b=gd(p,g.value);if(null!=b&&b.file){const{file:{upload:{uploadid:E,metadata:I,etags:_,trackingId:w}},receiver:A}=b,T=`${v}/upload/complete?uploadid=${E}`;return no({url:T,method:"POST",headers:{"x-zm-trackingid":w,"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:mi(T),body:{metadata:I,etags:_}}).pipe(Ke(Lc(l,p,A,h)),ye(M=>{var P,N;const{chat:{fileServerDomain:H}}=g.value,{responseHeaders:V}=M,x=null===(P=V["zoom-file-id"])||void 0===P?void 0:P.trim(),J=null===(N=V["zoom-file-obj"])||void 0===N?void 0:N.trim(),Y=`${H}/zoomfile/download?objkey=${J}&business=meeting`;return F(Ua,{...Om(l,A),progress:100,status:rr.Success}),dr({fileID:x,fileObj:J,fileUrl:Y,upload:{uniqueId:p,progress:100,status:rr.Success}})}),Ur(M=>(console.warn(M),kc(`Upload chunks checksum error.uploadid${E},trackingId${w}`,l,M),rb(b,l))))}return ob(l,p)}(a,c,t,i)})),chatFileEpics6:(t,i)=>Ce(t,4308).pipe(es(function(){var o=Oe(function*(a){const{payload:{body:{attendeeNodeID:c,destNodeID:l,fileID:p,fileName:h,fileObj:g,fileSize:v,fileType:S,msgID:b,senderName:E}}}=a,{meeting:{bIbDisableChat:I},chat:{fileServerDomain:_,isEnableFileTransferEncrypted:w}}=i.value,A=[];if(!I){const T=fL(_,{fileObj:g,fileID:p});if(S===vf.Local){const{sn:M,...P}=Nw({destNodeID:l,attendeeNodeID:c,senderName:E},i.value);let[N,H]=["",0];if(w){const[x,J]=yield Promise.all([h,v].map(Y=>No.beginDecrypt({decryptedText:Y,zoomId:M,type:Jr.RWG_CHAT})));N=x.message,H=Number(J.message)}else N=gi(h),H=Number(gi(v));const V={id:b,file:{name:N,size:H,fileUrl:T},...P};A.push(Jo({...V,file:{...V.file,fileID:p,fileObj:g}})),setTimeout(()=>{F(Wu,V)},0)}}return A});return function(a){return o.apply(this,arguments)}}())),chatFileEpics7:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{var a,c;const{payload:l}=o;return l.id&&l.fileUrl&&(null===(a=l.download)||void 0===a?void 0:a.status)===Wo.InProgress&&0===(null===(c=l.download)||void 0===c?void 0:c.progress)}),ae(o=>function(a,c,l){var p;const{chat:{chatHistory:h},meeting:{zmk:g},participants:{attendeesList:v}}=l.value,S=h.find(b=>b.id===a);if(null!=S&&null!==(p=S.file)&&void 0!==p&&p.fileUrl){const{file:{fileUrl:b}}=S;return no({url:b,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:g},crossDomain:mi(b),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(Ke((E=S,c.pipe(Me(`${Xy}`,`${ls}`),ne(_=>{if(_.type===`${ls}`)return!0;const{payload:{id:w}}=_;return E.id===w}),Ct(1),Te(()=>{var _,w,A;qO.info(`Cancel file download. file name:${Wr(null===(_=E.file)||void 0===_?void 0:_.name)},file size:${null===(w=E.file)||void 0===w?void 0:w.size},sender id:${null===(A=E.sender)||void 0===A?void 0:A.userId}`),F(Wv,{...xw(E),progress:0,status:Wo.Cancel})})))),es(function(){var E=Oe(function*(I){const{type:_,loaded:w,total:A}=I,T=[],M={...xw(S),progress:0,status:Wo.InProgress};if("download_loadstart"===_&&Object.assign(M,{progress:0}),"download_progress"===_){var P;const Y=Math.floor(w/A*100);T.push(dr({id:a,fileUrl:null===(P=S.file)||void 0===P?void 0:P.fileUrl,download:{progress:Y}})),Object.assign(M,{progress:Y})}else if("download_load"===_){var N,H,V;const z=Wo.Success;Object.assign(M,{progress:100,status:z}),T.push(dr({id:a,fileUrl:null===(N=S.file)||void 0===N?void 0:N.fileUrl,download:{progress:100,status:z}}));const U=null===(H=v.find(L=>L.userId===S.sender.userId))||void 0===H?void 0:H.zoomID,O=yield(L=Oe(function*($,j,Q){const re=Math.ceil($.byteLength/rn.DecodeBlockSize);try{const te=yield Promise.all(Array.from({length:Math.max(re-1,1)},(me,Ne)=>({start:Ne*rn.DecodeBlockSize,end:(Ne===re-2?Ne+2:Ne+1)*rn.DecodeBlockSize})).map(function(){var me=Oe(function*(Ne){let{start:De,end:Be}=Ne;try{const He=$.slice(De,Be),{message:ke}=yield No.beginDecrypt({decryptedText:He,zoomId:Q,type:Jr.CHAT_FILE});return ke}catch(He){return kc("decrypt file buffer error.",{name:j,size:$.byteLength},He),Promise.reject(He)}});return function(Ne){return me.apply(this,arguments)}}()));return new Blob(te,{type:WO(j)})}catch{return null}}),function($,j,Q){return L.apply(this,arguments)})(I.response,null===(V=S.file)||void 0===V?void 0:V.name,U);var x,J;O&&(null!==(x=S.file)&&void 0!==x&&x.download.blob?Object.assign(M,{fileBlob:O}):function(L,$){const j=document.createElement("a"),Q=window.URL.createObjectURL(L);j.href=Q,j.download=$,j.click(),window.URL.revokeObjectURL(Q)}(O,null===(J=S.file)||void 0===J?void 0:J.name))}var L;return(M.progress>0||"download_loadstart"===_)&&F(Wv,M),T});return function(I){return E.apply(this,arguments)}}()),Ur(E=>(console.warn(E),kc(`download file error. file url:${b}`,{name:void 0,size:void 0},E),F(Wv,{...xw(S),progress:0,status:Wo.Fail}),Vt(dr({id:a,fileUrl:b,download:{status:Wo.Fail,progress:0}})))))}var E;return Se}(o.payload.id,t,i)))});function md(t,i){const{meeting:{isMeetingReset:o,meetingId:a,meetingNumber:c,userName:l,userEmail:p,tid:h,userId:g,userGUID:v},breakoutRoom:S}=t;let b="";var E;return b=o?null!=S&&null!==(E=S.currentRoom)&&void 0!==E&&E.boConfId?"join breakout room":"meeting failover":"join meeting",{label:b,payload:{meetingId:a,tid:h,userId:g||i?.userId,userGUID:v||i?.userGUID,meetingNumber:Wr(c),userName:Wr(l),userEmail:Wr(p)}}}function Oi(t,i,o){return el(st(a=>{let c=!1;try{var l,p;const{logger:{options:h},meeting:{logConfig:g}}=i.value;c=null!==(l=h?.enable)&&void 0!==l?l:null===(p=JSON.parse(g||"{}"))||void 0===p?void 0:p.enable}catch{}try{if(c){const{logger:{isLaplaceInitialized:h}}=i.value;if(!h)return t.pipe(Me(`${Xa}`),Ct(1),ae(g=>(g.payload&&o(a),Se)));o(a)}}catch(h){console.warn(h)}return Se}))}function va(t,i,o,a){return Qe(t,o).pipe(Oi(t,i,a))}function Eh(t,i,o,a){return Ce(t,o).pipe(Oi(t,i,a))}function Mm(t){var i,o;const{audio:{activeMicrophone:a,activeSpeaker:c,microphoneDevicesList:l,speakerDevicesList:p}}=t;return`microphone: [${a} - ${null==l||null===(i=l.find(h=>h.deviceId===a))||void 0===i?void 0:i.label}]; speaker: [${c} - ${null==p||null===(o=p.find(h=>h.deviceId===c))||void 0===o?void 0:o.label}]`}function Uw(t){var i;const{video:{activeCamera:o,cameraDevicesList:a}}=t;return`camera: [${o} - ${null==a||null===(i=a.find(c=>c.deviceId===o))||void 0===i?void 0:i.label}]`}function Pm(t,i){return i?` ,${t}:${i}`:""}const{InitSuccessAudio:ib,InitFailedAudio:jw,InitSuccessVideo:SV,InitFailedVideo:XO,InitSuccessSharing:yL,InitFailedSharing:eM}=he,{DecodeSuccess:vd,DecodeFailed:tM,EncodeSuccess:Bw,EncodeFailed:sb}=Eo,bV={[`${ib}`]:{name:"Audio",isException:!1},[`${jw}`]:{name:"Audio",isException:!0},[`${SV}`]:{name:"Video",isException:!1},[`${XO}`]:{name:"Video",isException:!0},[`${yL}`]:{name:"Sharing",isException:!1},[`${eM}`]:{name:"Sharing",isException:!0}};function SL(t){const i=(t??"").split("-");return[...new Set(i)].map(o=>({reason:o,count:i.filter(a=>o===a).length}))}const ti=_i.getInstance(),$w=()=>{if("connection"in navigator){const{effectiveType:t,rtt:i,downlink:o}=navigator.connection;ti.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${t},rtt:${i},downlink:${o}`)}},vu=_i.getInstance().makeLogger(["Remote Control"]),Hw=wo(Ye.getInstance()),nM=[{event:he.StartVideoCaptureSuccess,message:t=>`${Hp.StartCaptureVideoSuccess}, ${Uw(t)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:he.StopVideoCaptureSuccess,message:Hp.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:he.StartVideoStreamInVbSettingSuccess,message:Hp.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloadingOk,message:Hp.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloading_3S,message:Hp.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloading_10S,message:Hp.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:he.VbSettingParaError,message:Hp.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],Gw=[{event:he.AudioBridgeReconnectStart,message:gc.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.AudioBridgeReconnectEnd,message:gc.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.UserGrantCaptureAudio,message:t=>`${gc.DeviceAudioStreamCaptured},${Mm(t)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:he.JoinComputerAudioComplete,message:gc.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.LeaveComputerAudioComplete,message:gc.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.JoinSharingAudioComplete,message:gc.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:he.LeaveSharingAudioComplete,message:gc.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}].map(t=>({...t,tag:"Audio"})).concat(nM.map(t=>({...t,tag:"Video"}))),Mi=_i.getInstance(),{InitSuccessVideo:EL,InitSuccessAudio:rM,InitSuccessSharing:CL,InitFailedVideo:oM,InitFailedAudio:iM,InitFailedSharing:sM,RecoverWebrtcAudio:aM,AudioBridgeFirstRecvData:uM,AudioBridgeCanSendData:IL,UserForbiddedCaptureAudio:wL,AudioWebsocketBroken:cM,AudioZeroData:_L,UserForbiddedCaptureVideo:DL,UserCameraIsTakenByOtherPrograms:AL,VideoWebsocketBroken:EV,StopVideoCaptureFailed:CV,DesktopSharingPermissionDenied:IV,DesktopSharingSystemError:TL,AudioSpeakerSetError:RL,VbSettingParaError:ab,MaskSettingParaError:wV,WebglLostInMultiView:lM,VideoStreamFailed:dM,AudioStreamFailed:Ch,NotifyUIFailover:ub}=he,yd=_i.getInstance(),zw={options:void 0,isLaplaceInitialized:!1},OL=mr({[`${kC}`]:B((t,i)=>{let{payload:o}=i;t.options=o}),[`${Xa}`]:B((t,i)=>{let{payload:o}=i;t.isLaplaceInitialized=o}),[`${pS}`]:(t,i)=>{let{options:o}=t,{payload:a}=i;return a?{...zw,options:o}:{...zw}}},zw),NL={epics0:(t,i)=>t.pipe(Me(`${fo}`),ae(function(){var o=Oe(function*(a){const{meeting:{logConfig:c,logEncryptionPubKey:l,zlkJwtToken:p,accountId:h,enableAutoLog:g,collectionToggleEnable:v,zsk:S},logger:{options:b}}=i.value;let E=b||{};if(c)try{const{enable:I,enableReport:_}=JSON.parse(c);E={...E,enable:I,enableReport:_}}catch{}if(p){const{telemetry_tracking_id:I}=qs(p),{payload:{meetingId:_}}=a;E={...E,enable:!0,enableReport:!0,trackingId:I??_}}else{let I=!1;I=S&&void 0!==v?!(g&&v):!g,ot.set(hf.DisableAutoReportLogs,I,Tt.Memory)}return ti.init({...E,logConfig:c,logEncryptionPubKey:l,accountId:h}).then(()=>[Xa(!0),kC(E)]).catch(()=>[Xa(!1)])});return function(a){return o.apply(this,arguments)}}()),ae(o=>ve(o))),epics1:(t,i)=>Eh(t,i,4098,o=>{var a,c,l,p;const{payload:{body:h}}=o;if(h&&h.res===ho.Success){ti.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!window.crossOriginIsolated}, browser:${Re.browser} ${Re.browserVersion}, OS:${Re.os} ${Re.osVersion}${Pm("wow64",Re.wow64)}${Pm("GPU",Re.gpu)}${Pm("architecture",Re.architecture)}${Pm("bitness",Re.bitness)}${Pm("model",Re.model)}${ot.get(hf.EnforceWebRTCAudio)?"; Enforce WebTRC audio":""}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:Y,enforceVirtualBackground:z,assetsPath:U,disableRenderLimits:O},meeting:{stayAwake:L,quicklyLeave:$}}=i.value;ti.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:Y,disableRenderLimits:O,enforceVirtualBackground:z,assetsPath:U,stayAwake:L,leaveOnPageUnload:$})}`),"connection"in navigator&&($w(),navigator.connection.addEventListener("change",$w))}else ti.report(`join meeting failed, error:${JSON.stringify(Ks(h?.res))}, rwg error code:${h?.res}, rwg conID:${h?.conID}, error message:${h?.error_desc}, rwg url:${h?.svcUrl},mid:${i.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:g,pingRWCTimestamp:v,tid:S,meetingId:b,topic:E,accountId:I,cv:_},socket:{rwgServerList:w,retryCount:A},video:{rendererType:T},media:{patchJsMedia:M,assetsPath:P}}=i.value;let N=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID"].reduce((Y,z)=>void 0!==h[z]?{...Y,[`${z}`]:h[z]}:Y,{});N=["jid","mn","participantID","zoomID"].reduce((Y,z)=>void 0!==h[z]?{...Y,[`${z}`]:Wr(h[z])}:Y,N),N.response=N.res,delete N.res;const H=["connection_info_map"];let V;if(h.res===ho.Success&&H.push("Command Socket Event","User Info Map"),S){const Y=S.match(/clid=(\S+);/);Y&&Y.length>1&&(V=Y[1])}const x=Math.floor(performance.now()-g),J=Math.floor(performance.now()-v);ti.report(JSON.stringify({...N,tid:S,mid:b,userRegion:V,rwgUrl:w.length>0?null===(a=w[A])||void 0===a?void 0:a.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:!!window.crossOriginIsolated,browserVersion:`${Re.browser} ${Re.browserVersion}`,osVersion:`${Re.os} ${Re.osVersion}`,gpu:Re.gpu,architecture:Re.architecture,model:Re.model,bitness:Re.bitness,totalDurationOfJoining:x,durationOfRWG:J,rendererType:T,sdkVersion:_,mediaSdkVersion:null===(c=window.JsMediaSDK_Instance)||void 0===c?void 0:c.version,topic:E?Wr(E):void 0,accountId:I?Wr(I):void 0,patchJSMediaSDK:M,dependentAssets:P,webRtcAudio:vr()}),H,"info"),Ot.createAgent().sendRWGConnectionPerformance(`WCL_M, conId: ${h?.conID}, trackingId: ${null===(l=i.value.logger)||void 0===l||null===(p=l.options)||void 0===p?void 0:p.trackingId}, JOINFS(${x}), JOINFRWC(${J})`)}),epics2:(t,i)=>t.pipe(Me(`${Jd}`),Pe(i),ne(o=>{let[,a]=o;return void 0===a.meeting.encryptedRWC&&(void 0===a.meeting.encryptedGEORWC||0===a.meeting.encryptedGEORWC.length)}),Oi(t,i,()=>{const{label:o,payload:a}=md(i.value);ti.report(`${o} ${JSON.stringify(a)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")})),epics3:(t,i)=>t.pipe(Me(`${er}`),ne(o=>o.payload===zt.OnError||o.payload===zt.Disconnect||o.payload===zt.NoHeartbeat),Oi(t,i,o=>{const{payload:a}=o,{socket:{rwgServerList:c,retryCount:l}}=i.value,{payload:p}=md(i.value);ti.report(`websocket unexpected disconnected,${JSON.stringify({code:a,rwgHost:c[l],...p})}`,["Join Meeting Flow","RWG Disconnect"])})),epics4:(t,i)=>t.pipe(Me(`${dl}`),Oi(t,i,o=>{const{payload:{reason:a,count:c,interval:l,sequence:p,userId:h,userGUID:g}}=o,{payload:v}=md(i.value,{userId:h,userGUID:g});ti.report(`meeting failover,${JSON.stringify({reason:a,count:c,interval:l,sequence:p,detailed:SL(p),...v})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",$w)})),epics5:(t,i)=>t.pipe(Me(`${Gd}`),ne(o=>o.payload.status===Wt.Connecting),Oi(t,i,o=>{const{payload:{rwgUrl:a}}=o;let c=a.replace(/(\d+)\?/,`${Wr("$1")}?`);c=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce((p,h)=>p.indexOf(h)>-1?p.replace(new RegExp(`${h}=([^&]+)`,"g"),`${h}=${Wr("$1")}`):p,c);const{payload:l}=md(i.value);ti.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:c,...l})}`,["RWG Url"])})),epics6:(t,i)=>t.pipe(Me(`${ls}`),ne(o=>{const{payload:a}=o;return a?a.retry:i.value.meeting.meetingStatus===wt.Initial}),Oi(t,i,()=>{const{meeting:{meetingStatus:o},socket:{rwgServerList:a,retryCount:c}}=i.value;if(o!==wt.Joined){const{payload:l}=md(i.value),p=a?.length>0?a[c]:void 0;ti.report(JSON.stringify({...l,rwc:p?.rwc,rwg:p?.rwg}),["UNAVAILABLE_RWG"])}})),epics7:(t,i)=>Eh(t,i,1,o=>{const{payload:{body:a}}=o;ti.report(`join meeting failed, version blocked. Current version:${i.value.meeting.cv},upgrade version:${a?.upgradeVersion}`,"JOIN_MEETING_FAILED","error")}),epics8:(t,i)=>Eh(t,i,2,()=>{ti.report(`join meeting with low version of SDK. Current version:${i.value.meeting.cv}.`,"Join Meeting Flow","warn")}),epics9:(t,i)=>t.pipe(Me(`${vi}`,`${ul}`),st(()=>Mt(Pn,1).pipe(Te(o=>{try{const{payload:a}=md(i.value);ti.report(`Connection change with join meeting failed. payload:${JSON.stringify(o)}. meeting info:${JSON.stringify(a)}`,"JOIN_MEETING_FAILED","error")}catch{}}),ae(()=>Se))))},kL=qr(NL,{rmclEpics0:(t,i)=>t.pipe(Me(`${Vy}`),Oi(t,i,o=>{const{payload:{isRemoteControlEnabled:a,isEnableAutoDeleteRcApp:c}}=o;vu.log(`isRemoteControlEnabled:${a},auto delete:${c}`)})),rmclEpics1:(t,i)=>t.pipe(Me(`${Yi}`),ne(o=>!!o.payload),Oi(t,i,o=>{vu.log(`Launch Remote control app, scheme:${o.payload}`)})),rmclEpics2:(t,i)=>t.pipe(Me(`${_p}`),ne(o=>!!o.payload),Oi(t,i,o=>{vu.log(`Remote control session starts, controlling ssrc:${o.payload}`)})),rmclEpics3:(t,i)=>Eh(t,i,16430,()=>{vu.log("Remote control app connected to rwg.")}),rmclEpics4:(t,i)=>Eh(t,i,16428,()=>{vu.log("Remote control app disconnected to rwg.")}),rmclEpics5:(t,i)=>Eh(t,i,16428,o=>{const{share:{status:a,isRemoteControlEnabled:c}}=i.value;c&&a!==_t.End&&o.payload.body.bOn&&vu.log(`Remote control sharing device info.${JSON.stringify(Hw.getShareStreamInfo())}`)}),rmclEpics6:(t,i)=>va(t,i,he.CurrentDesktopSharingWidthHeight,()=>{const{share:{isRemoteControlEnabled:o}}=i.value;o&&vu.log(`Remote control sharing device info changes.${JSON.stringify(Hw.getShareStreamInfo())}`)}),rmclEpics7:(t,i)=>va(t,i,he.SendRemoteControlQrCode,o=>{const{share:{status:a}}=i.value,{payload:{data:c}}=o;vu.log(`Remote control QR code result. sharing status:${a}, result${JSON.stringify(c)}`)})},{mlEpics0:(t,i)=>Qe(t,[EL,rM,CL,oM,iM,sM]).pipe(Oi(t,i,o=>{const{payload:{type:a,data:c}}=o,{meeting:{userId:l}}=i.value,p=function(h,g){const v=bV[`${h}`];if(v){const{name:S,isException:b}=v,E=[S,`${S} Init Flow`];b&&E.push(`${S} exception flow`);let I="";return[vd,tM].includes(g)&&(I=`${I} decode`.trim()),[Bw,sb].includes(g)&&(I=`${I} encode`.trim()),[Bw,vd].includes(g)&&(I=`${I} success`.trim()),[tM,sb].includes(g)&&(I=`${I} failed`.trim()),{message:`init ${S.toLowerCase()} ${I}`,tags:E,isException:b}}return null}(a,c);if(p){const{message:h,tags:g,isException:v}=p;v?Mi.report(`${h}. userId:${l}`,g):Mi.makeLogger(g).info(h)}})),mlEpics1:(t,i)=>va(t,i,Gw.map(o=>o.event),o=>{const{payload:{type:a}}=o,c=Gw.find(l=>l.event===a);if(c){const{message:l,logType:p,additionalTags:h,tag:g}=c;let v=l;"function"==typeof l&&(v=l(i.value)),v&&Mi.makeLogger([g])[p](v,h)}}),mlEpics2:(t,i)=>t.pipe(Me(`${Pl}`),ne(o=>!o.payload),Oi(t,i,()=>{Mi.makeLogger(["Audio"]).warn(`Auto play audio failed,${Mm(i.value)}`)})),mlEpics3:(t,i)=>va(t,i,aM,()=>{Mi.report("Audio bridge, recover audio failed, need to rejoin the audio",["Audio exception flow"])}),mlEpics4:(t,i)=>va(t,i,[uM,IL],o=>{const{payload:{type:a}}=o;Mi.makeLogger(["Audio"]).log("Audio bridge connection: "+(a===uM?"first receive data":"can send data"))}),mlEpics5:(t,i)=>va(t,i,ub,o=>{Mi.report(`Audio bridge, notify ui failover, subreason:${o.payload.data}`,["Audio exception flow"])}),mlEpics6:(t,i)=>va(t,i,[wL,cM,_L,RL,Ch],o=>{const{payload:{type:a}}=o;let c=`Audio error case:${a}`;a===wL?c="Audio capture is forbidden by the user":a===_L?i.value.audio.webrtcRestartCount<3&&(c="audio capture zero data, auto failover"):a===RL?c="audio change speaker error":a===Ch&&(c="audio stream ended or muted, stop capture audio"),Mi.report(`${c},${Mm(i.value)}`,["Audio exception flow"])}),mlEpics7:(t,i)=>va(t,i,[DL,AL,EV,CV,dM],o=>{const{payload:{type:a,data:c}}=o;let l=`Video error case:${a}`;if(a===DL)l="Video capture is forbidden by the user"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(a===AL)l="Camera is taken by other programs"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(a===ab){var p;l=`VB setting error, param:${JSON.stringify(null!==(p=i.value.video.virtualBackground)&&void 0!==p?p:{})}`}else if(a===wV){var h;l=`Mask setting error, param:${JSON.stringify(null!==(h=i.value.video.mask)&&void 0!==h?h:{})}`}else a===dM&&(l=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Re.browser}`);Mi.report(`${l},${Uw(i.value)}`,["Video exception flow"])}),mlEpics8:(t,i)=>va(t,i,[IV,TL],o=>{const{payload:{type:a}}=o;let c="";a===TL?Re.isMacOS&&(c="Need to allow screen recording access in system setting on MacOS"):c="Need to allow the permission request",Mi.report(`${c}`,["Sharing exception flow"])}),mlEpics9:(t,i)=>va(t,i,lM,o=>{const{payload:{data:a}}=o,{video:{renderedVideoList:c}}=i.value;if(null!=a&&a.canvasId){const l=c.filter(p=>p.canvasId===a.canvasId);Mi.report(`WebGl Context lost, canvas ID:${a.canvasId}, affected video node Ids:${l.map(p=>p.userId).join(",")}`,["Video exception flow"])}}),mlEpics10:(t,i)=>pn(document,"visibilitychange").pipe(Oi(t,i,()=>{Mi.makeLogger(["Video"]).log(`Page visibility ${document.visibilityState} `),setTimeout(()=>{const o="visible"!==document.visibilityState,{video:{subscribedVideoList:a},meeting:{userId:c}}=i.value,l=a.filter(p=>p!==c).length>0;o&&l&&(Ot.createAgent().sendRWGConnectionPerformance("VCSV"),Mi.makeLogger(["Video"]).warn("Still subscribing videos after switching to background"))},1e3)}))}),pM=Ot.createAgent(),hM={cmrStatus:Sr.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:op.Stop,supportLocalRecording:ko.None,localGrantPermissionOption:FN.None,localPermissionUserList:[]},LL=mr({[`${D1}`]:B((t,i)=>{let{payload:o}=i;t.cmrStatus=o}),[`${A1}`]:B((t,i)=>{let{payload:o}=i;t.recordingEnable=o}),[`${RT}`]:B((t,i)=>{let{payload:o}=i;t.recordingIsoEnable=o}),[`${OT}`]:B((t,i)=>{let{payload:o}=i;t.allowStopAutoRecording=o}),[`${T1}`]:B((t,i)=>{let{payload:o}=i;t.automaticCloudRecordingEnable=o}),[`${DC}`]:B((t,i)=>{let{payload:o}=i;t.isZoomIQ=o}),[`${MT}`]:B((t,i)=>{let{payload:o}=i;t.zoomIQChanging=o}),[`${AC}`]:B((t,i)=>{let{payload:o}=i;t.localStatus=o}),[`${TC}`]:B((t,i)=>{let{payload:o}=i;t.supportLocalRecording=o}),[`${PT}`]:B((t,i)=>{let{payload:o}=i;t.localGrantPermissionOption=o}),[`${lc}`]:B((t,i)=>{let{payload:o}=i;t.localPermissionUserList=o}),[`${Pp}`]:()=>({...hM})},hM);var fM,gM,mM,vM,yM,SM,bM,EM,Dn;const ks=Ot.createAgent(),Nm=_o("Recording");let CM=(fM=we("recording"),gM=we("recording"),mM=we("recording"),vM=we("recording"),yM=we("recording"),SM=we("recording"),bM=we("recording"),EM=we("recording"),le((Dn=class extends ss{startRecording(){const t=this[_e](),{meeting:{bIbDisableRecording:i,recordingEnable:o},recording:{cmrStatus:a}}=t;return i?Promise.reject({type:ie,reason:"Rejected by Information Barrier"}):o?a===Sr.Start?Promise.resolve(""):(ks.recordMeeting(!0,!1),ze(fl,c=>c.cmrServerStatus===Sr.Start)):Promise.reject({type:ie,reason:"The account of the meeting disabled the cloud recording"})}pauseRecording(){const t=this[_e](),{recording:{cmrStatus:i,allowStopAutoRecording:o}}=t;return i===Sr.Pause?Promise.resolve(""):i!==Sr.Start?Promise.reject({type:ie,reason:"Recording is not started"}):o?(ks.recordMeeting(!1,!0),ze(fl,a=>a.cmrServerStatus===Sr.Pause)):Promise.reject({type:ie,reason:"Cannot pause cloud recording due to web setting config"})}stopRecording(){const t=this[_e](),{recording:{cmrStatus:i,allowStopAutoRecording:o}}=t;return i===Sr.Stop?Promise.resolve(""):o?(ks.recordMeeting(!1,!1),ze(fl,a=>a.cmrServerStatus===Sr.Stop)):Promise.reject({type:ie,reason:"Cannot stop cloud recording due to web setting config"})}accept(){const t=this[_e](),{recording:{cmrStatus:i,recordingIsoEnable:o}}=t,a=Ve(t);return o?i!==Sr.Start&&i!==Sr.Pause?Promise.reject({type:ie,reason:"Recording is not started"}):null!=a&&a.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(ks.allowSelfRecord(!0),ze(ip,c=>c?.userId===a?.userId&&c?.status===yr.Accept)):Promise.reject({type:ie,reason:"ISO Recording is not enabled"})}decline(){const t=this[_e](),{recording:{cmrStatus:i,recordingIsoEnable:o}}=t,a=Ve(t);return o?i!==Sr.Start&&i!==Sr.Pause?Promise.reject({type:ie,reason:"Recording is not started"}):!0===a?.bAllowISORecord?Promise.reject({type:ie,reason:"You had accept ISO recording, cant change it"}):(ks.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:ie,reason:"ISO Recording is not enabled"})}getRecordingStatus(){const t=this[_e](),{recording:{cmrStatus:i}}=t,o=u1(t);return i===Sr.Start?yr.Recording:i===Sr.Pause?yr.Paused:o?yr.Recording:yr.Stopped}isRecordingEnabled(){const t=this[_e](),{recording:{recordingEnable:i}}=t;return i}isAllowedToStopAutoRecording(){const t=this[_e](),{recording:{allowStopAutoRecording:i}}=t;return i}isAutomaticCloudRecordingEnabled(){const t=this[_e](),{recording:{automaticCloudRecordingEnable:i}}=t;return i}enableRecordingWithIQ(t){const{[_e]:i,[_n]:o}=this,a=i(),{recording:{isZoomIQ:c,zoomIQChanging:l},meeting:{meetingOptions:p}}=i();return p.isEnableKiwiRecording?Co(a)?l?Promise.reject({type:ie,reason:"We are changing, please wait"}):t===c?Promise.reject({type:ie,reason:`You have ${t?"enable":"disable"} Zoom IQ, don't need change`}):(o(MT(!l)),o(DC(!c)),ks.enableZoomIQRecord(t),ze(u0,h=>h?.success)):Promise.reject({type:ie,reason:"Only Host or co-host can enable/disable Zoom IQ"}):Promise.reject({type:ie,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry"})}isSupportLocalRecording(){const t=this[_e](),{meeting:{meetingOptions:i,isWebinar:o},breakoutRoom:a}=t;if(a?.currentRoom.status===je.InRoom)return!1;const c=Ve(t);return(!o||!Pr(c.userRole))&&i?.isLocalRecordingEnabled}isSupportLocalRecordingPermission(){const t=this[_e](),{recording:{supportLocalRecording:i}}=t;if(!this.isSupportLocalRecording())return!1;const o=Ve(t);return!(null==o||!o.isHost)||i===ko.Allow}askLocalRecordingPermission(){const{[_e]:t}=this,{recording:{supportLocalRecording:i}}=t();return this.isSupportLocalRecording()?i===ko.None?(ks.localRecordingRequestPermission(),Promise.resolve("")):i===ko.Allow?Promise.resolve(""):Promise.reject("permission is denied"):Promise.reject("not support")}startLocalRecording(t){const{[_e]:i,[_n]:o}=this,a=i(),{recording:{localStatus:c,supportLocalRecording:l},meeting:{userId:p}}=a;if(!(t in op))return Promise.reject({type:ie,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause)."});if(!this.isSupportLocalRecording())return Promise.reject({type:ie,reason:"not support local recording"});if(t===c)return Promise.resolve(`you currently status is ${c}, do nothing`);const h=Ve(a);return l===ko.Allow||null!=h&&h.isHost?(ks.localRecordingMeeting(t),ze(sp,g=>g?.userId===p&&(o(AC(g.bLocalRecord)),g.bLocalRecord===t),1e3)):Promise.reject({type:ie,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first"})}isSupportLocalRecordingGrantPermission(){const t=this[_e]();if(!this.isSupportLocalRecording())return!1;const i=Ve(t);return!(null==i||!i.isHost||!Wl(i.caps))}grantLocalRecordingPermission(t,i,o){const{[_e]:a,[_n]:c}=this,l=a(),{recording:{localPermissionUserList:p}}=l;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const h=Ve(l);if(!Wl(h.caps))return Promise.reject({type:ie,reason:"you can not grant permission"});let g=!1;if(o&&(g=!0),p.filter(v=>v===t).length>0){if(i===ko.Allow)ks.localRecordingGrantPermission(t,!0,g);else{if(i!==ko.Deny)return Promise.reject({type:ie,reason:"only support DENY(1)/ALLOW(2)"});ks.localRecordingGrantPermission(t,!1,g)}return c(lc(p.filter(v=>v!==t))),F(Si,{type:"answer",value:i===ko.Allow}),Promise.resolve(!1)}return i!==ko.Deny?Promise.reject({type:ie,reason:"Direct grant only support DENY(1)"}):(ks.hostGrantPermission(t,!1),ze(Si,v=>v?.value===t&&(i===ko.Allow?(c(lc([...p,t])),!0===v?.canRecord):(c(lc(p.filter(S=>S!==t))),!1===v?.canRecord)),1e3))}getLocalRecordingPermissionUserList(){const t=this[_e](),{recording:{localPermissionUserList:i}}=t;if(!this.isSupportLocalRecording())return[];const o=Ve(t);return Wl(o.caps)?i:Promise.reject({type:ie,reason:"you can not grant permission"})}getLocalRecordingPermissionOperation(){const t=this[_e](),{recording:{localGrantPermissionOption:i}}=t;if(!this.isSupportLocalRecording())return null;const o=Ve(t);return Wl(o.caps)?i:null}}).prototype,"startRecording",[Hn,de,fM,Nm],Object.getOwnPropertyDescriptor(Dn.prototype,"startRecording"),Dn.prototype),le(Dn.prototype,"pauseRecording",[Hn,de,gM,Nm],Object.getOwnPropertyDescriptor(Dn.prototype,"pauseRecording"),Dn.prototype),le(Dn.prototype,"stopRecording",[Hn,de,mM,Nm],Object.getOwnPropertyDescriptor(Dn.prototype,"stopRecording"),Dn.prototype),le(Dn.prototype,"accept",[de,vM,Nm],Object.getOwnPropertyDescriptor(Dn.prototype,"accept"),Dn.prototype),le(Dn.prototype,"decline",[de,yM,Nm],Object.getOwnPropertyDescriptor(Dn.prototype,"decline"),Dn.prototype),le(Dn.prototype,"askLocalRecordingPermission",[de,SM],Object.getOwnPropertyDescriptor(Dn.prototype,"askLocalRecordingPermission"),Dn.prototype),le(Dn.prototype,"startLocalRecording",[de,bM],Object.getOwnPropertyDescriptor(Dn.prototype,"startLocalRecording"),Dn.prototype),le(Dn.prototype,"grantLocalRecordingPermission",[de,hr,EM],Object.getOwnPropertyDescriptor(Dn.prototype,"grantLocalRecordingPermission"),Dn.prototype),Dn);const xL=qr({moduleEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{recordingEnable:o}}=i;return A1(o)})),moduleEpics1:(t,i)=>Ce(t,yi).pipe(ne(o=>{var a,c,l;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.cmrServerStatus)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.disAllowClientStopAutoCmr)||void 0!==(null===(l=o.payload.body)||void 0===l?void 0:l.enableAutomicRecordingCloud)}),Pe(i),ae(o=>{let[a,c]=o;const{cmrServerStatus:l,disAllowClientStopAutoCmr:p,enableAutomicRecordingCloud:h}=a.payload.body,g=[];return void 0!==l&&(l!==Sr.Init&&(F(fl,{cmrServerStatus:l}),c.recording.recordingIsoEnable&&l===Sr.Start&&F(ip,{status:yr.Ask})),g.push(D1(l))),void 0!==p&&g.push(OT(!p)),void 0!==h&&g.push(T1(h)),ve(g)})),moduleEpics2:t=>Ce(t,yi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.bCmrIsoEnble)}),ye(i=>{const{bCmrIsoEnble:o}=i.payload.body;return RT(o)})),moduleEpics3:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[a]=o;const{payload:{body:{update:c,add:l}}}=a;return c?.some(p=>void 0!==p.bLocalRecordStatus||void 0!==p.canRecord)||l?.some(p=>void 0!==p.bLocalRecordStatus||void 0!==p.canRecord)}),ae(o=>{let[a,c]=o;const{payload:{body:{update:l,add:p}}}=a,{meeting:{userId:h,isHost:g},recording:{supportLocalRecording:v},participants:{attendeesList:S}}=c,b=[];return l?.concat(p||[]).filter(E=>void 0!==E.bLocalRecordStatus||void 0!==E.canRecord).forEach(E=>{if(void 0!==E.canRecord){const I=!!E.canRecord;if(h===E.id||g){const _=S.find(w=>w.userId===h);!I&&null!=_&&_.bLocalRecord&&(F(Si,{type:"revoke",value:E.id,canRecord:I}),pM.localRecordingMeeting(op.Stop)),!I||null!=_&&_.bLocalRecord||F(Si,{type:"grant",value:E.id,canRecord:I})}h===E.id&&((v!==ko.None||I)&&b.push(TC(I?ko.Allow:ko.Deny)),I||b.push(AC(op.Stop)))}else F(sp,{userId:E.id,bLocalRecord:E.bLocalRecordStatus})}),ve(b)})),moduleEpics4:(t,i)=>Ce(t,yn).pipe(ye(o=>fa(o.payload.body)),Pe(i),ae(o=>{let[a,c]=o;const l=[],{recording:{localPermissionUserList:p}}=c;return a.remove&&a.remove.forEach(h=>{p.filter(g=>g===h?.userId)&&(l.push(lc(p.filter(g=>g!==h?.userId))),F(Si,{type:"remove",value:h?.userId}))}),ve(l)})),moduleEpics5:t=>Ce(t,yn).pipe(ne(i=>{const{payload:{body:{update:o}}}=i;return o?.some(a=>void 0!==a.bAllowISORecord)}),Te(i=>{const{payload:{body:{update:o}}}=i;o.filter(a=>void 0!==a.bAllowISORecord).forEach(a=>{F(ip,{userId:a.id,status:a.bAllowISORecord?yr.Accept:yr.Decline})})}),We(Se)),moduleEpics6:t=>Ce(t,yi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.SalesRecordingAnalytics)}),ye(i=>{const{SalesRecordingAnalytics:o}=i.payload.body;return F(eA,{isZoomIQ:o}),DC(o)})),moduleEpics7:(t,i)=>Ce(t,4319).pipe(Pe(i),ne(o=>{var a;let[c]=o;return void 0!==(null===(a=c.payload.body)||void 0===a?void 0:a.success)}),ae(o=>{let[a,c]=o;const l=[],{success:p}=a.payload.body,{recording:{zoomIQChanging:h}}=c;return F(u0,{success:p}),p&&l.push(MT(!h)),ve(l)})),moduleEpics8:(t,i)=>Ce(t,4344).pipe(Pe(i),ne(o=>{var a;let[c]=o;return void 0!==(null===(a=c.payload.body)||void 0===a?void 0:a.cmdType)}),ae(o=>{var a;let[c,l]=o;const p=[],{cmdType:h}=c.payload.body,{recording:{localPermissionUserList:g},meeting:{isHost:v}}=l;var S,b,E,I;return"permission_req_option"===h&&(F(Si,{type:"option",value:null===(S=c.payload.body)||void 0===S?void 0:S.option}),p.push(PT(null===(b=c.payload.body)||void 0===b?void 0:b.option))),"request_permission"===h&&null!==(a=c.payload.body)&&void 0!==a&&a.userId&&(v&&F(Si,{type:"request",value:null===(I=c.payload.body)||void 0===I?void 0:I.userId}),p.push(lc([...g,null===(E=c.payload.body)||void 0===E?void 0:E.userId]))),"permission_request_answer"===h&&(F(Si,{type:"answer",value:c.payload.body.agreed}),p.push(TC(c.payload.body.agreed?ko.Allow:ko.Deny))),ve(p)}))});let cb=function(t){return t[t.All=1]="All",t[t.Private=2]="Private",t}({}),qw=function(t){return t.SUCCESS="success",t}({}),lb=function(t){return t.CustomizedKey="__zoom_internal_message_customized_key__@@",t.SpeakerOnly="__zoom_internal_message_speaker_only__@@",t}({});const Kw=Qp.getInstance(),Qw=(t,i,o)=>{const{meeting:{encType:a}}=o,c=i,l=KE(t),p=c?cb.Private:cb.All;return a===Vv.AES_GCM?No.beginEncrypt({text:l,type:Jr.XMPP_CHAT}).then(h=>{Kw.sendWebinarMseeage(h,c,p,!0)}):Kw.sendWebinarMseeage(l,c,p,!1)};function IM(t,i){const{cmd:{jids:o}}=i;return Object.prototype.hasOwnProperty.call(o,t)?Promise.resolve():ar(Mt(Va).pipe(ED(a=>-1===a.findIndex(c=>Number(c.userId)===t)),Ct(1),Ht(Ui)))}function Jw(t){const{cmd:{connectionStatus:i}}=t;return i===qw.SUCCESS?Promise.resolve(!0):ar(Mt(vs,1)).then(o=>o===Gi.Connected||Promise.reject({type:ie,reason:"Cannot establish the command channel"}))}function Ih(t,i){for(const[o,a]of Object.entries(t))if(a.jid===i)return o}const db={connectionStatus:"initial",jids:{}},Zw=mr({[`${Np}`]:()=>({...db}),[`${uS}`]:B((t,i)=>{let{payload:o}=i;const{data:a,attendees:c}=o;a.forEach(l=>{const{jid:p,node:h}=l;if(!t.jids[h]||t.jids[h].jid!==p){const g=c.find(v=>v.userId===Number(h));t.jids[h]={jid:p,userGuid:g?.userGUID}}})}),[`${Cg}`]:B((t,i)=>{let{payload:o}=i;o.forEach(a=>{const{jid:c}=a,l=Ih(t.jids,c);l&&delete t.jids[l]})}),[`${RC}`]:B((t,i)=>{let{payload:o}=i;t.connectionStatus=o})},db);var km;let Yw=(le((km=class extends ss{send(t,i){if(!t)return Promise.reject({type:Je,reason:"Text is empty"});if("string"!=typeof t)return Promise.reject({type:Je,reason:"Text is not a string"});if(t.length>512)return Promise.reject({type:Je,reason:"Text exceeds the max length(512)."});const{[_e]:o}=this,a=o(),{socket:{xmppSocketStatus:c},meeting:{userId:l}}=a;return c!==Wt.Connected?Promise.reject({type:_l,reason:"Command channel is not ready"}):Jw(a).then(()=>i?-1!==Yt(o()).findIndex(p=>p.userId===i)?IM(i,a).then(()=>{const{cmd:{jids:p}}=o();return p[i]?(Qw(t,p[i].jid,o()),{timestamp:(new Date).getTime(),text:t,receiverId:i,senderId:l}):Promise.reject({type:bs})}):Promise.reject({type:Je,reason:"Cannot find the user"}):(Qw(t,"",a),{timestamp:(new Date).getTime(),text:t,receiverId:0,senderId:l}))}getJids(){const{[_e]:t}=this,i=t(),{cmd:{jids:o}}=i;return o}}).prototype,"send",[de],Object.getOwnPropertyDescriptor(km.prototype,"send"),km.prototype),km);const pb={extraEpics0:(t,i)=>t.pipe(Me(`${Zf}`),st(o=>{const{payload:{speakerOnly:a}}=o,c=Ve(i.value);return(void 0!==c?.audio?ve([c.audio]):Mt(Br).pipe(ne(l=>void 0!==l.audio),Ct(1))).pipe(Te(()=>{Jw(i.value).then(()=>{Qw(`${lb.SpeakerOnly}${a?1:0}`,"",i.value)})}),We(Se))})),extraEpics1:(t,i)=>Ce(t,yn).pipe(ne(o=>{var a,c;const{payload:{body:l}}=o;return!!l.add&&!(null===(a=i.value.audio)||void 0===a||null===(c=a.customizeAudioOption)||void 0===c||!c.speakerOnly)}),Ht(Ui),Te(function(){var o=Oe(function*(a){const{payload:{body:{add:c}}}=a,l=i.value,{meeting:{userId:p}}=l;for(let h=0;h<c.length;h++){const{id:g}=c[h];if(g!==p){yield IM(g,i.value);const{cmd:{jids:v},participants:{attendeesList:S}}=i.value;v[g]&&setTimeout(()=>{Qw(`${lb.SpeakerOnly}1`,v[g].jid,i.value)},Math.floor(Math.random()*Math.log10(S.length)*1e3))}}});return function(a){return o.apply(this,arguments)}}()),We(Se))},Xw=qr({epics0:(t,i)=>co(t,24577).pipe(Pe(i),ye(o=>{let[a]=o;const{payload:{body:{status:c}}}=a;return c===qw.SUCCESS&&F(vs,Gi.Connected),RC(c)})),epics1:(t,i)=>co(t,24583).pipe(Pe(i),ae(o=>{let[a,c]=o;const{meeting:{userId:l,encType:p},cmd:{jids:h}}=c,{payload:{body:{senderName:g,senderJid:v,text:S,type:b,receiver:E,msgid:I,sn:_}}}=a,w=Ih(h,E),A=p===Vv.AES_GCM,T=Ih(h,v),M=(new Date).getTime();let P=Promise.resolve({message:S});return A&&(P=No.beginDecrypt({decryptedText:S,type:Jr.XMPP_CHAT,zoomId:_})),P.then(N=>{let{message:H}=N;if(b===cb.Private&&Number(w)===l||b===cb.All){const x=gi(H);if(null!=x&&x.startsWith(lb.SpeakerOnly)){const J=x.substring(lb.SpeakerOnly.length),Y=1===Number(J);return vp({userId:Number(T),key:"isSpeakerOnly",value:Y})}{var V;const J=T&&(null===(V=h[T])||void 0===V?void 0:V.userGuid);F(bo,{senderId:T,senderName:g,senderGuid:J,text:x,timestamp:M,msgid:I})}}return""})}),ne(o=>"object"==typeof o&&null!==o&&void 0!==o.type),Te(o=>{const{payload:{userId:a,key:c,value:l}}=o;F(yo,[{userId:a,[`${c}`]:l}])})),epics2:(t,i)=>co(t,24595).pipe(ae(o=>{const{payload:{body:{action:a,data:c}}}=o,l=[];if([Ti.List,Ti.Add,Ti.update].includes(a)&&c){const{breakoutRoom:p,participants:{attendeesList:h}}=i.value,g=p?.currentRoom.status===je.InRoom?h.concat(p.mainSessionAttendeeList):h;l.push(uS({data:c,attendees:g}))}return a===Ti.Remove&&c&&l.push(Cg(c)),ve(l)}))},pb),hb=(t,i,o,a)=>{const{getState:c,dispatch:l}=o,p=c(),{participants:{attendeesList:h},audio:{localShareAudioUserMutedList:g},share:{isReceiveSharingFromMainSession:v},breakoutRoom:S}=p,b=(v?S?.mainSessionAttendeeList:h).find(E=>E.userId==t);if(b){if(b.bShareAudioOn){const E=g.find(I=>I.userId===t);return E&&E.muted===!i&&l(om(a,t,i,p)),Promise.resolve("")}return Promise.reject({type:ie,reason:`Cannot ${i?"mute":"unmute"} share audio when the user's share audio is not enable.`})}return Promise.reject({type:Je,reason:"Cannot find the user"})},fb=(t,i)=>{const{store:{getState:o},rwgAgent:a}=t,{share:{sharePrivilege:c}}=o();return c===i?Promise.resolve(""):Object.values(Ei).includes(i)?(a.lockSharing(i),SS("lockShare",i)):Promise.reject({type:Je})},gb=En([Yt],t=>t.filter(i=>i.bVideoOn)),mb=En([gb],t=>t.filter(i=>!(262144&~i.caps))),_M=(t,i)=>{const o=t.store.getState(),a=aa(o).find(c=>c.userId===i);if(a){const{caps:c}=a;return!(512&~c)}return!1};var FL,e_,t_,yu,Lm,xm,DM,AM,vb,TM,RM,n_,OM,VL,MM,r_,PM,UL,o_,NM,kM,i_,LM,xM,ya,FM,jL,BL,VM,yb,s_,Su,a_,UM,u_,c_,jM,Sb,$L,BM,l_,HL,GL,zL,WL,d_,Fm,$M,HM,qL,KL,QL,JL,ZL,p_,Vm,GM,zM,h_,xc,f_,bb,Eb,WM,Cb,Ib,Um,YL,XL,ex,g_,qM,KM,QM,JM,m_,v_,y_,ZM,YM,S_,q;const Pi=_o("Audio"),Gn=_o("Video"),wr=_o("Sharing"),wh=_o("CameraControl"),bu=_o("Remote Control"),XM=Tm(HTMLCanvasElement,0),_V=Tm([HTMLCanvasElement,HTMLVideoElement],0),eP=Tm(HTMLCanvasElement,0,["id"]),tP=Tm([HTMLCanvasElement,HTMLVideoElement],0,["id"]);let DV=(FL=we("audio"),e_=we("audio"),t_=we("audio"),yu=we("audio"),Lm=we("audio"),xm=_o("Audio",[1,2,3]),DM=we("audio"),AM=_o("Audio",[1,2]),vb=we("audio"),TM=we("audio"),RM=we("audio"),n_=we("audio"),OM=we("share"),VL=we("audio"),MM=we("share"),r_=we("audio"),PM=we("audio"),UL=we("audio"),o_=we("audio"),NM=we("audio"),kM=we("audio"),i_=_o("Audio",[1,2]),LM=we("audio"),xM=_o("Audio",[1,2]),ya=we("audio"),FM=we("audio"),jL=we("video"),BL=we("video"),VM=we("video"),yb=we("video"),s_=we("video"),Su=we("video"),a_=we("video"),UM=we("video"),u_=we("video"),c_=we("video"),jM=we("video"),Sb=we("video"),$L=we("video"),BM=we("video"),l_=we("video"),HL=we("video"),GL=we("video"),zL=we("video"),WL=we("video"),d_=we("video"),Fm=we("video"),$M=we("video"),HM=we("video"),qL=we("video"),KL=we("video"),QL=we("video"),JL=we("video"),ZL=we("video"),p_=we("video"),Vm=we("share"),GM=we("share"),zM=we("share"),h_=we("share"),xc=we("share"),f_=we("share"),bb=we("share"),Eb=we("share"),WM=UO("isShareOptionLocked"),Cb=UO("isShareOptionLocked"),Ib=we("share"),Um=we("share"),YL=we("share"),XL=we("share"),ex=we("share"),g_=we("share"),qM=we("share"),KM=we("share"),QM=we("share"),JM=we("share"),m_=we("share"),v_=we("share"),y_=we("share"),ZM=we("share"),YM=we("share"),S_=we("share"),q=class extends ss{constructor(t){super(t),this[ce]=void 0,this[fn].dispatch(UE()),this[ce]={store:t,mediaAgent:Rg(wo(Ye.getInstance())),rwgAgent:Ot.createAgent()}}startAudio(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),g=Ve(h);if(g?.audio===xt.Computer)return Promise.resolve("");if(g?.audio===xt.Phone)return Promise.reject({type:ie,reason:"joined by phone"});{const{audio:{isAllowToTalk:v,isComputerAudioLoading:S,canPlayAudio:b,customizeAudioOption:{speakerOnly:E}},media:{audioDecodeStatus:I,audioEncodeStatus:_}}=h;if(S)return Promise.reject({type:ie,reason:"Computer audio has been loading, please wait."});const w=function(M){const P=M?{...M}:void 0;if(xR(vr())||!0!==P?.backgroundNoiseSuppression||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),Object.assign(P,{backgroundNoiseSuppression:void 0})),void 0!==P?.originalSound){P.backgroundNoiseSuppression&&P.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(P,{backgroundNoiseSuppression:!1}));const{originalSound:N}=P;"object"==typeof N&&N.stereo&&!BI()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(N,{stereo:!1}))}return FR()||!0!==P?.syncButtonsOnHeadset||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(P,{syncButtonsOnHeadset:void 0})),null!=P&&P.mediaFile&&!Ye.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(P,{mediaFile:void 0})),P}(o);c(Zf(w??{}));const{speakerOnly:A,autoStartAudioInSafari:T}=w||{};if(!!E!=!!A&&c(vp({userId:h.meeting.userId,key:"isSpeakerOnly",value:!!A})),!g)return Promise.reject({type:ie,reason:"Please call `startAudio` method after the `join` has been resolved"});{const M=Pr(g.userRole)&&!v||A,{encodeInitStatus:P,decodeInitStatus:N}=$I(h,g,A);if(dh()&&("success"!==N||"success"!==P))return Promise.reject({type:ie,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method"});c(Ep(!0)),Gr("audio",P,N).subscribe(H=>{let[V,x]=H;if(V&&x){let J=b||(dh()||Re.isIOSMobile)&&!T?Promise.resolve():function(){const Y=URL.createObjectURL(VN),z=new Audio(Y);z.muted=!1;const U=Ws(()=>Promise.reject(),3e3),O=Re.isIOSMobile?new Promise((L,$)=>{var j;z.addEventListener("canplaythrough",()=>{z.play().then(()=>{L(!0)}).catch(Q=>{$(Q)})}),null===(j=z.load)||void 0===j||j.call(z)}):z.play();return Promise.race([O,U]).finally(()=>{URL.revokeObjectURL(Y)})}();void 0===J&&(J=Promise.resolve()),J.then(()=>k1("audio",a())).then(()=>{const Y=a(),{audio:{isSharingAudio:z}}=Y;GS(l,Y,M),z&&!Ri()||id(p,Y,!M),Pr(g.userRole)&&v&&c(Nl(!0)),c(Pl(!0))}).catch(()=>{c(Pl(!1)),c(Ep(!1))})}else c(Ep(!1))})}return"failed"===_||"failed"===I?(c(Ep(!1)),Promise.reject({type:bs,reason:"audio encode or decode error"})):new Promise((M,P)=>{Ho(Mt(Cl.JoinComputerAudio.success,1),Kn(...Cl.JoinComputerAudio.fail.map(N=>Mt(N,1).pipe(ae(()=>Ee({type:Hr,reason:N}))))),On(45e3).pipe(ae(()=>Ee({type:F0})))).subscribe({next:()=>{c(Ep(!1)),M("")},error:N=>{Ye.getInstance().leaveComputerAudio();const H=Ve(a());H?.audio!==xt.Phone&&(c(nc(lr.MicrophoneError)),l.joinOrLeaveVoip(!1)),c(Ep(!1)),P(N)}})})}})(this[ce],t)}stopAudio(){return function(){var t=Oe(function*(i){const{store:{getState:o,dispatch:a},mediaAgent:c,rwgAgent:l}=i,p=o(),{audio:{isComputerAudioLoading:h,isShareAudioEnabled:g,isSharingAudio:v,isUsingMediaPlayback:S,customizeAudioOption:{speakerOnly:b}}}=p,E=Ve(p);if(h)return Promise.reject({type:ie,reason:"Computer audio has not finished joining, please wait."});if(g){if(v&&!Ri())return Promise.reject({type:ie,reason:"Cannot stop audio during sharing with audio"});a(kl(void 0)),a(Ka(void 0))}return E?.audio===xt.Computer?(a(nc(lr.Active)),yield c.leaveComputerAudio(),l.joinOrLeaveVoip(!1),b&&a(vp({userId:p.meeting.userId,key:"isSpeakerOnly",value:void 0})),S&&Xi.getInstance().stopAudioElement(),a(bp(0)),ze(ea)):Promise.resolve("")});return function(i){return t.apply(this,arguments)}}()(this[ce])}muteAudio(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),g=Ve(h);if(null==o||o===g?.userId)return""===g?.audio||null===g?.audio?Promise.reject({type:ie,reason:"no audio joined"}):!0===g?.muted?Promise.resolve(""):(c(Zi(bi.Active)),l.mute(g.userId,!0),p.muteAudio(),h.audio.isShareAudioEnabled&&!Ri()&&c(Ka(!0)),ze(C0).then(()=>""));if(Co(h)){const{participants:{allowTalkAttendeesList:v,attendeesList:S}}=h,b=v.concat(S).find(E=>E.userId===o);return b?""===b.audio||null===b?Promise.reject({type:ie,reason:"no audio joined"}):!1===b.muted?(l.mute(o,!0),ze(w0,E=>E.id===o&&1==E.muted)):Promise.resolve(""):Promise.reject({type:Je,reason:"no matching user"})}return Promise.reject({type:Hr})})(this[ce],t)}unmuteAudio(t){return(i=Oe(function*(o,a){const{store:{getState:c,dispatch:l},rwgAgent:p,mediaAgent:h}=o,g=c(),v=Ve(g);if(void 0===a||a===v?.userId){if(""===v?.audio||null===v?.audio)return Promise.reject({type:ie,reason:"no audio joined"});if(!1===v?.muted)return Promise.resolve("");if(g.audio.isShareAudioEnabled&&!Ri()){if(g.audio.isSharingAudio)return Promise.reject({type:ie,reason:"Cannot unmute audio during sharing with audio"});l(Ka(!1))}if(g.audio.bCanUnmute||null!=v&&v.isHost||null!=v&&v.bCoHost){if(Pr(v.userRole)){const{audio:{isAllowToTalk:S,isAllowToTalkAttendeeConnected:b}}=g;S?b||(yield h.leaveComputerAudio(),yield id(h,g,!0),l(Nl(!0))):Promise.reject({type:ie,reason:"Webinar attendee cannot unmute self audio."})}return l(tc(Sf.Active)),p.mute(v.userId,!1),h.unmuteAudio(),ze(I0).then(()=>"")}return Promise.reject({type:Hr,reason:"host not allow unmute themselves"})}if(Co(g)){const{participants:{allowTalkAttendeesList:S,attendeesList:b}}=g,E=S.concat(b).find(I=>I.userId===a);return E?""===E.audio||null===E?Promise.reject({type:ie,reason:"no audio joined"}):(!0===E.muted&&p.mute(a,!1),Promise.resolve("")):Promise.reject({type:Je,reason:"no matching user"})}return Promise.reject({type:Hr})}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}dialOut(t,i,o,a){return((c,l,p,h,g)=>{const{store:{getState:v,dispatch:S},rwgAgent:b}=c,E=v(),{meeting:{callOutCountry:I,isSupportCallOut:_}}=E;if(_&&Array.isArray(I)&&I.findIndex(w=>w.code===l)>-1){const{seq:w}=b.audioDialout(l+p,h,!(null==g||!g.callMe),!(null==g||!g.pressingOne),!(null==g||!g.greeting));return S(BA({sequence:w,phoneNumber:l+p})),ra(Cl.JoinAudioByCallMe)}return Promise.reject({type:Je,reason:"no matching country code"})})(this[ce],t,i,o,a)}cancelDialOut(t,i,o){return((a,c,l,p)=>{const{rwgAgent:h}=a;return h.audioCancelDialout(c+l,!(null==p||!p.callMe)),ra(Cl.cancelDialOut)})(this[ce],t,i,o)}hangup(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,a=i(),c=Ve(a);return c?.audio===xt.Phone&&null!==c.userId?(o.audioDrop(c.userId),ra(Cl.hangup)):Promise.reject({type:ie,reason:"not joined audio by phone"})})(this[ce])}switchMicrophone(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{audio:{microphoneDevicesList:h,activeMicrophone:g,mediaPlaybackFile:v,isUsingMediaPlayback:S}}=p,b=h.find(E=>E.deviceId===o);if("default"===o||"string"!=typeof o||b){const E=Ve(p);if(E?.audio===xt.Computer){let I=!1;if("string"==typeof o)o!==g&&(l.changeMicrophone(o,b?.label,!(null==E||!E.muted)),c(JA(void 0)),Xi.getInstance().stopAudioElement(),I=!0);else if(o&&(!S||v?.url!==o.url)){const _=Xi.getInstance();_.setAudioElement(o).then(()=>{l.changeMicrophone(_.audioElement,void 0,!(null==E||!E.muted)),c(JA(o))}),I=!0}if(I)return ra(Cl.JoinComputerAudio)}else"string"==typeof o&&c(Jf(o));return Promise.resolve("")}return Promise.reject({type:pA})})(this[ce],t)}switchSpeaker(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{audio:{speakerDevicesList:p,activeSpeaker:h}}=a();if("default"!==o&&-1==p.findIndex(v=>v.deviceId===o))return Promise.reject({type:pA});var g;if((null===(g=Ve(a()))||void 0===g?void 0:g.audio)===xt.Computer){if(o!==h)return l.changeSpeaker(o),ze(El,v=>v)}else c(Ry(o));return Promise.resolve("")})(this[ce],t)}muteShareAudio(t){return((i,o)=>{const{mediaAgent:a,rwgAgent:c,store:{getState:l,dispatch:p}}=i,h=l(),{meeting:{userId:g}}=h;if(o&&o!==g)return hb(o,!0,i.store,a);{const{audio:{isSharingAudio:S,isShareAudioEnabled:b,isShareAudioMuted:E}}=h;if(!b)return Promise.reject({type:ie,reason:"Cannot mute sharing audio when sharing audio is not enable"});if(E)return Promise.resolve("");{c.muteShareAudio(!0);let I=Promise.resolve();var v;return S&&(I=null===(v=a.leaveSharingAudio(!0))||void 0===v?void 0:v.then(()=>im(a,c,h).then(_=>{_.forEach(w=>p(w))}))),om(a,g,!0,h),Promise.all([ze({event:Br,operations:[ne(_=>void 0!==_.bShareAudioOn),Ct(1)]},_=>!1===_.bShareAudioOn),I]).then(()=>(p(My(!0)),S&&(p(Cp(!1)),F(Cr,{state:"off"})),""))}}})(this[ce],t)}unmuteShareAudio(t){return((i,o)=>{const{mediaAgent:a,rwgAgent:c,store:{getState:l,dispatch:p}}=i,h=l(),{meeting:{userId:g}}=h;if(o&&o!==g)return hb(o,!1,i.store,a);{const{audio:{isSharingAudio:v,isShareAudioEnabled:S,isShareAudioMuted:b},share:{status:E}}=h;if(!S)return Promise.reject({type:ie,reason:"Cannot unmute sharing audio when sharing audio is not enable"});if(!1===b)return Promise.resolve("");{c.muteShareAudio(!1);let I=Promise.resolve();return!1===v&&E===_t.Sharing&&(I=VI(a,c,h).then(_=>{_.forEach(w=>p(w))})),om(a,g,!1,h),Promise.all([ze({event:Br,operations:[ne(_=>void 0!==_.bShareAudioOn),Ct(1)]},_=>!0===_.bShareAudioOn),I]).then(()=>(p(My(!1)),!1===v&&E===_t.Sharing&&(p(Cp(!0)),F(Cr,{state:"on"})),""))}}})(this[ce],t)}subscribeAudioStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l}}=o,p=l(),h=Ve(p),g=!a||a.decode,v=!a||a.encode;if(!h)return Promise.reject({type:ie,reason:"Call this function after the 'join' method resolved."});{var S;const{encodeInitStatus:b,decodeInitStatus:E}=$I(p,h);(vr()?eu(p,!(null!==(S=p.audio.customizeAudioOption)&&void 0!==S&&S.speakerOnly)):Gr("audio",b,E)).subscribe(I=>{let[_,w]=I;_&&w&&(g&&c.subscribeToQos([Mr.AudioDecode],Ku),v&&c.subscribeToQos([Mr.AudioEncode],Ku))})}return""}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}unsubscribeAudioStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode;return(!a||a.decode)&&(c.unsubscribeFromQos([Mr.AudioDecode]),l(Py(d0))),h&&(c.unsubscribeFromQos([Mr.AudioEncode]),l(Ny(d0))),null}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}enableBackgroundNoiseSuppression(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{isBackgroundNoiseSuppression:p,originalSound:h}}=c();let g=o;return g===!!p||(g&&!xR(vr())?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),g=!1):(g&&h&&(console.warn("Enabling noise suppression will disable original sound."),l(Yf(!1))),l(QA(g)),a.changeAudioProfile(xI(c())))),Promise.resolve("")})(this[ce],t)}enableSyncButtonsOnHeadset(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{isHIDEnabled:h,microphoneDevicesList:g,activeMicrophone:v}}=p;if(o===!!h)return Promise.resolve("");{const b=Ve(p);var S;return b?(o&&!FR()?console.warn("Sync buttons on headset is not supported on the current platform"):(a.enableSyncButtonsOnHeadset(o,null===(S=g.find(E=>E.deviceId===v))||void 0===S?void 0:S.label,b.muted),l(p1(o))),Promise.resolve("")):Promise.reject({type:ie,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved"})}})(this[ce],t)}enableOriginalSound(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{isBackgroundNoiseSuppression:p,originalSound:h}}=c(),g=o;return g===h||"object"==typeof o&&Qd(o,h)||("object"!=typeof g||!0!==g?.stereo||BI()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),g.stereo=!1),p&&g&&(console.warn("Enabling original sound will disable background noise suppression."),l(QA(!1))),l(Yf(g)),a.changeAudioProfile(xI(c()))),Promise.resolve("")})(this[ce],t)}callCRCDevice(t,i){return((o,a,c)=>{const{rwgAgent:l,store:{dispatch:p,getState:h}}=o,{seq:g}=l.inviteCRCDevice(a,c);return p(YA({sequence:g,ip:a,protocol:c})),ra(Cl.crcCallOut).then(()=>{var v;const{audio:{crcDevice:S}}=h();return null===(v=S.find(b=>b.ip===a&&b.protocol===c&&b.sequence===g))||void 0===v?void 0:v.uuid})})(this[ce],t,i)}cancelCallCRCDevice(t,i){return((o,a,c)=>{const{rwgAgent:l,store:{getState:p}}=o,{audio:{crcDevice:h}}=p(),g=h.find(v=>v.ip===a&&v.protocol===c);return g&&g.returnCode===cp.Ringing?(l.cancelInviteCRCDevice(g.transId),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot cancel call out "})})(this[ce],t,i)}muteAllAudio(){return(t=>{const{rwgAgent:i}=t;return i.audioMuteAll(!0),SS("bMutedAll",!0)})(this[ce])}unmuteAllAudio(){return(t=>{const{rwgAgent:i}=t;return i.audioMuteAll(!1),SS("bMutedAll",!1)})(this[ce])}getMicList(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?[...o.audio.microphoneDevicesList]:[]})(this[ce])}getSpeakerList(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?[...o.audio.speakerDevicesList]:[]})(this[ce])}getAudioState(t){return((i,o)=>{let{store:{getState:a}}=i;const c=a(),{meeting:{isWebinar:l}}=c;let p=null;return null==o?p=Ve(c):(p=c.participants.attendeesList.find(h=>h.userId===o),l&&!p&&(p=c.participants.xmppAttendeeList.find(h=>h.userId===o))),p?p.audio:null})(this[ce],t)}isAudioMuted(t){return((i,o)=>{let{store:{getState:a}}=i;const c=a(),{meeting:{isWebinar:l}}=c;let p=null;return void 0===o?p=Ve(c):(p=c.participants.attendeesList.find(h=>h.userId===o),l&&!p&&(p=c.participants.xmppAttendeeList.find(h=>h.userId===o))),!!p&&!!p.muted})(this[ce],t)}getActiveMicrophone(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?o.audio.activeMicrophone:null})(this[ce])}getActiveSpeaker(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?o.audio.activeSpeaker:null})(this[ce])}isSupportCallOut(){return(t=>{let{store:{getState:i}}=t;const{meeting:{isSupportCallOut:o,callOutCountry:a}}=i();return o&&Array.isArray(a)&&a?.length>0})(this[ce])}getDialOutStatus(){return(t=>{let{store:{getState:i}}=t;const{audio:o}=i();return o?.dialout[o.dialout.length-1].returnCode})(this[ce])}getDialOutCountries(){return(t=>{let{store:{getState:i}}=t;const{meeting:{callOutCountry:o}}=i();return Array.isArray(o)?o:[]})(this[ce])}getShareAudioStatus(){return(t=>{let{store:{getState:i}}=t;const{audio:{isShareAudioEnabled:o,isShareAudioMuted:a,isSharingAudio:c}}=i();return{isShareAudioEnabled:o,isShareAudioMuted:a,isSharingAudio:c}})(this[ce])}isOthersShareAudioMutedLocally(t){return((i,o)=>{var a;let{store:{getState:c}}=i;const{audio:{localShareAudioUserMutedList:l}}=c();return null===(a=l.find(p=>p.userId===o))||void 0===a?void 0:a.muted})(this[ce],t)}getAudioStatisticData(){return(t=>{let{store:{getState:i}}=t;const{audio:{statistic:o}}=i();return{...o}})(this[ce])}getDialInInfo(){return(t=>{let{store:{getState:i}}=t;const{meeting:{meetingNumber:o,tollNumbers:a,participantID:c,h323Password:l}}=i();return void 0===a?null:{meetingId:o,participantId:c,password:l||"",tollNumbers:a.map(p=>({...p}))}})(this[ce])}isSupportMicrophoneAndShareAudioSimultaneously(){return Ri()}startVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{media:{videoDecodeStatus:h,videoEncodeStatus:g,enforceVirtualBackground:v},video:{isCaptureCameraLoading:S,isCurrentUserStartedVideo:b,isVideoMuted:E}}=p,I=o?{...o}:void 0;if(b)return Promise.reject({type:ie,reason:"Video is started"});if(S)return Promise.reject({type:ie,reason:"Camera is starting,please wait."});if(E&&!Co(p))return Promise.reject({type:ie,reason:"Video is muted by the host"});if(hu(v)&&!(I?.videoElement instanceof HTMLVideoElement)){console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please pass a video element instead of a canvas element in the "renderVideo" method');let _=document.body.querySelector(`#${nA}`);_||(_=document.createElement("video"),_.setAttribute("style",Re.isSafari||Re.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none"),_.muted=!0,_.playsInline=!0,_.autoplay=!0,_.id=nA,document.body.appendChild(_)),I&&Object.assign(I,{videoElement:_})}return!Og(v)&&null!=I&&I.virtualBackground?Promise.reject({type:Je,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled."}):(c(oc(!0)),Gr("video",g,h).subscribe(_=>{let[w]=_;if(w){const A=a(),{video:{activeCamera:T,isSupportHDVideo:M,virtualBackground:{imageSrc:P},mask:{imageSrc:N}}}=A,{cameraId:H=T,captureWidth:V=0,captureHeight:x=0,mirrored:J,hd:Y,fullHd:z,virtualBackground:U,mask:O}=I||{};J&&l.mirrorVideo(J),(Y||z)&&(console.log("HD support is currently limited, and comes with a number of restrictions and limitations. Please visit https://developers.zoom.us/docs/video-sdk/web/video/#720p-video for more details"),M&&Ye.isCompatibleHardwareForEncode()&&Ye.isSupportVideoEncodeHardwareAcceleration().then(Q=>{Q&&(l.enableHardwareAccelerationForVideoEncode(!0),c(tt({encode:Q})))}),M||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const L=U||void 0===U&&!!P&&void 0===O,$=O||void 0===O&&!!N;let j=Promise.resolve({});if(L){const Q=U||{imageUrl:void 0,cropped:void 0};j=Cm({...Q,captureWidth:V,captureHeight:x,cameraId:H,hd:Y},l,A).then(()=>Q)}else if($){const Q=O||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};Q.rootWidth||Object.assign(Q,{rootWidth:1280}),Q.rootHeight||Object.assign(Q,{rootHeight:720}),j=Im({...Q,captureWidth:V,captureHeight:x,cameraId:H,hd:Y},l,A).then(()=>Q)}null!=I&&I.mediaFile&&!Ye.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(I,{mediaFile:void 0})),j.then(Q=>k1("video",a()).then(()=>Q)).then(Q=>{CO(l,A,I).forEach(re=>{c(re)}),L?c(gt(Q)):$&&c(Ky(Q))}).catch(Q=>{c(oc(!1)),F(Sl,{reason:Q})})}else c(oc(!1))}),ra(Lo.startCaptureVideo).then(()=>{c(ic(!1)),c(og(!1))}).finally(()=>{c(oc(!1))}))})(this[ce],t)}stopVideo(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{isCaptureCameraLoading:a,isCurrentUserStartedVideo:c,isUsingMediaPlayback:l}}=i();return a?Promise.reject({type:ie,reason:"Camera is starting,please wait."}):c?(o.stopCaptureVideo(),l&&Xi.getInstance().stopVideoElement(),ze($a,p=>!0!==p?.failed)):Promise.reject({type:ie,reason:"camera is closed"})})(this[ce])}switchCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{cameraDevicesList:h,isCurrentUserStartedVideo:g,virtualBackground:v,mask:S,mediaPlaybackFile:b,isUsingMediaPlayback:E,customizedVideoOption:I}}=p;if("string"==typeof o&&!uw(o,h))return Promise.reject({type:Je,reason:"Cannot find cameraDeviceId in camera devices list."});if(g||null!=v&&v.isVBConfigured||S.isMaskConfigured){if("string"==typeof o){const{captureWidth:_,captureHeight:w}=aw(I);l.changeCamera(o,Ef.includes(o),{width:_,height:w}),c(Qy(void 0)),Xi.getInstance().stopVideoElement()}else if(o&&(!E||b?.url!==o.url)){const _=Xi.getInstance();_.setVideoElement(o).then(()=>{l.changeCamera(_.videoElement),c(Qy(o))})}return ra(Lo.switchCameraVideo).then(()=>{c(ic(!1)),c(og(!1))})}return Promise.resolve()})(this[ce],t)}renderVideo(t,i,o,a,c,l,p,h,g){return((v,S,b,E,I,_,w,A,T,M)=>{const{store:{getState:P,dispatch:N},mediaAgent:H,rwgAgent:V}=v,x=P(),{meeting:{userId:J},media:{enforceMultipleVideos:Y,enforceVirtualBackground:z,disableRenderLimits:U},video:{subscribedVideoList:O,renderedVideoList:L}}=x,$=ff(!!Y,U),j=hu(z)&&b===J;if(S instanceof HTMLCanvasElement&&!O.includes(b)&&O.length>=$&&new Set(L.map(te=>te.canvasId)).has(S.id))return Promise.reject({type:ie,reason:`subscribe video counts greater than maximum size (${$})`});if(-1===gb(x).findIndex(te=>te.userId===b))return Promise.reject({type:Je,reason:"user is not send video"});if(S.id||(S.id=Pa("__ZOOM_SDK_VIDEO_CANVAS_@__")),j){if(S instanceof HTMLVideoElement){S.playsInline=!0,S.muted=!0,S.autoplay=!0,Re.isIOSMobile&&(H.switchCanvasForVideoCapture(S),N(gC())),H.renderVideo(S,b,T||Ss,E,I,_,w,A,!0,M||"",!1),N(sc(b)),N(vT(S.id));const te=document.querySelector(`#${nA}`);return te&&te.remove(),Promise.resolve("")}return Promise.reject({type:Je,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser "})}const Q=!!M,{media:{videoDecodeStatus:re}}=x;return Gr("video","success",re).subscribe(function(){var te=Oe(function*(me){let[Ne,De]=me;if(De){const{video:{ensuredCanvas:Be,renderedVideoList:He}}=P();let ke=S;Be.includes(S.id)||(ke=Vp(S),N(pT(S.id)));const xe=b===J,[nt,Nt]=_O(b,A,P()),vt=T||Ss,ee=yield(Z=Oe(function*(W,ue){const{video:{prefetchedVideo:Ie}}=ue;return Ie?.userId!==W||Ie.loaded?"":ar(Ho(Mt(cA,1),On(1e3).pipe(fi(""))))}),function(W,ue){return Z.apply(this,arguments)})(b,P());He.some(Z=>Z.userId===b&&Z.key===vt&&Z.canvasId===ke.id)||H.renderVideo(ke,b,vt,E,I,_,w,Nt,xe,M||"",Q),b!==J&&V.subscribeVideo(b,Nt,!1),O.includes(b)||N(sc(b)),ee&&N(Rp(void 0)),N(Tp({userId:b,key:vt,canvasId:ke.id,videoQuality:nt,aspectRatio:I?E/I:0}))}var Z});return function(me){return te.apply(this,arguments)}}()),"failed"===re?Promise.reject({type:bs,reason:"Video  decode status is failed"}):Promise.resolve("")})(this[ce],t,i,o,a,c,l,p,h,g)}stopRenderVideo(t,i,o,a){return function(p,h,g,v,S){let b=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6?arguments[6]:void 0;const{store:{getState:I,dispatch:_},mediaAgent:w,rwgAgent:A}=p,T=I(),{video:{subscribedVideoList:M,renderedVideoList:P},meeting:{userId:N},media:{enforceVirtualBackground:H}}=T;if(M.includes(g)){const V=v||Ss;if(hu(H)&&g===N&&h instanceof HTMLVideoElement)return h.pause(),_(sg(g)),_(gC(h.id)),Promise.resolve("");if(P.find(x=>x.userId===g&&x.key===V&&x.canvasId===h.id)&&(w.stopRenderVideo(h.id,g,V,sw(S),b),1==P.filter(x=>x.userId===g).length&&(g!==N&&A.unsubscribeVideo(g),_(sg(g))),_(ug({userId:g,key:V,canvasId:h.id}))),E&&N!==E){const{video:{subscribedVideoList:x,prefetchedVideo:J}}=I();gb(T).find(Y=>Y.userId===E)&&!x.includes(E)&&J?.userId!==E&&_(Rp({userId:E,lastCopy:J}))}}return Promise.resolve("")}(this[ce],t,i,o,a,arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}updateVideoCanvasDimension(t,i,o){return((a,c,l,p)=>{const{mediaAgent:h}=a;return l>=0&&p>=0&&h.updateRenderedVideoCanvasDimension(c,l,p),Promise.resolve("")})(this[ce],t,i,o)}adjustRenderedVideoPosition(t,i,o,a,c,l,p){return((h,g,v,S,b,E,I,_)=>{const{store:{getState:w,dispatch:A},mediaAgent:T}=h,{video:{subscribedVideoList:M}}=w();if(M.includes(v)){if(g instanceof HTMLVideoElement)return Promise.resolve("");const P=_||Ss;T.adjustRenderedVideoPosition(g.id,v,P,E,I,S,b,sw("#000")),A(Tp({userId:v,key:P,canvasId:g.id,aspectRatio:b?S/b:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[ce],t,i,o,a,c,l,p)}clearVideoCanvas(t,i){return((o,a,c)=>{const{mediaAgent:l}=o;return l.clearVideoCanvas(a.id,sw(c)),Promise.resolve("")})(this[ce],t,i)}mirrorVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{media:{enforceVirtualBackground:p},video:{isCurrentUserStartedVideo:h,virtualBackground:g,selfPreviewVideoList:v,customizedVideoOption:S,videoAttachments:b,isMirrored:E},meeting:{userId:I}}=a();if(E===o)return Promise.resolve("");if(h||null!=g&&g.isVBConfigured){if(hu(p)){const _=[];v.length>0&&v.forEach(w=>{_.push(document.getElementById(w))}),null!=S&&S.videoElement&&_.push(document.querySelector(S?.videoElement)),b&&b[`${I}`]&&b[`${I}`].forEach(w=>{_.push(w.render.el)}),_.filter(w=>!!w).forEach(w=>{w&&cw(w,o)})}else l.mirrorVideo(o);c(Fo(o))}return Promise.resolve("")})(this[ce],t)}enableHardwareAcceleration(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{video:{isSupportHDVideo:p}}=a();if("boolean"==typeof o||void 0!==o.decode){const h="boolean"==typeof o?o:!!o.decode;return h?Ye.isSupportVideoDecodeHardwareAcceleration().then(g=>(g&&l.enableHardwareAccelerationForVideoDecode(g),c(tt({decode:g})),g)):(l.enableHardwareAccelerationForVideoDecode(h),c(tt({decode:h})),Promise.resolve(!0))}if("boolean"==typeof o||void 0!==o.encode)if(p){if(!("boolean"==typeof o?o:o.encode))return l.enableHardwareAccelerationForVideoEncode(!1),c(tt({encode:!1})),Promise.resolve(!0);if(Ye.isCompatibleHardwareForEncode())return Ye.isSupportVideoEncodeHardwareAcceleration().then(g=>(g&&l.enableHardwareAccelerationForVideoEncode(g),c(tt({encode:g})),g));console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation")}else"boolean"!=typeof o&&null!=o&&o.encode&&console.warn("Can not use the hardware acceleration for video encoding due to the account restriction");return Promise.resolve(!1)})(this[ce],t)}subscribeVideoStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l,dispatch:p}}=o,{media:{videoDecodeStatus:h,videoEncodeStatus:g},video:{subscriptionStatus:v}}=l(),S=!a||a.decode,b=!a||a.encode;return Gr("video",g,h).subscribe(E=>{let[I,_]=E;const w={};S&&_&&!v.decode&&(c.subscribeToQos([Mr.VideoDecode],Ku),Object.assign(w,{decode:!0})),b&&I&&!v.encode&&(c.subscribeToQos([Mr.VideoEncode],Ku),Object.assign(w,{encode:!0})),null!=a&&a.detailed&&_&&!v.detailed&&(c.enableVideoObserver(!0),Object.assign(w,{detailed:!0})),p(hC(w))}),null}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}unsubscribeVideoStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode,g={};return(!a||a.decode)&&(c.unsubscribeFromQos([Mr.VideoDecode]),l(Hy(Ys)),Object.assign(g,{decode:!1})),h&&(c.unsubscribeFromQos([Mr.VideoEncode]),l(lg(Ys)),Object.assign(g,{encode:!1})),null!=a&&a.detailed&&(c.enableVideoObserver(!1),Object.assign(g,{detailed:!1})),l(hC(g)),null}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}previewVirtualBackground(t,i,o,a){return((c,l,p,h,g)=>{const{store:{getState:v,dispatch:S},mediaAgent:b}=c,E=v();return Cm({imageUrl:p,cropped:h,cameraId:g},b,E,l).then(I=>("object"==typeof I&&null!=I&&I.type&&S(I),S(gt({imageUrl:p,cropped:h})),!0)).catch(I=>Promise.reject({type:ie,reason:I}))})(this[ce],t,i,o,a)}updateVirtualBackgroundImage(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},mediaAgent:h}=o,g=l(),{video:{virtualBackground:{imageSrc:v,cropped:S},backgroundMode:b}}=g;return a===v&&c===S?Promise.resolve(!0):b===Ki.Mask?Promise.reject({type:ie,reason:"Cannot update virtual background in the mask mode"}):Cm({imageUrl:a,cropped:c},h,g).then(E=>("object"==typeof E&&null!=E&&E.type&&p(E),p(gt({imageUrl:a,cropped:c})),!0)).catch(E=>Promise.reject({type:ie,reason:E}))})(this[ce],t,i)}stopPreviewVirtualBackground(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{virtualBackground:{isVBConfigured:a}}}=i();return a?(o.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:ie,reason:"Cannot stop preview virtual background before start"})})(this[ce])}previewVideoMask(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},mediaAgent:h}=o,g=l();return c.rootWidth&&c.rootHeight||Object.assign(c,{rootWidth:a.width,rootHeight:a.height}),Im(c,h,g,a).then(v=>("object"==typeof v&&null!=v&&v.type&&p(v),p(Ky(c)),!0)).catch(v=>Promise.reject({type:ie,reason:v}))})(this[ce],t,i)}updateVideoMask(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{mask:h,backgroundMode:g}}=p,{isMaskConfigured:v}=h;if(g===Ki.VirtualBackground)return Promise.reject({type:ie,reason:"Cannot update mask in the virtual background mode"});if(v){const S={...o};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach(b=>{void 0===o?.[b]&&Object.assign(S,"imageUrl"===b?{imageUrl:h.imageSrc}:{[`${b}`]:h[b]})}),Im(S,l,p).then(b=>("object"==typeof b&&null!=b&&b.type&&c(b),c(Ky(S)),!0)).catch(b=>Promise.reject({type:ie,reason:b}))}return Promise.reject({type:ie,reason:"Cannot update mask"})})(this[ce],t)}stopPreviewVideoMask(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{mask:{isMaskConfigured:a}}}=i();return a?(o.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:ie,reason:"Cannot stop preview mask before start"})})(this[ce])}requestFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p},video:{farEndCameraControlStatus:{controlledUserList:h}}}=l;return p===o?Promise.reject({type:ie,reason:'Using "stream.controlCamera" method to control self camera'}):-1!==mb(l).findIndex(g=>g.userId===o)?(h.includes(o)||c.sendFarEndCameraControl(br.Request,o),Promise.resolve("")):Promise.reject({type:Je,reason:"Cannot request control camera with video off"})})(this[ce],t)}approveFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{currentCameraControlStatus:{isRequested:p,isInControl:h,controllingUserId:g},ptz:v,activeCamera:S}}=a();if(p){if(h&&(!g||o===g))return Promise.resolve("");l.sendFarEndCameraControl(br.Approve,o);const b=v?.[S];return void 0!==b&&l.sendCameraAblity({pan:!!b.pan,tilt:!!b.tilt,zoom:!!b.zoom}),c(jl(!1)),c(Ya({isInControl:!0,userId:o})),F(Af,{isControlled:!0,userId:o}),Promise.resolve("")}return Promise.reject({type:ie,reason:"Cannot approve before request"})})(this[ce],t)}declineFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{currentCameraControlStatus:{isInControl:p,isRequested:h}}}=a();return h||p?(l.sendFarEndCameraControl(br.Decline,o),c(jl(!1)),c(Ya({isInControl:!1,userId:0})),F(Af,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot decline before request"})})(this[ce],t)}giveUpFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{farEndCameraControlStatus:{controlledUserList:p}}}=a();return p.includes(o)?(l.sendFarEndCameraControl(br.GiveUp,o),c(ac(o)),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot give up control befire aquired"})})(this[ce],t)}controlCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{video:{isCurrentUserStartedVideo:p,ptz:h,activeCamera:g}}=a();if(p){const{cmd:v,range:S,reset:b}=o,E=h[g];if(E){const I=dw(E)||{},{key:_,range:w}=lw(v,S);if(E[_])return Object.assign(I,{[_]:b?0:IO(E[_].capability,E[_].value,w)}),l.movePTZCamera(I).then(()=>{c(dg({constraints:I,deviceId:g}))}).catch(A=>Promise.reject({type:ie,reason:A}))}return Promise.resolve("")}return Promise.reject({type:ie,reason:"Cannot control the camera before it's started"})})(this[ce],t)}controlFarEndCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,p=a(),{video:{farEndCameraControlStatus:{controlledUserList:h,isControlling:g}}}=p,{userId:v,cmd:S,range:b}=o;if(g)return Promise.reject({type:ie,reason:"Cannot send new command while the previous control is not done"});if(h.includes(v)){if(S===Qu.SwitchCamera)return l.sendFarEndCameraControl(br.SwitchCamera,v,Qu.SwitchCamera),Promise.resolve("");{const E=mb(p).find(I=>I.userId===v);if(null==E||!E.nFECC)return Promise.reject({type:ie,reason:"The far end camera does not support PTZ"});if(b&&b>0){const I=b/100*1e4;return l.sendFarEndCameraControl(br.StartControl,v,S),c(pg(!0)),it(200).pipe(Ke(On(I-100).pipe(Ct(1)))).subscribe(()=>{l.sendFarEndCameraControl(br.ContinueControl,v,S)}),ar(On(I).pipe(Te(()=>{l.sendFarEndCameraControl(br.StopControl,v,S),c(pg(!1))}))).then(()=>"")}return Promise.reject({type:Je,reason:"Range cannot be negative or 0"})}}return Promise.reject({type:ie,reason:"Cannot control before request granted"})})(this[ce],t)}attachVideo(t,i,o){return((a,c,l,p)=>{const{store:{getState:h,dispatch:g},rwgAgent:v}=a,S=h(),{meeting:{userId:b},media:{enforceMultipleVideos:E,alternativeNameForVideoPlayer:I,enforceVirtualBackground:_,disableRenderLimits:w},video:{videoAttachments:A,subscribedVideoList:T}}=S,M=ff(!!E,w);if(M>1&&T.length>M)throw Promise.reject({type:ie,reason:`subscribe video counts greater than maximum size (${M})`});if(-1===gb(S).findIndex(z=>z.userId===c))return Promise.reject({type:Je,reason:"user is not send video"});const{media:{videoDecodeStatus:P}}=S;let N;const H=I??"video-player";if(p){var V,x,J;if("string"==typeof p){if(N=document.querySelector(p),!N)return Promise.reject({type:"INVALID_PARAMETERS",reason:"Cannot find the element"})}else N=p;if((null===(V=N)||void 0===V||null===(x=V.tagName)||void 0===x?void 0:x.toUpperCase())!==H.toUpperCase())return Promise.reject({type:"INVALID_PARAMETERS",reason:"Invalid element type"});const z=Number(null!==(J=N.getAttribute("node-id"))&&void 0!==J?J:"0");if(z!==c&&hu(_)&&[z,c].includes(b)){var Y;const U=document.createElement(H);for(const O of N.attributes)U.setAttribute(O.name,O.value);z&&(N.setAttribute("node-id","0"),g(fg({userId:z,element:N}))),null===(Y=N.parentElement)||void 0===Y||Y.replaceChild(U,N),N=U}}else N=document.createElement(H);return Gr("video","success",P).subscribe(function(){var z=Oe(function*(U){let[O,L]=U;if(L){const[j,Q]=_O(c,l,h()),re=A[`${c}`];var $;N&&re&&-1!==re.findIndex(te=>te===N)?N.setAttribute("video-quality",`${Q}`):null===($=N)||void 0===$||$.setAttribute("node-id",`${c}`),g(fT({userId:c,element:N})),c!==b&&v.subscribeVideo(c,Q,!1),T.includes(c)||g(sc(c)),g(Tp({userId:c,key:Ss,canvasId:Cf,videoQuality:j,aspectRatio:1.7777777777777777}))}});return function(U){return z.apply(this,arguments)}}()),Promise.resolve(N)})(this[ce],t,i,o)}detachVideo(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},rwgAgent:h}=o,g=l(),{video:{subscribedVideoList:v,videoAttachments:S},meeting:{userId:b},media:{alternativeNameForVideoPlayer:E}}=g;if(v.includes(a)){let A;const T=E??"video-player";var I,_;c&&(A="string"==typeof c?document.querySelector(c):c,(null===(I=A)||void 0===I||null===(_=I.tagName)||void 0===_?void 0:_.toUpperCase())!==T.toUpperCase()&&(A=void 0));const M=S[`${a}`];let P;if(M&&0!==M.length){var w;A?-1!==M.findIndex(V=>V===A)?(P=A,P.setAttribute("node-id","0"),p(fg({userId:a,element:P}))):console.warn(`${c} has not been attached with userID:${a}`):(P=[...M],P.forEach(V=>{V.setAttribute("node-id","0")}),p(fg({userId:a,element:P})));const{video:{videoAttachments:N,renderedVideoList:H}}=l();0===(null===(w=N[`${a}`])||void 0===w?void 0:w.length)&&(0===H.filter(V=>V.userId===a&&V.canvasId!==Cf).length&&(a!==b&&h.unsubscribeVideo(a),p(sg(a))),p(ug({userId:a,key:Ss,canvasId:Cf})))}else console.warn(`UserId:${a} has not been attached.`);return Promise.resolve(P)}return Promise.resolve(void 0)})(this[ce],t,i)}spotlight(t,i){return((o,a,c)=>{const{store:{getState:l},rwgAgent:p}=o,h=l(),{video:{spotlightUserList:g}}=h;return g.includes(a)?Promise.reject({type:Je,reason:`userId:${a} has already spotlighted`}):-1===gb(h).findIndex(v=>v.userId===a)?Promise.reject({type:Je,reason:`userId:${a} has not started video`}):(p.spotlightVideo(a,{bReplace:c,bSpotlight:!0,bUnSpotlightAll:!1}),ze(Yu,v=>{const{spotlightList:S}=v;return S.includes(a)}))})(this[ce],t,i)}removeSpotlight(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p},video:{spotlightUserList:h}}=l,g=o||p,v=Yt(l);if(!h.includes(g)||-1===v.findIndex(E=>E.userId===g))return Promise.reject({type:Je,reason:`userId:${o} is not spotlighted`});const S=Co(l);return h.length>1&&g===p&&!S?Promise.reject({type:ie,reason:"Cannot remove spotlight for self when the host has multiple spotlighted videos"}):g===p||S?(c.spotlightVideo(g,{bReplace:!1,bSpotlight:!1,bUnSpotlightAll:!1}),ze(g===p&&1===h.length?Tf:Yu,E=>{const{spotlightList:I}=E;return!I.includes(g)})):Promise.reject({type:Hr,reason:"only host or co-host can cancel others spotlight"})})(this[ce],t)}removeAllSpotlights(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{video:{spotlightUserList:a}}=i();return 0===a.length?Promise.resolve(""):(o.spotlightVideo(null,{bUnSpotlightAll:!0}),ze(Yu,c=>{const{spotlightList:l}=c;return 0===l.length}))})(this[ce])}isCapturingVideo(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCurrentUserStartedVideo})(this[ce])}isCameraTaken(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCameraTaken})(this[ce])}isCaptureForbidden(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCaptureForbidden})(this[ce])}getCameraList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.video)return[];const{video:{cameraDevicesList:a}}=o;return a.map(c=>Object.assign({},c))})(this[ce])}getActiveCamera(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.activeCamera:""})(this[ce])}getActiveVideoId(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.activeVideoId:0})(this[ce])}getVideoMaxQuality(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.receivedVideoMaxQuality:qo.Video_90P})(this[ce])}getReceivedVideoDimension(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.receivedVideoDimension:null})(this[ce])}getCapturedVideoResolution(){return(t=>{const{store:{getState:i}}=t;return{...i().video.capturedVideoDimension}})(this[ce])}isSupportMultipleVideos(){return(t=>{const{store:{getState:i}}=t,{media:{enforceMultipleVideos:o}}=i();return e0()||!!o&&!window.crossOriginIsolated&&ff(o)>1})(this[ce])}isSupportHDVideo(){return(t=>{var i;const{store:{getState:o}}=t;return null===(i=o().video)||void 0===i?void 0:i.isSupportHDVideo})(this[ce])}getHardwareAccelerationStatus(){return(t=>{var i;const{store:{getState:o}}=t;return null===(i=o().video)||void 0===i?void 0:i.hardwareAcceleration})(this[ce])}getVideoStatisticData(){return(t=>{let{store:{getState:i}}=t;const{video:{statistic:o}}=i();return{...o}})(this[ce])}isSupportVirtualBackground(){return(t=>{const{store:{getState:i}}=t;return Og(i().media.enforceVirtualBackground)})(this[ce])}getVirtualbackgroundStatus(){return(t=>{const{store:{getState:i}}=t;return{...i().video.virtualBackground}})(this[ce])}isRenderSelfViewWithVideoElement(){return hu(this[fn].getState().media.enforceVirtualBackground)}getNetworkQuality(t){return((i,o)=>{var a;const{store:{getState:c}}=i,l=c(),{video:p,meeting:{userId:h}}=l,v=null==p||null===(a=p.networkQuality)||void 0===a?void 0:a[`${o??h}`];if(v){const S={};return v.uplink&&Object.assign(S,{uplink:v.uplink.level}),v.downlink&&Object.assign(S,{downlink:v.downlink.level}),S}return null})(this[ce],t)}getFarEndCameraPTZCapability(t){return((i,o)=>{const{store:{getState:a}}=i,c=mb(a()).find(l=>l.userId===o);return void 0!==c?.nFECC?wO(c?.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[ce],t)}getCameraPTZCapability(t){return((i,o)=>{const{store:{getState:a}}=i,{video:{ptz:c,activeCamera:l}}=a(),p=c[o??l];return{pan:!(null==p||!p.pan),tilt:!(null==p||!p.tilt),zoom:!(null==p||!p.zoom)}})(this[ce],t)}isBrowserSupportPTZ(){const{pan:t,tilt:i,zoom:o}=Ye.getPTZCapability();return t||i||o}getVideoMaskStatus(){return(t=>{var i;const{store:{getState:o}}=t,a=o(),{isMaskConfigured:c,imageSrc:l,...p}=(null===(i=a.video)||void 0===i?void 0:i.mask)||{};return{...p,imageUrl:l}})(this[ce])}isVideoMirrored(){return(t=>{const{store:{getState:i}}=t,{video:{isMirrored:o}}=i();return o})(this[ce])}getSpotlightedUserList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.video)return[];const{video:{spotlightUserList:a}}=o;return Yt(o).filter(c=>a.includes(c.userId)).map(c=>hd(c))})(this[ce])}startShareView(t,i,o){return((a,c,l,p)=>{const{store:{getState:h,dispatch:g},mediaAgent:v,rwgAgent:S}=a,{share:{isReceiveSharing:b,isRemoteSharingActive:E,activeNodeId:I,activeSsrc:_,status:w,renderedEnsuredCanvas:A,isReceiveSharingFromMainSession:T},media:{sharingDecodeStatus:M}}=h();if(!c||l!==I)return Promise.reject({type:Je,reason:""});if(!E||b||w!==_t.End)return Promise.reject({type:ie,reason:""});c.id||(c.id=Pa("__ZOOM_SDK_SHARE_CANVAS_@__"));const P=!!p;return Gr("sharing","success",M).subscribe(N=>{let[,H]=N;if(H){let V=c;A.includes(c.id)||(V=Vp(c),g(rT(c.id))),g(Io(!0)),zp(S,h(),l),v.renderSharing(_,V,P,p,T);const{audio:x}=h();if(null!=x&&x.localShareAudioUserMutedList){const J=x.localShareAudioUserMutedList.find(Y=>Y.userId===l);J&&v.setSharingAudioVolume(l,J.muted,J.isFromMainSession)}}}),"failed"===M?Promise.reject({type:bs,reason:""}):ze(Yr,N=>!!N,6e4)})(this[ce],t,i,o)}stopShareView(){return(t=>{const{store:{dispatch:i,getState:o},rwgAgent:a,mediaAgent:c}=t,{share:{isReceiveSharing:l,activeNodeId:p},breakoutRoom:h}=o();if(!l)return Promise.resolve("");let g=!1;return h?.currentRoom.status===je.InRoom&&h.mainSessionAttendeeList.length>0&&(g=h.mainSessionAttendeeList.findIndex(v=>v.userId===p)>-1),c.stopRenderSharing(),a.unsubscribeSharing(p,g),i(Io(!1)),Promise.resolve("")})(this[ce])}switchShareView(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),{share:{isReceiveSharing:g,activeNodeId:v,isReceiveSharingFromMainSession:S,remoteControlledUserList:b,isGrabRemoteControl:E},audio:I,breakoutRoom:_}=h;if(!g)return Promise.reject({type:ie});if(o===v)return Promise.resolve("");let w=[];return w=S?_.mainSessionAttendeeList.filter(A=>A.bShareToBORooms&&A.sharerOn):aa(h),w.findIndex(A=>A.userId===v)>-1?(b.includes(v)&&(E&&l.subscribeGrabRemoteControl(v,!1),p.updateRemoteControlProperties({isControllerNow:!1})),l.unsubscribeSharing(v,S),zp(l,a(),o),p.switchSharingSource(o,S),b.includes(o)&&mc(o,void 0,h,l,p),I?.localShareAudioUserMutedList.forEach(A=>{p.setSharingAudioVolume(o,A.userId!==o||A.muted,A.isFromMainSession)}),c(Qa({bStatus:1,activeNodeID:o,ssrc:o})),F(py,{userId:o}),Promise.resolve("")):Promise.reject({type:Je,reason:"no matching user id"})})(this[ce],t)}updateSharingCanvasDimension(t,i){return((o,a,c)=>{const{store:{getState:l},mediaAgent:p}=o,h=l(),{share:{isReceiveSharing:g,isGrabRemoteControl:v,remoteControlViewportDomSelector:S}}=h;if(g&&(p.updateRenderedSharingDimension(a,c),v&&S)){const b=document.querySelector(S);p.updateRemoteControlProperties({dimension:b&&xC(b)})}return Promise.resolve("")})(this[ce],t,i)}startShareScreen(t,i){return((o,a,c)=>{var l;const{store:{getState:p,dispatch:h},mediaAgent:g}=o,v=p(),{meeting:{bIbDisableShare:S,meetingOptions:b},share:{sharePrivilege:E,ssrc:I,isChromeExtensionInstalled:_,capturedEnsuredCanvas:w,isReceiveSharingFromMainSession:A},media:{sharingEncodeStatus:T},breakoutRoom:M}=v,{isSupportMediaStreamTrackProcessor:P,isLegacyChrome:N}=Re;if(S)return Promise.reject({type:ie,reason:"information barrier"});if("function"!=typeof(null===(l=navigator.mediaDevices)||void 0===l?void 0:l.getDisplayMedia))return Promise.reject({type:ie,reason:"Unable to share your screen due to the technical limitation"});if(A)return Promise.reject({type:ie,reason:"Unable to share your screen while someone is sharing from the main session"});var H;if(P){if(!(a instanceof HTMLVideoElement))return Promise.reject({type:Je,reason:"Use Video element instead of Canvas element when WebCodecs enabled"})}else if(!(a instanceof HTMLCanvasElement))return Promise.reject({type:Je,reason:`Expected to accept HTMLCanvasElement, but actual it is ${"object"==typeof a&&null!==a?null===(H=Object.getPrototypeOf(a))||void 0===H?void 0:H.constructor.name:a}`});const V=Co(v);if(null!=c&&c.broadcastToBreakoutRoom){if(!V||M?.currentRoom.status===je.InRoom)return Promise.reject(V?{type:ie,reason:"Unable to share screen to breakout room when in the room"}:{type:Hr});h(Ll(!0))}else h(Ll(!1));void 0!==c?.requestReadReceipt&&h(xl(c?.requestReadReceipt)),void 0!==c?.optimizedForSharedVideo&&E!==Ei.MultipleShare&&h(wp(c?.optimizedForSharedVideo&&Ye.isSupportVideoShareSend()));const x=aa(v);if(E===Ei.OnlyHost&&!V)return Promise.reject({type:Hr,reason:"only host can start screen share"});if(E===Ei.HostGrab&&!V&&x.length>0)return Promise.reject({type:Hr,reason:"only host can grab screen share"});const J=Ve(v);if(!0===J?.sharerOn)return Promise.reject({type:ie,reason:"you have already started screen share."});let Y=Vt(!0);return N&&!_&&(g.checkChromeSharingExtension(),Y=Mt(cy,1)),a.id||(a.id=Pa("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),ME([Gr("sharing",T,"success"),Y]).subscribe(z=>{let[U,O]=z;const[L]=U;if(L&&O){w.includes(a.id)||(Vp(a),h(tg(a.id)));let $=document.querySelector(`#${vl}`);$&&"VIDEO"===$.tagName||($=document.createElement("video"),$.id=vl,$.style.display="none",document.body.appendChild($));const j=null!=c&&c.secondaryCameraId?{cameraId:c.secondaryCameraId,width:c.captureWidth,height:c.captureHeight}:void 0,Q=!(null!=c&&c.hideShareAudioOption);g.startDesktopSharing(I,a,$,j,null!=b&&b.isDisableShareAudioIntoBo?Q&&!(null!=c&&c.broadcastToBreakoutRoom):Q,c?.displaySurface,c?.sourceId,c?.controls),h(Xf(void 0)),h(xy(!!j))}}),new Promise((z,U)=>{Ho(Mt(Br).pipe(ne(O=>void 0!==O.sharerOn),Ct(1)),Mt(cy).pipe(ne(O=>!O),Ct(1),We(Ee({reason:"required extension",extensionUrl:"https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle"}))),Mt(fA,1).pipe(ae(O=>Ee({reason:O.reason||"user deny screen share"})))).subscribe(O=>{if(!0===O.sharerOn){const{share:{isSharingToBreakoutRoom:L},meeting:{meetingOptions:$}}=p();g.enableShareAudioToBreakoutRoom(!(null!=$&&$.isDisableShareAudioIntoBo||!L)),z("")}else U({type:bs})},O=>{U({type:ie,...O})})})})(this[ce],t,i)}stopShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l},meeting:{userId:p}}=i();return l===_t.End?Promise.resolve(""):(o(wi(_t.End)),a.stopSharing(p),c.stopDesktopSharing(),ze(Br,h=>!1===h.sharerOn))})(this[ce])}pauseShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l}}=i();return l===_t.Sharing?(a.pauseSharing(),c.pauseDesktopSharing(),ze(Br,p=>!0===p.sharerPause).then(()=>(o(wi(_t.Paused)),""))):Promise.reject({type:ie})})(this[ce])}resumeShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l}}=i();return l===_t.Paused?(a.resumeSharing(),c.resumeDesktopSharing(),ze(Br,p=>!0===p.sharerOn&&!1===p.sharerPause).then(()=>(o(wi(_t.Sharing)),""))):Promise.reject({type:ie})})(this[ce])}setSharePrivilege(t){return fb(this[ce],t)}lockShare(t){return fb(this[ce],t?Ei.OnlyHost:Ei.HostGrab)}shareToBreakoutRoom(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{meeting:{userId:l},breakoutRoom:p,share:{isSharingToBreakoutRoom:h,status:g}}=i();return g===_t.End?Promise.reject({type:ie,reason:"Invalid sharing status"}):h?Promise.resolve(""):p.currentRoom.status===je.InRoom?Promise.reject({type:ie,reason:"Unable to share screen to breakout room when in the room"}):(a.startShareToBreakoutRoom(l),o(Ll(!0)),c.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[ce])}stopShareToBreakoutRoom(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{meeting:{userId:l},share:{isSharingToBreakoutRoom:p}}=i();return p&&(a.stopShareToBreakoutRoom(l),o(Ll(!1)),c.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[ce])}muteOthersScreenShare(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p}}=l,h=aa(l);return o===p?Promise.reject({type:ie,reason:"Cannot mute self share, use 'stopScreenShare' instead"}):-1===h.findIndex(g=>g.userId===o)?Promise.reject({type:Je,reason:"Target user is not sharing"}):(c.stopSharing(o),ze(yo,g=>g.some(v=>v.userId===o&&!1===v.sharerOn)))})(this[ce],t)}enableOptimizeForSharedVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l,rwgAgent:p}=i,{share:{status:h,isOptimizedForSharedVideo:g,isSharingToBreakoutRoom:v,sharePrivilege:S},audio:{isSharingAudio:b},meeting:{userId:E}}=a();return h!==_t.End?g===o?Promise.resolve(""):S!==Ei.MultipleShare?o&&!Ye.isSupportVideoShareSend()?Promise.reject({type:ie,reason:"Cannot enable optimize for shared video due to the platform is not supported "}):(p.startSharing(E,{bShareAudio:b,bShareToBO:v,bShareVideo:o}),l.switchSharingMode(o?Zv.VideoMode:Zv.Normal),ze({event:Br,operations:[ne(I=>void 0!==I.bVideoShare),Ct(1)]},I=>I.bVideoShare===o).then(()=>(c(wp(o)),""))):Promise.reject({type:ie,reason:"Cannot enable optimize for shared video when enabling multiple screen shares"}):Promise.reject({type:ie,reason:"Cannot enable optimize for shared video when screen share is not started"})})(this[ce],t)}updateSharedVideoQuality(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,p=a(),{share:{shareQuality:h,activeNodeId:g,isReceiveSharing:v}}=p,S=jp(p);return v&&0!==g?(S&&h!==o&&(zp(l,p,g,o),c(eT(o))),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot update shared video quality when screen share is not started"})})(this[ce],t)}subscribeShareStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l}}=o,p=l(),{media:{sharingEncodeStatus:h,sharingDecodeStatus:g}}=l(),v=Ve(p),S=!a||a.decode,b=!a||a.encode;if(!v)return Promise.reject({type:ie,reason:"Call this function after the 'join' method resolved."});{const E=Pr(v.userRole)||!Re.isSupportSendScreenSharing?"failed":h;Gr("sharing",E,g).subscribe(I=>{let[_,w]=I;S&&w&&c.subscribeToQos([Mr.SharingDecode],Ku),b&&_&&c.subscribeToQos([Mr.SharingEncode],Ku)})}return""}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}unsubscribeShareStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode;return(!a||a.decode)&&(c.unsubscribeFromQos([Mr.SharingDecode]),l(Fl(Ys))),h&&(c.unsubscribeFromQos([Mr.SharingEncode]),l(Fl(Ys))),null}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}getShareUserList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.share)return[];const{share:{isReceiveSharingFromMainSession:a}}=o;if(a){const{breakoutRoom:{mainSessionAttendeeList:c}}=o;return c.filter(l=>l.bShareToBORooms&&(l.sharerOn||l.sharerPause)).map(l=>hd(l))}return aa(o).map(c=>hd(c))})(this[ce])}getActiveShareUserId(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share&&o.share.isRemoteSharingActive?o.share.activeNodeId:0})(this[ce])}isReceiveSharing(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isReceiveSharing})(this[ce])}getShareViewDimension(){return(t=>{const{store:{getState:i}}=t,o=i();if(o.share){if(o.share.status!==_t.End)return{...o.share.shareDimension};{const{share:{receivedShareDimension:a}}=o;return{width:a.width,height:a.height}}}return null})(this[ce])}getShareStatus(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.status:null})(this[ce])}isShareLocked(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.sharePrivilege===Ei.OnlyHost})(this[ce])}isReceiveSharingFromMainSession(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isReceiveSharingFromMainSession})(this[ce])}getSharePrivilege(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.sharePrivilege:null})(this[ce])}isStartShareScreenWithVideoElement(){return Re.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isOptimizedForSharedVideo})(this[ce])}isSupportOptimizedForSharedVideo(){return Ye.isSupportVideoShareSend()}getShareStatisticData(){return(t=>{let{store:{getState:i}}=t;const{share:{statistic:o}}=i();return{...o}})(this[ce])}requestRemoteControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isReceiveSharing:a,activeNodeId:c,isRemoteControlEnabled:l}}=i();return l?_M(t,c)?a?ql(i())?Promise.reject({type:ie,reason:"Already get the approval"}):(o.sharingRequestRemoteControl(c,!0),new Promise(p=>{Mt(Mf,1).subscribe(h=>{p(h)})})):Promise.reject({type:ie,reason:"Cannot request control due to no sharing available"}):Promise.reject({type:Je}):Promise.reject({type:ie,reason:"Cannot request control due to the feature is not enabled."})})(this[ce])}giveUpRemoteControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isGrabRemoteControl:a,activeNodeId:c}}=i();return ql(i())?(a&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1),ze(Mf,l=>!1===l)):Promise.reject({type:ie})})(this[ce])}startRemoteControl(t){return(i=Oe(function*(o,a){const{store:{getState:c,dispatch:l},mediaAgent:p,rwgAgent:h}=o,{share:{isSDKGrabControl:g,activeNodeId:v}}=c();return ql(c())?(yield mc(v,a,c(),h,p),a.dataset.zmrvId||a.setAttribute("data-zmrv-id",Pa("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),l(rc(`${a.tagName}[data-zmrv-id="${a.dataset.zmrvId}"]`)),g?ze(wl,S=>!!S):ra({success:mA,fail:[N0]})):Promise.reject({type:ie,reason:"required to be approved"})}),function(o,a){return i.apply(this,arguments)})(this[ce],t);var i}grabRemotoControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isGrabRemoteControl:a,activeNodeId:c}}=i();return ql(i())?a?Promise.resolve(""):(o.subscribeGrabRemoteControl(c,!0),ze(wl,l=>!!l)):Promise.reject({type:ie,reason:"should be approved before grab"})})(this[ce])}updateRemoteControlViewportDimension(t){return((i,o)=>{const{store:{getState:a},mediaAgent:c}=i;return ql(a())&&c.updateRemoteControlProperties({dimension:{scaleWidth:o.width,scaleHeight:o.height,srcOffsetX:o.left,srcOffsetY:o.top}}),Promise.resolve("")})(this[ce],t)}approveRemoteControl(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},rwgAgent:h,mediaAgent:g}=o,v=l(),{share:{status:S,isEnableAutoDeleteRcApp:b,remoteControllingSsrc:E,userSsrcMapping:I},meeting:{userId:_}}=v;if(S===_t.End)return Promise.reject({type:ie,reason:"Cannot approve remote control when sharing is not ongoing."});if(S===_t.Paused&&(h.resumeSharing(),g.resumeDesktopSharing(),p(wi(_t.Sharing))),g.isSharingEntireScreen()){var w,A;E&&!po(E,a)&&($g(v,h),p(Yi("")));const T=null!==(w=I[`${a}`])&&void 0!==w?w:a,{isMacOS:M}=Re,P=null===(A=Yt(v).find(N=>po(N.userId,T)))||void 0===A?void 0:A.displayName;return h.remoteControlConsent(Yv.Approve,T,_,{...g.getShareStreamInfo(),platform:Re.isMacOS?"mac":"win",controllerName:P?Mn(P):""},b,M?void 0:c?1:0),p(Dp(T)),ze(L0)}return Promise.reject({type:ie,reason:"Cannot approve remote control when not sharing entire screen."})})(this[ce],t,i)}declineRemoteControl(t){return((i,o)=>{var a;const{store:{getState:c},rwgAgent:l,mediaAgent:p}=i,h=c(),{meeting:{userId:g},share:{isEnableAutoDeleteRcApp:v,userSsrcMapping:S}}=h,b=null!==(a=S[`${o}`])&&void 0!==a?a:o;return l.remoteControlConsent(Yv.Decline,b,g,{...p.getShareStreamInfo(),platform:Re.isMacOS?"mac":"win"},v),Promise.resolve("")})(this[ce],t)}stopRemoteControl(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a}=t;return $g(i(),a),o(Yi("")),o(Dp(0)),Promise.resolve("")})(this[ce])}launchRemoteControlApp(t){return((i,o)=>{const{store:{getState:a,dispatch:c}}=i,l=a(),{share:{remoteControlAppLaunchSheme:p}}=l;return p?(c(Yi(o?`${p}&bAutoDelete=1`:p)),c(Vl(bn.Unknown)),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot launch app due to no permission"})})(this[ce],t)}isRemoteControlEnabled(){return(t=>{var i;const{store:{getState:o}}=t;return!(null===(i=o().share)||void 0===i||!i.isRemoteControlEnabled)})(this[ce])}getRemoteControlAppDownloadUrl(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.remoteControlAppDownloadUrl:null})(this[ce])}isTargetShareSupportRemoteControl(t){return _M(this[ce],t)}isRemotelyControlApproved(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&ql(o)})(this[ce])}isControllingUserRemotely(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isGrabRemoteControl})(this[ce])}getRemotelyControllingUser(){return(t=>{const{store:{getState:i}}=t,o=i();if(o.share){const{remoteControllingSsrc:a}=o.share;if(a)return Yt(o).find(c=>po(c.userId,a))}return null})(this[ce])}},le(q.prototype,"startAudio",[de,FL,Pi],Object.getOwnPropertyDescriptor(q.prototype,"startAudio"),q.prototype),le(q.prototype,"stopAudio",[de,e_,Pi],Object.getOwnPropertyDescriptor(q.prototype,"stopAudio"),q.prototype),le(q.prototype,"muteAudio",[de,t_,Pi],Object.getOwnPropertyDescriptor(q.prototype,"muteAudio"),q.prototype),le(q.prototype,"unmuteAudio",[de,yu,Pi],Object.getOwnPropertyDescriptor(q.prototype,"unmuteAudio"),q.prototype),le(q.prototype,"dialOut",[de,Lm,xm],Object.getOwnPropertyDescriptor(q.prototype,"dialOut"),q.prototype),le(q.prototype,"cancelDialOut",[de,DM,AM],Object.getOwnPropertyDescriptor(q.prototype,"cancelDialOut"),q.prototype),le(q.prototype,"hangup",[de,vb,Pi],Object.getOwnPropertyDescriptor(q.prototype,"hangup"),q.prototype),le(q.prototype,"switchMicrophone",[de,TM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"switchMicrophone"),q.prototype),le(q.prototype,"switchSpeaker",[de,RM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"switchSpeaker"),q.prototype),le(q.prototype,"muteShareAudio",[de,n_,OM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"muteShareAudio"),q.prototype),le(q.prototype,"unmuteShareAudio",[de,VL,MM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"unmuteShareAudio"),q.prototype),le(q.prototype,"subscribeAudioStatisticData",[de,r_,Pi],Object.getOwnPropertyDescriptor(q.prototype,"subscribeAudioStatisticData"),q.prototype),le(q.prototype,"unsubscribeAudioStatisticData",[de,PM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeAudioStatisticData"),q.prototype),le(q.prototype,"enableBackgroundNoiseSuppression",[de,UL,Pi],Object.getOwnPropertyDescriptor(q.prototype,"enableBackgroundNoiseSuppression"),q.prototype),le(q.prototype,"enableSyncButtonsOnHeadset",[de,o_,Pi],Object.getOwnPropertyDescriptor(q.prototype,"enableSyncButtonsOnHeadset"),q.prototype),le(q.prototype,"enableOriginalSound",[de,NM,Pi],Object.getOwnPropertyDescriptor(q.prototype,"enableOriginalSound"),q.prototype),le(q.prototype,"callCRCDevice",[de,kM,i_],Object.getOwnPropertyDescriptor(q.prototype,"callCRCDevice"),q.prototype),le(q.prototype,"cancelCallCRCDevice",[de,LM,xM],Object.getOwnPropertyDescriptor(q.prototype,"cancelCallCRCDevice"),q.prototype),le(q.prototype,"muteAllAudio",[Hn,de,ya],Object.getOwnPropertyDescriptor(q.prototype,"muteAllAudio"),q.prototype),le(q.prototype,"unmuteAllAudio",[Hn,de,FM],Object.getOwnPropertyDescriptor(q.prototype,"unmuteAllAudio"),q.prototype),le(q.prototype,"startVideo",[de,jL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"startVideo"),q.prototype),le(q.prototype,"stopVideo",[de,BL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"stopVideo"),q.prototype),le(q.prototype,"switchCamera",[de,VM,Gn],Object.getOwnPropertyDescriptor(q.prototype,"switchCamera"),q.prototype),le(q.prototype,"renderVideo",[_V,de,yb,Gn],Object.getOwnPropertyDescriptor(q.prototype,"renderVideo"),q.prototype),le(q.prototype,"stopRenderVideo",[tP,de,s_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"stopRenderVideo"),q.prototype),le(q.prototype,"updateVideoCanvasDimension",[eP,de,Su,Gn],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoCanvasDimension"),q.prototype),le(q.prototype,"adjustRenderedVideoPosition",[tP,de,a_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"adjustRenderedVideoPosition"),q.prototype),le(q.prototype,"clearVideoCanvas",[eP,de,UM,Gn],Object.getOwnPropertyDescriptor(q.prototype,"clearVideoCanvas"),q.prototype),le(q.prototype,"mirrorVideo",[de,u_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"mirrorVideo"),q.prototype),le(q.prototype,"enableHardwareAcceleration",[de,c_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"enableHardwareAcceleration"),q.prototype),le(q.prototype,"subscribeVideoStatisticData",[de,jM,Gn],Object.getOwnPropertyDescriptor(q.prototype,"subscribeVideoStatisticData"),q.prototype),le(q.prototype,"unsubscribeVideoStatisticData",[de,Sb,Gn],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeVideoStatisticData"),q.prototype),le(q.prototype,"previewVirtualBackground",[XM,de,$L,Gn],Object.getOwnPropertyDescriptor(q.prototype,"previewVirtualBackground"),q.prototype),le(q.prototype,"updateVirtualBackgroundImage",[de,BM,Gn],Object.getOwnPropertyDescriptor(q.prototype,"updateVirtualBackgroundImage"),q.prototype),le(q.prototype,"stopPreviewVirtualBackground",[de,l_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVirtualBackground"),q.prototype),le(q.prototype,"previewVideoMask",[XM,de,HL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"previewVideoMask"),q.prototype),le(q.prototype,"updateVideoMask",[de,GL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoMask"),q.prototype),le(q.prototype,"stopPreviewVideoMask",[de,zL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVideoMask"),q.prototype),le(q.prototype,"requestFarEndCameraControl",[de,WL,wh],Object.getOwnPropertyDescriptor(q.prototype,"requestFarEndCameraControl"),q.prototype),le(q.prototype,"approveFarEndCameraControl",[de,d_,wh],Object.getOwnPropertyDescriptor(q.prototype,"approveFarEndCameraControl"),q.prototype),le(q.prototype,"declineFarEndCameraControl",[de,Fm,wh],Object.getOwnPropertyDescriptor(q.prototype,"declineFarEndCameraControl"),q.prototype),le(q.prototype,"giveUpFarEndCameraControl",[de,$M,wh],Object.getOwnPropertyDescriptor(q.prototype,"giveUpFarEndCameraControl"),q.prototype),le(q.prototype,"controlCamera",[de,HM,wh],Object.getOwnPropertyDescriptor(q.prototype,"controlCamera"),q.prototype),le(q.prototype,"controlFarEndCamera",[de,qL,wh],Object.getOwnPropertyDescriptor(q.prototype,"controlFarEndCamera"),q.prototype),le(q.prototype,"attachVideo",[de,KL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"attachVideo"),q.prototype),le(q.prototype,"detachVideo",[de,QL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"detachVideo"),q.prototype),le(q.prototype,"spotlight",[Hn,de,JL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"spotlight"),q.prototype),le(q.prototype,"removeSpotlight",[de,ZL,Gn],Object.getOwnPropertyDescriptor(q.prototype,"removeSpotlight"),q.prototype),le(q.prototype,"removeAllSpotlights",[hr,de,p_,Gn],Object.getOwnPropertyDescriptor(q.prototype,"removeAllSpotlights"),q.prototype),le(q.prototype,"startShareView",[XM,de,Vm,wr],Object.getOwnPropertyDescriptor(q.prototype,"startShareView"),q.prototype),le(q.prototype,"stopShareView",[de,GM,wr],Object.getOwnPropertyDescriptor(q.prototype,"stopShareView"),q.prototype),le(q.prototype,"switchShareView",[de,zM,wr],Object.getOwnPropertyDescriptor(q.prototype,"switchShareView"),q.prototype),le(q.prototype,"updateSharingCanvasDimension",[de,h_,wr],Object.getOwnPropertyDescriptor(q.prototype,"updateSharingCanvasDimension"),q.prototype),le(q.prototype,"startShareScreen",[de,xc,wr],Object.getOwnPropertyDescriptor(q.prototype,"startShareScreen"),q.prototype),le(q.prototype,"stopShareScreen",[de,f_,wr],Object.getOwnPropertyDescriptor(q.prototype,"stopShareScreen"),q.prototype),le(q.prototype,"pauseShareScreen",[de,bb,wr],Object.getOwnPropertyDescriptor(q.prototype,"pauseShareScreen"),q.prototype),le(q.prototype,"resumeShareScreen",[de,Eb,wr],Object.getOwnPropertyDescriptor(q.prototype,"resumeShareScreen"),q.prototype),le(q.prototype,"setSharePrivilege",[Hn,WM,de,wr],Object.getOwnPropertyDescriptor(q.prototype,"setSharePrivilege"),q.prototype),le(q.prototype,"lockShare",[Hn,Cb,de,wr],Object.getOwnPropertyDescriptor(q.prototype,"lockShare"),q.prototype),le(q.prototype,"shareToBreakoutRoom",[de,Hn,Ib,wr],Object.getOwnPropertyDescriptor(q.prototype,"shareToBreakoutRoom"),q.prototype),le(q.prototype,"stopShareToBreakoutRoom",[de,Hn,Um,wr],Object.getOwnPropertyDescriptor(q.prototype,"stopShareToBreakoutRoom"),q.prototype),le(q.prototype,"muteOthersScreenShare",[de,Hn,YL,wr],Object.getOwnPropertyDescriptor(q.prototype,"muteOthersScreenShare"),q.prototype),le(q.prototype,"enableOptimizeForSharedVideo",[de,XL,wr],Object.getOwnPropertyDescriptor(q.prototype,"enableOptimizeForSharedVideo"),q.prototype),le(q.prototype,"updateSharedVideoQuality",[de,ex,wr],Object.getOwnPropertyDescriptor(q.prototype,"updateSharedVideoQuality"),q.prototype),le(q.prototype,"subscribeShareStatisticData",[de,g_,wr],Object.getOwnPropertyDescriptor(q.prototype,"subscribeShareStatisticData"),q.prototype),le(q.prototype,"unsubscribeShareStatisticData",[de,qM,wr],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeShareStatisticData"),q.prototype),le(q.prototype,"requestRemoteControl",[de,KM,bu],Object.getOwnPropertyDescriptor(q.prototype,"requestRemoteControl"),q.prototype),le(q.prototype,"giveUpRemoteControl",[de,QM,bu],Object.getOwnPropertyDescriptor(q.prototype,"giveUpRemoteControl"),q.prototype),le(q.prototype,"startRemoteControl",[de,JM,bu],Object.getOwnPropertyDescriptor(q.prototype,"startRemoteControl"),q.prototype),le(q.prototype,"grabRemotoControl",[de,m_,bu],Object.getOwnPropertyDescriptor(q.prototype,"grabRemotoControl"),q.prototype),le(q.prototype,"updateRemoteControlViewportDimension",[de,v_,bu],Object.getOwnPropertyDescriptor(q.prototype,"updateRemoteControlViewportDimension"),q.prototype),le(q.prototype,"approveRemoteControl",[de,y_,bu],Object.getOwnPropertyDescriptor(q.prototype,"approveRemoteControl"),q.prototype),le(q.prototype,"declineRemoteControl",[de,ZM,bu],Object.getOwnPropertyDescriptor(q.prototype,"declineRemoteControl"),q.prototype),le(q.prototype,"stopRemoteControl",[de,YM,bu],Object.getOwnPropertyDescriptor(q.prototype,"stopRemoteControl"),q.prototype),le(q.prototype,"launchRemoteControlApp",[de,S_,bu],Object.getOwnPropertyDescriptor(q.prototype,"launchRemoteControlApp"),q.prototype),q);var _r,_h,jm,Bm,b_,tx,nP,nx,Ln;const Eu=_o("Audio"),rx=_o("Sharing");let rP=(_r=we("share"),_h=we("audio"),jm=we("audio"),Bm=we("audio"),b_=we("audio"),tx=we("audio"),nP=we("audio"),nx=we("audio"),Ln=class extends DV{switchSharingSecondaryCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{cameraDevicesList:h},share:{status:g,isSharingWithSecondCamera:v}}=p;return"default"!==o&&-1===h.map(S=>S.deviceId).indexOf(o)?Promise.reject({type:Je,reason:"Cannot find cameraDeviceId in camera devices list."}):(g===_t.Sharing&&v&&l.changeSharingSecondCamera(o),c(nT(o)),Promise.resolve())})(this[ce],t)}muteUserAudioLocally(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{locallyMutedAudioList:h}}=p,g=Yt(p).filter(v=>v.audio===xt.Computer);return h.includes(o)||-1===g.findIndex(v=>v.userId===o)||(a.muteOrUnmuteOtherAudio(o,!0),l(KA(o))),Promise.resolve("")})(this[ce],t)}unmuteUserAudioLocally(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{locallyMutedAudioList:p}}=c();return p.includes(o)&&(a.muteOrUnmuteOtherAudio(o,!1),l(Ip(o))),Promise.resolve("")})(this[ce],t)}adjustUserAudioVolumeLocally(t,i){return((o,a,c)=>{const{mediaAgent:l,store:{getState:p,dispatch:h}}=o,g=p();return-1!==Yt(g).findIndex(v=>v.userId===a)&&(l.adjustOtherAudioVolume(a,c),h(l1({userId:a,volume:c}))),Promise.resolve("")})(this[ce],t,i)}muteAllUserAudioLocally(){return(t=>{const{mediaAgent:i,store:{getState:o,dispatch:a}}=t,{audio:{isStopAllImcomingAudio:c}}=o();return c||(i.stopAllIncomingAudio(!0),a(ZA(!0))),Promise.resolve("")})(this[ce])}unmuteAllUserAudioLocally(){return(t=>{const{mediaAgent:i,store:{getState:o,dispatch:a}}=t,{audio:{isStopAllImcomingAudio:c,locallyMutedAudioList:l}}=o();return c&&(i.stopAllIncomingAudio(!1),a(ZA(!1)),l.length>0&&l.forEach(p=>{i.muteOrUnmuteOtherAudio(p,!1),a(Ip(p))})),Promise.resolve("")})(this[ce])}startSecondaryAudio(t,i){return(o=Oe(function*(a,c,l){const{mediaAgent:p,rwgAgent:h,store:{getState:g,dispatch:v}}=a,S=g(),{audio:{microphoneDevicesList:b,activeMicrophone:E},share:{status:I}}=S,_=Ve(S);if(!Ye.isSupportShare2ndAudioDevice(vr()))return Promise.reject({type:ie,reason:"Cannot start secondary audio due to platform is not supported"});if(_?.audio===xt.Computer&&E===c)return Promise.reject({type:ie,reason:"Cannot start secondary audio with the same microphone"});if(I!==_t.End)return Promise.reject({type:ie,reason:"Cannot start secondary audio while screen sharing is in progress"});let w=b;if(0===b.length){const{microphones:A}=yield ar(qt());w=A}return c&&-1===w.findIndex(A=>A.deviceId===c)?Promise.reject({type:Je,reason:"Cannot find the microphone"}):(h.muteShareAudio(!1,!0),p.share2ndAudio(c,l),v(Xf(c)),ze(hA))}),function(a,c,l){return o.apply(this,arguments)})(this[ce],t,i);var o}stopSecondaryAudio(){return function(){var t=Oe(function*(i){const{mediaAgent:o,rwgAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{secondaryAudioMicrophoneId:h}}=p;if(!h)return Promise.reject({type:ie,reason:"Cannot stop secondary audio due to not started "});a.muteShareAudio(!0,!0),o.leaveSharingAudio(!1),l(Xf(void 0))});return function(i){return t.apply(this,arguments)}}()(this[ce])}isUserAudioMutedLocally(t){return((i,o)=>{let{store:{getState:a}}=i;const{audio:{locallyMutedAudioList:c}}=a();return c.includes(o)})(this[ce],t)}getUserVolumeLocally(t){return((i,o)=>{var a,c;let{store:{getState:l}}=i;const{audio:{localUserAudioVolumeList:p,locallyMutedAudioList:h}}=l();return null!==(a=null===(c=p.find(g=>g.userId===o))||void 0===c?void 0:c.volume)&&void 0!==a?a:h.includes(o)?0:100})(this[ce],t)}},le(Ln.prototype,"switchSharingSecondaryCamera",[de,_r,rx],Object.getOwnPropertyDescriptor(Ln.prototype,"switchSharingSecondaryCamera"),Ln.prototype),le(Ln.prototype,"muteUserAudioLocally",[de,_h,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"muteUserAudioLocally"),Ln.prototype),le(Ln.prototype,"unmuteUserAudioLocally",[de,jm,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"unmuteUserAudioLocally"),Ln.prototype),le(Ln.prototype,"adjustUserAudioVolumeLocally",[de,Bm,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"adjustUserAudioVolumeLocally"),Ln.prototype),le(Ln.prototype,"muteAllUserAudioLocally",[de,b_,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"muteAllUserAudioLocally"),Ln.prototype),le(Ln.prototype,"unmuteAllUserAudioLocally",[de,tx,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"unmuteAllUserAudioLocally"),Ln.prototype),le(Ln.prototype,"startSecondaryAudio",[de,nP,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"startSecondaryAudio"),Ln.prototype),le(Ln.prototype,"stopSecondaryAudio",[de,nx,Eu],Object.getOwnPropertyDescriptor(Ln.prototype,"stopSecondaryAudio"),Ln.prototype),Ln);const $m={controlStatus:dt.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:Sp.Automatically,currentRoom:{status:je.Initial,boStatus:FA.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMovetoMainSession:!1,isRoomSelectionEnabled:!1},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1,isEnableBOViewActivityStatus:!1,inRoomUserActivityStatusMap:{},isEnableBOBroadcastVoice:!1,isBroadcastVoice:!1},oP=mr({[`${DT}`]:B((t,i)=>{let{payload:o}=i;Array.isArray(o)?t.rooms.push(...o):t.rooms.push(o)}),[`${SC}`]:B((t,i)=>{let{payload:o}=i;t.allocationPattern=o}),[`${rS}`]:B((t,i)=>{let{payload:o}=i;t.sequenceId=o}),[`${oS}`]:B((t,i)=>{let{payload:o}=i;t.meetingElapsedTime=o}),[`${yg}`]:B((t,i)=>{let{payload:o}=i;t.startRoomElapsedTime=o}),[`${AT}`]:B((t,i)=>{let{payload:o}=i;const{options:a}=t;Object.assign(a,o)}),[`${_1}`]:B((t,i)=>{let{payload:o}=i;t.controlStatus=o}),[`${Sg}`]:B((t,i)=>{let{payload:o}=i;t.rooms=o}),[`${iS}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;Object.assign(a,o)}),[`${cc}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.status=o}),[`${bC}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.boConfId=o}),[`${EC}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.boToken=o}),[`${bg}`]:B((t,i)=>{let{payload:o}=i;t.closingRoomTime=o}),[`${IC}`]:B((t,i)=>{let{payload:o}=i;t.broadcastMessage=o}),[`${Bl}`]:B((t,i)=>{let{payload:o}=i;t.hostReplyToQuestionerType=o}),[`${Mp}`]:B((t,i)=>{let{payload:o}=i;t.hostReplyToRequestId=o}),[`${ia}`]:B((t,i)=>{let{payload:o}=i;void 0!==o.add&&o.add.length>0&&o.add.forEach(a=>{const c=t.mainSessionAttendeeList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):K0(a.userRole)||t.mainSessionAttendeeList.push(a)}),void 0!==o.update&&o.update.length>0&&o.update.forEach(a=>{const c=t.mainSessionAttendeeList.find(l=>l.userId===a.userId);void 0!==c&&Object.assign(c,a)}),void 0!==o.remove&&o.remove.length>0&&o.remove.forEach(a=>{const c=t.mainSessionAttendeeList.findIndex(l=>l.userId===a.userId);-1!==c&&t.mainSessionAttendeeList.splice(c,1)})}),[`${TT}`]:B((t,i)=>{let{payload:o}=i;t.isHugeBO=o}),[`${_C}`]:B((t,i)=>{let{payload:o}=i;t.isUserRoleUpdated=o}),[`${wC}`]:B((t,i)=>{let{payload:o}=i;t.preAssignedRooms=o}),[`${Eg}`]:B((t,i)=>{let{payload:o}=i;t.isEnableBreakoutRoom=o.isEnableBreakoutRoom,t.isEnableBOBroadcast=o.isEnableBOBroadcast,t.isEnableBOViewActivityStatus=o.isEnableBOViewActivityStatus,t.isEnableBOBroadcastVoice=o.isEnableBOBroadcastVoice}),[`${sS}`]:B((t,i)=>{let{payload:o}=i;const{userGuid:a,status:c}=o,{inRoomUserActivityStatusMap:l}=t;l[`${a}`]=c}),[`${aS}`]:B((t,i)=>{let{payload:o}=i;t.isBroadcastVoice=o}),[`${CC}`]:t=>{const{currentRoom:{status:i}}=t;return i===je.Joining?{...$m,preAssignedRooms:t.preAssignedRooms,currentRoom:t.currentRoom,closingRoomTime:t.closingRoomTime}:i===je.Leaving?{...$m,preAssignedRooms:t.preAssignedRooms,closingRoomTime:t.closingRoomTime}:{...$m,preAssignedRooms:t.preAssignedRooms}}},$m);var Vr=Uint8Array,ni=Uint16Array,wb=Uint32Array,Hm=new Vr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_b=new Vr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Db=new Vr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gm=function(t,i){for(var o=new ni(31),a=0;a<31;++a)o[a]=i+=1<<t[a-1];var c=new wb(o[30]);for(a=1;a<30;++a)for(var l=o[a];l<o[a+1];++l)c[l]=l-o[a]<<5|a;return[o,c]},Dh=Gm(Hm,2),Sd=Dh[0],Ab=Dh[1];Sd[28]=258,Ab[258]=28;for(var ox=Gm(_b,0),AV=ox[0],ix=ox[1],E_=new ni(32768),xn=0;xn<32768;++xn){var Ah=(43690&xn)>>>1|(21845&xn)<<1;Ah=(61680&(Ah=(52428&Ah)>>>2|(13107&Ah)<<2))>>>4|(3855&Ah)<<4,E_[xn]=((65280&Ah)>>>8|(255&Ah)<<8)>>>1}var Ls=function(t,i,o){for(var a=t.length,c=0,l=new ni(i);c<a;++c)t[c]&&++l[t[c]-1];var p,h=new ni(i);for(c=0;c<i;++c)h[c]=h[c-1]+l[c-1]<<1;if(o){p=new ni(1<<i);var g=15-i;for(c=0;c<a;++c)if(t[c])for(var v=c<<4|t[c],S=i-t[c],b=h[t[c]-1]++<<S,E=b|(1<<S)-1;b<=E;++b)p[E_[b]>>>g]=v}else for(p=new ni(a),c=0;c<a;++c)t[c]&&(p[c]=E_[h[t[c]-1]++]>>>15-t[c]);return p},Cu=new Vr(288);for(xn=0;xn<144;++xn)Cu[xn]=8;for(xn=144;xn<256;++xn)Cu[xn]=9;for(xn=256;xn<280;++xn)Cu[xn]=7;for(xn=280;xn<288;++xn)Cu[xn]=8;var Tb=new Vr(32);for(xn=0;xn<32;++xn)Tb[xn]=5;var C_=Ls(Cu,9,0),TV=Ls(Cu,9,1),RV=Ls(Tb,5,0),OV=Ls(Tb,5,1),I_=function(t){for(var i=t[0],o=1;o<t.length;++o)t[o]>i&&(i=t[o]);return i},Sa=function(t,i,o){var a=i/8|0;return(t[a]|t[a+1]<<8)>>(7&i)&o},w_=function(t,i){var o=i/8|0;return(t[o]|t[o+1]<<8|t[o+2]<<16)>>(7&i)},__=function(t){return(t+7)/8|0},D_=function(t,i,o){(null==i||i<0)&&(i=0),(null==o||o>t.length)&&(o=t.length);var a=new(2==t.BYTES_PER_ELEMENT?ni:4==t.BYTES_PER_ELEMENT?wb:Vr)(o-i);return a.set(t.subarray(i,o)),a},iP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ba=function(t,i,o){var a=new Error(i||iP[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,ba),!o)throw a;return a},Fc=function(t,i,o){var a=i/8|0;t[a]|=o<<=7&i,t[a+1]|=o>>>8},zm=function(t,i,o){var a=i/8|0;t[a]|=o<<=7&i,t[a+1]|=o>>>8,t[a+2]|=o>>>16},Rb=function(t,i){for(var o=[],a=0;a<t.length;++a)t[a]&&o.push({s:a,f:t[a]});var c=o.length,l=o.slice();if(!c)return[Ob,0];if(1==c){var p=new Vr(o[0].s+1);return p[o[0].s]=1,[p,1]}o.sort(function(H,V){return H.f-V.f}),o.push({s:-1,f:25001});var h=o[0],g=o[1],v=0,S=1,b=2;for(o[0]={s:-1,f:h.f+g.f,l:h,r:g};S!=c-1;)h=o[o[v].f<o[b].f?v++:b++],g=o[v!=S&&o[v].f<o[b].f?v++:b++],o[S++]={s:-1,f:h.f+g.f,l:h,r:g};var E=l[0].s;for(a=1;a<c;++a)l[a].s>E&&(E=l[a].s);var I=new ni(E+1),_=sP(o[S-1],I,0);if(_>i){a=0;var w=0,A=_-i,T=1<<A;for(l.sort(function(H,V){return I[V.s]-I[H.s]||H.f-V.f});a<c;++a){var M=l[a].s;if(!(I[M]>i))break;w+=T-(1<<_-I[M]),I[M]=i}for(w>>>=A;w>0;){var P=l[a].s;I[P]<i?w-=1<<i-I[P]++-1:++a}for(;a>=0&&w;--a){var N=l[a].s;I[N]==i&&(--I[N],++w)}_=i}return[new Vr(I),_]},sP=function(t,i,o){return-1==t.s?Math.max(sP(t.l,i,o+1),sP(t.r,i,o+1)):i[t.s]=o},aP=function(t){for(var i=t.length;i&&!t[--i];);for(var o=new ni(++i),a=0,c=t[0],l=1,p=function(g){o[a++]=g},h=1;h<=i;++h)if(t[h]==c&&h!=i)++l;else{if(!c&&l>2){for(;l>138;l-=138)p(32754);l>2&&(p(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(p(c),--l;l>6;l-=6)p(8304);l>2&&(p(l-3<<5|8208),l=0)}for(;l--;)p(c);l=1,c=t[h]}return[o.subarray(0,a),i]},Wm=function(t,i){for(var o=0,a=0;a<i.length;++a)o+=t[a]*i[a];return o},uP=function(t,i,o){var a=o.length,c=__(i+2);t[c]=255&a,t[c+1]=a>>>8,t[c+2]=255^t[c],t[c+3]=255^t[c+1];for(var l=0;l<a;++l)t[c+l+4]=o[l];return 8*(c+4+a)},cP=function(t,i,o,a,c,l,p,h,g,v,S){Fc(i,S++,o),++c[256];for(var b=Rb(c,15),E=b[0],I=b[1],_=Rb(l,15),w=_[0],A=_[1],T=aP(E),M=T[0],P=T[1],N=aP(w),H=N[0],V=N[1],x=new ni(19),J=0;J<M.length;++J)x[31&M[J]]++;for(J=0;J<H.length;++J)x[31&H[J]]++;for(var Y=Rb(x,7),z=Y[0],U=Y[1],O=19;O>4&&!z[Db[O-1]];--O);var L,$,j,Q,re=v+5<<3,te=Wm(c,Cu)+Wm(l,Tb)+p,me=Wm(c,E)+Wm(l,w)+p+14+3*O+Wm(x,z)+(2*x[16]+3*x[17]+7*x[18]);if(re<=te&&re<=me)return uP(i,S,t.subarray(g,g+v));if(Fc(i,S,1+(me<te)),S+=2,me<te){L=Ls(E,I,0),$=E,j=Ls(w,A,0),Q=w;var Ne=Ls(z,U,0);for(Fc(i,S,P-257),Fc(i,S+5,V-1),Fc(i,S+10,O-4),S+=14,J=0;J<O;++J)Fc(i,S+3*J,z[Db[J]]);S+=3*O;for(var De=[M,H],Be=0;Be<2;++Be){var He=De[Be];for(J=0;J<He.length;++J){var ke=31&He[J];Fc(i,S,Ne[ke]),S+=z[ke],ke>15&&(Fc(i,S,He[J]>>>5&127),S+=He[J]>>>12)}}}else L=C_,$=Cu,j=RV,Q=Tb;for(J=0;J<h;++J)if(a[J]>255){zm(i,S,L[257+(ke=a[J]>>>18&31)]),S+=$[ke+257],ke>7&&(Fc(i,S,a[J]>>>23&31),S+=Hm[ke]);var xe=31&a[J];zm(i,S,j[xe]),S+=Q[xe],xe>3&&(zm(i,S,a[J]>>>5&8191),S+=_b[xe])}else zm(i,S,L[a[J]]),S+=$[a[J]];return zm(i,S,L[256]),S+$[256]},MV=new wb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ob=new Vr(0),lP=function(){for(var t=new Int32Array(256),i=0;i<256;++i){for(var o=i,a=9;--a;)o=(1&o&&-306674912)^o>>>1;t[i]=o}return t}(),Mb=function(t,i,o){for(;o;++i)t[i]=o,o>>>=8};var dP=typeof TextEncoder<"u"&&new TextEncoder,pP=typeof TextDecoder<"u"&&new TextDecoder;try{pP.decode(Ob,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:A_,WebclientBreakoutRoomCommand:NV}=Rt,hP=wo(Ye.getInstance());function xs(t,i){let o=0;for(;o<t.length;o++){const a=t[o],{attendeeGuidList:c}=a;if(null!=c&&c.includes(i))break}return o<t.length?t[o]:void 0}function qm(){ot.remove(A_),ot.remove(NV)}function T_(){return Ot.createAgent().leaveBO(1),F(So,{reason:nr.BackToMainSession}),qm(),[cc(je.Leaving),er(zt.NormalCase)]}function R_(t,i){return F(So,{reason:nr.JoinBreakoutRoom,roomName:t}),i===je.InRoom&&Ot.createAgent().leaveBO(1),[cc(je.Joining),er(zt.NormalCase)]}function fP(t){return F(So,{reason:nr.MoveToBreakoutRoom,roomName:t}),Ot.createAgent().leaveBO(1),[cc(je.Joining),er(zt.NormalCase)]}function Pb(t){return t!==je.InRoom&&t!==je.Joining&&t!==je.Leaving}function Km(t){const i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?je.InRoom:je.Invited;return ot.set(A_,JSON.stringify({status:i,boId:t.boId}),Tt.SessionStorage),iS({status:i,boId:t.boId,name:t.name,boStatus:t.boStatus})}function O_(t){const{breakoutRoom:{isUserRoleUpdated:i,currentRoom:{boConfId:o}}}=t.value,a=Ve(t.value);return a&&(!o||o&&i)?Vt(a.isHost):(o?Mt(Vf,1):Mt(Fa,1).pipe(ae(l=>Iy(l.userRole)?ve([1]):Ho(Mt(Br).pipe(ne(p=>void 0!==p.userRole||void 0!==p.bVideoConnect),Ct(1)),Mt(yf).pipe(ne(p=>p.some(h=>Iy(h.userRole))),Ct(1)),On(3e3))))).pipe(Ht(Pd),Pe(t),ye(l=>{let[,p]=l;return Ve(p).isHost}))}function Nb(t){return ME({boIdList:Mt(kf).pipe(NF((i,o)=>[...i,o],[]),Ct(t))}).pipe(aN(1e4))}const gP=[{mask:wy.Connect,key:"audio",value:""},{mask:wy.Voip,key:"audio",value:"computer"},{mask:wy.Muted,key:"muted",value:!0},{mask:Q0.Connect,key:"bVideoOn",value:!1},{mask:Q0.On,key:"bVideoOn",value:!0},{mask:J0.Share,key:"sharerOn",value:!0},{mask:J0.ShareAudio,key:"bShareAudioOn",value:!0}];function sx(t,i){const o=(as(i)?i.breakoutRoom.mainSessionAttendeeList:i.participants.attendeesList).find(a=>a.userId===Number(t));return o?{inviterId:o.userId,inviterGuid:o.userGUID,inviterName:o.displayName}:{}}const Fs=Ot.createAgent(),Qm=["userRole","bCoHost","bCCEditor","bHold"],mP=Ot.createAgent(),vP=wo(Ye.getInstance());var mt;const sr=Ot.createAgent(),Jm=wo(Ye.getInstance()),ri=_o("Breakout Room");let ax=(le((mt=class extends ss{createRooms(t,i){const o=this[_e](),a=this[_n],{breakoutRoom:{isHugeBO:c,sequenceId:l,rooms:p,controlStatus:h,isEnableBreakoutRoom:g}}=o;if(!g)return Promise.reject({type:ie,reason:"Breakout room feature is not enabled."});if(h===dt.InProgress||h===dt.Closing)return Promise.resolve({type:ie,reason:"breakout room has started!"});let v;return v="string"==typeof t?[t]:"number"==typeof t?Array.from({length:t}).map((b,E)=>`${VA} ${E+l}`):t,v.length<1||p.length+v.length>(c?100:50)?Promise.reject({type:Je,reason:"exceed maximum size"}):(sr.batchCreateBOToken(v),new Promise((b,E)=>{Nb(v.length).subscribe(I=>{let{boIdList:_}=I,w=_.map((T,M)=>({boId:T,name:v[M]}));if(i===Sp.Automatically){const T=Mw(o),M=w.length,P=T.length;w=w.map((N,H)=>{const V=[];let x=H;for(;x<P;)V.push(T[x]),x+=M;return{...N,attendeeList:V}})}const A=w.map(T=>{let{boId:M,name:P,attendeeList:N}=T;return{boId:M,name:P,attendeeGuidList:N&&N.map(H=>H.userGUID)}});if(a(DT(A)),a(SC(i)),a(rS(l+w.length)),i===Sp.Automatically){const T=w.map(M=>({roomId:M.boId,name:M.name,attendeeList:M.attendeeList.map(P=>({userId:P.userId,avatar:P.avatar,displayName:P.displayName}))}));b(T)}else b(w.map(T=>({roomId:T.boId,name:T.name,attendeeList:[]})))},()=>{E({type:bs})})}))}recreateRooms(t,i){const o=this[_e](),a=this[_n],{breakoutRoom:{isHugeBO:c,sequenceId:l,rooms:p,controlStatus:h,isEnableBreakoutRoom:g}}=o;if(!g)return Promise.reject({type:ie,reason:"Breakout room feature is not enabled."});if(h===dt.InProgress||h===dt.Closing)return Promise.resolve({type:ie,reason:"breakout room has started!"});let v;return v="string"==typeof t?[t]:"number"==typeof t?Array.from({length:t}).map((b,E)=>`${VA} ${E+l}`):t,v.length<1||p.length+v.length>(c?100:50)?Promise.reject({type:Je,reason:"exceed maximum size"}):(sr.batchCreateBOToken(v),new Promise((b,E)=>{Nb(v.length).subscribe(I=>{let{boIdList:_}=I,w=_.map((T,M)=>({boId:T,name:v[M]}));if(i===Sp.Automatically){const T=w.length,M=lL(o),P=M.length;w=w.map((N,H)=>{const V=[];let x=H;for(;x<P;)V.push(M[x]),x+=T;return{...N,attendeeList:V}})}const A=w.map(T=>{let{boId:M,name:P,attendeeList:N}=T;return{boId:M,name:P,attendeeGuidList:N&&N.map(H=>H.userGUID)}});if(a(Sg(A)),a(SC(i)),a(rS(l+w.length)),i===Sp.Automatically){const T=w.map(M=>({roomId:M.boId,name:M.name,attendeeList:M.attendeeList.map(P=>({userId:P.userId,avatar:P.avatar,displayName:P.displayName}))}));b(T)}else b(w.map(T=>({roomId:T.boId,name:T.name,attendeeList:[]})))},()=>{E({type:bs})})}))}openRooms(t,i){var o;const a=this[_e](),c={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},{breakoutRoom:{controlStatus:l,rooms:p,sequenceId:h,isHugeBO:g}}=a;if(l===dt.InProgress||l===dt.Closing)return Promise.resolve({type:ie,reason:"breakout room has started!"});if(t.some(_=>-1===p.findIndex(w=>w.boId===_.roomId)))return Promise.reject({type:Je,reason:"roomId is wrong"});const v=Yt(a);if(t.reduce((_,w)=>_.concat(w.attendeeList),[]).some(_=>-1===v.findIndex(w=>w.userId===_.userId)))return Promise.reject({type:Je,reason:"bad user"});const S=t.map(_=>{const{attendeeList:w}=_,A=w.map(T=>{const M=v.find(P=>P.userId===T.userId);return M?.userGUID});return{BID:_.roomId,MeetingTitle:_.name,MeetingToken:void 0,Status:FA.Started,HostID:"",ParticipantList:A}}),b=i?{...c,...i}:c;let I=KE(JSON.stringify({ControlStatus:dt.InProgress,NameIndex:h,IsAutoJoinEnabled:+b.isAutoJoinRoom,IsBackToMainSessionEnabled:+b.isBackToMainSessionEnabled,IsTimerEnabled:+b.isTimerEnabled,TimerDuration:b.timerDuration,IsTimerAutoEndEnabled:+b.isTimerAutoEnabled,WaitSeconds:b.waitSeconds<0?0:b.waitSeconds,StartTimeOnMMR:void 0,ItemList:S,IsAutoMovetoMainSessionEnabled:b.isAutoMoveBackToMainSession,IsParticipantsChooseRoomEnabled:+b.isRoomSelectionEnabled}));if(g&&(I=Uu.fromUint8Array(function PV(t,i){i||(i={});var o=function(){var p=-1;return{p:function(h){for(var g=p,v=0;v<h.length;++v)g=lP[255&g^h[v]]^g>>>8;p=g},d:function(){return~p}}}(),a=t.length;o.p(t);var p,c=function(p,h,g,v,S){return function(b,E,I,_,w,A){var T=b.length,M=new Vr(_+T+5*(1+Math.ceil(T/7e3))+8),P=M.subarray(_,M.length-8),N=0;if(!E||T<8)for(var H=0;H<=T;H+=65535){var V=H+65535;V>=T&&(P[N>>3]=A),N=uP(P,N+1,b.subarray(H,V))}else{for(var x=MV[E-1],J=x>>>13,Y=8191&x,z=(1<<I)-1,U=new ni(32768),O=new ni(z+1),L=Math.ceil(I/3),$=2*L,j=function($t){return(b[$t]^b[$t+1]<<L^b[$t+2]<<$)&z},Q=new wb(25e3),re=new ni(288),te=new ni(32),me=0,Ne=0,De=(H=0,0),Be=0,He=0;H<T;++H){var ke=j(H),xe=32767&H,nt=O[ke];if(U[xe]=nt,O[ke]=xe,Be<=H){var Nt=T-H;if((me>7e3||De>24576)&&Nt>423){N=cP(b,P,0,Q,re,te,Ne,De,He,H-He,N),De=me=Ne=0,He=H;for(var vt=0;vt<286;++vt)re[vt]=0;for(vt=0;vt<30;++vt)te[vt]=0}var ee=2,Z=0,W=Y,ue=xe-nt&32767;if(Nt>2&&ke==j(H-ue))for(var Ie=Math.min(J,Nt)-1,Le=Math.min(32767,H),Ge=Math.min(258,Nt);ue<=Le&&--W&&xe!=nt;){if(b[H+ee]==b[H+ee-ue]){for(var rt=0;rt<Ge&&b[H+rt]==b[H+rt-ue];++rt);if(rt>ee){if(ee=rt,Z=ue,rt>Ie)break;var at=Math.min(ue,rt-2),yt=0;for(vt=0;vt<at;++vt){var ct=H-ue+vt+32768&32767,pt=ct-U[ct]+32768&32767;pt>yt&&(yt=pt,nt=ct)}}}ue+=(xe=nt)-(nt=U[xe])+32768&32767}if(Z){Q[De++]=268435456|Ab[ee]<<18|ix[Z];var Xt=31&Ab[ee],en=31&ix[Z];Ne+=Hm[Xt]+_b[en],++re[257+Xt],++te[en],Be=H+ee,++me}else Q[De++]=b[H],++re[b[H]]}}N=cP(b,P,A,Q,re,te,Ne,De,He,H-He,N)}return D_(M,0,_+__(N)+8)}(p,null==h.level?6:h.level,null==h.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(p.length)))):12+h.mem,g,0,!0)}(t,i,10+((p=i).filename&&p.filename.length+1||0)),l=c.length;return function(p,h){var g=h.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=h.level<2?4:9==h.level?2:0,p[9]=3,0!=h.mtime&&Mb(p,4,Math.floor(new Date(h.mtime||Date.now())/1e3)),g){p[3]=8;for(var v=0;v<=g.length;++v)p[v+10]=g.charCodeAt(v)}}(c,i),Mb(c,l-8,o.d()),Mb(c,l-4,a),c}(function(w,A){var T;if(dP)return dP.encode(w);var M=w.length,P=new Vr(w.length+(w.length>>1)),N=0,H=function(J){P[N++]=J};for(T=0;T<M;++T){if(N+5>P.length){var V=new Vr(N+8+(M-T<<1));V.set(P),P=V}var x=w.charCodeAt(T);x<128?H(x):x<2048?(H(192|x>>6),H(128|63&x)):x>55295&&x<57344?(H(240|(x=65536+(1047552&x)|1023&w.charCodeAt(++T))>>18),H(128|x>>12&63),H(128|x>>6&63),H(128|63&x)):(H(224|x>>12),H(128|x>>6&63),H(128|63&x))}return D_(P,0,N)}(I)))),null!==(o=Ve(a))&&void 0!==o&&o.isHost)sr.startBO(I);else{const _=ma(a);_&&sr.coHostStartBO(I,_.userId)}return ze(Es,_=>_.controlStatus===dt.InProgress)}joinRoom(t){const i=this[_e](),o=Ve(i),{breakoutRoom:{controlStatus:a,rooms:c,options:{isRoomSelectionEnabled:p},currentRoom:{status:h,boId:g}},meeting:{userGUID:v}}=i;if(a!==dt.InProgress)return Promise.reject({type:_l,reason:"Breakout room is not started"});if(null!=o&&o.isHost){const S=c.find(b=>b.boId===t);if(!S)return Promise.reject({type:Je,reason:"Room ID is not correct"});sr.joinBO(S.boId)}else if(null!=o&&o.bCoHost){if(!c.find(b=>b.boId===t))return Promise.reject({type:Je,reason:"Room ID is not correct"});{const b=ma(i);b&&sr.wantJoinBO(b?.userId,t)}}else{if(h===je.InRoom&&g===t)return Promise.resolve("");{let S=!1;const b=xs(c,v);if(b&&b.boId===t)sr.joinBO(b.boId);else if(p)if(-1!==c.findIndex(E=>E.boId===t)){const E=ma(i);E&&sr.wantJoinBO(E.userId,t)}else S=!0;else S=!0;if(S)return Promise.reject({type:Je,reason:"Room ID is not correct"})}}return ze(Al,S=>S.boId===t)}leaveRoom(){const t=this[_e](),i=this[_n],{breakoutRoom:{controlStatus:o,options:a,currentRoom:{status:c}}}=t;if(o!==dt.InProgress&&o!==dt.Closing||c!==je.InRoom)return Promise.reject({type:ie});{const l=Co(t);if(!a.isBackToMainSessionEnabled&&!l)return Promise.reject({type:Hr,reason:"Can not return main session during the breakout room"});T_().forEach(p=>i(p))}return Promise.resolve("")}askForHelp(){const t=this[_e](),{breakoutRoom:{controlStatus:i,mainSessionAttendeeList:o,currentRoom:{status:a}},participants:{attendeesList:c}}=t,l=Co(t);if(i!==dt.InProgress||a!==je.InRoom)return Promise.reject({type:ie,reason:"you are not in breakout room"});if(l)return Promise.reject({type:ie,reason:"host or co-host can not ask for help"});{const p=o.find(h=>h.isHost);if(p){if(c.findIndex(h=>h.zoomID===p.zoomID)>-1)return Promise.reject({type:ie,reason:"host is in room"});sr.askForHelpBO(p.userId)}}return ze(Ff,p=>p.result===Cs.Received)}postponeHelping(t){const i=this[_e](),o=this[_n],{breakoutRoom:{mainSessionAttendeeList:a,currentRoom:{status:c}},participants:{attendeesList:l}}=i;let p=l;return c===je.InRoom&&(p=a),p.findIndex(h=>h.userId===t)>-1?(sr.askForHelpResultBO(t,Cs.Ignore),o(Bl(Cs.Ignore)),Promise.resolve("")):Promise.reject({type:Je,reason:"user id is not correct"})}broadcast(t){const{breakoutRoom:{isEnableBOBroadcast:i}}=this[_e]();return i?t?No.beginEncrypt({text:t,type:Jr.BO_BROADCAST}).then(o=>(sr.broadcastBO(o),Promise.resolve(""))):Promise.reject({type:Je,reason:"content empty"}):Promise.reject({type:ie,reason:"Cannot broadcast message due to the feature is not enable"})}startBroadcastVoice(){const t=this[_e](),i=this[_n],{breakoutRoom:{isEnableBOBroadcast:o,isEnableBOBroadcastVoice:a,isBroadcastVoice:c}}=t;if(o&&a){if(as(t))return Promise.reject({type:ie,reason:"Cannot broadcast voice in the room"});{if(c)return Promise.resolve("");const l=Ve(t);return l?.audio===xt.Computer&&!1===l.muted?(sr.broadcastVoiceReq(!0),Jm.broadcastVoiceToBreakoutRoom(!0),i(aS(!0)),Promise.resolve("")):Promise.reject({type:ie,reason:"Start audio and unmute to broadcast"})}}return Promise.reject({type:ie,reason:"Cannot broadcast voice due to the feature is not enable"})}stopBroadcastVoice(){const t=this[_e](),i=this[_n],{breakoutRoom:{isBroadcastVoice:o}}=t;return o?(sr.broadcastVoiceReq(!1),Jm.broadcastVoiceToBreakoutRoom(!1),i(aS(!1)),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot stop broadcast voice due to it is not started"})}assignUserToRoom(t,i){const o=this[_e](),{breakoutRoom:{rooms:a}}=o,c=Mw(o).find(p=>p.userId===t);if(!(c&&a.findIndex(p=>p.boId===i)>-1))return Promise.reject({type:Je,reason:""});var l;if(null!==(l=Ve(o))&&void 0!==l&&l.isHost)sr.assignToBO(t,i);else{const p=ma(o);p&&sr.coHostAssignToBO(c.userGUID,i,p.userId)}return ze(Es,p=>{const{controlStatus:h,roomList:g}=p,v=g.find(S=>S.boId===i);return h===dt.InProgress&&v&&v.attendeeGuidList.includes(c.userGUID)})}moveUserToRoom(t,i){const o=this[_e](),{breakoutRoom:{rooms:a,mainSessionAttendeeList:c},participants:{attendeesList:l}}=o,p=(as(o)?c:l).find(g=>g.userId===t);if(!p)return Promise.reject({type:Je,reason:"user id not correct"});{const g=xs(a,p.userGUID);if(!g)return Promise.reject({type:ie,reason:"user not in a room"});if(g.boId===i)return Promise.reject({type:ie,reason:"user already in the target room"});{const v=a.find(S=>S.boId===i);if(!v)return Promise.reject({type:Je,reason:"invalid room id"});var h;if(null!==(h=Ve(o))&&void 0!==h&&h.isHost)sr.switchBO(t,v.boId);else{const S=ma(o);S&&sr.coHostAssignToBO(p.userGUID,v.boId,S.userId)}}}return ze(Es,g=>{const{controlStatus:v,roomList:S}=g,b=S.find(E=>E.boId===i);return v===dt.InProgress&&b&&b.attendeeGuidList.includes(p.userGUID)})}moveBackToMainSession(t){const i=this[_e](),{breakoutRoom:{rooms:o,mainSessionAttendeeList:a},participants:{attendeesList:c}}=i,l=(as(i)?a:c).find(h=>h.userId===t);if(!l)return Promise.reject({type:Je,reason:"user id not correct"});if(!xs(o,l.userGUID))return Promise.reject({type:ie,reason:"user not in a room"});var p;if(null!==(p=Ve(i))&&void 0!==p&&p.isHost)sr.moveToMainSession(l.userGUID);else{const h=ma(i);h&&sr.coHostMoveToMainSession(l.userGUID,h.userId)}return ze(Es,h=>{const{controlStatus:g,roomList:v}=h;return g===dt.InProgress&&v.some(S=>{const{attendeeGuidList:b}=S;return b.includes(l.userGUID)})})}closeRoom(){const t=this[_e](),{breakoutRoom:{controlStatus:i}}=t;if(i!==dt.InProgress)return Promise.reject({type:ie,reason:"room is not started"});var o;if(null!==(o=Ve(t))&&void 0!==o&&o.isHost)sr.stopBO(dt.Closing);else{const a=ma(t);a&&sr.coHostStopBO(dt.Closing,a.userId)}return ze(Es,a=>a.controlStatus===dt.Closing)}loadPreAssignedRooms(){const t=this[_e](),{meeting:{meetingOptions:i},breakoutRoom:{controlStatus:o}}=t;return!i.isAllowBreakoutRoomPreAssign||o!==dt.NotStarted&&o!==dt.Closed?Promise.reject({type:ie}):(sr.preAssignBreakoutRoom(),ze(yy))}getUnassignedAttendeeList(){const t=this[_e](),i=Ve(t);return null!=i&&i.isHost||null!=i&&i.bCoHost?Mw(t).map(o=>hd(o)):[]}getRoomList(){const t=this[_e](),{breakoutRoom:{rooms:i,currentRoom:{status:o,boId:a},mainSessionAttendeeList:c,inRoomUserActivityStatusMap:l,options:{isRoomSelectionEnabled:p}},participants:{attendeesList:h}}=t,g=Ve(t);if(g&&(g.isHost||g.bCoHost||p)){const v=o===je.InRoom,S=v?c:h;return i.map(b=>{const{attendeeGuidList:E,boId:I,name:_}=b,w=(E||[]).map(A=>S.find(T=>T.userGUID===A)).filter(A=>!(null!=A&&A.isHost)).filter(Boolean);return v&&g.isHost&&I===a&&w.unshift(g),{roomId:I,name:_,attendeeList:w.filter(A=>!!A).map(A=>{var T;const M=null!==(T=l[A.userGUID])&&void 0!==T?T:{};return{userId:A.userId,displayName:A.displayName,avatar:A.avatar,isInRoom:A.bid===I,userGuid:A.userGUID,...M}})}})}return t.breakoutRoom.rooms.map(v=>{const{boId:S,name:b}=v;return{roomId:S,name:b,attendeeList:[]}})}getAttendeeStatus(){return this[_e]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[_e]().breakoutRoom.controlStatus}getCurrentRoom(){const t=this[_e](),{breakoutRoom:{currentRoom:{status:i,name:o,boId:a}}}=t;return{attendeeStatus:i,name:o,roomId:a}}getRoomOptions(){const t=this[_e](),{breakoutRoom:{options:i}}=t,{whoStart:o,whoStop:a,...c}=i;return{...c}}}).prototype,"createRooms",[de,Hn,ri],Object.getOwnPropertyDescriptor(mt.prototype,"createRooms"),mt.prototype),le(mt.prototype,"recreateRooms",[de,Hn,ri],Object.getOwnPropertyDescriptor(mt.prototype,"recreateRooms"),mt.prototype),le(mt.prototype,"openRooms",[de,Hn,ri],Object.getOwnPropertyDescriptor(mt.prototype,"openRooms"),mt.prototype),le(mt.prototype,"joinRoom",[de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"joinRoom"),mt.prototype),le(mt.prototype,"leaveRoom",[de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"leaveRoom"),mt.prototype),le(mt.prototype,"askForHelp",[de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"askForHelp"),mt.prototype),le(mt.prototype,"postponeHelping",[hr,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"postponeHelping"),mt.prototype),le(mt.prototype,"broadcast",[Hn,de],Object.getOwnPropertyDescriptor(mt.prototype,"broadcast"),mt.prototype),le(mt.prototype,"startBroadcastVoice",[hr,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"startBroadcastVoice"),mt.prototype),le(mt.prototype,"stopBroadcastVoice",[hr,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"stopBroadcastVoice"),mt.prototype),le(mt.prototype,"assignUserToRoom",[Hn,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"assignUserToRoom"),mt.prototype),le(mt.prototype,"moveUserToRoom",[Hn,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"moveUserToRoom"),mt.prototype),le(mt.prototype,"moveBackToMainSession",[Hn,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"moveBackToMainSession"),mt.prototype),le(mt.prototype,"closeRoom",[Hn,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"closeRoom"),mt.prototype),le(mt.prototype,"loadPreAssignedRooms",[hr,de,ri],Object.getOwnPropertyDescriptor(mt.prototype,"loadPreAssignedRooms"),mt.prototype),mt);const kV=qr({epics0:(t,i)=>t.pipe(Me(`${$i}`),st(o=>{const{breakoutRoom:a,meeting:{meetingOptions:c}}=i.value,{payload:{hugeBO:l,elapsed:p}}=o,h=[];return a&&(c&&(h.push(TT(l&&!0===c.isBO100Enabled)),h.push(Eg({isEnableBreakoutRoom:c.isEnableBreakoutRoom,isEnableBOBroadcast:c.isEnableBOBroadcast,isEnableBOViewActivityStatus:c.isEnableBOViewActivityStatus,isEnableBOBroadcastVoice:c.isEnableBOBroadcastVoice}))),a.currentRoom.boConfId&&h.push(tf()),void 0!==p&&h.push(oS(p))),ve(h)})),epics1:t=>Ce(t,4174).pipe(Te(i=>{F(kf,i.payload.body.bid)}),We(Se)),epics2:(t,i)=>ur(t,7950).pipe(Pe(i),st(o=>{let[a,c]=o;const{payload:{body:{proto:l}}}=a,{breakoutRoom:{isHugeBO:p,currentRoom:{status:h,boId:g}},meeting:{userGUID:v}}=c;let S=l;var I,w,A;p&&(S=function(I,_){if(pP)return pP.decode(I);var T=function(P){for(var N="",H=0;;){var V=P[H++],x=(V>127)+(V>223)+(V>239);if(H+x>P.length)return[N,D_(P,H-1)];x?3==x?(V=((15&V)<<18|(63&P[H++])<<12|(63&P[H++])<<6|63&P[H++])-65536,N+=String.fromCharCode(55296|V>>10,56320|1023&V)):N+=String.fromCharCode(1&x?(31&V)<<6|63&P[H++]:(15&V)<<12|(63&P[H++])<<6|63&P[H++]):N+=String.fromCharCode(V)}}(I),M=T[0];return T[1].length&&ba(8),M}(function(w,A,T){var M=w.length;if(!M||T&&T.f&&!T.l)return A||new Vr(0);var P=!A||T,N=!T||T.i;T||(T={}),A||(A=new Vr(3*M));var H=function(Xt){var en=A.length;if(Xt>en){var $t=new Vr(Math.max(2*en,Xt));$t.set(A),A=$t}},V=T.f||0,x=T.p||0,J=T.b||0,Y=T.l,z=T.d,U=T.m,O=T.n,L=8*M;do{if(!Y){V=Sa(w,x,1);var $=Sa(w,x+1,3);if(x+=3,!$){var j=w[(nt=__(x)+4)-4]|w[nt-3]<<8,Q=nt+j;if(Q>M){N&&ba(0);break}P&&H(J+j),A.set(w.subarray(nt,Q),J),T.b=J+=j,T.p=x=8*Q,T.f=V;continue}if(1==$)Y=TV,z=OV,U=9,O=5;else if(2==$){var re=Sa(w,x,31)+257,te=Sa(w,x+10,15)+4,me=re+Sa(w,x+5,31)+1;x+=14;for(var Ne=new Vr(me),De=new Vr(19),Be=0;Be<te;++Be)De[Db[Be]]=Sa(w,x+3*Be,7);x+=3*te;var He=I_(De),ke=(1<<He)-1,xe=Ls(De,He,1);for(Be=0;Be<me;){var nt,Nt=xe[Sa(w,x,ke)];if(x+=15&Nt,(nt=Nt>>>4)<16)Ne[Be++]=nt;else{var vt=0,ee=0;for(16==nt?(ee=3+Sa(w,x,3),x+=2,vt=Ne[Be-1]):17==nt?(ee=3+Sa(w,x,7),x+=3):18==nt&&(ee=11+Sa(w,x,127),x+=7);ee--;)Ne[Be++]=vt}}var Z=Ne.subarray(0,re),W=Ne.subarray(re);U=I_(Z),O=I_(W),Y=Ls(Z,U,1),z=Ls(W,O,1)}else ba(1);if(x>L){N&&ba(0);break}}P&&H(J+131072);for(var ue=(1<<U)-1,Ie=(1<<O)-1,Le=x;;Le=x){var Ge=(vt=Y[w_(w,x)&ue])>>>4;if((x+=15&vt)>L){N&&ba(0);break}if(vt||ba(2),Ge<256)A[J++]=Ge;else{if(256==Ge){Le=x,Y=null;break}var rt=Ge-254;if(Ge>264){var at=Hm[Be=Ge-257];rt=Sa(w,x,(1<<at)-1)+Sd[Be],x+=at}var yt=z[w_(w,x)&Ie],ct=yt>>>4;if(yt||ba(3),x+=15&yt,W=AV[ct],ct>3&&(at=_b[ct],W+=w_(w,x)&(1<<at)-1,x+=at),x>L){N&&ba(0);break}P&&H(J+131072);for(var pt=J+rt;J<pt;J+=4)A[J]=A[J-W],A[J+1]=A[J+1-W],A[J+2]=A[J+2-W],A[J+3]=A[J+3-W];J=pt}}T.l=Y,T.p=Le,T.b=J,T.f=V,Y&&(V=1,T.m=U,T.d=z,T.n=O)}while(!V);return J==A.length?A:D_(A,0,J)}((I=ji(l)).subarray(function(w){31==w[0]&&139==w[1]&&8==w[2]||ba(6,"invalid gzip data");var A=w[3],T=10;4&A&&(T+=w[10]|2+(w[11]<<8));for(var M=(A>>3&1)+(A>>4&1);M>0;M-=!w[T++]);return T+(2&A)}(I),-8),new Vr(((w=I)[(A=w.length)-4]|w[A-3]<<8|w[A-2]<<16|w[A-1]<<24)>>>0))));const b=[];let E;try{const I=JSON.parse(gi(S)),{ControlStatus:_,NameIndex:w,IsAutoJoinEnabled:A,IsBackToMainSessionEnabled:T,IsParticipantsChooseRoomEnabled:M,IsTimerEnabled:P,TimerDuration:N,IsTimerAutoEndEnabled:H,WaitSeconds:V,StartTimeOnMMR:x,ItemList:J,WhoStart:Y,WhoStop:z,IsAutoMovetoMainSessionEnabled:U}=I,O={isAutoJoinRoom:A,isBackToMainSessionEnabled:T,isTimerEnabled:P,timerDuration:N,isTimerAutoEnabled:H,waitSeconds:V,isAutoMoveBackToMainSession:U,isRoomSelectionEnabled:M,whoStart:Y,whoStop:z};b.push(AT(O)),b.push(yg(x)),b.push(rS(w)),b.push(_1(_));const L=J&&J.map($=>({boId:$.BID,name:$.MeetingTitle,boStatus:$.Status,hostId:$.HostID,attendeeGuidList:$.ParticipantList||[]}))||[];switch(b.push(Sg(L)),F(Es,{controlStatus:_,roomList:L}),_){case dt.InProgress:if(h!==je.InRoom&&h!==je.Joining){const $=function(j,Q){const{meeting:{isHost:re,userGUID:te},breakoutRoom:{currentRoom:{status:me,boId:Ne}}}=Q.value,De=ot.get(A_),Be=[];if(De)try{const{status:He,boId:ke}=JSON.parse(De);if(He===je.Invited)if(re)qm();else{const xe=xs(j,te);xe&&(Be.push(Km(xe)),me!==je.Initial&&Ne===xe.boId||F(my,{roomId:xe.boId,name:xe.name}))}else if(He===je.InRoom){let xe;if(xe=re?j.find(nt=>nt.boId===ke):xs(j,te),xe){Be.push(Km(xe));const nt=xe.boId;Hl(Q).subscribe(()=>{Ot.createAgent().joinBO(nt)})}qm()}}catch(He){console.error(He)}return Be}(L,i);if(0===$.length){const j=xs(L,v);j&&b.push(Km(j))}else b.push(...$)}else if(h===je.InRoom&&a.type===`${Ra}`){const $=xs(L,v);$&&O_(i).subscribe(j=>{g===$.boId||j||Fs.joinBO($.boId)})}O.isTimerEnabled&&O.timerDuration>0&&(j=O.timerDuration,Q=x,E=O_($=i).pipe(Pe($),st(re=>{let[te,me]=re;const{breakoutRoom:{currentRoom:{status:Ne},meetingElapsedTime:De},meeting:{joinMeetingTimeStamp:Be}}=me,He=Be-1e3*De+1e3*Q+1e3*j;if(performance.now()<He){if(te)return it(1e3).pipe(ye(()=>Math.floor((He-performance.now())/1e3)),Pe($),Fd(ke=>{let[xe,nt]=ke;const{breakoutRoom:{controlStatus:Nt,currentRoom:{status:vt}},socket:{zoomSocketStatus:ee},meeting:{isHost:Z}}=nt;return xe>=0&&Z&&Nt===dt.InProgress&&(vt===je.InRoom||vt===je.MainSession||vt===je.Initial)&&ee===Wt.Connected}),Te(ke=>{let[xe]=ke;F(xf,{countdown:xe})}),ne(ke=>{let[xe]=ke;return 0===xe}),Te(ke=>{let[,xe]=ke;const{breakoutRoom:{options:nt}}=xe;nt.isTimerAutoEnabled?Ot.createAgent().stopBO(dt.Closing):F(Tl)}),ae(()=>Se));if(Ne===je.InRoom)return it(1e3).pipe(ye(()=>Math.floor((He-performance.now())/1e3)),Pe($),Fd(ke=>{let[xe,nt]=ke;const{breakoutRoom:{currentRoom:{status:Nt}},meeting:{isHost:vt},socket:{zoomSocketStatus:ee}}=nt;return xe>=0&&Nt===je.InRoom&&!vt&&ee===Wt.Connected}),Te(ke=>{let[xe]=ke;F(xf,{countdown:xe})}),ae(()=>Se))}return Se})));break;case dt.Closing:E=O_(i).pipe(ne($=>$),ae(()=>{const $=[],{breakoutRoom:{closingRoomTime:j,currentRoom:{status:Q}},participants:{attendeesList:re}}=i.value;let te=O.waitSeconds;if(0!==j&&O.waitSeconds>0){const me=Math.floor((performance.now()-j)/1e3);te=Math.max(O.waitSeconds-me,0)}if(0===te)return Fs.stopBO(dt.Closed),Se;{if(Q!==je.InRoom&&re.length>1&&re.every(Ne=>!Ne.bid))return Fs.stopBO(dt.Closed),Se;j||$.push(bg(performance.now()));const me=performance.now()+1e3*te;return Kn(ve($),On(0,1e3).pipe(ye(()=>Math.floor((me-performance.now())/1e3)),Pe(i),Fd(Ne=>{let[,De]=Ne;const{breakoutRoom:{controlStatus:Be},meeting:{isHost:He},socket:{zoomSocketStatus:ke}}=De;return Be===dt.Closing&&ke===Wt.Connected&&He}),Te(Ne=>{let[De]=Ne;De>=0&&F(Lf,{countdown:De})}),ne(Ne=>{let[De]=Ne;return De<=0}),Te(()=>{Fs.stopBO(dt.Closed)}),ae(()=>Se)))}}));break;case dt.Closed:b.push(bg(0)),h===je.Leaving?b.push(cc(je.MainSession)):h===je.Invited?b.push(cc(je.Initial)):h!==je.InRoom&&h!==je.Joining||b.push(...T_()),qm()}}catch(I){console.error(I)}var $,j,Q;return E?Kn(ve(b),E):ve(b)})),epics3:(t,i)=>ur(t,4194).pipe(Pe(i),st(o=>{let[a,c]=o;const{payload:{body:{bid:l,botoken:p,confID:h}}}=a,{meeting:{isHost:g},breakoutRoom:{rooms:v,currentRoom:{status:S}}}=c,b=[],E=v.find(I=>I.boId===l);return E&&(b.push(Km(E,g)),b.push(bC(h)),b.push(EC(p)),g||S!==je.InRoom?b.push(...R_(E.name,S)):b.push(...fP(E.name))),F(Al,{boId:l}),ve(b)})),epics4:(t,i)=>t.pipe(Me(`${xu}`,`${Ra}`),ne(o=>7949===o.payload.evt),Pe(i),ae(o=>{var a;let[c,l]=o;const{payload:{body:p}}=c,{meeting:{userGUID:h},breakoutRoom:{rooms:g,options:{isAutoJoinRoom:v,isAutoMovetoMainSession:S},currentRoom:{status:b},mainSessionAttendeeList:E},participants:{attendeesList:I}}=l,{commandType:_}=p,w=[];let A;const T=null===(a=(Pb(b)?I:E).find(V=>V.userGUID===h))||void 0===a?void 0:a.userId;switch(_){case Ol.Join:{const{targetBID:V,botoken:x,confID:J,joinReason:Y,requestSourceID:z}=p,U=xs(g,h);if(U&&U.boId===V){w.push(bC(J)),w.push(EC(x));const O=Number(Y)===Kf.Active&&T===Number(z);v||O?(O&&F(Al,{boId:V}),w.push(...R_(U.name))):(ot.set(Rt.WebclientBreakoutRoomCommand,_,Tt.SessionStorage),F(my,{roomId:V,name:U.name,...sx(z,l)}))}break}case Ol.Switch:{const{targetBID:V,botoken:x,confID:J,joinMethod:Y,requestSourceID:z}=p,U=xs(g,h);if(U&&U.boId===V){w.push(iS({boId:U.boId,boToken:x,boConfId:J,name:U.name}));const O=T===Number(z)&&Number(Y)===oa.AskToLeave;b===je.Invited?(ot.set(Rt.WebclientBreakoutRoomCommand,_,Tt.SessionStorage),v||T===Number(z)?w.push(...R_(U.name)):F(my,{roomId:V,name:U.name,...sx(z,l)})):w.push(...fP(U.name)),O&&F(Al,{boId:V})}break}case Ol.Leave:{const{waitTime:V,joinMethod:x}=p;if(Pb(b))w.push(iS({boId:"",boToken:"",boConfId:"",status:je.Initial}));else{const J=Number(V);if(J>0){const Y=performance.now()+1e3*J;A=On(0,1e3).pipe(ye(()=>Math.floor((Y-performance.now())/1e3)),Pe(i),Fd(z=>{let[U,O]=z;const{breakoutRoom:{controlStatus:L,currentRoom:{status:$}},meeting:{isHost:j},socket:{zoomSocketStatus:Q}}=O;return U>=0&&Q===Wt.Connected&&L===dt.Closing&&$===je.InRoom&&!j}),Te(z=>{let[U]=z;U>=0&&F(Lf,{countdown:U})}),We(Se))}else if(Number(x)!==oa.AskToLeave||S)w.push(...T_());else{var M,P,N;const{requestSourceID:Y}=p,z=Number(Y),{participants:{attendeesList:U}}=l;let O=U.find(L=>L.userId===z);if(!O){const{breakoutRoom:{mainSessionAttendeeList:L}}=l;O=L.find($=>$.userId===z)}F(XN,{inviterId:null===(M=O)||void 0===M?void 0:M.userId,inviterGuid:null===(P=O)||void 0===P?void 0:P.userGUID,inviterName:null===(N=O)||void 0===N?void 0:N.displayName})}qm()}break}case Ol.Broadcast:{const{textContent:V,requestID:x}=p;if(V){const{meeting:{encType:J},participants:{attendeesList:Y},breakoutRoom:{mainSessionAttendeeList:z}}=l;let U="";if(J===Vv.AES_GCM){const O=(Pb(b)?Y:z).find(L=>L.userId===Number(x));O&&(U=O.zoomID)}A=ve(No.beginDecrypt({decryptedText:V,type:Jr.BO_BROADCAST,zoomId:U}).then(O=>{let{message:L}=O;return F(Dl,{message:L}),IC(L)}))}break}case Ol.HelpReq:{const{requestID:V}=p,{breakoutRoom:{mainSessionAttendeeList:x,rooms:J,currentRoom:{boId:Y},hostReplyToQuestionerType:z,hostReplyToRequestId:U},participants:{attendeesList:O}}=l;if(V){if(b===je.InRoom){const L=x.find($=>$.userId===V);if(L&&L.bid===Y){Fs.askForHelpResultBO(V,Cs.AlreadyInRoom);break}}if(z===Cs.Received&&U!==V)Fs.askForHelpResultBO(V,Cs.Busy);else{Fs.askForHelpResultBO(V,Cs.Received),w.push(Bl(Cs.Received),Mp(V));const L=(b===je.InRoom?x:O).find($=>$.userId===V);if(L){const $=L.bid,j=J.find(Q=>Q.boId===$);j&&F(vy,{userId:V,userGuid:L.userGUID,displayName:L.displayName,roomName:j.name,roomId:j.boId})}}}break}case Ol.HelpRes:{const{helpResult:V}=p;F(Ff,{result:Number(V)});break}case Ol.BOActivity:{var H;const{activityRoster:V,activityTalking:x,requestID:J}=p,Y=null===(H=(as(l)?l.breakoutRoom.mainSessionAttendeeList:l.participants.attendeesList).find(z=>z.userId===J))||void 0===H?void 0:H.userGUID;if(Y){const{breakoutRoom:{rooms:z}}=l,U=xs(z,Y),O=function(L,$){const j={isTalking:1===$};return gP.forEach(Q=>{const{mask:re,key:te,value:me}=Q;return(re&L)===re&&Object.assign(j,{[`${te}`]:me}),j}),j}(Number(V),Number(x));w.push(sS({userGuid:Y,status:O})),F(Sy,{...O,userId:J,userGuid:Y,roomId:U?.boId,roomName:U?.name})}break}}return A?Kn(ve(w),A):ve(w)})),epics5:(t,i)=>ps(t,4098).pipe(Pe(i),st(o=>{let[a,c]=o;const{payload:{body:{res:l,elapsed:p}}}=a,h=[];return l===ho.MeetingHasClosed||l===ho.UserHasBeenRemoved?(qm(),h.push(...pc(c,!1))):l===ho.Success&&(h.push(oS(p)),h.push(cc(je.InRoom)),ot.set(Rt.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:je.InRoom,boId:c.breakoutRoom.currentRoom.boId}),Tt.SessionStorage)),ve(h)})),epics6:t=>ps(t,yn).pipe(ye(i=>fa(i.payload.body)),ae(i=>{const o=[ia(i)];return F(Uf),ve(o)})),epics7:(t,i)=>ps(t,yn).pipe(ye(o=>fa(o.payload.body)),ye(o=>{const a=[];return["add","update"].forEach(c=>o[c]&&a.push(...o[c])),a.filter(c=>[...Qm,"bAudioUnencrytped"].some(l=>void 0!==c[l]))}),ne(o=>o.length>0),Ht(Pd),ae(o=>{const a=[],{participants:{attendeesList:c},breakoutRoom:{mainSessionAttendeeList:l,isUserRoleUpdated:p},meeting:{userId:h}}=i.value,g=o.map(v=>{const S=l.find(E=>E.userId===v.userId),b=c.find(E=>E.userGUID===S?.userGUID);if(b){if(void 0!==v.bCCEditor&&a.push(mg({editorId:v.bCCEditor?b.userId:"",isEditor:!!v.bCCEditor,editorZoomId:v.bCCEditor?b.zoomID:""})),delete v.bRaiseHand,delete v.bCapsPinMultiVideo,!p&&b.userId===h){const E={};Iy(v.userRole)?Object.assign(E,v):(l.some(I=>I.isHost)||void 0!==v.bAudioUnencrytped)&&Object.assign(E,S),void 0!==E.userId&&(a.push(_C(!0)),F(Vf,v))}return{...v,userId:b.userId}}}).filter(v=>!!v);return g.length>0&&(F(yo,g),a.push($f({update:g}))),ve(a)})),epics8:t=>ps(t,yi).pipe(ne(i=>{const{payload:{body:o}}=i;return void 0!==o?.bAllowAttendeeRename||void 0!==o?.chatPriviledge||void 0!==o?.lockShare}),ye(i=>{const{payload:{body:o}}=i;return void 0!==o.bAllowAttendeeRename?mn(i.payload.body):void 0!==o.chatPriviledge?mC(o.chatPriviledge):void 0!==o.lockShare?ky(o.lockShare):void 0})),epics9:(t,i)=>Ce(t,yn).pipe(Pe(i),ne(o=>{let[,a]=o;const{meeting:{isHost:c},breakoutRoom:{controlStatus:l,currentRoom:{status:p}}}=a;return c&&l===dt.Closing&&p!==je.InRoom}),Ht(Pd),Te(()=>{const{participants:{attendeesList:o}}=i.value;o.every(a=>!a.bid)&&o.length>1&&Fs.stopBO(dt.Closed)}),We(Se)),epics10:(t,i)=>Ce(t,4214).pipe(Pe(i),st(o=>{let[a,c]=o;const{payload:{body:{proto:l}}}=a,{breakoutRoom:{rooms:p,isHugeBO:h}}=c;try{const g=JSON.parse(gi(l)),v=[];if(g&&g.PreAssignBoList&&Array.isArray(g.PreAssignBoList)){const S=g.PreAssignBoList.map(E=>({name:E.BoName,emails:E.email}));if(v.push(wC(S)),p.length+S.length<(h?100:50)){const E=S.map(I=>I.name);return Fs.batchCreateBOToken(E),Kn(ve(v),Nb(E.length).pipe(Pe(i),ae(I=>{let[{boIdList:_},w]=I;const A=Yt(w),T=S.map((P,N)=>{const{emails:H,name:V}=P;let x=[];return H&&Array.isArray(H)&&(x=H.map(J=>A.filter(Y=>Y.userEmail===J).map(Y=>Y.userGUID)).reduce((J,Y)=>[...J,...Y],[])),{boId:_[N],name:V,attendeeGuidList:x}}),M=T.map((P,N)=>({roomId:P.boId,name:P.name,emails:S[N].emails}));return F(yy,{rooms:M}),ve([Sg(T),wC(M)])})))}return ve(v)}}catch{console.error("pre assign proto is not valid")}return Se})),epics11:(t,i)=>ur(t,yn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{isHost:l,meetingStatus:p,meetingOptions:h},breakoutRoom:{controlStatus:g}}=c,{payload:{body:v}}=a;return p===wt.Joined&&h?.isAllowBreakoutRoomPreAssign&&l&&(g===dt.NotStarted||g===dt.InProgress)&&Array.isArray(v.add)}),ae(o=>{let[a,c]=o;const{breakoutRoom:{controlStatus:l,rooms:p,preAssignedRooms:h,currentRoom:{status:g}},participants:{failoverAttendeesList:v}}=c,S=h?.filter(I=>p.findIndex(_=>_.boId===I.roomId)>-1),{payload:{body:{add:b}}}=a,E=[];return S.length>0&&b.filter(I=>I.userEmail&&I.userGUID).filter(I=>-1===v.findIndex(_=>_.zoomID===I.zoomID)).forEach(I=>{if(!xs(p,I.userGUID))for(let _=0;_<S?.length;_++){const w=S[_];if(w.emails.includes(I.userEmail)){if(l===dt.NotStarted){const A=B(p,T=>{const M=T.find(P=>P.boId===w.roomId);M?.attendeeGuidList.push(I.userGUID)});E.push(Sg(A))}else l===dt.InProgress&&(g===je.InRoom&&a.type===`${Ra}`?Fs.assignToBO(I.id,String(w.roomId)):g!==je.Initial&&g!==je.MainSession||Fs.assignToBO(I.id,String(w.roomId)));break}}}),ve(E)})),epics12:(t,i)=>Ce(t,yn).pipe(ne(o=>{const{breakoutRoom:{mainSessionAttendeeList:a}}=i.value,{payload:{body:c}}=o;return a.length>0&&(void 0!==c.add||void 0!==c.update)}),Ht(Ui),ye(o=>fa(o.payload.body)),ae(o=>{const{breakoutRoom:{mainSessionAttendeeList:a,isUserRoleUpdated:c},participants:{attendeesList:l}}=i.value;let p=[];const h=[];["add","update"].forEach(S=>o[S]&&p.push(...o[S]));const g=[...Qm,"isHost"];p=p.filter(S=>g.some(b=>void 0!==S[b]));const v=p.filter(S=>void 0!==S.zoomID);return p=p.map(S=>{var b,E,I,_;const w=null!==(b=null!==(E=S.zoomID)&&void 0!==E?E:null===(I=v.find(A=>A.userId===S.userId))||void 0===I?void 0:I.zoomID)&&void 0!==b?b:null===(_=l.find(A=>A.userId===S.userId))||void 0===_?void 0:_.zoomID;if(w){const A=a.find(T=>T.zoomID===w);if(A)return c||(h.push(_C(!0)),F(Vf,A)),Object.keys(S).filter(T=>Object.prototype.hasOwnProperty.call(S,T)).filter(T=>g.includes(T)).reduce((T,M)=>{const P=A[M];return void 0===P&&"bCoHost"!==M||Object.assign(T,{[M]:"boolean"==typeof S[M]?!!P:P}),T},{userId:S.userId})}}).filter(Boolean),p.length>0&&(F(yo,p),h.push($f({update:p}))),ve(h)})),epics13:t=>ps(t,7999).pipe(Te(i=>{const{payload:{body:{bStatus:o}}}=i;F(fp,{status:!!o})}),ae(()=>Se)),epics14:(t,i)=>Ce(t,7940).pipe(ae(o=>{const{payload:{body:{bHost:a}}}=o,{breakoutRoom:{isBroadcastVoice:c}}=i.value,l=[];return!a&&c&&(Ye.getInstance().broadcastVoiceToBreakoutRoom(!1),l.push(aS(!1))),ve(l)}))},{breakoutRoomSharingEpics0:(t,i)=>ps(t,yn).pipe(ne(o=>{var a;const{payload:{body:c}}=o;return null==c||null===(a=c.update)||void 0===a?void 0:a.some(l=>void 0!==l.bShareToBORooms||void 0!==l.bShareOn)}),Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{breakoutRoom:{mainSessionAttendeeList:p}}=c,h=l.filter(S=>S.bShareOn&&S.bShareToBORooms),g=l.filter(S=>!S.bShareOn||!S.bShareToBORooms),v=p.filter(S=>S.sharerOn&&S.bShareToBORooms);return h.length>0&&h.forEach(S=>{-1===v.findIndex(b=>b.userId===S.id)&&F($r,{...S,isFromMainSession:!0})}),g.length>0&&g.forEach(S=>{F(Il,{...S,isFromMainSession:!0})}),l.map(S=>{if(S.bShareOn&&S.bShareToBORooms){if(0===p.filter(b=>b.sharerOn&&b.bShareToBORooms&&b.userId!==S.id).length)return{activeNodeID:S.id,bStatus:1,ssrc:S.shareSsrc};{const b=p.find(E=>E.userId===S.id);if(null!=b&&b.isHost)return{activeNodeID:S.id,bStatus:1,ssrc:S.shareSsrc}}}else if(!S.bShareOn||!S.bShareToBORooms){const b=p.filter(E=>E.bShareToBORooms&&E.sharerOn);if(1===b.length&&b[0].userId===S.id)return{activeNodeID:S.id,bStatus:0,ssrc:0};{const E=b.filter(_=>_.userId!==S.id),I=E.find(_=>_.isHost);if(I)return{activeNodeID:I.userId,bStatus:1,ssrc:I.shareSsrc};{const _=E[0];if(_)return{activeNodeID:_.userId,bStatus:1,ssrc:_.shareSsrc}}}}}).filter(Boolean)}),ae(o=>{const{share:{status:a},meeting:{userId:c}}=i.value,l=[];return o.map(p=>{const{activeNodeID:h,bStatus:g,ssrc:v}=p,S=1===g;l.push(Za(S)),S&&a!==_t.End&&(mP.stopSharing(c),vP.stopDesktopSharing(),l.push(wi(_t.End)),F(dy));let b={activeNodeID:h,bStatus:g,ssrc:v,fromMainSession:!0};if(!S){const{participants:{attendeesList:E}}=i.value,I=E.filter(_=>_.sharerOn);if(I.length>0){const _=I[0];b={activeNodeID:_.userId,bStatus:1,ssrc:_.shareSsrc||0}}}l.push(xu({evt:20225,body:b}))}),ve(l)})),breakoutRoomSharingEpics1:(t,i)=>ps(t,4098).pipe(st(o=>{const{payload:{body:{userID:a,confID:c}}}=o;return Kn(...["sharing","audio"].map(l=>{return g=i,v=a,S=c,ps(t,"audio"===(p=l)?jv:zD).pipe(Ct(1),Te(b=>{const{payload:{body:{encryptKey:E,additionalType:I}}}=b,{media:{sharingDecodeStatus:_,audioDecodeStatus:w},meeting:{svcUrl:A,meetingNumber:T,conId:M,zoomId:P,meetingId:N}}=g.value;Gr(p,"success","audio"===p?w:_).subscribe(H=>{let[,V]=H;if(V){hP.createMainSessionChannel(p,`wss://${A}/wc/media/${T}?type=${"audio"===p?"ma":"ms"}&cid=${M}&mode=1`),hP.updateMediaParams({iVType:"audio"===p?Or.AUDIO_DECODE:Or.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:v,sn:ji(P),confId:S,encryptType:I,encryptKey:ji(E),meetingId:N,meetingNumber:T}});const{breakoutRoom:{mainSessionAttendeeList:J}}=g.value;if(J?.length>0){const Y=J.map(z=>({userid:z.userId,sn:z.zoomID&&ji(z.zoomID)}));hP.updateUserMediaSN({added:Y,isFromMainSession:!0,iVType:"audio"===p?Or.AUDIO_DECODE:Or.SHARING_DECODE})}}})}),ae(()=>Se));var p,g,v,S}))}))});let P_=function(t){return t[t.Ready=0]="Ready",t[t.UserSub=1]="UserSub",t[t.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",t[t.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",t}({}),Vs=function(t){return t[t.Unspecified=-1]="Unspecified",t[t.English=0]="English",t[t["Chinese (Simplified)"]=1]="Chinese (Simplified)",t[t.Japanese=2]="Japanese",t[t.German=3]="German",t[t.French=4]="French",t[t.Russian=5]="Russian",t[t.Portuguese=6]="Portuguese",t[t.Spanish=7]="Spanish",t[t.Korean=8]="Korean",t[t.Italian=9]="Italian",t[t.Reserved=10]="Reserved",t[t.Vietnamese=11]="Vietnamese",t[t.Dutch=12]="Dutch",t[t.Ukrainian=13]="Ukrainian",t[t.Arabic=14]="Arabic",t[t["Chinese (Traditional)"]=16]="Chinese (Traditional)",t[t.Czech=17]="Czech",t[t.Estonian=18]="Estonian",t[t.Finnish=19]="Finnish",t[t.Hebrew=21]="Hebrew",t[t.Hindi=22]="Hindi",t[t.Hungarian=23]="Hungarian",t[t.Indonesian=24]="Indonesian",t[t.Malay=25]="Malay",t[t.Persian=26]="Persian",t[t.Polish=27]="Polish",t[t.Romanian=28]="Romanian",t[t.Swedish=29]="Swedish",t[t.Tamil=30]="Tamil",t[t.Telugu=31]="Telugu",t[t.Tagalog=32]="Tagalog",t[t.Turkish=33]="Turkish",t[t["French (Canada)"]=34]="French (Canada)",t[t.Danish=35]="Danish",t[t.Thai=37]="Thai",t[t.Cantonese=44]="Cantonese",t[t.NoTranslation=400]="NoTranslation",t[t.DefaultManualInput=401]="DefaultManualInput",t[t.Customized=500]="Customized",t}({}),bd=function(t){return t[t.Unknown=0]="Unknown",t[t.Close=1]="Close",t[t.New=2]="New",t[t.Insert=3]="Insert",t[t.Delete=4]="Delete",t[t.Reset=5]="Reset",t[t.Audiodesc=6]="Audiodesc",t[t.Speaker=7]="Speaker",t[t.Error=8]="Error",t}({}),cx=function(t){return t[t.TranslateNotSupport=1]="TranslateNotSupport",t}({}),Iu=function(t){return t[t.Unspecified=0]="Unspecified",t[t.InMeetingManual=1]="InMeetingManual",t[t.ExternalCaptioner=2]="ExternalCaptioner",t[t.ASR=4]="ASR",t}({});const kb={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,"zh-hant":16,cs:17,et:18,fi:19,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33,"fr-ca":34,da:35,th:37,"zh-yue":44},Lb=Object.keys(Vs).filter(t=>/\d+/.test(Vs[t])).reduce((t,i)=>({...t,[`${Vs[i]}`]:i}),{}),lx=Object.keys(kb).reduce((t,i)=>(Object.assign(t,{[`${kb[`${i}`]}`]:i}),t),{}),N_="zoom-sdk-live-trasncription",Vc="live-trasncription";let yP=function(t){return t[t.English=0]="English",t[t.Chinese=1]="Chinese",t[t.Japanese=2]="Japanese",t[t.German=3]="German",t[t.French=4]="French",t[t.Russian=5]="Russian",t[t.Portuguese=6]="Portuguese",t[t.Spanish=7]="Spanish",t[t.Korean=8]="Korean",t[t.Italian=9]="Italian",t[t.Reserved=10]="Reserved",t[t.Vietnamese=11]="Vietnamese",t[t.Dutch=12]="Dutch",t[t.Ukrainian=13]="Ukrainian",t[t.Arabic=14]="Arabic",t[t["Chinese (Traditional)"]=16]="Chinese (Traditional)",t[t.Czech=17]="Czech",t[t.Estonian=18]="Estonian",t[t.Finnish=19]="Finnish",t[t.Hebrew=21]="Hebrew",t[t.Hindi=22]="Hindi",t[t.Hungarian=23]="Hungarian",t[t.Indonesian=24]="Indonesian",t[t.Malay=25]="Malay",t[t.Persian=26]="Persian",t[t.Polish=27]="Polish",t[t.Romanian=28]="Romanian",t[t.Swedish=29]="Swedish",t[t.Tamil=30]="Tamil",t[t.Telugu=31]="Telugu",t[t.Tagalog=32]="Tagalog",t[t.Turkish=33]="Turkish",t[t["French (Canada)"]=34]="French (Canada)",t[t.Danish=35]="Danish",t[t.Thai=37]="Thai",t[t.Cantonese=44]="Cantonese",t[t.NoTranslation=400]="NoTranslation",t[t.DefaultManualInput=401]="DefaultManualInput",t}({}),dx=function(t){return t.English="en",t["Chinese (Simplified)"]="zh",t.Japanese="ja",t.German="de",t.French="fr",t.Russian="ru",t.Portuguese="pt",t.Spanish="es",t.Korean="ko",t.Italian="it",t.Reserved="en1",t.Vietnamese="vi",t.Dutch="nl",t.Ukrainian="uk",t.Arabic="ar",t["Chinese (Traditional)"]="zh-hant",t.Czech="cs",t.Estonian="et",t.Finnish="fi",t.Hebrew="he",t.Hindi="hi",t.Hungarian="hu",t.Indonesian="id",t.Malay="ms",t.Persian="fa",t.Polish="pl",t.Romanian="ro",t.Swedish="sv",t.Tamil="ta",t.Telugu="te",t.Tagalog="tl",t.Turkish="tr",t["French (Canada)"]="fr-ca",t.Danish="da",t.Thai="th",t.Cantonese="zh-yue",t}({});function Zm(t){const i=t===Vs.Unspecified?Vs.Reserved:t;Ye.getInstance().selectLanguageChannelForNewLTT(i)}const px=LA(z0,function(t,i){return bO(t,i)})([Yt,t=>{let{meeting:{gatewayUserList:i}}=t;return i}],(t,i)=>{const o={};return t.forEach(a=>{Object.assign(o,{[`${a.userId}`]:a.zoomID})}),i?.forEach(a=>{Object.assign(o,{[`${a.userId}`]:a.sn})}),o}),SP=En([Yt],t=>t.find(i=>!0===i.bCCEditor)),hx=En([Yt,xA],(t,i)=>t.some(o=>!0===o.bCCEditor&&o.userId===i)),fx=Ot.createAgent(),k_={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0},LV=mr({[`${kT}`]:B((t,i)=>{let{payload:o}=i;t.isLiveTranscriptionEnabled=o}),[`${OC}`]:B((t,i)=>{let{payload:o}=i;const{transcriptionLang:a,translatedSetting:c,...l}=o;a&&(t.transcriptionLang=a.split(";").map(p=>{const h=p&&kb[p];return void 0!==h?{lang:p,code:h}:null}).filter(Boolean)),c&&(t.translatedSetting=Object.keys(c).map(p=>{const h=c[p];if(h){const g=h.split(";").map(v=>{const S=v&&kb[v];return void 0!==S?{lang:v,code:S}:null}).filter(Boolean);return{lang:p,code:kb[p],translatedToLanguage:g}}return null}).filter(Boolean)),Object.assign(t,l)}),[`${MC}`]:B((t,i)=>{let{payload:o}=i;t.isManualCaptionerEnabled=o}),[`${Ig}`]:B((t,i)=>{let{payload:o}=i;t.gatewayId=o}),[`${FT}`]:B((t,i)=>{let{payload:o}=i;t.isHostDisableCaptions=o}),[`${LT}`]:B((t,i)=>{let{payload:o}=i;t.supportedTranscriptionLanguage=o}),[`${$l}`]:B((t,i)=>{let{payload:o}=i;t.currentTranscriptionLang=o}),[`${lS}`]:B((t,i)=>{let{payload:o}=i;t.currentTranslationLang=o}),[`${NC}`]:B((t,i)=>{let{payload:o}=i;t.messageRecords.push(o)}),[`${dS}`]:B((t,i)=>{let{payload:o}=i;const a=t.messageRecords.find(c=>c.msgId===o.msgId);a&&Object.assign(a,o)}),[`${kp}`]:B((t,i)=>{let{payload:o}=i;const{remains:a,reducedRecordsCount:c}=o,l=t.messageRecords.length-a;t.isRecordsReduced=!0,t.reducedRecordsCount=c,t.messageRecords.splice(0,l)}),[`${PC}`]:B((t,i)=>{let{payload:o}=i;t.isLiveTranscriptionSubscribed=o}),[`${xT}`]:B((t,i)=>{let{payload:o}=i;t.liveTransEngineType=o}),[`${wg}`]:B(t=>{t.stateBeforeFailover=void 0}),[`${_g}`]:B((t,i)=>{let{payload:o}=i;t.lastManualCaption=o}),[`${O1}`]:(t,i)=>{let{payload:o}=i;return o?{...k_,stateBeforeFailover:{currentTranscriptionLang:t.currentTranscriptionLang,currentTranslationLang:t.currentTranslationLang,isLiveTranscriptionSubscribed:t.isLiveTranscriptionSubscribed},messageRecords:t.messageRecords,isRecordsReduced:t.isRecordsReduced,reducedRecordsCount:t.reducedRecordsCount}:{...k_}}},k_);var Cn;const oo=Ot.createAgent(),Uc=_o("Live transcription");let gx=(le((Cn=class extends ss{startLiveTranscription(){const{[_e]:t,[_n]:i}=this,{liveTranscription:{isLiveTranscriptionEnabled:o,isEnableTranslatedCaptions:a,isLiveTranscriptionSubscribed:c,isHostLockSpeakingLanguage:l,isHostDisableCaptions:p}}=t();return c?Promise.resolve(""):p?Promise.reject({type:ie,reason:"Captions has been disabled by host."}):o?(oo.enableNewLLT(),ze(ft).then(()=>(l?oo.setSpokenLanguage(Vs.English):Zm(Vs.Unspecified),i($l(Vs.English)),a&&oo.setTranslationLanguage(),ze({event:ft,operations:[ne(h=>!0===h.autoCaption&&void 0!==h.lang)]})))):Promise.reject({type:ie,reason:"Live transcription is not enabled."})}disableCaptions(t){const{[_e]:i}=this,{liveTranscription:{isHostDisableCaptions:o}}=i();return t?o?Promise.resolve():(oo.disableCaptions(!0),ze(zv)):o?(oo.disableCaptions(!1),ze(zv)):Promise.resolve()}setSpeakingLanguage(t){const{[_e]:i,[_n]:o}=this,{liveTranscription:{isLiveTranscriptionSubscribed:a,isHostLockSpeakingLanguage:c,transcriptionLang:l}}=i(),p=l.find(h=>h.lang===t);if(p){const{code:h}=p;return a?(c?oo.setSpokenLanguage(h):Zm(h),o($l(h)),Promise.resolve("")):Promise.reject({type:ie,reason:"Cannot set speaking language before starting live transcription"})}return Promise.reject({type:Je,reason:"Unsupported transcription language"})}setTranslationLanguage(t){const{[_e]:i,[_n]:o}=this,a=i(),{liveTranscription:{isEnableTranslatedCaptions:c,isLiveTranscriptionSubscribed:l,translatedSetting:p,currentTranscriptionLang:h}}=a;if(!c)return Promise.reject({type:ie,reason:"Live translation is not enabled."});if(!l)return Promise.reject({type:ie,reason:"Cannot set translation language before starting live transcription"});if(t){const g=p?.find(v=>v.code===h);if(g){const{translatedToLanguage:v}=g,S=v.find(b=>b.lang===t);if(S)return oo.setTranslationLanguage(S.code),ze({event:ft,operations:[ne(b=>!0===b.autoCaption&&b.lang===S.code),Ct(1)]},b=>{let{lang:E}=b;return E===S.code})}return Promise.reject({type:ie,reason:`Cannot support translating ${Lb[h||0]} to ${t}`})}return oo.setTranslationLanguage(),o(lS(void 0)),Promise.resolve("")}enableManualCaptioner(){const{[_e]:t}=this,{meeting:{meetingOptions:i},liveTranscription:{isManualCaptionerEnabled:o,isHostDisableCaptions:a}}=t();if(a)return Promise.reject({type:ie,reason:"Captions has been disabled by host."});const{isEnableManualCaptions:c,isEnableClosedCaption:l}=i;return c??l?o?Promise.resolve():(oo.enableManualCaption(!0),ze(ft,p=>{let{autoCaption:h}=p;return!1===h})):Promise.reject({type:ie,reason:"Manual caption is not enabled."})}disableManualCaptioner(){const{[_e]:t}=this,{liveTranscription:{isManualCaptionerEnabled:i}}=t();return i?(oo.enableManualCaption(!1),ze(ft,o=>{let{autoCaption:a}=o;return!0===a})):Promise.resolve()}assignManualCaption(t){var i;const{[_e]:o}=this,a=o(),{liveTranscription:{isManualCaptionerEnabled:c},participants:{attendeesList:l},meeting:{userId:p}}=a;return c?(null===(i=SP(a))||void 0===i?void 0:i.userId)===t?Promise.resolve(""):l.find(g=>g.userId===t)?(oo.assignCC(t,!0),ze({event:p===t?Br:yo,operations:[ne(g=>g.userId===t),Ct(1)]},g=>!0===g.bCCEditor)):Promise.reject({type:Je,reason:"Cannot find the user"}):Promise.reject({type:ie,reason:"Cannot assign caption editor due to the manual captioner is not enabled."})}sendCaptionTextManually(t,i){var o;const{[_e]:a,[_n]:c}=this,l=a(),{liveTranscription:{lastManualCaption:p},meeting:{userId:h}}=l,g=Ve(l);let v=Promise.resolve();const S=null===(o=SP(l))||void 0===o?void 0:o.userId;return null!=g&&g.isHost&&S!==h&&(v=this.assignManualCaption(h)),v.then(()=>hx(a())?function(b,E,I){const _=b.length,w=[];var A;if(I)w.push({op:"close",text:b,msgId:null!==(A=E?.msgId)&&void 0!==A?A:Kd()});else if(E&&null!=E&&E.text){const T=E.text.length;let M=0,P=0;for(;b[M]===E.text[M]&&M<_;)P+=Pv(b[M]),M+=1;M===T&&M===_?w.push({op:"same"}):M===T&&M<_?w.push({op:"insert",text:b.slice(M),size:0,pos:P,msgId:E.msgId}):M<T&&M===_?w.push({op:"delete",size:0,pos:P,msgId:E.msgId}):(w.push({op:"delete",size:0,pos:P,msgId:E.msgId}),w.push({op:"insert",text:b.slice(M),pos:P,msgId:E.msgId}))}else _>0&&w.push({op:"start",text:b,pos:0,size:0,msgId:Kd()});return w.filter(T=>"same"!==T.op)}(t,p,i):Promise.reject({type:Hr,reason:"Cannot type caption "})).then(b=>Array.isArray(b)?(b.forEach(E=>{const{text:I,..._}=E;No.beginEncrypt({text:I??"",type:Jr.CC_MESSAGE}).then(w=>{oo.sendManualCaption({text:w,..._}),c(_g(i?void 0:{text:I,msgId:E.msgId}))})}),ze(pe,E=>E.source===Iu.InMeetingManual)):"")}getLiveTranscriptionStatus(){const{[_e]:t}=this,{liveTranscription:{isLiveTranscriptionEnabled:i,isEnableTranslatedCaptions:o,isManualCaptionerEnabled:a,transcriptionLang:c,translatedSetting:l,isHostDisableCaptions:p}}=t();return{isLiveTranscriptionEnabled:i,isLiveTranslationEnabled:o,isHostDisableCaptions:p,isManualCaptionerEnabled:a,transcriptionLanguage:c.map(h=>h.lang).join(";"),translationLanguage:l?.map(h=>({speakingLanguage:h.lang,translatedToLanguage:h.translatedToLanguage.map(g=>g.lang).join(";")}))}}getLiveTranscriptionSetting(){const{[_e]:t}=this,{meeting:{meetingOptions:i}}=t(),{isEnableManualCaptions:o,isEnableLiveTranscription:a,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:l,isEnableViewFullTranscript:p,isEnableSaveCaptions:h}=i||{};return{isEnableManualCaptions:o,isEnableLiveTranscription:a,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:l,isEnableViewFullTranscript:p,isEnableSaveCaptions:h}}getCurrentTranscriptionLanguage(){const{[_e]:t}=this,{liveTranscription:{currentTranscriptionLang:i}}=t();return void 0!==i?{code:lx[i],name:Lb[i]}:null}getCurrentTranslationLanguage(){const{[_e]:t}=this,{liveTranscription:{currentTranslationLang:i}}=t();return void 0!==i?{code:lx[i],name:Lb[i]}:null}getLatestTranscription(){const{[_e]:t}=this,{liveTranscription:{messageRecords:i,isManualCaptionerEnabled:o}}=t(),a=o?Vs.DefaultManualInput:Vs.NoTranslation,c=i.filter(l=>l.language===a);return c.length?c[c.length-1].text:""}getLatestTranslation(){const{[_e]:t}=this,{liveTranscription:{messageRecords:i,currentTranslationLang:o,isEnableTranslatedCaptions:a}}=t();if(a||void 0!==o){const c=i.filter(l=>l.language===o);return c.length?c[c.length-1].text:""}return""}getFullTranscriptionHistory(){const{[_e]:t}=this,i=t(),{liveTranscription:{messageRecords:o,isRecordsReduced:a}}=i;return a?(c=i,void 0!==window.indexedDB?new Promise(l=>{const p=window.indexedDB.open(N_,1);p.addEventListener("success",()=>{const h=p.result;if(h.objectStoreNames.contains(Vc)){const g=h.transaction([Vc],"readonly").objectStore(Vc),v=[],S=c.meeting.meetingId,b=g.openCursor();b.onsuccess=()=>{const E=b.result;E?(E.value.mid===S&&v.push(...E.value.records),E.continue()):(l(v),h.close())}}else l("")})}):Promise.resolve("")).then(c=>Array.isArray(c)?c.concat(o):[...o]):[...o];var c}getManualCaptionEditor(){const{[_e]:t}=this,i=t(),{closedCaption:{editorId:o}}=i;let a;if(!o)return{};if(a=Yt(i).find(S=>S.userId===o),!a)return{};const{userId:c,isHost:l,displayName:p,avatar:h,bCoHost:g,zoomID:v}=a;return{userId:c,isHost:l,displayName:p,avatar:h,bCoHost:g,zoomID:v}}getManualCaptionUrl(){const{[_e]:t}=this,{meeting:{meetingOptions:i,ccUrl:o}}=t(),{isEnableManualCaptions:a}=i||{};return a?o:(console.warn("you not enable manual caption"),"")}}).prototype,"startLiveTranscription",[de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"startLiveTranscription"),Cn.prototype),le(Cn.prototype,"disableCaptions",[hr,de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"disableCaptions"),Cn.prototype),le(Cn.prototype,"setSpeakingLanguage",[de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"setSpeakingLanguage"),Cn.prototype),le(Cn.prototype,"setTranslationLanguage",[de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"setTranslationLanguage"),Cn.prototype),le(Cn.prototype,"enableManualCaptioner",[hr,de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"enableManualCaptioner"),Cn.prototype),le(Cn.prototype,"disableManualCaptioner",[hr,de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"disableManualCaptioner"),Cn.prototype),le(Cn.prototype,"assignManualCaption",[de,hr,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"assignManualCaption"),Cn.prototype),le(Cn.prototype,"sendCaptionTextManually",[de,Uc],Object.getOwnPropertyDescriptor(Cn.prototype,"sendCaptionTextManually"),Cn.prototype),Cn);const oi=qr({epics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{liveTranscription:o}}=i;return OC(o)})),epics1:(t,i)=>Ce(t,yi).pipe(ne(o=>{var a,c;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.NewLttAvaliable)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.LiveTransEngineType)}),ye(o=>{const{payload:{body:{NewLttAvaliable:a,LiveTransEngineType:c}}}=o,{liveTranscription:{isEnableAutomatedCaptions:l}}=i.value;return void 0!==a?(F(YD,!!a),kT(l&&!!a)):xT(c)})),epics2:(t,i)=>Ce(t,7982).pipe(ae(o=>{const{payload:{body:{status:a,gwId:c}}}=o,l=[];switch(a){case P_.Ready:l.push(Ig(c));break;case P_.ManualCaptionerEnabled:F(ft,{autoCaption:!1}),l.push(MC(!0));break;case P_.ManualCaptionerDisabled:F(ft,{autoCaption:!0}),l.push(mg({editorId:"",isEditor:!1,editorZoomId:""})),l.push(MC(!1));break;case P_.UserSub:{F(ft,{autoCaption:i.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:h}}=i.value;if(null!=h&&h.isLiveTranscriptionSubscribed){var p;fx.enableNewLLT();const g=null!==(p=h.currentTranscriptionLang)&&void 0!==p?p:Vs.Unspecified;Zm(g),l.push($l(g)),void 0!==h.currentTranslationLang&&fx.setTranslationLanguage(h.currentTranslationLang),l.push(wg())}break}}return ve(l)})),epics3:t=>Ce(t,7984).pipe(ye(i=>{const{payload:{body:{langs:o}}}=i;return LT(o)})),epics4:t=>Ce(t,8011).pipe(ae(i=>{const{payload:{body:{disabled:o}}}=i,a=[];return F(zv,o),a.push(FT(o)),o&&a.push(PC(!1)),ve(a)})),epics5:t=>Ce(t,7985).pipe(ne(i=>{var o;return!0===(null===(o=i.payload.body)||void 0===o?void 0:o.success)}),ae(i=>{const{payload:{body:{src:o,lang:a,success:c}}}=i,l=[];return c&&l.push(PC(!0)),o===Iu.ASR?(l.push(lS(a===Vs.NoTranslation?void 0:a)),F(ft,{autoCaption:!0,lang:a})):[Iu.InMeetingManual,Iu.ExternalCaptioner].includes(o)&&F(ft,{autoCaption:!1}),ve(l)})),epics6:(t,i)=>Ce(t,7986).pipe(Pe(i),ae(o=>{let[a,c]=o;const l=Ve(c),{liveTranscription:{currentTranscriptionLang:p}}=c,{payload:{body:h}}=a,g=[];if(void 0!==h?.lang){const{lang:v}=h;"computer"===l?.audio&&p!==v&&Zm(v),g.push($l(v))}return ve(g)})),epics7:(t,i)=>Qe(t,he.JoinComputerAudioComplete).pipe(ne(()=>i.value.liveTranscription.isLiveTranscriptionSubscribed),Te(()=>{const{liveTranscription:{currentTranscriptionLang:o}}=i.value;o&&Zm(o)}),We(Se)),epics8:(t,i)=>Ce(t,7983).pipe(ne(o=>void 0!==o.payload.body),ae(o=>{const{payload:{body:{msgType:a,errorCode:c,language:l,source:p,content:h,keyNodeId:g,msgId:v,nodeId:S,pos:b,size:E,audioLanguage:I}}}=o;if(a===bd.Error){if(c===cx.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:_}}=i.value;_&&F(pe,{error:cx.TranslateNotSupport,errorMessage:`${Lb[I]} to ${Lb[_]} translation is not supported!`,audioLanguage:I,translationLang:_})}}else{const _=i.value,w=Yt(_),{liveTranscription:{isManualCaptionerEnabled:A}}=_;if(A&&p===Iu.ASR)return Promise.resolve();if(function(T,M){const{liveTranscription:{isEnableTranslatedCaptions:P,isLiveTranscriptionEnabled:N},meeting:{meetingOptions:H}}=M,{isEnableManualCaptions:V,isEnableAllowHostAssignTypeCC:x,isEnableClosedCaption:J,isEnableAllowThirdPartyCCToken:Y}=H;return T===Iu.ASR?P||N:T===Iu.InMeetingManual?V&&x||void 0===V&&J:T===Iu.ExternalCaptioner?Y:void 0}(p,_)&&h&&g){const T=px(_)[g];if(T)return No.beginDecrypt({decryptedText:h,type:Jr.CC_MESSAGE,zoomId:T}).then(M=>{let{message:P}=M;const{liveTranscription:{messageRecords:N}}=i.value,H=[],V=N.find(x=>x.msgId===v);if(V){const{text:x}=V,J=((z,U)=>{if(!z||0===U)return"";let O=0;for(let L=0;L<z.length;L++)if(O+=Pv(z[L]),O===U)return z.slice(0,L+1);return z})(x,b);let Y;a===bd.Insert&&0===E||a===bd.Delete&&0===E?Y={...V,text:J+P,msgType:a}:a===bd.Close&&(Y={...V,text:P,msgType:a,done:!0}),Y&&(H.push(dS(Y)),F(pe,Y))}else if([bd.New,bd.Close].includes(a)||A&&a===bd.Insert){const x=w.find(Y=>Y.userId===S),J={msgId:v,userId:S,displayName:x?.displayName,avatar:x?.avatar,text:P,source:p,language:l,timestamp:(new Date).getTime(),done:a===bd.Close};H.push(NC({...J,msgType:a})),F(pe,J)}return H})}}return Promise.resolve()}),ae(o=>Array.isArray(o)?ve(o):Se)),epics9:(t,i)=>t.pipe(Me(`${NC}`),Ht(Pd),ae(()=>{const{liveTranscription:{messageRecords:o}}=i.value;return o.length>=1e5?function(a){const{meeting:{meetingId:c},liveTranscription:{messageRecords:l,reducedRecordsCount:p}}=a;return void 0!==window.indexedDB?new Promise(h=>{const g=window.indexedDB.open(N_,1);g.addEventListener("upgradeneeded",()=>{const v=g.result;if(!v.objectStoreNames.contains(Vc)){const S=v.createObjectStore(Vc,{keyPath:["startIndex","mid"],autoIncrement:!1});S.createIndex("mid","mid",{unique:!1}),S.transaction.oncomplete=()=>{console.log(`Create objectStore [${Vc}] complete`)}}}),g.addEventListener("success",()=>{const v=g.result,S=l.length,b=.9*S,E=S-b,I=l.slice(0,b),_=p+I.length,w=v.transaction([Vc],"readwrite");w.objectStore(Vc).put({startIndex:p,mid:c,records:I}),w.oncomplete=()=>{h(kp({remains:E,reducedRecordsCount:_})),v.close()},w.onerror=()=>{h(""),v.close()}})}):Promise.resolve("")}(i.value):Promise.resolve("")}),ne(o=>"object"==typeof o)),epics10:(t,i)=>t.pipe(Me(`${Zd}`,`${Un}`),ne(()=>i.value.liveTranscription.isRecordsReduced),Te(()=>{!function(){if(void 0!==window.indexedDB){const o=window.indexedDB.open(N_,1);o.addEventListener("success",()=>{const a=o.result;a.objectStoreNames.contains(Vc)&&(window.indexedDB.deleteDatabase(N_),a.close())})}}()}),We(Se)),epics11:(t,i)=>Qe(t,[he.AudiobridgeSetCcLangSuccess,he.AudiobridgeSetCcLangFailure]).pipe(ae(o=>{const{payload:{type:a,data:c}}=o,{liveTranscription:{currentTranscriptionLang:l}}=i.value,p=[];return a===he.AudiobridgeSetCcLangSuccess&&c!==l?p.push($l(c)):a===he.AudiobridgeSetCcLangFailure&&p.push($l(void 0)),ve(p)}))}),xb={isLiveStreamEnable:!1,status:0},mx=mr({[`${UT}`]:B((t,i)=>{let{payload:o}=i;t.isLiveStreamEnable=o}),[`${Dg}`]:B((t,i)=>{let{payload:o}=i;t.status=o}),[`${jT}`]:(t,i)=>{let{payload:o}=i;return o?{...t}:{...xb}}},xb);let wu=function(t){return t[t.Ended=0]="Ended",t[t.InProgress=1]="InProgress",t[t.Connecting=2]="Connecting",t[t.Timeout=3]="Timeout",t}({});var _u;const L_=Ot.createAgent();let Du=(le((_u=class extends ss{startLiveStream(t,i,o){const{[_e]:a,[_n]:c}=this,{liveStream:{isLiveStreamEnable:l,status:p}}=a();return p===wu.InProgress?Promise.reject({type:ie,reason:"Live stream is already on"}):l?t&&i&&o?(L_.startLiveStream(t,i,o),ze({event:Ey,operations:[ne(h=>h===wu.InProgress),Ct(1)]},void 0,3e4).then(()=>"").catch(()=>{const{liveStream:{status:h}}=a();return h===wu.Connecting?(F(Ey,wu.Timeout),c(Dg(wu.Timeout)),Promise.reject({type:bs})):Promise.resolve("")})):Promise.reject({type:Je,reason:"parameter cannot be empty"}):Promise.reject({type:ie,reason:"Live stream is not enabled"})}stopLiveStream(){const{[_e]:t,[_n]:i}=this,{liveStream:{status:o}}=t();return o===wu.InProgress&&(L_.stopLiveStream(),F(Ey,wu.Ended),i(Dg(wu.Ended))),Promise.resolve("")}isLiveStreamEnabled(){var t;const{[_e]:i}=this;return!(null===(t=i().liveStream)||void 0===t||!t.isLiveStreamEnable)}getLiveStreamStatus(){var t;const{[_e]:i}=this;return null===(t=i().liveStream)||void 0===t?void 0:t.status}}).prototype,"startLiveStream",[hr],Object.getOwnPropertyDescriptor(_u.prototype,"startLiveStream"),_u.prototype),le(_u.prototype,"stopLiveStream",[hr],Object.getOwnPropertyDescriptor(_u.prototype,"stopLiveStream"),_u.prototype),_u);const Ed=qr({epics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{liveStreamInfo:o}}=i;return UT(!(null==o||!o.isEnabledLiveStream))})),epics1:t=>Ce(t,7970).pipe(ye(i=>{const{payload:{body:{status:l}}}=i;return F(Ey,l),Dg(l)}))}),{setSummaryEnable:x_,setSmartSummaryStatus:F_,resetSummary:vx}=Qn("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:Th,setMeetingQueryStatus:bP}=Qn("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let jc=function(t){return t.Default="",t.Start="Start",t.Paused="Paused",t.Stopped="Stopped",t}({}),Au=function(t){return t[t.GW_IND_NONE=0]="GW_IND_NONE",t[t.GW_IND_START=1]="GW_IND_START",t[t.GW_IND_PAUSE=2]="GW_IND_PAUSE",t[t.GW_IND_STOP=3]="GW_IND_STOP",t}({}),Bc=function(t){return t.Default="",t.Start="Start",t.Paused="Paused",t.Stopped="Stopped",t}({}),Tu=function(t){return t[t.GW_IND_NONE=0]="GW_IND_NONE",t[t.GW_IND_START=1]="GW_IND_START",t[t.GW_IND_PAUSE=2]="GW_IND_PAUSE",t[t.GW_IND_STOP=3]="GW_IND_STOP",t}({});const Ym={summaryStatus:Au.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:Tu.GW_IND_STOP,meetingQueryEnable:!1},Rh=mr({[`${x_}`]:B((t,i)=>{let{payload:o}=i;t.summaryEnable=o}),[`${F_}`]:B((t,i)=>{let{payload:o}=i;t.summaryStatus=o}),[`${Th}`]:B((t,i)=>{let{payload:o}=i;t.meetingQueryEnable=o}),[`${bP}`]:B((t,i)=>{let{payload:o}=i;t.meetingQueryStatus=o}),[`${vx}`]:()=>({...Ym})},Ym);var Do,gn,ii,fr,Ni;const Fb=Ot.createAgent();let yx=(Do=we("summary"),gn=we("summary"),ii=we("summary"),fr=we("summary"),le((Ni=class extends ss{startSummary(){const t=this[_e](),{summary:{summaryEnable:i,summaryStatus:o}}=t;return i?o===Au.GW_IND_START?Promise.resolve(""):(Fb.summaryMeeting(!0),ze(Ji,a=>a.status===jc.Start)):Promise.reject({type:ie,reason:"The account of the meeting disabled the smart summary"})}stopSummary(){const t=this[_e](),{summary:{summaryStatus:i}}=t;return i!==Au.GW_IND_START?Promise.resolve("not start summary, do nothing"):(Fb.summaryMeeting(!1),ze(Ji,o=>o.status===jc.Stopped))}getSummaryStatus(){const t=this[_e](),{summary:{summaryStatus:i}}=t;return i===Au.GW_IND_START?jc.Start:i===Au.GW_IND_STOP?jc.Stopped:jc.Default}isSummaryEnabled(){const t=this[_e](),{summary:{summaryEnable:i}}=t;return i}startMeetingQuery(){const t=this[_e](),{summary:{meetingQueryEnable:i,meetingQueryStatus:o}}=t;return i?o===Tu.GW_IND_START?Promise.resolve(""):(Fb.startMeetingQuery(!0),ze(Wa,a=>a.status===Bc.Start)):Promise.reject({type:ie,reason:"The account of the meeting disabled the smart summary"})}stopMeetingQuery(){const t=this[_e](),{summary:{meetingQueryStatus:i}}=t;return i!==Tu.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(Fb.startMeetingQuery(!1),ze(Wa,o=>o.status===Bc.Stopped))}getMeetingQueryStatus(){const t=this[_e](),{summary:{meetingQueryStatus:i}}=t;return i===Tu.GW_IND_START?Bc.Start:i===Tu.GW_IND_STOP?Bc.Stopped:Bc.Default}isMeetingQueryEnabled(){const t=this[_e](),{summary:{meetingQueryEnable:i}}=t;return i}}).prototype,"startSummary",[hr,de,Do],Object.getOwnPropertyDescriptor(Ni.prototype,"startSummary"),Ni.prototype),le(Ni.prototype,"stopSummary",[hr,de,gn],Object.getOwnPropertyDescriptor(Ni.prototype,"stopSummary"),Ni.prototype),le(Ni.prototype,"startMeetingQuery",[hr,de,ii],Object.getOwnPropertyDescriptor(Ni.prototype,"startMeetingQuery"),Ni.prototype),le(Ni.prototype,"stopMeetingQuery",[hr,de,fr],Object.getOwnPropertyDescriptor(Ni.prototype,"stopMeetingQuery"),Ni.prototype),Ni);const Sx=qr({moduleEpics0:t=>Ce(t,8007).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.supported)}),ye(i=>{const{supported:o}=i.payload.body;return F(Ji,{supported:o}),x_(o)})),moduleEpics1:(t,i)=>Ce(t,8008).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.status)}),Pe(i),ae(o=>{let[a,c]=o;const{status:l}=a.payload.body,{summary:{summaryStatus:p}}=c,h=[];if(l!==p)switch(l){case Au.GW_IND_START:F(Ji,{status:jc.Start});break;case Au.GW_IND_PAUSE:F(Ji,{status:jc.Paused});break;case Au.GW_IND_STOP:F(Ji,{status:jc.Stopped});break;default:F(Ji,{status:""})}return h.push(F_(l)),ve(h)})),moduleEpics2:(t,i)=>Ce(t,8015).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.supported)}),Pe(i),ye(o=>{let[a,c]=o;const{supported:l}=a.payload.body;F(Wa,{supported:l});const{meeting:{zlkJwtToken:p}}=c;if(p){const{auto_transcription:h}=qs(p);h&&(l?Ot.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return Th(l)})),moduleEpics3:(t,i)=>Ce(t,8016).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.status)}),Pe(i),ae(o=>{let[a,c]=o;const{status:l}=a.payload.body,{summary:{meetingQueryStatus:p}}=c,h=[];if(l!==p)switch(l){case Tu.GW_IND_START:F(Wa,{status:Bc.Start});break;case Tu.GW_IND_PAUSE:F(Wa,{status:Bc.Paused});break;case Tu.GW_IND_STOP:F(Wa,{status:Bc.Stopped});break;default:F(Wa,{status:""})}return h.push(bP(l)),ve(h)}))});var Xm;const bx={chat:{epic:vL,reducer:yV,Client:mL},logger:{epic:kL,reducer:OL,Client:class extends ss{getLogs(t){return yd.getLogs(this[fn],t)}getStore(){return yd.doNotUseDirtyGetStore()}setLogOptions(t){t&&this[fn].dispatch(kC(t))}isAutoReportInAccountSettingEnabled(){const{meeting:{zlkJwtToken:t,enableAutoLog:i,collectionToggleEnable:o,zsk:a}}=this[fn].getState();return!!t||(a?i&&o:i)}reportMeetingProblem(t){var i;const{product:o,problem:a,timeOfOccurrence:c,description:l,ticket:p,isLogIncluded:h}=t,{meeting:{userId:g,confId:v,conId:S,svcUrl:b}}=this[fn].getState(),E=`'product':${o}\n'problem':${a}\n'timeOfOccurrence':${c}\n'description':${l}\n'ticketID':${p}\n'isLogIncluded':${h?"Logs included":""}\n'nodeId':${g}\n'confId':${v}\n'conId':${S}\n'svcUrl':${b}`,I=["REPORT_NOTIFICATION"];return null===(i=yd.makeLogger(I).logWithExtraProperties("",{IM_NOTIFICATION:`${E}\nTrackingId:${yd.trackingId}`}))||void 0===i?void 0:i.then(()=>{yd.reportToGlobalTracing(h?void 0:I,!0)})}reportToGlobalTracing(t){return yd.reportToGlobalTracing(t)}reportRating(t,i){const{meeting:o,media:a,socket:c}=this[fn].getState();if(o){var l,p,h,g,v;const{zlkJwtToken:S,meetingStatus:b}=o,{assetsPath:E,enforceMultipleVideos:I,enforceVirtualBackground:_,disableRenderLimits:w}=a;yd.report(`rating:${t}, feedback:${i}, appKey:${S?null===(l=qs(S))||void 0===l?void 0:l.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${null!==(p=Re.gpu)&&void 0!==p?p:""}, browser:${Re.browser} ${Re.browserVersion}, OS:${Re.os} ${Re.osVersion}, SharedArrayBuffer:${!!window.crossOriginIsolated}, assetPath:${E}, enforceMultipleVideos:${I},disableRenderLimits:${w} enforceVirtualBackground:${_}, ${b===wt.Joined?`session duration:${Math.floor((performance.now()-(null!==(h=o?.pingRWCTimestamp)&&void 0!==h?h:0))/1e3)}, rwg:${null==c||null===(g=c.rwgServerList)||void 0===g||null===(v=g[c.retryCount])||void 0===v?void 0:v.rwg}, failover count:${o?.failover.count}`:""}`,"User Rating","info"),Number(t)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:xL,reducer:LL,Client:CM},cmd:{epic:Xw,reducer:Zw,Client:Yw},breakoutRoom:{epic:kV,reducer:oP,Client:ax},liveTranscription:{epic:oi,reducer:LV,Client:gx},liveStream:{epic:Ed,reducer:mx,Client:Du},summary:{epic:Sx,reducer:Rh,Client:yx}},FV=Ot.createAgent();let VV=(le((Xm=class extends dL{constructor(t){super(t),this.mediaStream=void 0,this[Dm]=bx}getMediaStream(){return void 0===this.mediaStream&&(this.mediaStream=new rP(this[fn])),this.mediaStream}joinInstant(t,i,o,a,c,l){const{[_e]:p,[_n]:h}=this,{meeting:{lang:g,meetingStatus:v},socket:{zoomSocketStatus:S}}=p();return i?v!==wt.Joined&&S===Wt.Closed?(h(ul({topic:t,password:c||"",userName:o,zlk:i,lang:g,cv:a})),l&&h(jn(l)),ra(LN.JoinMeeting)):Promise.reject({type:ie,reason:"duplicated operation"}):Promise.reject({type:ie,reason:"invalid  signature"})}removeUser(t){const i=this[fn].getState(),{participants:{attendeesList:o}}=i;return o.find(c=>c.userId===t)?(FV.expel(t),ze(ut,c=>c.some(l=>l.userId===t))):Promise.reject({type:Je,reason:"no matched user"})}}).prototype,"removeUser",[Hn,de],Object.getOwnPropertyDescriptor(Xm.prototype,"removeUser"),Xm.prototype),Xm);class Vb{constructor(i){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=i,this.mic=null,this.script=i.createScriptProcessor(2048,1,1),this.script.onaudioprocess=o=>{const a=o.inputBuffer.getChannelData(0);let c,l=0;for(c=0;c<a.length;++c)l+=a[c]*a[c];this.instant=Math.sqrt(l/a.length)}}connectToSource(i){console.log("InputMicDetector is listening");try{var o;this.mic=this.context.createMediaStreamSource(i),this.mic.connect(this.script),null===(o=this.script)||void 0===o||o.connect(this.context.destination)}catch(a){console.error(a)}}stop(){var i,o;console.log("Audio Previewer stopped"),null===(i=this.mic)||void 0===i||i.disconnect(),this.mic=null,null===(o=this.script)||void 0===o||o.disconnect(),this.script=null}getMicVolume(){return this.instant}}const Ub="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class jb{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(i){var o;if("function"!=typeof AudioContext||"function"!=typeof MediaStreamAudioDestinationNode||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:a,sampleAudioUrl:c=Ub,onAnalyseFrequency:l}=i||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),((null===(o=this.sampleAudio)||void 0===o?void 0:o.url)===c&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(c).then(h=>h.arrayBuffer()).then(h=>this.audioCtx.decodeAudioData(h)).then(h=>(this.sampleAudio={url:c,data:h},h))).then(h=>{var g,v,S;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=h,this.sourceNode.loop=!0,a&&null!==(g=this.audioPlayer)&&void 0!==g&&g.setSinkId&&this.audioPlayer.setSinkId(a),l?"function"==typeof AudioContext.prototype.createAnalyser?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=l,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),"running"!==(null===(v=this.audioCtx)||void 0===v?void 0:v.state)&&(null===(S=this.audioCtx)||void 0===S||S.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())});const p=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:p,destroy:()=>{var h;p(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),null===(h=this.audioCtx)||void 0===h||h.close(),this.audioCtx=void 0}}}testMicrophone(i){var o;if("function"!=typeof AudioContext||"function"!=typeof MediaStreamAudioDestinationNode||"function"!=typeof AudioContext.prototype.createMediaStreamSource||"function"!=typeof(null===(o=navigator.mediaDevices)||void 0===o?void 0:o.getUserMedia))return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:a,speakerId:c,recordAndPlay:l,maxRecordDuration:p,onAnalyseFrequency:h,onStartRecording:g,onStopRecording:v,onStartPlayRecording:S,onStopPlayRecording:b}=i||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const E=()=>{l&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!a||{deviceId:{exact:a}}}).then(_=>{var w,A,T,M;this.mAudioStream=_,this.mSourceNode=null===(w=this.audioCtx)||void 0===w?void 0:w.createMediaStreamSource(_),this.audioPlayer.muted=!0,h?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=h,this.initAnalyserNode(),this.analyserNode&&(null===(T=this.mSourceNode)||void 0===T||T.connect(this.analyserNode))):this.analyserCallback=void 0,l&&("function"==typeof MediaRecorder?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=P=>{P.data&&this.recorderChunks.push(P.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),v?.(),this.recorderChunks.length>0){var P;const N=new Blob(this.recorderChunks,{type:(null===(P=this.recorderChunks[0])||void 0===P?void 0:P.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(N),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,c,S,b).catch(H=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn(H)}),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,g?.(),this.maximumRecordingTimer=window.setTimeout(()=>{E()},p||1e4)):console.warn("Cannot record the sound due to the browser capability")),"running"!==(null===(A=this.audioCtx)||void 0===A?void 0:A.state)&&(null===(M=this.audioCtx)||void 0===M||M.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())});const I=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(h&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach(_=>{_.stop()}),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:I,stopRecording:E,destroy:()=>{var _;I(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),null===(_=this.audioCtx)||void 0===_||_.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){this.audioCtx&&(this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024),this.analyserNodeBufferDataArray=new Uint8Array(this.analyserNode.frequencyBinCount),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20))}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let i=0;for(const a of this.analyserNodeBufferDataArray)i+=a;this.analyserCallback(i/this.analyserNodeBufferDataArray.length)}}playRecording(i,o,a,c){this.recorderPlayer=new Audio,this.recorderPlayer.src=i,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&o&&this.recorderPlayer.setSinkId(o);const l=()=>{c?.(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise((p,h)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{p(!0)},this.recorderPlayer.onended=()=>{p(!0)},this.recorderPlayer.onerror=h,a?.(),this.recorderPlayer.play().catch(h))}).finally(()=>{window.URL.revokeObjectURL(i),l()})}}const si="AudioNotStartedError";class V_{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=i,this.tester=new jb}start(){var i=this;return Oe(function*(){if(i.audioStream||i.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const o=yield navigator.mediaDevices.getUserMedia(i.getAudioConstraints());i.audioStream=o,i.isAudioStarted=!0}catch(o){throw o}})()}unmute(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(si);if(i.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return i.toggleMicIsMuted(!0)})()}mute(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(si);if(!i.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return i.toggleMicIsMuted(!1)})()}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}stop(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(si);i.audioStream.getAudioTracks().forEach(o=>o.stop()),i.audioStream=null,i.isAudioStarted=!1})()}toggleMicIsMuted(i){var o=this;return Oe(function*(){if(i){if(!o.audioContext){const a=window.AudioContext||window.webkitAudioContext;o.audioContext=new a}o.inputMicDetector=new Vb(o.audioContext),o.inputMicDetector.connectToSource(o.audioStream)}else o.inputMicDetector&&o.inputMicDetector.stop(),o.inputMicDetector=null;o.isMicUnmuted=i})()}getAudioConstraints(){return{audio:""===this.deviceId||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(i){return this.tester.testSpeaker(i)}testMicrophone(i){return this.tester.testMicrophone(i)}}const UV={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class jV{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=i,this.localPreview=new NO}start(i,o){var a=this;return Oe(function*(){if(!i)throw new Error("Video DOM element is falsy");if(a.isVideoStarted||a.videoStream)throw new Error("VideoAlreadyStartedError");a.videoParams={videoDOMElement:i,virtualBackground:o};const c=function(){var l=Oe(function*(p){if(!p||"OverconstrainedError"!==p.name&&"ConstraintNotSatisfiedError"!==p.name)throw p;console.log(`Warning: detected ${p.name} -- trying to fall back to lower aspect ratio`);try{const h=yield navigator.mediaDevices.getUserMedia(a.getVideoConstraints(!0));return a.tryPlayVideo(i,h)}catch(h){throw h}});return function(h){return l.apply(this,arguments)}}();if(i instanceof HTMLVideoElement)try{const l=yield navigator.mediaDevices.getUserMedia(a.getVideoConstraints());return a.tryPlayVideo(i,l)}catch(l){return c(l)}else{if(!(i instanceof HTMLCanvasElement))throw new Error("Cannot start video with virtual background");a.localPreview.setup().then(()=>a.localPreview.startPreview(i,{...o,deviceId:a.deviceId})).then(()=>{a.vbPreviewInProgress=!0})}})()}stop(){var i=this;return Oe(function*(){if(i.vbPreviewInProgress)yield i.localPreview.stopPreview(),i.vbPreviewInProgress=!1;else{if(!i.videoStream||!i.isVideoStarted)throw new Error("VideoNotStartedError");i.videoStream.getVideoTracks().forEach(o=>o.stop()),i.videoStream=null,i.isVideoStarted=!1}})()}switchCamera(i){var o=this;return Oe(function*(){i!==o.deviceId&&(o.deviceId=i,yield o.stop(),o.videoParams&&(yield o.start(o.videoParams.videoDOMElement,o.videoParams.virtualBackground)))})()}updateVirtualBackground(i,o){var a=this;return Oe(function*(){a.vbPreviewInProgress&&(yield a.localPreview.updatePreview(i,o))})()}getVideoConstraints(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=UV;return Ef.includes(this.deviceId)?{audio:!1,video:{facingMode:this.deviceId}}:(i?o=""===this.deviceId||{deviceId:{exact:this.deviceId}}:""!==this.deviceId&&(o.deviceId={exact:this.deviceId}),{audio:!1,video:o})}tryPlayVideo(i,o){var a=this;return Oe(function*(){if(!i)throw new Error("Video DOM element is falsy");try{a.videoStream=o,i.muted=!0,i.playsInline=!0,i.srcObject=a.videoStream,yield i.play(),a.isVideoStarted=!0}catch(c){throw c}})()}}class Ru{static createClient(){if(!this.meetingClient){const i=function(){const o=function(h){void 0===h&&(h={});var g,v=new Gh.constructor(Gh.schedulerActionCtor),S=new Rn,b=function(E){g=E;var I=new Rn,_=new Rn,w=I.asObservable().pipe(Ht(v)),A=new NE(_.pipe(Ht(v)),g.getState());return S.pipe(ye(function(T){var M=T(w,A,h.dependencies);if(!M)throw new TypeError('Your root Epic "'+(T.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return M}),ae(function(T){return ve(T).pipe(TE(v),Ht(v))})).subscribe(g.dispatch),function(T){return function(M){var P=T(M);return _.next(g.getState()),I.next(M),P}}};return b.run=function(E){S.next(E)},b}(),{epicSubject:a,rootEpic:c}=function(){const h=new hD(HE(gk,II,ih,VO));return{epicSubject:h,rootEpic:(g,v,S)=>h.pipe(Ke(g.pipe(Me(`${jD}`))),ae(b=>b(g,v,S)))}}(),l=[o],p=CD(Tw(),uL(function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];return function(S){return function(){var b=S.apply(void 0,arguments),E=function(){throw new Error(Vn(15))},I={getState:b.getState,dispatch:function(){return E.apply(void 0,arguments)}},_=g.map(function(w){return w(I)});return E=Qh.apply(void 0,_)(b.dispatch),dN(dN({},b),{},{dispatch:E})}}}(...l)));return p.asyncReducers={},p.injectReducer=(h,g)=>{void 0===p.asyncReducers[h]&&(p.asyncReducers[h]=g,p.replaceReducer(Tw(p.asyncReducers)))},p.injectEpic=h=>{a.next(h)},o.run(c),p}();this.meetingClient=new VV(i)}return this.meetingClient}static destroyClient(){if(this.meetingClient){const i=this.meetingClient[_n];this.meetingClient.leave().then(()=>{On(500).subscribe(()=>{i?.(jD()),mp()})}),this.meetingClient=null}}static checkFeatureRequirements(){return function(){const i=[],o=[],{isAndroidOrIOSBrowser:a,browser:c,browserVersion:l,os:p,osVersion:h,isChrome:g,isFirefox:v,isSafari:S}=Re;!a&&(g||v||S)&&t0()?i.push("Virtual Background"):o.push("Virtual Background"),(a||g)&&t0()?i.push("Share Chrome Tab Audio"):o.push("Share Chrome Tab Audio"),!a&&t0()?(i.push("Screen Share (send)"),i.push("720p Video (receive)"),i.push("Share 2nd Camera")):(o.push("Screen Share (send)"),o.push("720p Video (receive)"),o.push("Share 2nd Camera")),t0()?(i.push("Audio"),i.push("Video"),i.push("Screen Share (receive)"),i.push("Chat"),i.push("Closed Captioning"),i.push("Live Transcription"),i.push("Live Translation"),i.push("Cloud Recording"),i.push("Call Out (PSTN)"),i.push("Command Channel"),i.push("RTMP Live Streaming"),i.push("Encryption"),i.push("720p Video (send)"),i.push("Render Multiple Videos")):(o.push("Audio"),o.push("Video"),o.push("Screen Share (receive)"),o.push("Chat"),o.push("Closed Captioning"),o.push("Live Transcription"),o.push("Live Translation"),o.push("Cloud Recording"),o.push("Call Out (PSTN)"),o.push("Command Channel"),o.push("RTMP Live Streaming"),o.push("Encryption"),i.push("720p Video (send)"),i.push("Render Multiple Videos"));const b=a?`${p}${h}`:`${c}${l}`;return o.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:b,supportFeatures:i,unSupportFeatures:o}}()}static checkSystemRequirements(){return nb()}static getDevices(i){return i?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(o=>(o.getTracks().forEach(a=>a.stop()),navigator.mediaDevices.enumerateDevices())).catch(o=>(console.warn(o),navigator.mediaDevices.enumerateDevices()))}static createLocalAudioTrack(){return new V_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}static createLocalVideoTrack(){return new jV(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}static preloadDependentAssets(i){var o;(o=Oe(function*(a){const c=a||Fp,l=`${c}/${mo}`,p=[],h=[],g=`${c}/`;if(gS()){const{workers:S,wasms:b}=Gl("audio","simd",g);p.push(...S),h.push(...b)}else{const{workers:S,wasms:b}=Gl("audio","",g);p.push(...S),h.push(...b)}if(gS()&&function(){const{browser:S,browserVersion:b,isAndroidBrowser:E}=Re;return!E&&"chrome"===S.toLowerCase()&&lf(b,"100")>0&&window.crossOriginIsolated}()){const{workers:S,wasms:b}=Gl(["video","sharing"],"videoShare",g);p.push(...S),h.push(...b)}else if(gS()&&FC()){const{workers:S,wasms:b}=Gl(["video","sharing"],"simd,thread",g);p.push(...S),h.push(...b)}else if(FC()){const{workers:S,wasms:b}=Gl(["video","sharing"],"thread",g);p.push(...S),h.push(...b)}else if(gS()){const{workers:S,wasms:b}=Gl(["video","sharing"],"simd",g);p.push(...S),h.push(...b)}else{const{workers:S,wasms:b}=Gl(["video","sharing"],"",g);p.push(...S),h.push(...b)}const v=[vS(l,"script")];p.forEach(S=>{v.push(vS(S,"fetch"))}),h.forEach(S=>{v.push(vS(S,"fetch"))});try{document.head.append(...v)}catch{}}),function(a){return o.apply(this,arguments)})(i)}}Ru.meetingClient=void 0,Ru.VERSION=fS;var ev="1.12.5",Bb="INVALID_PARAMETERS",EP="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(ev,"/lib"),Ex="https://source.zoom.us/videosdk/".concat(ev,"/lib"),Cx="https://jssdk.zoomus.cn/videosdk/".concat(ev,"/lib"),CP=function(t){return"string"==typeof t&&t.length>0},ki=function(t){var i="";switch(t){case"Global":i=Ex;break;case"CN":i=Cx;break;case"CDN":i=EP;break;default:i=t}return i},$b=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"bid",to:"subsessionId"},{from:"phoneNumber",to:function(t){return void 0===t?{}:{phoneNumber:t}}}],IP=[].concat($b,[{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:function(t){return{isManager:!!t}}},{from:"userType",to:function(t){return{isPhoneUser:!(5&~t)}}},{from:"bid",to:function(t){return t?{subsessionId:t}:{}}}]),Ix=IP.map(function(t){return"string"==typeof t?t:t.from});function wP(t,i){return"string"==typeof t?$s({},"".concat(t),i):"string"==typeof t.to?$s({},"".concat(t.to),i):t.to(i)}function Cd(t){if(t)return $b.reduce(function(i,o){var c=wP(o,t["string"==typeof o?o:o.from]);return Ft(Ft({},i),c)},{})}function Oh(t){if(t)return Object.keys(t).reduce(function(i,o){var a=Ix.indexOf(o);if(a>-1){var c=IP[a],p=wP(c,t["string"==typeof c?c:c.from]);return Ft(Ft({},i),p)}return i},{})}var Mh,Ea,Kt,Dt,$c,Us,ai,Li,se=Symbol("stream"),wx=function(){function t(i){Ar(this,t),this[se]=void 0,this[se]=i}return Xe(t,[{key:"startAudio",value:function(i){return this[se].startAudio(i)}},{key:"stopAudio",value:function(){return this[se].stopAudio()}},{key:"muteAudio",value:function(i){return this[se].muteAudio(i)}},{key:"unmuteAudio",value:function(i){return this[se].unmuteAudio(i)}},{key:"inviteByPhone",value:function(i,o,a,c){return this[se].dialOut(i,o,a,c)}},{key:"cancelInviteByPhone",value:function(i,o,a){return this[se].cancelDialOut(i,o,a)}},{key:"hangup",value:function(){return this[se].hangup()}},{key:"getCurrentSessionCallinInfo",value:function(){return this[se].getDialInInfo()}},{key:"muteShareAudio",value:function(i){return this[se].muteShareAudio(i)}},{key:"unmuteShareAudio",value:function(i){return this[se].unmuteShareAudio(i)}},{key:"subscribeAudioStatisticData",value:function(i){return this[se].subscribeAudioStatisticData(i)}},{key:"unsubscribeAudioStatisticData",value:function(i){return this[se].unsubscribeAudioStatisticData(i)}},{key:"muteUserAudioLocally",value:function(i){return this[se].muteUserAudioLocally(i)}},{key:"unmuteUserAudioLocally",value:function(i){return this[se].unmuteUserAudioLocally(i)}},{key:"adjustUserAudioVolumeLocally",value:function(i,o){return this[se].adjustUserAudioVolumeLocally(i,o)}},{key:"enableBackgroundNoiseSuppression",value:function(i){return this[se].enableBackgroundNoiseSuppression(i)}},{key:"enableSyncButtonsOnHeadset",value:function(i){return this[se].enableSyncButtonsOnHeadset(i)}},{key:"muteAllUserAudioLocally",value:function(){return this[se].muteAllUserAudioLocally()}},{key:"unmuteAllUserAudioLocally",value:function(){return this[se].unmuteAllUserAudioLocally()}},{key:"enableOriginalSound",value:function(i){return this[se].enableOriginalSound(i)}},{key:"callCRCDevice",value:function(i,o){return this[se].callCRCDevice(i,o)}},{key:"cancelCallCRCDevice",value:function(i,o){return this[se].cancelCallCRCDevice(i,o)}},{key:"startSecondaryAudio",value:function(i,o){return this[se].startSecondaryAudio(i,o)}},{key:"stopSecondaryAudio",value:function(){return this[se].stopSecondaryAudio()}},{key:"muteAllAudio",value:function(){return this[se].muteAllAudio()}},{key:"unmuteAllAudio",value:function(){return this[se].unmuteAllAudio()}},{key:"isAudioMuted",value:function(i){return this[se].isAudioMuted(i)}},{key:"getMicList",value:function(){return this[se].getMicList()}},{key:"getSpeakerList",value:function(){return this[se].getSpeakerList()}},{key:"getActiveMicrophone",value:function(){return this[se].getActiveMicrophone()}},{key:"getActiveSpeaker",value:function(){return this[se].getActiveSpeaker()}},{key:"switchMicrophone",value:function(i){return this[se].switchMicrophone(i)}},{key:"switchSpeaker",value:function(i){return this[se].switchSpeaker(i)}},{key:"isSupportPhoneFeature",value:function(){return this[se].isSupportCallOut()}},{key:"getSupportCountryInfo",value:function(){return this[se].getDialOutCountries()}},{key:"getInviteByPhoneStatus",value:function(){return this[se].getDialOutStatus()}},{key:"getShareAudioStatus",value:function(){return this[se].getShareAudioStatus()}},{key:"isOthersShareAudioMutedLocally",value:function(i){return this[se].isOthersShareAudioMutedLocally(i)}},{key:"getAudioStatisticData",value:function(){return this[se].getAudioStatisticData()}},{key:"isUserAudioMutedLocally",value:function(i){return this[se].isUserAudioMutedLocally(i)}},{key:"getUserVolumeLocally",value:function(i){return this[se].getUserVolumeLocally(i)}},{key:"isSupportMicrophoneAndShareAudioSimultaneously",value:function(){return this[se].isSupportMicrophoneAndShareAudioSimultaneously()}},{key:"startVideo",value:function(i){return this[se].startVideo(i)}},{key:"stopVideo",value:function(){return this[se].stopVideo()}},{key:"renderVideo",value:function(i,o,a,c,l,p,h,g){return this[se].renderVideo(i,o,a,c,l,p,h,g)}},{key:"stopRenderVideo",value:function(i,o,a,c){return this[se].stopRenderVideo(i,o,a,c,arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}},{key:"updateVideoCanvasDimension",value:function(i,o,a){return this[se].updateVideoCanvasDimension(i,o,a)}},{key:"adjustRenderedVideoPosition",value:function(i,o,a,c,l,p,h){return this[se].adjustRenderedVideoPosition(i,o,a,c,l,p,h)}},{key:"clearVideoCanvas",value:function(i,o){return this[se].clearVideoCanvas(i,o)}},{key:"mirrorVideo",value:function(i){return this[se].mirrorVideo(i)}},{key:"enableHardwareAcceleration",value:function(i){return this[se].enableHardwareAcceleration(i)}},{key:"previewVirtualBackground",value:function(i,o,a,c){return this[se].previewVirtualBackground(i,o,a,c)}},{key:"updateVirtualBackgroundImage",value:function(i,o){return this[se].updateVirtualBackgroundImage(i,o)}},{key:"stopPreviewVirtualBackground",value:function(){return this[se].stopPreviewVirtualBackground()}},{key:"previewVideoMask",value:function(i,o){return this[se].previewVideoMask(i,o)}},{key:"updateVideoMask",value:function(i){return this[se].updateVideoMask(i)}},{key:"stopPreviewVideoMask",value:function(){return this[se].stopPreviewVideoMask()}},{key:"switchCamera",value:function(i){return this[se].switchCamera(i)}},{key:"subscribeVideoStatisticData",value:function(i){return this[se].subscribeVideoStatisticData(i)}},{key:"unsubscribeVideoStatisticData",value:function(i){return this[se].unsubscribeVideoStatisticData(i)}},{key:"attachVideo",value:function(i,o,a){return this[se].attachVideo(i,o,a)}},{key:"detachVideo",value:function(i,o){return this[se].detachVideo(i,o)}},{key:"spotlightVideo",value:function(i,o){return this[se].spotlight(i,null!=o&&o)}},{key:"removeSpotlightedVideo",value:function(i){return this[se].removeSpotlight(i)}},{key:"removeAllSpotlightedVideos",value:function(){return this[se].removeAllSpotlights()}},{key:"isCapturingVideo",value:function(){return this[se].isCapturingVideo()}},{key:"isCameraTaken",value:function(){return this[se].isCameraTaken()}},{key:"getActiveVideoId",value:function(){return this[se].getActiveVideoId()}},{key:"getActiveCamera",value:function(){return this[se].getActiveCamera()}},{key:"getCameraList",value:function(){return this[se].getCameraList()}},{key:"isCaptureForbidden",value:function(){return this[se].isCaptureForbidden()}},{key:"getVideoMaxQuality",value:function(){return this[se].getVideoMaxQuality()}},{key:"getReceivedVideoDimension",value:function(){return this[se].getReceivedVideoDimension()}},{key:"isSupportMultipleVideos",value:function(){return this[se].isSupportMultipleVideos()}},{key:"isSupportHDVideo",value:function(){return this[se].isSupportHDVideo()}},{key:"isSupportVirtualBackground",value:function(){return this[se].isSupportVirtualBackground()}},{key:"getVirtualbackgroundStatus",value:function(){return this[se].getVirtualbackgroundStatus()}},{key:"getVideoStatisticData",value:function(){return this[se].getVideoStatisticData()}},{key:"isRenderSelfViewWithVideoElement",value:function(){return this[se].isRenderSelfViewWithVideoElement()}},{key:"getCapturedVideoResolution",value:function(){return this[se].getCapturedVideoResolution()}},{key:"getVideoMaskStatus",value:function(){return this[se].getVideoMaskStatus()}},{key:"isVideoMirrored",value:function(){return this[se].isVideoMirrored()}},{key:"getSpotlightedUserList",value:function(){return this[se].getSpotlightedUserList().map(function(i){return Cd(i)})}},{key:"startShareView",value:function(i,o){return this[se].startShareView(i,o)}},{key:"stopShareView",value:function(){return this[se].stopShareView()}},{key:"switchShareView",value:function(i){return this[se].switchShareView(i)}},{key:"startShareScreen",value:function(i,o){return void 0!==o?.broadcastToSubsession&&Object.assign(o||{},{broadcastToBreakoutRoom:o?.broadcastToSubsession}),this[se].startShareScreen(i,o)}},{key:"pauseShareScreen",value:function(){return this[se].pauseShareScreen()}},{key:"resumeShareScreen",value:function(){return this[se].resumeShareScreen()}},{key:"stopShareScreen",value:function(){return this[se].stopShareScreen()}},{key:"lockShare",value:function(i){return this[se].lockShare(i)}},{key:"updateSharingCanvasDimension",value:function(i,o){return this[se].updateSharingCanvasDimension(i,o)}},{key:"switchSharingSecondaryCamera",value:function(i){return this[se].switchSharingSecondaryCamera(i)}},{key:"setSharePrivilege",value:function(i){return this[se].setSharePrivilege(i)}},{key:"shareToSubsession",value:function(){return this[se].shareToBreakoutRoom()}},{key:"stopShareToSubsession",value:function(){return this[se].stopShareToBreakoutRoom()}},{key:"enableOptimizeForSharedVideo",value:function(i){return this[se].enableOptimizeForSharedVideo(i)}},{key:"updateSharedVideoQuality",value:function(i){return this[se].updateSharedVideoQuality(i)}},{key:"subscribeShareStatisticData",value:function(i){return this[se].subscribeShareStatisticData(i)}},{key:"unsubscribeShareStatisticData",value:function(i){return this[se].unsubscribeShareStatisticData(i)}},{key:"isShareLocked",value:function(){return this[se].isShareLocked()}},{key:"getSharePrivilege",value:function(){return this[se].getSharePrivilege()}},{key:"getActiveShareUserId",value:function(){return this[se].getActiveShareUserId()}},{key:"getShareStatus",value:function(){return this[se].getShareStatus()}},{key:"getShareUserList",value:function(){return this[se].getShareUserList().map(function(i){return Cd(i)})}},{key:"isStartShareScreenWithVideoElement",value:function(){return this[se].isStartShareScreenWithVideoElement()}},{key:"isOptimizeForSharedVideoEnabled",value:function(){return this[se].isOptimizeForSharedVideoEnabled()}},{key:"isSupportOptimizedForSharedVideo",value:function(){return this[se].isSupportOptimizedForSharedVideo()}},{key:"getShareStatisticData",value:function(){return this[se].getShareStatisticData()}},{key:"requestFarEndCameraControl",value:function(i){return this[se].requestFarEndCameraControl(i)}},{key:"approveFarEndCameraControl",value:function(i){return this[se].approveFarEndCameraControl(i)}},{key:"declineFarEndCameraControl",value:function(i){return this[se].declineFarEndCameraControl(i)}},{key:"giveUpFarEndCameraControl",value:function(i){return this[se].giveUpFarEndCameraControl(i)}},{key:"controlCamera",value:function(i){return this[se].controlCamera(i)}},{key:"controlFarEndCamera",value:function(i){return this[se].controlFarEndCamera(i)}},{key:"getFarEndCameraPTZCapability",value:function(i){return this[se].getFarEndCameraPTZCapability(i)}},{key:"getCameraPTZCapability",value:function(i){return this[se].getCameraPTZCapability(i)}},{key:"isBrowserSupportPTZ",value:function(){return this[se].isBrowserSupportPTZ()}},{key:"getNetworkQuality",value:function(i){return this[se].getNetworkQuality(i)}},{key:"requestRemoteControl",value:function(){return this[se].requestRemoteControl()}},{key:"giveUpRemoteControl",value:function(){return this[se].giveUpRemoteControl()}},{key:"startRemoteControl",value:function(i){return this[se].startRemoteControl(i)}},{key:"grabRemotoControl",value:function(){return this[se].grabRemotoControl()}},{key:"approveRemoteControl",value:function(i,o){return this[se].approveRemoteControl(i,o)}},{key:"declineRemoteControl",value:function(i){return this[se].declineRemoteControl(i)}},{key:"stopRemoteControl",value:function(){return this[se].stopRemoteControl()}},{key:"launchRemoteControlApp",value:function(i){return this[se].launchRemoteControlApp(i)}},{key:"isRemotelyControlApproved",value:function(){return this[se].isRemotelyControlApproved()}},{key:"isControllingUserRemotely",value:function(){return this[se].isControllingUserRemotely()}},{key:"isTargetShareSupportRemoteControl",value:function(i){return this[se].isTargetShareSupportRemoteControl(i)}},{key:"getRemoteControlAppDownloadUrl",value:function(){return this[se].getRemoteControlAppDownloadUrl()}},{key:"getRemotelyControllingUser",value:function(){return this[se].getRemotelyControllingUser()}},{key:"isRemoteControlEnabled",value:function(){return this[se].isRemoteControlEnabled()}}]),t}(),Dr=["isCoHost"],us=Symbol("chat"),An=function(){function t(i){Ar(this,t),this[us]=void 0,this[us]=i}return Xe(t,[{key:"send",value:function(i,o){return this[us].send(i,o)}},{key:"sendToAll",value:function(i){return this[us].send(i,nn.All)}},{key:"sendFile",value:function(i,o){return this[us].sendFile(i,o)}},{key:"downloadFile",value:function(i,o,a){return this[us].downloadFile(i,o,a)}},{key:"setPrivilege",value:function(i){return this[us].setPrivilege(i)}},{key:"getPrivilege",value:function(){return this[us].getPrivilege()}},{key:"getReceivers",value:function(){return this[us].getReceivers().map(function(i){return Ft({isManager:i.isCoHost},Jc(i,Dr))})}},{key:"getHistory",value:function(){return this[us].getHistory()}},{key:"isFileTransferEnabled",value:function(){return this[us].isFileTransferEnabled()}},{key:"getFileTransferSetting",value:function(){return this[us].getFileTransferSetting()}}]),t}(),Ca=Symbol("recording"),Hb=function(){function t(i){Ar(this,t),this[Ca]=void 0,this[Ca]=i}return Xe(t,[{key:"canStartRecording",value:function(){return this[Ca].isRecordingEnabled()}},{key:"startCloudRecording",value:function(){return this[Ca].startRecording()}},{key:"pauseCloudRecording",value:function(){return this[Ca].pauseRecording()}},{key:"resumeCloudRecording",value:function(){return this[Ca].startRecording()}},{key:"stopCloudRecording",value:function(){return this[Ca].stopRecording()}},{key:"getCloudRecordingStatus",value:function(){return this[Ca].getRecordingStatus()}},{key:"acceptIndividualRecording",value:function(){return this[Ca].accept()}},{key:"declineIndividualRecording",value:function(){return this[Ca].decline()}}]),t}(),U_=Symbol("command"),Gb=function(){function t(i){Ar(this,t),this[U_]=void 0,this[U_]=i}return Xe(t,[{key:"send",value:function(i,o){return this[U_].send(i,o)}}]),t}(),_x=["isInRoom"],_P=["isAutoJoinRoom","isRoomSelectionEnabled"],Yn=Symbol("breakout-room"),zb=function(){function t(i){Ar(this,t),this[Yn]=void 0,this[Yn]=i}return Xe(t,[{key:"createSubsessions",value:function(i,o){return this[Yn].createRooms(i,o).then(function(a){return a.map(function(c){return{subsessionId:c.roomId,subsessionName:c.name,userList:c.attendeeList}})})}},{key:"openSubsessions",value:function(i,o){var a=o?Ft(Ft({},o),{},{isAutoJoinRoom:o.isAutoJoinSubsession,isRoomSelectionEnabled:o.isSubsessionSelectionEnabled}):void 0,c=i.map(function(l){return{roomId:l.subsessionId,name:l.subsessionName,attendeeList:l.userList}});return this[Yn].openRooms(c,a)}},{key:"joinSubsession",value:function(i){return this[Yn].joinRoom(i)}},{key:"leaveSubsession",value:function(){return this[Yn].leaveRoom()}},{key:"askForHelp",value:function(){return this[Yn].askForHelp()}},{key:"postponeHelping",value:function(i){return this[Yn].postponeHelping(i)}},{key:"broadcast",value:function(i){return this[Yn].broadcast(i)}},{key:"assignUserToSubsession",value:function(i,o){return this[Yn].assignUserToRoom(i,o)}},{key:"moveUserToSubsession",value:function(i,o){return this[Yn].moveUserToRoom(i,o)}},{key:"moveBackToMainSession",value:function(i){return this[Yn].moveBackToMainSession(i)}},{key:"closeAllSubsessions",value:function(){return this[Yn].closeRoom()}},{key:"startBroadcastVoice",value:function(){return this[Yn].startBroadcastVoice()}},{key:"stopBroadcastVoice",value:function(){return this[Yn].stopBroadcastVoice()}},{key:"getUnassignedUserList",value:function(){return this[Yn].getUnassignedAttendeeList().map(function(i){return Cd(i)})}},{key:"getSubsessionList",value:function(){return this[Yn].getRoomList().map(function(i){return{subsessionId:i.roomId,subsessionName:i.name,userList:i.attendeeList.map(function(o){return Ft({isInSubsession:o.isInRoom},Jc(o,_x))})}})}},{key:"getUserStatus",value:function(){return this[Yn].getAttendeeStatus()}},{key:"getSubsessionStatus",value:function(){return this[Yn].getRoomStatus()}},{key:"getCurrentSubsession",value:function(){var i=this[Yn].getCurrentRoom();return{userStatus:i.attendeeStatus,subsessionName:i.name,subsessionId:i.roomId}}},{key:"getSubsessionOptions",value:function(){var i=this[Yn].getRoomOptions();return Ft({isAutoJoinSubsession:i.isAutoJoinRoom,isSubsessionSelectionEnabled:i.isRoomSelectionEnabled},Jc(i,_P))}}]),t}(),ui=Symbol("liveTranscription"),Dx=function(){function t(i){Ar(this,t),this[ui]=void 0,this[ui]=i}return Xe(t,[{key:"startLiveTranscription",value:function(){return this[ui].startLiveTranscription()}},{key:"setSpeakingLanguage",value:function(i){return this[ui].setSpeakingLanguage(i)}},{key:"setTranslationLanguage",value:function(i){return this[ui].setTranslationLanguage(i)}},{key:"getLiveTranscriptionStatus",value:function(){return this[ui].getLiveTranscriptionStatus()}},{key:"getCurrentTranscriptionLanguage",value:function(){return this[ui].getCurrentTranscriptionLanguage()}},{key:"getCurrentTranslationLanguage",value:function(){return this[ui].getCurrentTranslationLanguage()}},{key:"getLatestTranscription",value:function(){return this[ui].getLatestTranscription()}},{key:"getLatestTranslation",value:function(){return this[ui].getLatestTranslation()}},{key:"getFullTranscriptionHistory",value:function(){return this[ui].getFullTranscriptionHistory()}},{key:"disableCaptions",value:function(i){return this[ui].disableCaptions(i)}}]),t}(),Id=Symbol("liveStream"),Ax=function(){function t(i){Ar(this,t),this[Id]=void 0,this[Id]=i}return Xe(t,[{key:"startLiveStream",value:function(i,o,a){return this[Id].startLiveStream(i,o,a)}},{key:"stopLiveStream",value:function(){return this[Id].stopLiveStream()}},{key:"isLiveStreamEnabled",value:function(){return this[Id].isLiveStreamEnabled()}},{key:"getLiveStreamStatus",value:function(){return this[Id].getLiveStreamStatus()}}]),t}(),tv=Symbol("logger"),Tx=function(){function t(i,o){Ar(this,t),this[tv]=void 0,this[tv]=i,o&&this[tv].setLogOptions({debugMode:o.debugMode,trackingId:o.trackingId})}return Xe(t,[{key:"reportToGlobalTracing",value:function(i){return this[tv].reportToGlobalTracing(i)}},{key:"reportRating",value:function(i,o){return this[tv].reportRating(i,o)}}]),t}(),Rx=["roomName"],DP=["roomId","roomName"],AP=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:function(t){var i=t.roomName,o=Jc(t,Rx);return i?Ft(Ft({},o),{},{subsessionName:i}):t}},{event:"user-added",originalEvent:"user-added",payloadTransform:function(t){return t.map(function(i){return Oh(i)})}},{event:"user-updated",originalEvent:"user-updated",payloadTransform:function(t){return t.map(function(i){return Oh(i)})}},{event:"user-removed",originalEvent:"user-removed",payloadTransform:function(t){return t.map(function(i){return Oh(i)})}},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:function(t){return{subsessionId:t.roomId,subsessionName:t.name}}},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-broadcast-voice",originalEvent:"broadcast-voice"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:function(t){return{userId:t.userId,userGuid:t.userGuid,displayName:t.displayName,subsessionId:t.roomId,subsessionName:t.roomName}}},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-invite-back-to-main-session",originalEvent:"invite-back-to-main-session"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"},{event:"subsession-user-update",originalEvent:"room-user-update",payloadTransform:function(t){return Ft({subsessionId:t.roomId,subsessionName:t.roomName},Jc(t,DP))}},{event:"active-media-failed",originalEvent:"media-internal-error"}],js=Symbol("summary"),Wb=function(){function t(i){Ar(this,t),this[js]=void 0,this[js]=i}return Xe(t,[{key:"startSummary",value:function(){return this[js].startSummary()}},{key:"stopSummary",value:function(){return this[js].stopSummary()}},{key:"isSummaryEnabled",value:function(){return this[js].isSummaryEnabled()}},{key:"getSummaryStatus",value:function(){return this[js].getSummaryStatus()}},{key:"startMeetingQuery",value:function(){return this[js].startMeetingQuery()}},{key:"stopMeetingQuery",value:function(){return this[js].stopMeetingQuery()}},{key:"isMeetingQueryEnabled",value:function(){return this[js].isMeetingQueryEnabled()}},{key:"getMeetingQueryStatus",value:function(){return this[js].getMeetingQueryStatus()}}]),t}(),Pt=Symbol("Client"),qb=new WeakMap,Ox=function(){function t(){Ar(this,t),this[Pt]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this[Pt]=Ru.createClient(),qb.set(this,new Map)}return Xe(t,[{key:"init",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",o=arguments.length>2?arguments[2]:void 0,a=ki(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global");return!1===window.isSecureContext&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),function(){var c="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(c,c),localStorage.removeItem(c),sessionStorage.setItem(c,c),sessionStorage.removeItem(c),!0}catch{return!1}}()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[Pt].init("","",{language:i,dependentAssets:a,constraints:Ft(Ft({},Ru.checkSystemRequirements()),{},{screen:"object"===(typeof WebAssembly>"u"?"undefined":Fi(WebAssembly))&&"function"==typeof Worker}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary"],webEndpoint:o?.webEndpoint||"zoom.us",skipJsMedia:o?.skipJsMedia,enforceMultipleVideos:o?.enforceMultipleVideos,stayAwake:o?.stayAwake,enforceVirtualBackground:o?.enforceVirtualBackground,quicklyLeaveMeeting:o?.leaveOnPageUnload,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})}},{key:"join",value:function(i,o,a,c,l){return CP(i)&&CP(o)&&CP(a)?i.length>200?Promise.reject({type:Bb,reason:"The maximum length of topic is 200"}):a.length>200?Promise.reject({type:Bb,reason:"The maximum length of username is 200"}):c&&("string"!=typeof c||c.length>10)?Promise.reject({type:Bb,reason:"The maximum length of password is 10"}):this[Pt].joinInstant(i,o,a,ev,c,l):Promise.reject({type:Bb,reason:"Topic, token and userName must be string and required"})}},{key:"leave",value:function(){var i;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(null===(i=qb.get(this))||void 0===i||i.clear(),this[Pt].end()):this[Pt].leave()}},{key:"on",value:function(i,o){var a=AP.find(function(v){return v.event===i});if(a){var c=a.originalEvent,l=a.payloadTransform;if(l){var p=function(v){var S=l(v);o(S)};this[Pt].on(c,p);var h=qb.get(this);if(h){h.has(i)||h.set(i,[]);var g=h.get(i);g?.push({originalCb:o,newCb:p})}}else this[Pt].on(c,o)}else this[Pt].on(i,o)}},{key:"off",value:function(i,o){var a=AP.find(function(v){return v.event===i});if(a){var c=a.originalEvent;if(a.payloadTransform){var l=qb.get(this);if(l){var p=l.get(i),h=p?.find(function(v){return v.originalCb===o});if(h&&p){this[Pt].off(c,h.newCb);var g=p?.filter(function(v){return v.originalCb!==o});l.set(i,g)}}}else this[Pt].off(c,o)}else this[Pt].off(i,o)}},{key:"getMediaStream",value:function(){return this.stream||(this.stream=new wx(this[Pt].getMediaStream())),this.stream}},{key:"getChatClient",value:function(){return this.chat||(this.chat=new An(this[Pt].getFeatureModule("chat"))),this.chat}},{key:"getRecordingClient",value:function(){return this.recording||(this.recording=new Hb(this[Pt].getFeatureModule("recording"))),this.recording}},{key:"getCommandClient",value:function(){return this.command||(this.command=new Gb(this[Pt].getFeatureModule("cmd"))),this.command}},{key:"getSubsessionClient",value:function(){return this.subsession||(this.subsession=new zb(this[Pt].getFeatureModule("breakoutRoom"))),this.subsession}},{key:"getLiveTranscriptionClient",value:function(){return this.liveTranscription||(this.liveTranscription=new Dx(this[Pt].getFeatureModule("liveTranscription"))),this.liveTranscription}},{key:"getLoggerClient",value:function(i){return this.logger||(this.logger=new Tx(this[Pt].getFeatureModule("logger"),i)),this.logger}},{key:"getLiveStreamClient",value:function(){return this.liveStream||(this.liveStream=new Ax(this[Pt].getFeatureModule("liveStream"))),this.liveStream}},{key:"getAIClient",value:function(){return this.aiClient||(this.aiClient=new Wb(this[Pt].getFeatureModule("summary"))),this.aiClient}},{key:"getSessionInfo",value:function(){var i=this[Pt].getMeetingInfo();return{isInMeeting:i.isInMeeting||!1,password:i.password||"",topic:i.topic,userName:i.userName,userId:i.userId,sessionId:i.meetingId}}},{key:"getCurrentUserInfo",value:function(){return Cd(this[Pt].getCurrentUserInfo())}},{key:"getUser",value:function(i){return Cd(this[Pt].getParticipantsList().find(function(o){return o.userId===i}))}},{key:"getAllUser",value:function(){return this[Pt].getParticipantsList().map(function(i){return Cd(i)})}},{key:"changeName",value:function(i,o){return this[Pt].changeName(i,o)}},{key:"makeHost",value:function(i){return this[Pt].makeHost(i)}},{key:"removeUser",value:function(i){return this[Pt].removeUser(i)}},{key:"makeManager",value:function(i){return this[Pt].makeCoHost(i)}},{key:"revokeManager",value:function(i){return this[Pt].revokeCoHost(i)}},{key:"reclaimHost",value:function(){return this[Pt].reclaimHost()}},{key:"isHost",value:function(){return this[Pt].isHost()}},{key:"isOriginalHost",value:function(){return this[Pt].isOriginHost()}},{key:"getSessionHost",value:function(){return Cd(this[Pt].getMeetingHost())}},{key:"isManager",value:function(){return this[Pt].isCoHost()}}]),t}(),nv=function(){function t(){Ar(this,t)}return Xe(t,null,[{key:"createClient",value:function(){return this.videoClient||(this.videoClient=new Ox),this.videoClient}},{key:"destroyClient",value:function(){this.videoClient&&(this.videoClient.leave(),this.videoClient=null)}},{key:"checkSystemRequirements",value:function(){return Ru.checkSystemRequirements()}},{key:"checkFeatureRequirements",value:function(){return Ru.checkFeatureRequirements()}},{key:"getDevices",value:function(i){return Ru.getDevices(i)}},{key:"createLocalAudioTrack",value:function(){return Ru.createLocalAudioTrack(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},{key:"createLocalVideoTrack",value:function(){return Ru.createLocalVideoTrack(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},{key:"preloadDependentAssets",value:function(){Ru.preloadDependentAssets(ki(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global"))}}]),t}();nv.videoClient=void 0,nv.VERSION=ev,$e.ChatPrivilege=void 0,(Mh=$e.ChatPrivilege||($e.ChatPrivilege={}))[Mh.All=1]="All",Mh[Mh.NoOne=4]="NoOne",Mh[Mh.EveryonePublicly=5]="EveryonePublicly",$e.ChatMsgType=void 0,(Ea=$e.ChatMsgType||($e.ChatMsgType={}))[Ea.All=0]="All",$e.SubsessionAllocationPattern=void 0,(Kt=$e.SubsessionAllocationPattern||($e.SubsessionAllocationPattern={}))[Kt.Automatically=Sp.Automatically]="Automatically",Kt[Kt.Manually=Sp.Manually]="Manually",$e.SubsessionUserStatus=void 0,(Dt=$e.SubsessionUserStatus||($e.SubsessionUserStatus={}))[Dt.Initial=je.Initial]="Initial",Dt[Dt.Invited=je.Invited]="Invited",Dt[Dt.Joining=je.Joining]="Joining",Dt[Dt.InSubsession=je.InRoom]="InSubsession",Dt[Dt.Leaving=je.Leaving]="Leaving",Dt[Dt.MainSession=je.MainSession]="MainSession",$e.SubsessionStatus=void 0,($c=$e.SubsessionStatus||($e.SubsessionStatus={}))[$c.NotStarted=dt.NotStarted]="NotStarted",$c[$c.InProgress=dt.InProgress]="InProgress",$c[$c.Closing=dt.Closing]="Closing",$c[$c.Closed=dt.Closed]="Closed",$e.ReconnectReason=void 0,(Us=$e.ReconnectReason||($e.ReconnectReason={}))[Us.Failover=nr.Failover]="Failover",Us[Us.JoinSubsession=nr.JoinBreakoutRoom]="JoinSubsession",Us[Us.MoveToSubsession=nr.MoveToBreakoutRoom]="MoveToSubsession",Us[Us.BackToMainSession=nr.BackToMainSession]="BackToMainSession",$e.SharePrivilege=void 0,(ai=$e.SharePrivilege||($e.SharePrivilege={}))[ai.Unlocked=Ei.HostGrab]="Unlocked",ai[ai.Locked=Ei.OnlyHost]="Locked",ai[ai.MultipleShare=Ei.MultipleShare]="MultipleShare",$e.RemoteControlAppStatus=void 0,(Li=$e.RemoteControlAppStatus||($e.RemoteControlAppStatus={}))[Li.Unknown=bn.Unknown]="Unknown",Li[Li.Uninstalled=bn.Uninstalled]="Uninstalled",Li[Li.Installed=bn.Installed]="Installed",Li[Li.Unlaunched=Xv.Unlaunched]="Unlaunched",Li[Li.Launched=Xv.Launched]="Launched",$e.ApprovedState=ap,$e.AskHostHelpResponse=Cs,$e.AudioChangeAction=qi,$e.CRCProtocol=rA,$e.CRCReturnCode=cp,$e.CameraControlCmd=p0,$e.ChatFileDownloadStatus=Wo,$e.ChatFileUploadStatus=rr,$e.ConnectionState=Gi,$e.DialoutState=jt,$e.FarEndCameraControlDeclinedReason=Jv,$e.LeaveAudioSource=lr,$e.LiveStreamStatus=wu,$e.LiveTranscriptionLanguage=dx,$e.LiveTranscriptionLanguageCode=yP,$e.LiveTranscriptionMessageSource=Iu,$e.MobileVideoFacingMode=Ba,$e.MutedSource=bi,$e.PassiveStopShareReason=ml,$e.RecordingStatus=yr,$e.RemoteControlSessionStatus=yl,$e.ShareStatus=_t,$e.VideoActiveState=gl,$e.VideoCapturingState=Qv,$e.VideoQuality=qo,$e.default=nv,Object.defineProperty($e,"__esModule",{value:!0})}(Fh)},293:Ro=>{function Fh(Oe,$e,Qc,Ft,Fi,Ar,$o){try{var Xe=Oe[Ar]($o),$s=Xe.value}catch(Jc){return void Qc(Jc)}Xe.done?$e($s):Promise.resolve($s).then(Ft,Fi)}Ro.exports=function Rd(Oe){return function(){var $e=this,Qc=arguments;return new Promise(function(Ft,Fi){var Ar=Oe.apply($e,Qc);function $o($s){Fh(Ar,Ft,Fi,$o,Xe,"next",$s)}function Xe($s){Fh(Ar,Ft,Fi,$o,Xe,"throw",$s)}$o(void 0)})}},Ro.exports.__esModule=!0,Ro.exports.default=Ro.exports}},Ro=>{Ro(Ro.s=922)}]);