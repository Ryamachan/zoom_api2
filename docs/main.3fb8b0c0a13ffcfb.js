(self.webpackChunkvideosdk_ui_toolkit_angular_sample=self.webpackChunkvideosdk_ui_toolkit_angular_sample||[]).push([[792],{922:(Ao,Lh,Td)=>{"use strict";let Ft=null,Dr=1;const Bo=Symbol("SIGNAL");function Xe(e){const n=Ft;return Ft=e,n}function cE(e){if((!wa(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Dr)){if(!e.producerMustRecompute(e)&&!Kt(e))return e.dirty=!1,void(e.lastCleanEpoch=Dr);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Dr}}function Kt(e){Yc(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==r.version||(cE(r),s!==r.version))return!0}return!1}function Zc(e,n){if(function lE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Yc(e),1===e.liveConsumerNode.length)for(let s=0;s<e.producerNode.length;s++)Zc(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],u=e.liveConsumerNode[n];Yc(u),u.producerIndexOfThis[s]=n}}function wa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Yc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Fh=null;function Ct(e){return"function"==typeof e}function jh(e){const r=e(s=>{Error.call(s),s.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const hE=jh(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((s,u)=>`${u+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function fE(e,n){if(e){const r=e.indexOf(n);0<=r&&e.splice(r,1)}}class Tn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const d of r)d.remove(this);else r.remove(this);const{initialTeardown:s}=this;if(Ct(s))try{s()}catch(d){n=d instanceof hE?d.errors:[d]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const d of u)try{lv(d)}catch(f){n=n??[],f instanceof hE?n=[...n,...f.errors]:n.push(f)}}if(n)throw new hE(n)}}add(n){var r;if(n&&n!==this)if(this.closed)lv(n);else{if(n instanceof Tn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(n)}}_hasParent(n){const{_parentage:r}=this;return r===n||Array.isArray(r)&&r.includes(n)}_addParent(n){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n}_removeParent(n){const{_parentage:r}=this;r===n?this._parentage=null:Array.isArray(r)&&fE(r,n)}remove(n){const{_finalizers:r}=this;r&&fE(r,n),n instanceof Tn&&n._removeParent(this)}}Tn.EMPTY=(()=>{const e=new Tn;return e.closed=!0,e})();const gE=Tn.EMPTY;function uD(e){return e instanceof Tn||e&&"closed"in e&&Ct(e.remove)&&Ct(e.add)&&Ct(e.unsubscribe)}function lv(e){Ct(e)?e():e.unsubscribe()}const el={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dv={setTimeout(e,n,...r){const{delegate:s}=dv;return s?.setTimeout?s.setTimeout(e,n,...r):setTimeout(e,n,...r)},clearTimeout(e){const{delegate:n}=dv;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function pv(e){dv.setTimeout(()=>{const{onUnhandledError:n}=el;if(!n)throw e;n(e)})}function Uh(){}const YP=vE("C",void 0,void 0);function vE(e,n,r){return{kind:e,value:n,error:r}}let Da=null;function hv(e){if(el.useDeprecatedSynchronousErrorHandling){const n=!Da;if(n&&(Da={errorThrown:!1,error:null}),e(),n){const{errorThrown:r,error:s}=Da;if(Da=null,r)throw s}}else e()}class Bh extends Tn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,uD(n)&&n.add(this)):this.destination=SE}static create(n,r,s){return new yE(n,r,s)}next(n){this.isStopped?fv(function cD(e){return vE("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?fv(function mE(e){return vE("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?fv(YP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Md=Function.prototype.bind;function Ui(e,n){return Md.call(e,n)}class XP{constructor(n){this.partialObserver=n}next(n){const{partialObserver:r}=this;if(r.next)try{r.next(n)}catch(s){Hh(s)}}error(n){const{partialObserver:r}=this;if(r.error)try{r.error(n)}catch(s){Hh(s)}else Hh(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(r){Hh(r)}}}class yE extends Bh{constructor(n,r,s){let u;if(super(),Ct(n)||!n)u={next:n??void 0,error:r??void 0,complete:s??void 0};else{let d;this&&el.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe(),u={next:n.next&&Ui(n.next,d),error:n.error&&Ui(n.error,d),complete:n.complete&&Ui(n.complete,d)}):u=n}this.destination=new XP(u)}}function Hh(e){el.useDeprecatedSynchronousErrorHandling?function lD(e){el.useDeprecatedSynchronousErrorHandling&&Da&&(Da.errorThrown=!0,Da.error=e)}(e):pv(e)}function fv(e,n){const{onStoppedNotification:r}=el;r&&dv.setTimeout(()=>r(e,n))}const SE={closed:!0,next:Uh,error:function Se(e){throw e},complete:Uh},gv="function"==typeof Symbol&&Symbol.observable||"@@observable";function zs(e){return e}function EE(e){return 0===e.length?zs:1===e.length?e[0]:function(r){return e.reduce((s,u)=>u(s),r)}}let Vr=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const s=new e;return s.source=this,s.operator=r,s}subscribe(r,s,u){const d=function pD(e){return e&&e instanceof Bh||function dD(e){return e&&Ct(e.next)&&Ct(e.error)&&Ct(e.complete)}(e)&&uD(e)}(r)?r:new yE(r,s,u);return hv(()=>{const{operator:f,source:m}=this;d.add(f?f.call(d,m):m?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(r){try{return this._subscribe(r)}catch(s){r.error(s)}}forEach(r,s){return new(s=CE(s))((u,d)=>{const f=new yE({next:m=>{try{r(m)}catch(S){d(S),f.unsubscribe()}},error:d,complete:u});this.subscribe(f)})}_subscribe(r){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(r)}[gv](){return this}pipe(...r){return EE(r)(this)}toPromise(r){return new(r=CE(r))((s,u)=>{let d;this.subscribe(f=>d=f,f=>u(f),()=>s(d))})}}return e.create=n=>new e(n),e})();function CE(e){var n;return null!==(n=e??el.Promise)&&void 0!==n?n:Promise}const hD=jh(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let di=(()=>{class e extends Vr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const s=new IE(this,this);return s.operator=r,s}_throwIfClosed(){if(this.closed)throw new hD}next(r){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(r)}})}error(r){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:s}=this;for(;s.length;)s.shift().error(r)}})}complete(){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:s,isStopped:u,observers:d}=this;return s||u?gE:(this.currentObservers=null,d.push(r),new Tn(()=>{this.currentObservers=null,fE(d,r)}))}_checkFinalizedStatuses(r){const{hasError:s,thrownError:u,isStopped:d}=this;s?r.error(u):d&&r.complete()}asObservable(){const r=new Vr;return r.source=this,r}}return e.create=(n,r)=>new IE(n,r),e})();class IE extends di{constructor(n,r){super(),this.destination=n,this.source=r}next(n){var r,s;null===(s=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===s||s.call(r,n)}error(n){var r,s;null===(s=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===s||s.call(r,n)}complete(){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===r||r.call(n)}_subscribe(n){var r,s;return null!==(s=null===(r=this.source)||void 0===r?void 0:r.subscribe(n))&&void 0!==s?s:gE}}class un extends di{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return!r.closed&&n.next(this._value),r}getValue(){const{hasError:n,thrownError:r,_value:s}=this;if(n)throw r;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function _E(e){return Ct(e?.lift)}function Fn(e){return n=>{if(_E(n))return n.lift(function(r){try{return e(r,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function $t(e,n,r,s,u){return new wE(e,n,r,s,u)}class wE extends Bh{constructor(n,r,s,u,d,f){super(n),this.onFinalize=d,this.shouldUnsubscribe=f,this._next=r?function(m){try{r(m)}catch(S){n.error(S)}}:super._next,this._error=u?function(m){try{u(m)}catch(S){n.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Qt(e,n){return Fn((r,s)=>{let u=0;r.subscribe($t(s,d=>{s.next(e.call(n,d,u++))}))})}class Ee extends Error{constructor(n,r){super(function Pd(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function ye(e){return{toString:e}.toString()}const Tu="__parameters__";function Ld(e,n,r){return ye(()=>{const s=function AE(e){return function(...r){if(e){const s=e(...r);for(const u in s)this[u]=s[u]}}}(n);function u(...d){if(this instanceof u)return s.apply(this,d),this;const f=new u(...d);return m.annotation=f,m;function m(S,C,D){const R=S.hasOwnProperty(Tu)?S[Tu]:Object.defineProperty(S,Tu,{value:[]})[Tu];for(;R.length<=D;)R.push(null);return(R[D]=R[D]||[]).push(f),S}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}const on=globalThis;function cn(e){for(let n in e)if(e[n]===cn)return n;throw Error("Could not find renamed property on target object.")}function Ar(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ar).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function dn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ru=cn({__forward_ref__:cn});function Rn(e){return e.__forward_ref__=Rn,e.toString=function(){return Ar(this())},e}function ot(e){return qn(e)?e():e}function qn(e){return"function"==typeof e&&e.hasOwnProperty(Ru)&&e.__forward_ref__===Rn}function qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kn(e){return{providers:e.providers||[],imports:e.imports||[]}}function zh(e){return Wh(e,Fd)||Wh(e,ME)}function Wh(e,n){return e.hasOwnProperty(n)?e[n]:null}function qh(e){return e&&(e.hasOwnProperty(OE)||e.hasOwnProperty(Me))?e[OE]:null}const Fd=cn({\u0275prov:cn}),OE=cn({\u0275inj:cn}),ME=cn({ngInjectableDef:cn}),Me=cn({ngInjectorDef:cn});class Ve{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=qe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qh(e){return e&&!!e.\u0275providers}const tl=cn({\u0275cmp:cn}),Bd=cn({\u0275dir:cn}),Ta=cn({\u0275pipe:cn}),PE=cn({\u0275mod:cn}),Ut=cn({\u0275fac:cn}),Ws=cn({__NG_ELEMENT_ID__:cn}),NE=cn({__NG_ENV_ID__:cn});function sn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function yt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function yv(e,n){throw new Ee(-201,!1)}var Lt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Lt||{});let Jh;function Zh(){return Jh}function ao(e){const n=Jh;return Jh=e,n}function kE(e,n,r){const s=zh(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Lt.Optional?null:void 0!==n?n:void yv()}const Mu={},LE="__NG_DI_FLAG__",Qn="ngTempTokenPath",bD=/\n/gm,ED="__source";let gr;function qs(e){const n=gr;return gr=e,n}function ps(e,n=Lt.Default){if(void 0===gr)throw new Ee(-203,!1);return null===gr?kE(e,void 0,n):gr.get(e,n&Lt.Optional?null:void 0,n)}function at(e,n=Lt.Default){return(Zh()||ps)(ot(e),n)}function _e(e,n=Lt.Default){return at(e,Yh(n))}function Yh(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xh(e){const n=[];for(let r=0;r<e.length;r++){const s=ot(e[r]);if(Array.isArray(s)){if(0===s.length)throw new Ee(900,!1);let u,d=Lt.Default;for(let f=0;f<s.length;f++){const m=s[f],S=Ra(m);"number"==typeof S?-1===S?u=m.token:d|=S:u=m}n.push(at(u,d))}else n.push(at(s))}return n}function Hd(e,n){return e[LE]=n,e.prototype[LE]=n,e}function Ra(e){return e[LE]}const nl=Hd(Ld("Optional"),8),ef=Hd(Ld("SkipSelf"),4);function Nu(e,n){return e.hasOwnProperty(Ut)?e[Ut]:null}function ku(e,n){e.forEach(r=>Array.isArray(r)?ku(r,n):n(r))}function Ev(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Gd(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}const hs={},Gt=[],il=new Ve(""),UE=new Ve("",-1),qr=new Ve("");class be{get(n,r=Mu){if(r===Mu){const s=new Error(`NullInjectorError: No provider for ${Ar(n)}!`);throw s.name="NullInjectorError",s}return r}}var fs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(fs||{}),co=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(co||{}),ur=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ur||{});function Ke(e,n,r){let s=e.length;for(;;){const u=e.indexOf(n,r);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const d=n.length;if(u+d===s||e.charCodeAt(u+d)<=32)return u}r=u+1}}function nf(e,n,r){let s=0;for(;s<r.length;){const u=r[s];if("number"==typeof u){if(0!==u)break;s++;const d=r[s++],f=r[s++],m=r[s++];e.setAttribute(n,f,m,d)}else{const d=u,f=r[++s];_D(d)?e.setProperty(n,d,f):e.setAttribute(n,d,f),s++}}return s}function BE(e){return 3===e||4===e||6===e}function _D(e){return 64===e.charCodeAt(0)}function rf(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const u=n[s];"number"==typeof u?r=u:0===r||wD(e,r,u,null,-1===r||2===r?n[++s]:null)}}return e}function wD(e,n,r,s,u){let d=0,f=e.length;if(-1===n)f=-1;else for(;d<e.length;){const m=e[d++];if("number"==typeof m){if(m===n){f=-1;break}if(m>n){f=d-1;break}}}for(;d<e.length;){const m=e[d];if("number"==typeof m)break;if(m===r){if(null===s)return void(null!==u&&(e[d+1]=u));if(s===e[d+1])return void(e[d+2]=u)}d++,null!==s&&d++,null!==u&&d++}-1!==f&&(e.splice(f,0,n),d=f+1),e.splice(d++,0,r),null!==s&&e.splice(d++,0,s),null!==u&&e.splice(d++,0,u)}const sl="ng-template";function DD(e,n,r,s){let u=0;if(s){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==Ke(n[u+1].toLowerCase(),r,0))return!0}else if(_v(e))return!1;if(u=n.indexOf(1,u),u>-1){let d;for(;++u<n.length&&"string"==typeof(d=n[u]);)if(d.toLowerCase()===r)return!0}return!1}function _v(e){return 4===e.type&&e.value!==sl}function sf(e,n,r){return n===(4!==e.type||r?e.value:sl)}function wv(e,n,r){let s=4;const u=e.attrs,d=null!==u?function TD(e){for(let n=0;n<e.length;n++)if(BE(e[n]))return n;return e.length}(u):0;let f=!1;for(let m=0;m<n.length;m++){const S=n[m];if("number"!=typeof S){if(!f)if(4&s){if(s=2|1&s,""!==S&&!sf(e,S,r)||""===S&&1===n.length){if(gs(s))return!1;f=!0}}else if(8&s){if(null===u||!DD(e,u,S,r)){if(gs(s))return!1;f=!0}}else{const C=n[++m],D=Kr(S,u,_v(e),r);if(-1===D){if(gs(s))return!1;f=!0;continue}if(""!==C){let R;if(R=D>d?"":u[D+1].toLowerCase(),2&s&&C!==R){if(gs(s))return!1;f=!0}}}}else{if(!f&&!gs(s)&&!gs(S))return!1;if(f&&gs(S))continue;f=!1,s=S|1&s}}return gs(s)||f}function gs(e){return!(1&e)}function Kr(e,n,r,s){if(null===n)return-1;let u=0;if(s||!r){let d=!1;for(;u<n.length;){const f=n[u];if(f===e)return u;if(3===f||6===f)d=!0;else{if(1===f||2===f){let m=n[++u];for(;"string"==typeof m;)m=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=d?1:2}return-1}return function RD(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,e)}function HE(e,n,r=!1){for(let s=0;s<n.length;s++)if(wv(e,n[s],r))return!0;return!1}function Dv(e,n){return e?":not("+n.trim()+")":n}function Av(e){let n=e[0],r=1,s=2,u="",d=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&s){const m=e[++r];u+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&s?u+="."+f:4&s&&(u+=" "+f);else""!==u&&!gs(f)&&(n+=Dv(d,u),u=""),s=f,d=d||!gs(s);r++}return""!==u&&(n+=Dv(d,u)),n}function zd(e){return ye(()=>{const n=GE(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||co.Emulated,styles:e.styles||Gt,_:null,schemas:e.schemas||null,tView:null,id:""};Tv(r);const s=e.dependencies;return r.directiveDefs=af(s,!1),r.pipeDefs=af(s,!0),r.id=function ND(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of r)n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function OD(e){return At(e)||cr(e)}function Wd(e){return null!==e}function Lu(e){return ye(()=>({type:e.type,bootstrap:e.bootstrap||Gt,declarations:e.declarations||Gt,imports:e.imports||Gt,exports:e.exports||Gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function MD(e,n){if(null==e)return hs;const r={};for(const s in e)if(e.hasOwnProperty(s)){const u=e[s];let d,f,m=ur.None;Array.isArray(u)?(m=u[0],d=u[1],f=u[2]??d):(d=u,f=u),n?(r[d]=m!==ur.None?[s,m]:s,n[d]=f):r[d]=s}return r}function To(e){return ye(()=>{const n=GE(e);return Tv(n),n})}function At(e){return e[tl]||null}function cr(e){return e[Bd]||null}function Ur(e){return e[Ta]||null}function lo(e,n){const r=e[PE]||null;if(!r&&!0===n)throw new Error(`Type ${Ar(e)} does not have '\u0275mod' property.`);return r}function GE(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||hs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Gt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MD(e.inputs,n),outputs:MD(e.outputs),debugInfo:null}}function Tv(e){e.features?.forEach(n=>n(e))}function af(e,n){if(!e)return null;const r=n?Ur:OD;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(Wd)}function On(...e){return{\u0275providers:fi(0,e),\u0275fromNgModule:!0}}function fi(e,...n){const r=[],s=new Set;let u;const d=f=>{r.push(f)};return ku(n,f=>{const m=f;Rv(m,d,[],s)&&(u||=[],u.push(m))}),void 0!==u&&zE(u,d),r}function zE(e,n){for(let r=0;r<e.length;r++){const{ngModule:s,providers:u}=e[r];Ov(u,d=>{n(d,s)})}}function Rv(e,n,r,s){if(!(e=ot(e)))return!1;let u=null,d=qh(e);const f=!d&&At(e);if(d||f){if(f&&!f.standalone)return!1;u=e}else{const S=e.ngModule;if(d=qh(S),!d)return!1;u=S}const m=s.has(u);if(f){if(m)return!1;if(s.add(u),f.dependencies){const S="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const C of S)Rv(C,n,r,s)}}else{if(!d)return!1;{if(null!=d.imports&&!m){let C;s.add(u);try{ku(d.imports,D=>{Rv(D,n,r,s)&&(C||=[],C.push(D))})}finally{}void 0!==C&&zE(C,n)}if(!m){const C=Nu(u)||(()=>new u);n({provide:u,useFactory:C,deps:Gt},u),n({provide:qr,useValue:u,multi:!0},u),n({provide:il,useValue:()=>at(u),multi:!0},u)}const S=d.providers;if(null!=S&&!m){const C=e;Ov(S,D=>{n(D,C)})}}}return u!==e&&void 0!==e.providers}function Ov(e,n){for(let r of e)Qh(r)&&(r=r.\u0275providers),Array.isArray(r)?Ov(r,n):n(r)}const uf=cn({provide:String,useValue:cn});function qd(e){return null!==e&&"object"==typeof e&&uf in e}function Ks(e){return"function"==typeof e}const gi=new Ve(""),Qs={},WE={};let Mv;function cf(){return void 0===Mv&&(Mv=new be),Mv}class Go{}class Pa extends Go{get destroyed(){return this._destroyed}constructor(n,r,s,u){super(),this.parent=r,this.source=s,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pv(n,f=>this.processProvider(f)),this.records.set(UE,an(void 0,this)),u.has("environment")&&this.records.set(Go,an(void 0,this));const d=this.records.get(gi);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(qr,Gt,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Xe(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Xe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=qs(this),s=ao(void 0);try{return n()}finally{qs(r),ao(s)}}get(n,r=Mu,s=Lt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(NE))return n[NE](this);s=Yh(s);const d=qs(this),f=ao(void 0);try{if(!(s&Lt.SkipSelf)){let S=this.records.get(n);if(void 0===S){const C=function mN(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ve}(n)&&zh(n);S=C&&this.injectableDefInScope(C)?an(ho(n),Qs):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(s&Lt.Self?cf():this.parent).get(n,r=s&Lt.Optional&&r===Mu?null:r)}catch(m){if("NullInjectorError"===m.name){if((m[Qn]=m[Qn]||[]).unshift(Ar(n)),d)throw m;return function $d(e,n,r,s){const u=e[Qn];throw n[ED]&&u.unshift(n[ED]),e.message=function CD(e,n,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=Ar(n);if(Array.isArray(n))u=n.map(Ar).join(" -> ");else if("object"==typeof n){let d=[];for(let f in n)if(n.hasOwnProperty(f)){let m=n[f];d.push(f+":"+("string"==typeof m?JSON.stringify(m):Ar(m)))}u=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${u}]: ${e.replace(bD,"\n  ")}`}("\n"+e.message,u,r,s),e.ngTokenPath=u,e[Qn]=null,e}(m,n,"R3InjectorError",this.source)}throw m}finally{ao(f),qs(d)}}resolveInjectorInitializers(){const n=Xe(null),r=qs(this),s=ao(void 0);try{const d=this.get(il,Gt,Lt.Self);for(const f of d)f()}finally{qs(r),ao(s),Xe(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(Ar(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(n){let r=Ks(n=ot(n))?n:ot(n&&n.provide);const s=function gN(e){return qd(e)?an(void 0,e.useValue):an(function Hi(e,n,r){let s;if(Ks(e)){const u=ot(e);return Nu(u)||ho(u)}if(qd(e))s=()=>ot(e.useValue);else if(function po(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...Xh(e.deps||[]));else if(function Kd(e){return!(!e||!e.useExisting)}(e))s=()=>at(ot(e.useExisting));else{const u=ot(e&&(e.useClass||e.provide));if(!function kD(e){return!!e.deps}(e))return Nu(u)||ho(u);s=()=>new u(...Xh(e.deps))}return s}(e),Qs)}(n);if(!Ks(n)&&!0===n.multi){let u=this.records.get(r);u||(u=an(void 0,Qs,!0),u.factory=()=>Xh(u.multi),this.records.set(r,u)),r=n,u.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=Xe(null);try{return r.value===Qs&&(r.value=WE,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Js(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Xe(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=ot(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ho(e){const n=zh(e),r=null!==n?n.factory:Nu(e);if(null!==r)return r;if(e instanceof Ve)throw new Ee(204,!1);if(e instanceof Function)return function Na(e){if(e.length>0)throw new Ee(204,!1);const r=function vD(e){return e&&(e[Fd]||e[ME])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ee(204,!1)}function an(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Pv(e,n){for(const r of e)Array.isArray(r)?Pv(r,n):r&&Qh(r)?Pv(r.\u0275providers,n):n(r)}function $i(e,n){e instanceof Pa&&e.assertNotDestroyed();const s=qs(e),u=ao(void 0);try{return n()}finally{qs(s),ao(u)}}function ul(){return void 0!==Zh()||null!=function Sv(){return gr}()}const gn=0,Ae=1,Ze=2,tr=3,go=4,Qr=5,zo=6,cl=7,mn=8,Tr=9,zi=10,lt=11,Zd=12,FD=13,Zs=14,jn=15,Yd=16,ll=17,Ys=18,Xd=19,QE=20,ka=21,dl=22,xu=23,St=25,kv=1,mo=7,Wi=9,It=10;var qi=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qi||{});function zt(e){return Array.isArray(e)&&"object"==typeof e[kv]}function vo(e){return Array.isArray(e)&&!0===e[kv]}function Tt(e){return!!(4&e.flags)}function Fu(e){return e.componentOffset>-1}function rt(e){return!(1&~e.flags)}function Rt(e){return!!e.template}function lf(e){return!!(512&e[Ze])}class mi{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Vv(e,n,r,s){null!==n?n.applyValueToInputSignal(n,s):e[r]=s}function Vu(){return hf}function hf(e){return e.type.prototype.ngOnChanges&&(e.setInput=jv),XE}function XE(){const e=yn(this),n=e?.current;if(n){const r=e.previous;if(r===hs)e.previous=n;else for(let s in n)r[s]=n[s];e.current=null,this.ngOnChanges(n)}}function jv(e,n,r,s,u){const d=this.declaredInputs[s],f=yn(e)||function hl(e,n){return e[Uv]=n}(e,{previous:hs,current:null}),m=f.current||(f.current={}),S=f.previous,C=S[d];m[d]=new mi(C&&C.currentValue,r,S===hs),Vv(e,n,u,r)}Vu.ngInherit=!0;const Uv="__ngSimpleChanges__";function yn(e){return e[Uv]||null}const Ki=function(e,n,r){};let ff=!1;function Jt(e){for(;Array.isArray(e);)e=e[gn];return e}function rn(e,n){return Jt(n[e.index])}function pn(e,n){const r=n[e];return zt(r)?r:r[gn]}function Ot(e){return!(128&~e[Ze])}function ms(e,n){return null==n?null:e[n]}function t0(e){e[ll]=0}function GD(e){1024&e[Ze]||(e[Ze]|=1024,Ot(e)&&xa(e))}function ju(e){return!!(9216&e[Ze]||e[xu]?.dirty)}function Ye(e){e[zi].changeDetectionScheduler?.notify(1),ju(e)?xa(e):64&e[Ze]&&(function wN(){return ff}()?(e[Ze]|=1024,xa(e)):e[zi].changeDetectionScheduler?.notify())}function xa(e){e[zi].changeDetectionScheduler?.notify();let n=yo(e);for(;null!==n&&!(8192&n[Ze])&&(n[Ze]|=8192,Ot(n));)n=yo(n)}function Br(e,n){if(!(256&~e[Ze]))throw new Ee(911,!1);null===e[ka]&&(e[ka]=[]),e[ka].push(n)}function yo(e){const n=e[tr];return vo(n)?n[tr]:n}const ut={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Uu(){return ut.bindingsEnabled}function pe(){return ut.lFrame.lView}function ht(){return ut.lFrame.tView}function ln(){let e=Hu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hu(){return ut.lFrame.currentTNode}function ys(e,n){const r=ut.lFrame;r.currentTNode=e,r.isParent=n}function np(){return ut.lFrame.isParent}function Mo(e,n){const r=ut.lFrame;r.bindingIndex=r.bindingRootIndex=e,fl(n)}function fl(e){ut.lFrame.currentDirectiveIndex=e}function vi(e){ut.lFrame.currentQueryIndex=e}function QD(e){const n=e[Ae];return 2===n.type?n.declTNode:1===n.type?e[Qr]:null}function o0(e,n,r){if(r&Lt.SkipSelf){let u=n,d=e;for(;!(u=u.parent,null!==u||r&Lt.Host||(u=QD(d),null===u||(d=d[Zs],10&u.type))););if(null===u)return!1;n=u,e=d}const s=ut.lFrame=JD();return s.currentTNode=n,s.lView=e,!0}function ja(e){const n=JD(),r=e[Ae];ut.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function JD(){const e=ut.lFrame,n=null===e?null:e.child;return null===n?he(e):n}function he(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Eo(){const e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wv=Eo;function yi(){const e=Eo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qi(e){ut.lFrame.selectedIndex=e}let qo=!0;function gl(){return qo}function bi(e){qo=e}function sp(e,n){for(let r=n.directiveStart,s=n.directiveEnd;r<s;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:S,ngAfterViewChecked:C,ngOnDestroy:D}=d;f&&(e.contentHooks??=[]).push(-r,f),m&&((e.contentHooks??=[]).push(r,m),(e.contentCheckHooks??=[]).push(r,m)),S&&(e.viewHooks??=[]).push(-r,S),C&&((e.viewHooks??=[]).push(r,C),(e.viewCheckHooks??=[]).push(r,C)),null!=D&&(e.destroyHooks??=[]).push(r,D)}}function ml(e,n,r){Ua(e,n,3,r)}function yf(e,n,r,s){(3&e[Ze])===r&&Ua(e,n,r,s)}function $u(e,n){let r=e[Ze];(3&r)===n&&(r&=16383,r+=1,e[Ze]=r)}function Ua(e,n,r,s){const d=s??-1,f=n.length-1;let m=0;for(let S=void 0!==s?65535&e[ll]:0;S<f;S++)if("number"==typeof n[S+1]){if(m=n[S],null!=s&&m>=s)break}else n[S]<0&&(e[ll]+=65536),(m<d||-1==d)&&(Gu(e,r,n,S),e[ll]=(4294901760&e[ll])+S+2),S++}function Sf(e,n){Ki(4,e,n);const r=Xe(null);try{n.call(e)}finally{Xe(r),Ki(5,e,n)}}function Gu(e,n,r,s){const u=r[s]<0,d=r[s+1],m=e[u?-r[s]:r[s]];u?e[Ze]>>14<e[ll]>>16&&(3&e[Ze])===n&&(e[Ze]+=16384,Sf(m,d)):Sf(m,d)}const vl=-1;class Es{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}function ea(e){return e!==vl}function Sr(e){return 32767&e}function ta(e,n){let r=function zu(e){return e>>16}(e),s=n;for(;r>0;)s=s[Zs],r--;return s}let c0=!0;function Kv(e){const n=c0;return c0=e,n}const Ji=255,xt=5;let Jv=0;const Sn={};function yl(e,n){const r=ap(e,n);if(-1!==r)return r;const s=n[Ae];s.firstCreatePass&&(e.injectorIndex=n.length,Ef(s.data,e),Ef(n,null),Ef(s.blueprint,null));const u=Cf(e,n),d=e.injectorIndex;if(ea(u)){const f=Sr(u),m=ta(u,n),S=m[Ae].data;for(let C=0;C<8;C++)n[d+C]=m[f+C]|S[f+C]}return n[d+8]=u,d}function Ef(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ap(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Cf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,u=n;for(;null!==u;){if(s=g0(u),null===s)return vl;if(r++,u=u[Zs],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return vl}function Yv(e,n,r){!function Zv(e,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Ws)&&(s=r[Ws]),null==s&&(s=r[Ws]=Jv++);const u=s&Ji;n.data[e+(u>>xt)]|=1<<u}(e,n,r)}function YD(e,n,r){if(r&Lt.Optional||void 0!==e)return e;yv()}function up(e,n,r,s){if(r&Lt.Optional&&void 0===s&&(s=null),!(r&(Lt.Self|Lt.Host))){const u=e[Tr],d=ao(void 0);try{return u?u.get(n,s,r&Lt.Optional):kE(n,s,r&Lt.Optional)}finally{ao(d)}}return YD(s,0,r)}function d0(e,n,r,s=Lt.Default,u){if(null!==e){if(2048&n[Ze]&&!(s&Lt.Self)){const f=function eA(e,n,r,s,u){let d=e,f=n;for(;null!==d&&null!==f&&2048&f[Ze]&&!(512&f[Ze]);){const m=p0(d,f,r,s|Lt.Self,Sn);if(m!==Sn)return m;let S=d.parent;if(!S){const C=f[QE];if(C){const D=C.get(r,Sn,s);if(D!==Sn)return D}S=g0(f),f=f[Zs]}d=S}return u}(e,n,r,s,Sn);if(f!==Sn)return f}const d=p0(e,n,r,s,Sn);if(d!==Sn)return d}return up(n,r,s,u)}function p0(e,n,r,s,u){const d=function h0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ws)?e[Ws]:void 0;return"number"==typeof n?n>=0?n&Ji:f0:n}(r);if("function"==typeof d){if(!o0(n,e,s))return s&Lt.Host?YD(u,0,s):up(n,r,s,u);try{let f;if(f=d(s),null!=f||s&Lt.Optional)return f;yv()}finally{Wv()}}else if("number"==typeof d){let f=null,m=ap(e,n),S=vl,C=s&Lt.Host?n[jn][Qr]:null;for((-1===m||s&Lt.SkipSelf)&&(S=-1===m?Cf(e,n):n[m+8],S!==vl&&ey(s,!1)?(f=n[Ae],m=Sr(S),n=ta(S,n)):m=-1);-1!==m;){const D=n[Ae];if(Xv(d,m,D.data)){const R=XD(m,n,r,f,s,C);if(R!==Sn)return R}S=n[m+8],S!==vl&&ey(s,n[Ae].data[m+8]===C)&&Xv(d,m,n)?(f=D,m=Sr(S),n=ta(S,n)):m=-1}}return u}function XD(e,n,r,s,u,d){const f=n[Ae],m=f.data[e+8],D=function cp(e,n,r,s,u){const d=e.providerIndexes,f=n.data,m=1048575&d,S=e.directiveStart,D=d>>20,x=u?m+D:e.directiveEnd;for(let G=s?m:m+D;G<x;G++){const J=f[G];if(G<S&&r===J||G>=S&&J.type===r)return G}if(u){const G=f[S];if(G&&Rt(G)&&G.type===r)return S}return null}(m,f,r,null==s?Fu(m)&&c0:s!=f&&!!(3&m.type),u&Lt.Host&&d===m);return null!==D?Wu(n,f,D,m):Sn}function Wu(e,n,r,s){let u=e[r];const d=n.data;if(function kN(e){return e instanceof Es}(u)){const f=u;f.resolving&&function aN(e,n){throw n&&n.join(" > "),new Ee(-200,e)}(sn(d[r]));const m=Kv(f.canSeeViewProviders);f.resolving=!0;const C=f.injectImpl?ao(f.injectImpl):null;o0(e,s,Lt.Default);try{u=e[r]=f.factory(void 0,d,e,s),n.firstCreatePass&&r>=s.directiveStart&&function qv(e,n,r){const{ngOnChanges:s,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(s){const f=hf(n);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}u&&(r.preOrderHooks??=[]).push(0-e,u),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==C&&ao(C),Kv(m),f.resolving=!1,Wv()}}return u}function Xv(e,n,r){return!!(r[n+(e>>xt)]&1<<e)}function ey(e,n){return!(e&Lt.Self||e&Lt.Host&&n)}class br{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return d0(this._tNode,this._lView,n,Yh(s),r)}}function f0(){return new br(ln(),pe())}function Ba(e){return ye(()=>{const n=e.prototype.constructor,r=n[Ut]||Ku(n),s=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==s;){const d=u[Ut]||Ku(u);if(d&&d!==r)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Ku(e){return qn(e)?()=>{const n=Ku(ot(e));return n&&n()}:Nu(e)}function g0(e){const n=e[Ae],r=n.type;return 2===r?n.declTNode:1===r?e[Qr]:null}function y0(e,n=null,r=null,s){const u=Df(e,n,r,s);return u.resolveInjectorInitializers(),u}function Df(e,n=null,r=null,s,u=new Set){const d=[r||Gt,On(e)];return s=s||("object"==typeof e?void 0:Ar(e)),new Pa(d,n||cf(),s||null,u)}let Po=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Mu;static#t=this.NULL=new be;static create(r,s){if(Array.isArray(r))return y0({name:""},s,r,"");{const u=r.name??"";return y0({name:u},r.parent,r.providers,u)}}static#n=this.\u0275prov=qe({token:e,providedIn:"any",factory:()=>at(UE)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function pp(e){return e.ngOriginalError}class No{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&pp(n);for(;r&&pp(r);)r=pp(r);return r||null}}const oy=new Ve("",{providedIn:"root",factory:()=>_e(No).handleError.bind(void 0)});let na=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=b0;static#t=this.__NG_ENV_ID__=r=>r}return e})();class S0 extends na{constructor(n){super(),this._lView=n}onDestroy(n){return Br(this._lView,n),()=>function mf(e,n){if(null===e[ka])return;const r=e[ka].indexOf(n);-1!==r&&e[ka].splice(r,1)}(this._lView,n)}}function b0(){return new S0(pe())}function sA(){return bl(ln(),pe())}function bl(e,n){return new Ha(rn(e,n))}let Ha=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=sA}return e})();function iy(e){return n=>{setTimeout(e,void 0,n)}}const Er=class aA extends di{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,ul()&&(this.destroyRef=_e(na,{optional:!0})??void 0)}emit(n){const r=Xe(null);try{super.next(n)}finally{Xe(r)}}subscribe(n,r,s){let u=n,d=r||(()=>null),f=s;if(n&&"object"==typeof n){const S=n;u=S.next?.bind(S),d=S.error?.bind(S),f=S.complete?.bind(S)}this.__isAsync&&(d=iy(d),u&&(u=iy(u)),f&&(f=iy(f)));const m=super.subscribe({next:u,error:d,complete:f});return n instanceof Tn&&n.add(m),m}};function Af(e){return!(128&~e.flags)}Symbol;const Ei=new Map;let Cl=0;const cy="__ngContext__";function Hr(e,n){zt(n)?(e[cy]=n[Xd],function D0(e){Ei.set(e[Xd],e)}(n)):e[cy]=n}function Qu(e){return P0(e[Zd])}function Of(e){return P0(e[go])}function P0(e){for(;null!==e&&!vo(e);)e=e[go];return e}let hy;const Mf=new Ve("",{providedIn:"root",factory:()=>EA}),EA="ng",x0=new Ve(""),Ju=new Ve("",{providedIn:"platform",factory:()=>"unknown"}),V0=new Ve("",{providedIn:"root",factory:()=>function $a(){if(void 0!==hy)return hy;if(typeof document<"u")return document;throw new Ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _A=()=>null;function Vf(e,n,r=!1){return _A(e,n,r)}const JN=new Ve("",{providedIn:"root",factory:()=>!1});function Io(e){return e instanceof Function?e():e}var Qa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qa||{});let Ll;function ky(e,n){return Ll(e,n)}function xl(e,n,r,s,u){if(null!=s){let d,f=!1;vo(s)?d=s:zt(s)&&(f=!0,s=s[gn]);const m=Jt(s);0===e&&null!==r?null==u?rC(n,r,m):ec(n,r,m,u||null,!0):1===e&&null!==r?ec(n,r,m,u||null,!0):2===e?function rc(e,n,r){const s=Dp(e,n);s&&function tT(e,n,r,s){e.removeChild(n,r,s)}(e,s,n,r)}(n,m,f):3===e&&n.destroyNode(m),null!=d&&function nT(e,n,r,s,u){const d=r[mo];d!==Jt(r)&&xl(n,e,s,d,u);for(let m=It;m<r.length;m++){const S=r[m];ig(S[Ae],S,e,n,s,d)}}(n,e,d,r,u)}}function Xf(e,n,r){return e.createElement(n,r)}function _p(e,n){n[zi].changeDetectionScheduler?.notify(1),ig(e,n,n[lt],2,null,null)}function eC(e,n){const r=e[Wi],s=r.indexOf(n);r.splice(s,1)}function jl(e,n){if(e.length<=It)return;const r=It+n,s=e[r];if(s){const u=s[Yd];null!==u&&u!==e&&eC(u,s),n>0&&(e[r-1][go]=s[go]);const d=Gd(e,It+n);!function YA(e,n){_p(e,n),n[gn]=null,n[Qr]=null}(s[Ae],s);const f=d[Ys];null!==f&&f.detachView(d[Ae]),s[tr]=null,s[go]=null,s[Ze]&=-129}return s}function tC(e,n){if(!(256&n[Ze])){const r=n[lt];r.destroyNode&&ig(e,n,r,3,null,null),function wp(e){let n=e[Zd];if(!n)return es(e[Ae],e);for(;n;){let r=null;if(zt(n))r=n[Zd];else{const s=n[It];s&&(r=s)}if(!r){for(;n&&!n[go]&&n!==e;)zt(n)&&es(n[Ae],n),n=n[tr];null===n&&(n=e),zt(n)&&es(n[Ae],n),r=n&&n[go]}n=r}}(n)}}function es(e,n){if(256&n[Ze])return;const r=Xe(null);try{n[Ze]&=-129,n[Ze]|=256,n[xu]&&function Od(e){if(Yc(e),wa(e))for(let n=0;n<e.producerNode.length;n++)Zc(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[xu]),function eT(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const u=n[r[s]];if(!(u instanceof Es)){const d=r[s+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const m=u[d[f]],S=d[f+1];Ki(4,m,S);try{S.call(m)}finally{Ki(5,m,S)}}else{Ki(4,u,d);try{d.call(u)}finally{Ki(5,u,d)}}}}}(e,n),function nC(e,n){const r=e.cleanup,s=n[cl];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const f=r[d+3];f>=0?s[f]():s[-f].unsubscribe(),d+=2}else r[d].call(s[r[d+1]]);null!==s&&(n[cl]=null);const u=n[ka];if(null!==u){n[ka]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(e,n),1===n[Ae].type&&n[lt].destroy();const s=n[Yd];if(null!==s&&vo(n[tr])){s!==n[tr]&&eC(s,n);const u=n[Ys];null!==u&&u.detachView(e)}!function cA(e){Ei.delete(e[Xd])}(n)}finally{Xe(r)}}function eg(e,n,r){return function xy(e,n,r){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return r[gn];{const{componentOffset:u}=s;if(u>-1){const{encapsulation:d}=e.data[s.directiveStart+u];if(d===co.None||d===co.Emulated)return null}return rn(s,r)}}(e,n.parent,r)}function ec(e,n,r,s,u){e.insertBefore(n,r,s,u)}function rC(e,n,r){e.appendChild(n,r)}function oC(e,n,r,s,u){null!==s?ec(e,n,r,s,u):rC(e,n,r)}function Dp(e,n){return e.parentNode(n)}let Vy,ng=function Fy(e,n,r){return 40&e.type?rn(e,r):null};function tc(e,n,r,s){const u=eg(e,s,n),d=n[lt],m=function iC(e,n,r){return ng(e,n,r)}(s.parent||n[Qr],s,n);if(null!=u)if(Array.isArray(r))for(let S=0;S<r.length;S++)oC(d,u,r[S],m,!1);else oC(d,u,r,m,!1);void 0!==Vy&&Vy(d,s,n,r,u)}function nc(e,n){if(null!==n){const r=n.type;if(3&r)return rn(n,e);if(4&r)return rg(-1,e[n.index]);if(8&r){const s=n.child;if(null!==s)return nc(e,s);{const u=e[n.index];return vo(u)?rg(-1,u):Jt(u)}}if(32&r)return ky(n,e)()||Jt(e[n.index]);{const s=aC(e,n);return null!==s?Array.isArray(s)?s[0]:nc(yo(e[jn]),s):nc(e,n.next)}}return null}function aC(e,n){return null!==n?e[jn][Qr].projection[n.projection]:null}function rg(e,n){const r=It+e+1;if(r<n.length){const s=n[r],u=s[Ae].firstChild;if(null!==u)return nc(s,u)}return n[mo]}function jy(e,n,r,s,u,d,f){for(;null!=r;){const m=s[r.index],S=r.type;if(f&&0===n&&(m&&Hr(Jt(m),s),r.flags|=2),32&~r.flags)if(8&S)jy(e,n,r.child,s,u,d,!1),xl(n,e,u,m,d);else if(32&S){const C=ky(r,s);let D;for(;D=C();)xl(n,e,u,D,d);xl(n,e,u,m,d)}else 16&S?sg(e,n,s,r,u,d):xl(n,e,u,m,d);r=f?r.projectionNext:r.next}}function ig(e,n,r,s,u,d){jy(r,s,e.firstChild,n,u,d,!1)}function sg(e,n,r,s,u,d){const f=r[jn],S=f[Qr].projection[s.projection];if(Array.isArray(S))for(let C=0;C<S.length;C++)xl(n,e,u,S[C],d);else{let C=S;const D=f[tr];Af(s)&&(C.flags|=128),jy(e,n,C,D,u,d,!0)}}function Uy(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function ag(e,n,r){const{mergedAttrs:s,classes:u,styles:d}=r;null!==s&&nf(e,n,s),null!==u&&Uy(e,n,u),null!==d&&function oT(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const ft={};function et(e,n=Lt.Default){const r=pe();return null===r?at(e,n):d0(ln(),r,ot(e),n)}function Hy(e,n,r,s,u,d){const f=Xe(null);try{let m=null;u&ur.SignalBased&&(m=n[s][Bo]),null!==m&&void 0!==m.transformFn&&(d=m.transformFn(d)),u&ur.HasDecoratorInputTransform&&(d=e.inputTransforms[s].call(n,d)),null!==e.setInput?e.setInput(n,m,d,r,s):Vv(n,m,s,d)}finally{Xe(f)}}function Ul(e,n,r,s,u,d,f,m,S,C,D){const R=n.blueprint.slice();return R[gn]=u,R[Ze]=204|s,(null!==C||e&&2048&e[Ze])&&(R[Ze]|=2048),t0(R),R[tr]=R[Zs]=e,R[mn]=r,R[zi]=f||e&&e[zi],R[lt]=m||e&&e[lt],R[Tr]=S||e&&e[Tr]||null,R[Qr]=d,R[Xd]=function $N(){return Cl++}(),R[zo]=D,R[QE]=C,R[jn]=2==n.type?e[jn]:R,R}function Ja(e,n,r,s,u){let d=e.data[n];if(null===d)d=function $y(e,n,r,s,u){const d=Hu(),f=np(),S=e.data[n]=function cT(e,n,r,s,u,d){let f=n?n.injectorIndex:-1,m=0;return function Bu(){return null!==ut.skipHydrationRootTNode}()&&(m|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,r,n,s,u);return null===e.firstChild&&(e.firstChild=S),null!==d&&(f?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(e,n,r,s,u),function yr(){return ut.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=s,d.attrs=u;const f=function Xs(){const e=ut.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return ys(d,!0),d}function oc(e,n,r,s){if(0===r)return-1;const u=n.length;for(let d=0;d<r;d++)n.push(s),e.blueprint.push(s),e.data.push(null);return u}function Gy(e,n,r,s,u){const d=function lr(){return ut.lFrame.selectedIndex}(),f=2&s;try{Qi(-1),f&&n.length>St&&function ug(e,n,r,s){if(!s)if(3&~n[Ze]){const d=e.preOrderHooks;null!==d&&yf(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&ml(n,d,r)}Qi(r)}(e,n,St,!1),Ki(f?2:0,u),r(s,u)}finally{Qi(d),Ki(f?3:1,u)}}function cg(e,n,r){if(Tt(n)){const s=Xe(null);try{const d=n.directiveEnd;for(let f=n.directiveStart;f<d;f++){const m=e.data[f];m.contentQueries&&m.contentQueries(1,r[f],f)}}finally{Xe(s)}}}function dg(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=cC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function cC(e,n,r,s,u,d,f,m,S,C,D){const R=St+s,x=R+u,G=function Wy(e,n){const r=[];for(let s=0;s<n;s++)r.push(s<e?null:ft);return r}(R,x),J="function"==typeof C?C():C;return G[Ae]={type:e,blueprint:G,template:r,queries:null,viewQuery:m,declTNode:n,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:S,consts:J,incompleteFirstPass:!1,ssrId:D}}let qy=()=>null;function pg(e,n,r,s,u){for(let d in n){if(!n.hasOwnProperty(d))continue;const f=n[d];if(void 0===f)continue;s??={};let m,S=ur.None;Array.isArray(f)?(m=f[0],S=f[1]):m=f;let C=d;if(null!==u){if(!u.hasOwnProperty(d))continue;C=u[d]}0===e?dC(s,r,C,m,S):dC(s,r,C,m)}return s}function dC(e,n,r,s,u){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,s):d=e[r]=[n,s],void 0!==u&&d.push(u)}function dk(e,n,r,s,u,d){for(let C=0;C<s.length;C++)Yv(yl(r,n),e,s[C].type);!function hk(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,s.length);for(let C=0;C<s.length;C++){const D=s[C];D.providersResolver&&D.providersResolver(D)}let f=!1,m=!1,S=oc(e,n,s.length,null);for(let C=0;C<s.length;C++){const D=s[C];r.mergedAttrs=rf(r.mergedAttrs,D.hostAttrs),hC(e,r,n,S,D),qF(S,D,u),null!==D.contentQueries&&(r.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(r.flags|=64);const R=D.type.prototype;!f&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),f=!0),!m&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),m=!0),S++}!function lT(e,n,r){const u=n.directiveEnd,d=e.data,f=n.attrs,m=[];let S=null,C=null;for(let D=n.directiveStart;D<u;D++){const R=d[D],x=r?r.get(R):null,J=x?x.outputs:null;S=pg(0,R.inputs,D,S,x?x.inputs:null),C=pg(1,R.outputs,D,C,J);const ee=null===S||null===f||_v(n)?null:vT(S,D,f);m.push(ee)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=8),S.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=S,n.outputs=C}(e,r,d)}function pk(e,n,r){const s=r.directiveStart,u=r.directiveEnd,d=r.index,f=function ON(){return ut.lFrame.currentDirectiveIndex}();try{Qi(d);for(let m=s;m<u;m++){const S=e.data[m],C=n[m];fl(m),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&GF(S,C)}}finally{Qi(-1),fl(f)}}function GF(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function fT(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function qF(e,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=e;Rt(n)&&(r[""]=e)}}function hC(e,n,r,s,u){e.data[s]=u;const d=u.factory||(u.factory=Nu(u.type)),f=new Es(d,Rt(u),et);e.blueprint[s]=f,r[s]=f,function BF(e,n,r,s,u){const d=u.hostBindings;if(d){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const m=~n.index;(function HF(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(f)!=m&&f.push(m),f.push(r,s,d)}}(e,n,s,oc(e,r,u.hostVars,ft),u)}function mT(e,n,r,s,u,d){const f=d[n];if(null!==f)for(let m=0;m<f.length;)Hy(s,r,f[m++],f[m++],f[m++],f[m++])}function vT(e,n,r){let s=null,u=0;for(;u<r.length;){const d=r[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===s&&(s=[]);const f=e[d];for(let m=0;m<f.length;m+=3)if(f[m]===n){s.push(d,f[m+1],f[m+2],r[u+1]);break}}u+=2}else u+=2;else u+=4}return s}function fC(e,n){const r=e.contentQueries;if(null!==r){const s=Xe(null);try{for(let u=0;u<r.length;u+=2){const f=r[u+1];if(-1!==f){const m=e.data[f];vi(r[u]),m.contentQueries(2,n[f],f)}}}finally{Xe(s)}}}function Rp(e,n){return e[Zd]?e[FD][go]=n:e[Zd]=n,e[FD]=n,n}function dr(e,n,r){vi(0);const s=Xe(null);try{n(e,r)}finally{Xe(s)}}function fg(e,n){const r=e[Tr],s=r?r.get(No,null):null;s&&s.handleError(n)}function yT(e,n,r,s,u){for(let d=0;d<r.length;){const f=r[d++],m=r[d++],S=r[d++];Hy(e.data[f],n[f],s,m,S,u)}}function KF(e,n){const r=pn(n,e),s=r[Ae];!function QF(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(s,r);const u=r[gn];null!==u&&null===r[zo]&&(r[zo]=Vf(u,r[Tr])),ST(s,r,r[mn])}function ST(e,n,r){ja(n);try{const s=e.viewQuery;null!==s&&dr(1,s,r);const u=e.template;null!==u&&Gy(e,n,u,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ys]?.finishViewCreation(e),e.staticContentQueries&&fC(e,n),e.staticViewQueries&&dr(2,e.viewQuery,r);const d=e.components;null!==d&&function JF(e,n){for(let r=0;r<n.length;r++)KF(e,n[r])}(n,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[Ze]&=-5,yi()}}function gg(e,n){return!n||null===n.firstChild||Af(e)}function Xy(e,n,r,s=!0){const u=n[Ae];if(function XA(e,n,r,s){const u=It+s,d=r.length;s>0&&(r[u-1][go]=n),s<d-It?(n[go]=r[u],Ev(r,It+s,n)):(r.push(n),n[go]=null),n[tr]=r;const f=n[Yd];null!==f&&r!==f&&function Vl(e,n){const r=e[Wi];n[jn]!==n[tr][tr][jn]&&(e[Ze]|=qi.HasTransplantedViews),null===r?e[Wi]=[n]:r.push(n)}(f,n);const m=n[Ys];null!==m&&m.insertView(e),Ye(n),n[Ze]|=128}(u,n,e,r),s){const f=rg(r,e),m=n[lt],S=Dp(m,e[mo]);null!==S&&function UF(e,n,r,s,u,d){s[gn]=u,s[Qr]=n,ig(e,s,r,1,u,d)}(u,e[Qr],m,n,S,f)}const d=n[zo];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function eS(e,n,r,s,u=!1){for(;null!==r;){const d=n[r.index];null!==d&&s.push(Jt(d)),vo(d)&&gk(d,s);const f=r.type;if(8&f)eS(e,n,r.child,s);else if(32&f){const m=ky(r,n);let S;for(;S=m();)s.push(S)}else if(16&f){const m=aC(n,r);if(Array.isArray(m))s.push(...m);else{const S=yo(n[jn]);eS(S[Ae],S,m,s,!0)}}r=u?r.projectionNext:r.next}return s}function gk(e,n){for(let r=It;r<e.length;r++){const s=e[r],u=s[Ae].firstChild;null!==u&&eS(s[Ae],s,u,n)}e[mo]!==e[gn]&&n.push(e[mo])}let mk=[];const tS={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{xa(e.lView)},consumerOnSignalRead(){this.lView[xu]=this}},nS=100;function mg(e,n=!0,r=0){const s=e[zi],u=s.rendererFactory;u.begin?.();try{!function CT(e,n){yg(e,n);let r=0;for(;ju(e);){if(r===nS)throw new Ee(103,!1);r++,yg(e,1)}}(e,r)}catch(f){throw n&&fg(e,f),f}finally{u.end?.(),s.inlineEffectRunner?.flush()}}function vg(e,n,r,s){const u=n[Ze];if(!(256&~u))return;n[zi].inlineEffectRunner?.flush(),ja(n);let f=null,m=null;(function rS(e){return 2!==e.type})(e)&&(m=function vk(e){return e[xu]??function ET(e){const n=mk.pop()??Object.create(tS);return n.lView=e,n}(e)}(n),f=function Jc(e){return e&&(e.nextProducerIndex=0),Xe(e)}(m));try{t0(n),function r0(e){return ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Gy(e,n,r,2,s);const S=!(3&~u);if(S){const R=e.preOrderCheckHooks;null!==R&&ml(n,R,null)}else{const R=e.preOrderHooks;null!==R&&yf(n,R,0,null),$u(n,0)}if(function vC(e){for(let n=Qu(e);null!==n;n=Of(n)){if(!(n[Ze]&qi.HasTransplantedViews))continue;const r=n[Wi];for(let s=0;s<r.length;s++){GD(r[s])}}}(n),sc(n,0),null!==e.contentQueries&&fC(e,n),S){const R=e.contentCheckHooks;null!==R&&ml(n,R)}else{const R=e.contentHooks;null!==R&&yf(n,R,1),$u(n,1)}!function iT(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const u=r[s];if(u<0)Qi(~u);else{const d=u,f=r[++s],m=r[++s];Mo(f,d),m(2,n[d])}}}finally{Qi(-1)}}(e,n);const C=e.components;null!==C&&bC(n,C,0);const D=e.viewQuery;if(null!==D&&dr(2,D,s),S){const R=e.viewCheckHooks;null!==R&&ml(n,R)}else{const R=e.viewHooks;null!==R&&yf(n,R,2),$u(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[dl]){for(const R of n[dl])R();n[dl]=null}n[Ze]&=-73}catch(S){throw xa(n),S}finally{null!==m&&(function rD(e,n){if(Xe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(wa(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Zc(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(m,f),function mC(e){e.lView[xu]!==e&&(e.lView=null,mk.push(e))}(m)),yi()}}function sc(e,n){for(let r=Qu(e);null!==r;r=Of(r))for(let s=It;s<r.length;s++)SC(r[s],n)}function yC(e,n,r){SC(pn(n,e),r)}function SC(e,n){Ot(e)&&yg(e,n)}function yg(e,n){const s=e[Ae],u=e[Ze],d=e[xu];let f=!!(0===n&&16&u);if(f||=!!(64&u&&0===n),f||=!!(1024&u),f||=!(!d?.dirty||!Kt(d)),d&&(d.dirty=!1),e[Ze]&=-9217,f)vg(s,e,s.template,e[mn]);else if(8192&u){sc(e,1);const m=s.components;null!==m&&bC(e,m,1)}}function bC(e,n,r){for(let s=0;s<n.length;s++)yC(e,n[s],r)}function Bl(e){for(e[zi].changeDetectionScheduler?.notify();e;){e[Ze]|=64;const n=yo(e);if(lf(e)&&!n)return e;e=n}return null}class Op{get rootNodes(){const n=this._lView,r=n[Ae];return eS(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(n){this._lView[mn]=n}get destroyed(){return!(256&~this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[tr];if(vo(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&(jl(n,s),Gd(r,s))}this._attachedToViewContainer=!1}tC(this._lView[Ae],this._lView)}onDestroy(n){Br(this._lView,n)}markForCheck(){Bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){Ye(this._lView),this._lView[Ze]|=128}detectChanges(){this._lView[Ze]|=1024,mg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_p(this._lView[Ae],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=n,Ye(this._lView)}}class lS{}class kT{}class _g{}class FT{resolveComponentFactory(n){throw function LT(e){const n=Error(`No component factory found for ${Ar(e)}.`);return n.ngComponent=e,n}(n)}}let kp=(()=>{class e{static#e=this.NULL=new FT}return e})();class PC{}let pS=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>null})}return e})();const Lp={},Dg=new Set;function ws(e){Dg.has(e)||(Dg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gr(...e){}class Yt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Er(!1),this.onMicrotaskEmpty=new Er(!1),this.onStable=new Er(!1),this.onError=new Er(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&r,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function $l(){const e="function"==typeof on.requestAnimationFrame;let n=on[e?"requestAnimationFrame":"setTimeout"],r=on[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function hS(e){const n=()=>{!function kC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,fS(e),e.isCheckStableRunning=!0,Fp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),fS(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,u,d,f,m)=>{if(function Gl(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(m))return r.invokeTask(u,d,f,m);try{return Ag(e),r.invokeTask(u,d,f,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&n(),Tg(e)}},onInvoke:(r,s,u,d,f,m,S)=>{try{return Ag(e),r.invoke(u,d,f,m,S)}finally{e.shouldCoalesceRunChangeDetection&&n(),Tg(e)}},onHasTask:(r,s,u,d)=>{r.hasTask(u,d),s===u&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,fS(e),Fp(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,s,u,d)=>(r.handleError(u,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yt.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Yt.isInAngularZone())throw new Ee(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,u){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+u,n,NC,Gr,Gr);try{return d.runTask(f,r,s)}finally{d.cancelTask(f)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const NC={};function Fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fS(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ag(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tg(e){e._nesting--,Fp(e)}class gS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Er,this.onMicrotaskEmpty=new Er,this.onStable=new Er,this.onError=new Er}run(n,r,s){return n.apply(r,s)}runGuarded(n,r,s){return n.apply(r,s)}runOutsideAngular(n){return n()}runTask(n,r,s,u){return n.apply(r,s)}}var Ya=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ya||{});const mS={destroy(){}};function vS(e,n){!n&&function Qd(e){if(!ul())throw new Ee(-203,!1)}();const r=n?.injector??_e(Po);if(!function Ka(e){return"browser"===(e??_e(Po)).get(Ju)}(r))return mS;ws("NgAfterNextRender");const s=r.get(lc),u=s.handler??=new cc,d=n?.phase??Ya.MixedReadWrite,f=()=>{u.unregister(S),m()},m=r.get(na).onDestroy(f),S=$i(r,()=>new ts(d,()=>{f(),e()}));return u.register(S),{destroy:f}}class ts{constructor(n,r){this.phase=n,this.callbackFn=r,this.zone=_e(Yt),this.errorHandler=_e(No,{optional:!0}),_e(lS,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class cc{constructor(){this.executingCallbacks=!1,this.buckets={[Ya.EarlyRead]:new Set,[Ya.Write]:new Set,[Ya.MixedReadWrite]:new Set,[Ya.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let lc=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of r)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Wl(e,n,r){let s=r?e.styles:null,u=r?e.classes:null,d=0;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?d=m:1==d?u=dn(u,m):2==d&&(s=dn(s,m+": "+n[++f]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=u:e.classesWithoutHost=u}class UC extends kp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=At(n);return new jp(r,this.ngModule)}}function BC(e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r];void 0!==s&&n.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return n}class ca{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=Yh(s);const u=this.injector.get(n,Lp,s);return u!==Lp||r===Lp?u:this.parentInjector.get(n,r,s)}}class jp extends _g{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=BC(n.inputs);if(null!==r)for(const u of s)r.hasOwnProperty(u.propName)&&(u.transform=r[u.propName]);return s}get outputs(){return BC(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function hN(e){return e.map(Av).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,u){const d=Xe(null);try{let f=(u=u||this.ngModule)instanceof Go?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new ca(n,f):n,S=m.get(PC,null);if(null===S)throw new Ee(407,!1);const C=m.get(pS,null),x={rendererFactory:S,sanitizer:C,inlineEffectRunner:null,afterRenderEventManager:m.get(lc,null),changeDetectionScheduler:m.get(lS,null)},G=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ee=s?function sT(e,n,r,s){const d=s.get(JN,!1)||r===co.ShadowDom,f=e.selectRootElement(n,d);return function aT(e){qy(e)}(f),f}(G,s,this.componentDef.encapsulation,m):Xf(G,J,function Ok(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(J));let de=512;this.componentDef.signals?de|=4096:this.componentDef.onPush||(de|=16);let ge=null;null!==ee&&(ge=Vf(ee,m,!0));const fe=cC(0,null,null,1,0,null,null,null,null,null,null),Qe=Ul(null,fe,null,de,null,null,x,G,m,null,ge);let wt,Ht;ja(Qe);try{const xn=this.componentDef;let Fi,iv=null;xn.findHostDirectiveDefs?(Fi=[],iv=new Map,xn.findHostDirectiveDefs(xn,Fi,iv),Fi.push(xn)):Fi=[xn];const YU=function HC(e,n){const r=e[Ae],s=St;return e[s]=n,Ja(r,s,2,"#host",null)}(Qe,ee),hG=function Mk(e,n,r,s,u,d,f){const m=u[Ae];!function Pk(e,n,r,s){for(const u of e)n.mergedAttrs=rf(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(Wl(n,n.mergedAttrs,!0),null!==r&&ag(s,r,n))}(s,e,n,f);let S=null;null!==n&&(S=Vf(n,u[Tr]));const C=d.rendererFactory.createRenderer(n,r);let D=16;r.signals?D=4096:r.onPush&&(D=64);const R=Ul(u,dg(r),null,D,u[e.index],e,d,C,null,null,S);return m.firstCreatePass&&fT(m,e,s.length-1),Rp(u,R),u[e.index]=R}(YU,ee,xn,Fi,Qe,x,G);Ht=function Wo(e,n){return e.data[n]}(fe,St),ee&&function Un(e,n,r,s){if(s)nf(e,r,["ng-version","17.3.3"]);else{const{attrs:u,classes:d}=function fN(e){const n=[],r=[];let s=1,u=2;for(;s<e.length;){let d=e[s];if("string"==typeof d)2===u?""!==d&&n.push(d,e[++s]):8===u&&r.push(d);else{if(!gs(u))break;u=d}s++}return{attrs:n,classes:r}}(n.selectors[0]);u&&nf(e,r,u),d&&d.length>0&&Uy(e,r,d.join(" "))}}(G,xn,ee,s),void 0!==r&&function SS(e,n,r){const s=e.projection=[];for(let u=0;u<n.length;u++){const d=r[u];s.push(null!=d?Array.from(d):null)}}(Ht,this.ngContentSelectors,r),wt=function zr(e,n,r,s,u,d){const f=ln(),m=u[Ae],S=rn(f,u);dk(m,u,f,r,null,s);for(let D=0;D<r.length;D++)Hr(Wu(u,m,f.directiveStart+D,f),u);pk(m,u,f),S&&Hr(S,u);const C=Wu(u,m,f.directiveStart+f.componentOffset,f);if(e[mn]=u[mn]=C,null!==d)for(const D of d)D(C,n);return cg(m,f,u),C}(hG,xn,Fi,iv,Qe,[la]),ST(fe,Qe,null)}finally{yi()}return new ql(this.componentType,wt,bl(Ht,Qe),Qe,Ht)}finally{Xe(d)}}}class ql extends kT{constructor(n,r,s,u,d){super(),this.location=s,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Op(u,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let u;if(null!==s&&(u=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;yT(d[Ae],d,u,n,r),this.previousInputValues.set(n,r),Bl(pn(this._tNode.index,d))}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function la(){const e=ln();sp(pe()[Ae],e)}let Ds=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=eo}return e})();function eo(){return function ES(e,n){let r;const s=n[e.index];return vo(s)?r=s:(r=function hg(e,n,r,s){return[e,!0,0,n,null,s,null,r,null,null]}(s,n,null,e),n[e.index]=r,Rp(n,r)),jT(r,n,e,s),new Rg(r,e,n)}(ln(),pe())}const $C=Ds,Rg=class extends $C{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return bl(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){const n=Cf(this._hostTNode,this._hostLView);if(ea(n)){const r=ta(n,this._hostLView),s=Sr(n);return new br(r[Ae].data[s+8],r)}return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=bS(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-It}createEmbeddedView(n,r,s){let u,d;"number"==typeof s?u=s:null!=s&&(u=s.index,d=s.injector);const m=n.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(m,u,gg(this._hostTNode,null)),m}createComponent(n,r,s,u,d){const f=n&&!function fo(e){return"function"==typeof e}(n);let m;if(f)m=r;else{const J=r||{};m=J.index,s=J.injector,u=J.projectableNodes,d=J.environmentInjector||J.ngModuleRef}const S=f?n:new jp(At(n)),C=s||this.parentInjector;if(!d&&null==S.ngModule){const ee=(f?C:this.parentInjector).get(Go,null);ee&&(d=ee)}At(S.componentType??{});const G=S.create(C,u,null,d);return this.insertImpl(G.hostView,m,gg(this._hostTNode,null)),G}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const u=n._lView;if(function DN(e){return vo(e[tr])}(u)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const S=u[tr],C=new Rg(S,S[Qr],S[tr]);C.detach(C.indexOf(n))}}const d=this._adjustIndex(r),f=this._lContainer;return Xy(f,u,d,s),n.attachToViewContainerRef(),Ev(Og(f),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=bS(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=jl(this._lContainer,r);s&&(Gd(Og(this._lContainer),r),tC(s[Ae],s))}detach(n){const r=this._adjustIndex(n,-1),s=jl(this._lContainer,r);return s&&null!=Gd(Og(this._lContainer),r)?new Op(s):null}_adjustIndex(n,r=0){return n??this.length+r}};function bS(e){return e[8]}function Og(e){return e[8]||(e[8]=[])}let jT=function UT(e,n,r,s){if(e[mo])return;let u;u=8&r.type?Jt(s):function GC(e,n){const r=e[lt],s=r.createComment(""),u=rn(n,e);return ec(r,Dp(r,u),s,function tg(e,n){return e.nextSibling(n)}(r,u),!1),s}(n,r),e[mo]=u};class hc{}class TS{}class Nr extends hc{constructor(n,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UC(this);const u=lo(n);this._bootstrapComponents=Io(u.bootstrap),this._r3Injector=Df(n,r,[{provide:hc,useValue:this},{provide:kp,useValue:this.componentFactoryResolver},...s],Ar(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class As extends TS{constructor(n){super(),this.moduleType=n}create(n){return new Nr(this.moduleType,n,[])}}class os extends hc{constructor(n){super(),this.componentFactoryResolver=new UC(this),this.instance=null;const r=new Pa([...n.providers,{provide:hc,useValue:this},{provide:kp,useValue:this.componentFactoryResolver}],n.parent||cf(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function nu(e,n,r=null){return new os({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let gc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uh(e,n,r,s,u){const f=u?"class":"style";yT(e,r,n.inputs[f],f,s)}function xo(e,n,r,s){const u=pe(),d=ht(),f=St+e,m=u[lt],S=d.firstCreatePass?function am(e,n,r,s,u,d){const f=n.consts,S=Ja(n,e,2,s,ms(f,u));return function hT(e,n,r,s){if(Uu()){const u=null===s?null:{"":-1},d=function zF(e,n){const r=e.directiveRegistry;let s=null,u=null;if(r)for(let d=0;d<r.length;d++){const f=r[d];if(HE(n,f.selectors,!1))if(s||(s=[]),Rt(f))if(null!==f.findHostDirectiveDefs){const m=[];u=u||new Map,f.findHostDirectiveDefs(f,m,u),s.unshift(...m,f),fT(e,n,m.length)}else s.unshift(f),fT(e,n,0);else u=u||new Map,f.findHostDirectiveDefs?.(f,s,u),s.push(f)}return null===s?null:[s,u]}(e,r);let f,m;null===d?f=m=null:[f,m]=d,null!==f&&dk(e,n,r,f,u,m),u&&function WF(e,n,r){if(n){const s=e.localNames=[];for(let u=0;u<n.length;u+=2){const d=r[n[u+1]];if(null==d)throw new Ee(-301,!1);s.push(n[u],d)}}}(r,s,u)}r.mergedAttrs=rf(r.mergedAttrs,r.attrs)}(n,r,S,ms(f,d)),null!==S.attrs&&Wl(S,S.attrs,!1),null!==S.mergedAttrs&&Wl(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(f,d,u,n,r,s):d.data[f],C=VR(d,u,S,m,n,e);u[f]=C;const D=rt(S);return ys(S,!0),ag(m,C,S),!function Yl(e){return!(32&~e.flags)}(S)&&gl()&&tc(d,u,C,S),0===function zD(){return ut.lFrame.elementDepthCount}()&&Hr(C,u),function Mn(){ut.lFrame.elementDepthCount++}(),D&&(function lg(e,n,r){Uu()&&(function $F(e,n,r,s){const u=r.directiveStart,d=r.directiveEnd;Fu(r)&&function gT(e,n,r){const s=rn(n,e),u=dg(r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const m=Rp(e,Ul(e,u,null,f,s,n,null,e[zi].rendererFactory.createRenderer(s,r),null,null,null));e[n.index]=m}(n,r,e.data[u+r.componentOffset]),e.firstCreatePass||yl(r,n),Hr(s,n);const f=r.initialInputs;for(let m=u;m<d;m++){const S=e.data[m],C=Wu(n,e,m,r);Hr(C,n),null!==f&&mT(0,m-u,C,S,0,f),Rt(S)&&(pn(r.index,n)[mn]=Wu(n,e,m,r))}}(e,n,r,rn(r,n)),!(64&~r.flags)&&pk(e,n,r))}(d,u,S),cg(d,S,u)),null!==s&&function zy(e,n,r=rn){const s=n.localNames;if(null!==s){let u=n.index+1;for(let d=0;d<s.length;d+=2){const f=s[d+1],m=-1===f?r(n,e):e[f];e[u++]=m}}}(u,S),xo}function Ti(){let e=ln();np()?function Va(){ut.lFrame.isParent=!1}():(e=e.parent,ys(e,!1));const n=e;(function n0(e){return ut.skipHydrationRootTNode===e})(n)&&function RN(){ut.skipHydrationRootTNode=null}(),function So(){ut.lFrame.elementDepthCount--}();const r=ht();return r.firstCreatePass&&(sp(r,e),Tt(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function a0(e){return!!(8&e.flags)}(n)&&uh(r,n,pe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bf(e){return!!(16&e.flags)}(n)&&uh(r,n,pe(),n.stylesWithoutHost,!1),Ti}function hh(e,n,r,s){return xo(e,n,r,s),Ti(),hh}let VR=(e,n,r,s,u,d)=>(bi(!0),Xf(s,u,function _t(){return ut.lFrame.currentNamespace}()));const mh="en-US";let qI=mh;function lu(e,n,r,s){const u=pe(),d=ht(),f=ln();return function Oc(e,n,r,s,u,d,f){const m=rt(s),C=e.firstCreatePass&&function gC(e){return e.cleanup||(e.cleanup=[])}(e),D=n[mn],R=function Jy(e){return e[cl]||(e[cl]=[])}(n);let x=!0;if(3&s.type||f){const ee=rn(s,n),de=f?f(ee):ee,ge=R.length,fe=f?wt=>f(Jt(wt[s.index])):s.index;let Qe=null;if(!f&&m&&(Qe=function bO(e,n,r,s){const u=e.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const f=u[d];if(f===r&&u[d+1]===s){const m=n[cl],S=u[d+2];return m.length>S?m[S]:null}"string"==typeof f&&(d+=2)}return null}(e,n,u,s.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=d,Qe.__ngLastListenerFn__=d,x=!1;else{d=ks(s,n,D,d,!1);const wt=r.listen(de,u,d);R.push(d,wt),C&&C.push(u,fe,ge,ge+1)}}else d=ks(s,n,D,d,!1);const G=s.outputs;let J;if(x&&null!==G&&(J=G[u])){const ee=J.length;if(ee)for(let de=0;de<ee;de+=2){const Ht=n[J[de]][J[de+1]].subscribe(d),xn=R.length;R.push(d,Ht),C&&C.push(u,s.index,xn,-(xn+1))}}}(d,u,u[lt],f,e,n,s),lu}function Ns(e,n,r,s){const u=Xe(null);try{return Ki(6,n,r),!1!==r(s)}catch(d){return fg(e,d),!1}finally{Ki(7,n,r),Xe(u)}}function ks(e,n,r,s,u){return function d(f){if(f===Function)return s;Bl(e.componentOffset>-1?pn(e.index,n):n);let S=Ns(n,r,s,f),C=d.__ngNextListenerFn__;for(;C;)S=Ns(n,r,C,f)&&S,C=C.__ngNextListenerFn__;return u&&!1===S&&f.preventDefault(),S}}function Ls(e,n=""){const r=pe(),s=ht(),u=e+St,d=s.firstCreatePass?Ja(s,u,1,n,null):s.data[u],f=NO(s,r,d,n,e);r[u]=f,gl()&&tc(s,r,f,d),ys(d,!1)}let NO=(e,n,r,s,u)=>(bi(!0),function Ip(e,n){return e.createText(n)}(n[lt],s)),xO=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=fi(0,r.type),u=s.length>0?nu([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,u)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qe({token:e,providedIn:"environment",factory:()=>new e(at(Go))})}return e})();function cs(e){ws("NgStandalone"),e.getStandaloneInjector=n=>n.get(xO).getOrCreateStandaloneInjector(e)}let iM=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const q_=new Ve(""),Ch=new Ve("");let Q_,cb=(()=>{class e{constructor(r,s,u){this._ngZone=r,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Q_||(function Pm(e){Q_=e}(u),u.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,u){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),r()},s)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:u})}whenStable(r,s,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,u){return[]}static#e=this.\u0275fac=function(s){return new(s||e)(at(Yt),at(K_),at(Ch))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),K_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return Q_?.findTestabilityInTree(this,r,s)??null}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function lb(e){return!!e&&"function"==typeof e.then}function SM(e){return!!e&&"function"==typeof e.subscribe}const J_=new Ve("");let db=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=_e(J_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const u of this.appInits){const d=u();if(lb(d))r.push(d);else if(SM(d)){const f=new Promise((m,S)=>{d.subscribe({complete:m,error:S})});r.push(f)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(u=>{this.reject(u)}),0===r.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pb=new Ve("");function Y_(e,n){return Array.isArray(n)?n.reduce(Y_,e):{...e,...n}}let gu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_e(oy),this.afterRenderEffectManager=_e(lc),this.externalTestViews=new Set,this.beforeRender=new di,this.afterTick=new di,this.componentTypes=[],this.components=[],this.isStable=_e(gc).hasPendingTasks.pipe(Qt(r=>!r)),this._injector=_e(Go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){const u=r instanceof _g;if(!this._injector.get(db).done)throw!u&&function Oa(e){const n=At(e)||cr(e)||Ur(e);return null!==n&&n.standalone}(r),new Ee(405,!1);let f;f=u?r:this._injector.get(kp).resolveComponentFactory(r),this.componentTypes.push(f.componentType);const m=function bM(e){return e.isBoundToModule}(f)?void 0:this._injector.get(hc),C=f.create(Po.NULL,[],s||f.selector,m),D=C.location.nativeElement,R=C.injector.get(q_,null);return R?.registerApplication(D),C.onDestroy(()=>{this.detachView(C.hostView),Nm(this.components,C),R?.unregisterApplication(D)}),this._loadComponent(C),C}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Ee(101,!1);const s=Xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(u){this.internalErrorHandler(u)}finally{this.afterTick.next(),this._runningTick=!1,Xe(s)}}detectChangesInAttachedViews(r){let s=0;const u=this.afterRenderEffectManager;for(;;){if(s===nS)throw new Ee(103,!1);if(r){const d=0===s;this.beforeRender.next(d);for(let{_lView:f,notifyErrorHandler:m}of this._views)CM(f,d,m)}if(s++,u.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>gb(d))&&(u.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>gb(d))))break}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;Nm(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(pb,[]);[...this._bootstrapListeners,...s].forEach(u=>u(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Nm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nm(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function CM(e,n,r){!n&&!gb(e)||function IM(e,n,r){let s;r?(s=0,e[Ze]|=1024):s=64&e[Ze]?0:1,mg(e,n,s)}(e,r,n)}function gb(e){return ju(e)}class _M{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let X_=(()=>{class e{compileModuleSync(r){return new As(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),d=Io(lo(r).declarations).reduce((f,m)=>{const S=At(m);return S&&f.push(new jp(S)),f},[]);return new _M(s,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AM=(()=>{class e{constructor(){this.zone=_e(Yt),this.applicationRef=_e(gu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TM(){const e=_e(Yt),n=_e(No);return r=>e.runOutsideAngular(()=>n.handleError(r))}let OM=(()=>{class e{constructor(){this.subscription=new Tn,this.initialized=!1,this.zone=_e(Yt),this.pendingTasks=_e(gc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Yt.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sa=new Ve("",{providedIn:"root",factory:()=>_e(Sa,Lt.Optional|Lt.SkipSelf)||function MM(){return typeof $localize<"u"&&$localize.locale||mh}()}),mb=new Ve("");let rw=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const u=function VT(e="zone.js",n){return"noop"===e?new gS:"zone.js"===e?new Yt(n):e}(s?.ngZone,function nw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return u.run(()=>{const d=function tu(e,n,r){return new Nr(e,n,r)}(r.moduleType,this.injector,function tw(e){return[{provide:Yt,useFactory:e},{provide:il,multi:!0,useFactory:()=>{const n=_e(AM,{optional:!0});return()=>n.initialize()}},{provide:il,multi:!0,useFactory:()=>{const n=_e(OM);return()=>{n.initialize()}}},{provide:oy,useFactory:TM}]}(()=>u)),f=d.injector.get(No,null);return u.runOutsideAngular(()=>{const m=u.onError.subscribe({next:S=>{f.handleError(S)}});d.onDestroy(()=>{Nm(this._modules,d),m.unsubscribe()})}),function Z_(e,n,r){try{const s=r();return lb(s)?s.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(f,u,()=>{const m=d.injector.get(db);return m.runInitializers(),m.donePromise.then(()=>(function dm(e){"string"==typeof e&&(qI=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Sa,mh)||mh),this._moduleDoBootstrap(d),d))})})}bootstrapModule(r,s=[]){const u=Y_({},s);return function DM(e,n,r){const s=new As(r);return Promise.resolve(s)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(r){const s=r.injector.get(gu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>s.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Ee(-403,!1);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(mb,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||e)(at(Po))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),mu=null;const ow=new Ve("");function iw(e,n,r=[]){const s=`Platform: ${n}`,u=new Ve(s);return(d=[])=>{let f=vb();if(!f||f.injector.get(ow,!1)){const m=[...r,...d,{provide:u,useValue:!0}];e?e(m):function kM(e){if(mu&&!mu.get(ow,!1))throw new Ee(400,!1);(function fb(){!function QP(e){Fh=e}(()=>{throw new Ee(600,!1)})})(),mu=e;const n=e.get(rw);(function aw(e){e.get(x0,null)?.forEach(r=>r())})(e)}(function sw(e=[],n){return Po.create({name:n,providers:[{provide:gi,useValue:"platform"},{provide:mb,useValue:new Set([()=>mu=null])},...e]})}(m,s))}return function LM(e){const n=vb();if(!n)throw new Ee(401,!1);return n}()}}function vb(){return mu?.get(rw)??null}let Lm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=FM}return e})();function FM(e){return function VM(e,n,r){if(Fu(e)&&!r){const s=pn(e.index,n);return new Op(s,s)}return 47&e.type?new Op(n[jn],n):null}(ln(),pe(),!(16&~e))}const QM=iw(null,"core",[]);let JM=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(s){return new(s||e)(at(gu))};static#t=this.\u0275mod=Lu({type:e});static#n=this.\u0275inj=Kn({})}return e})(),En=null;function oo(){return En}class cx{}const Pi=new Ve("");let kb=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(Eu),providedIn:"platform"})}return e})();const lx=new Ve("");let Eu=(()=>{class e extends kb{constructor(){super(),this._doc=_e(Pi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oo().getBaseHref(this._doc)}onPopState(r){const s=oo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=oo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,u){this._history.pushState(r,s,u)}replaceState(r,s,u){this._history.replaceState(r,s,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Cu(e,n){if(0==e.length)return n;if(0==n.length)return e;let r=0;return e.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?e+n.substring(1):1==r?e+n:e+"/"+n}function Pw(e){const n=e.match(/#|\?|$/),r=n&&n.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Iu(e){return e&&"?"!==e[0]?"?"+e:e}let bd=(()=>{class e{historyGo(r){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(kw),providedIn:"root"})}return e})();const Nw=new Ve("");let kw=(()=>{class e extends bd{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??_e(Pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Cu(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+Iu(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${s}${u}`:s}pushState(r,s,u,d){const f=this.prepareExternalUrl(u+Iu(d));this._platformLocation.pushState(r,s,f)}replaceState(r,s,u,d){const f=this.prepareExternalUrl(u+Iu(d));this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(s){return new(s||e)(at(kb),at(Nw,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dx=(()=>{class e extends bd{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=Cu(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,u,d){let f=this.prepareExternalUrl(u+Iu(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,s,f)}replaceState(r,s,u,d){let f=this.prepareExternalUrl(u+Iu(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static#e=this.\u0275fac=function(s){return new(s||e)(at(kb),at(Nw,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),Ah=(()=>{class e{constructor(r){this._subject=new Er,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const s=this._locationStrategy.getBaseHref();this._basePath=function jc(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Pw(_u(s))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+Iu(s))}normalize(r){return e.stripTrailingSlash(function Vc(e,n){if(!e||!n.startsWith(e))return n;const r=n.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:n}(this._basePath,_u(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",u=null){this._locationStrategy.pushState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Iu(s)),u)}replaceState(r,s="",u=null){this._locationStrategy.replaceState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Iu(s)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(u=>u(r,s))}subscribe(r,s,u){return this._subject.subscribe({next:r,error:s,complete:u})}static#e=this.normalizeQueryParams=Iu;static#t=this.joinWithSlash=Cu;static#n=this.stripTrailingSlash=Pw;static#r=this.\u0275fac=function(s){return new(s||e)(at(bd))};static#o=this.\u0275prov=qe({token:e,factory:()=>function gP(){return new Ah(at(bd))}(),providedIn:"root"})}return e})();function _u(e){return e.replace(/\/index.html$/,"")}let Dx=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Lu({type:e});static#n=this.\u0275inj=Kn({})}return e})();const VV="browser";function jV(e){return"server"===e}let rB=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>function nB(e){return e===VV}(_e(Ju))?new oB(_e(Pi),window):new sB})}return e})();class oB{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const r=function iB(e,n){const r=e.getElementById(n)||e.getElementsByName(n)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const s=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let u=s.currentNode;for(;u;){const d=u.shadowRoot;if(d){const f=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(f)return f}u=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,u=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],u-d[1])}}class sB{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class LB extends cx{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tx extends LB{static makeCurrent(){!function Fc(e){En??=e}(new Tx)}onAndCancel(n,r,s){return n.addEventListener(r,s),()=>{n.removeEventListener(r,s)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=function xB(){return jw=jw||document.querySelector("base"),jw?jw.getAttribute("href"):null}();return null==r?null:function FB(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){jw=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function _(e,n){n=encodeURIComponent(n);for(const r of e.split(";")){const s=r.indexOf("="),[u,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(u.trim()===n)return decodeURIComponent(d)}return null}(document.cookie,n)}}let jw=null,jB=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Rx=new Ve("");let KV=(()=>{class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,u){return this._findPluginFor(s).addEventListener(r,s,u)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(d=>d.supports(r)),!s)throw new Ee(5101,!1);return this._eventNameToPlugin.set(r,s),s}static#e=this.\u0275fac=function(s){return new(s||e)(at(Rx),at(Yt))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class QV{constructor(n){this._doc=n}}const Ox="ng-app-id";let JV=(()=>{class e{constructor(r,s,u,d={}){this.doc=r,this.appId=s,this.nonce=u,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jV(d),this.resetHostNodes()}addStyles(r){for(const s of r)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(r){for(const s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){const s=this.styleRef;s.get(r)?.elements?.forEach(u=>u.remove()),s.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Ox}="${this.appId}"]`);if(r?.length){const s=new Map;return r.forEach(u=>{null!=u.textContent&&s.set(u.textContent,u)}),s}return null}changeUsageCount(r,s){const u=this.styleRef;if(u.has(r)){const d=u.get(r);return d.usage+=s,d.usage}return u.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){const u=this.styleNodesInDOM,d=u?.get(s);if(d?.parentNode===r)return u.delete(s),d.removeAttribute(Ox),d;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=s,this.platformIsServer&&f.setAttribute(Ox,this.appId),r.appendChild(f),f}}addStyleToHost(r,s){const u=this.getStyleElement(r,s),d=this.styleRef,f=d.get(s)?.elements;f?f.push(u):d.set(s,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||e)(at(Pi),at(Mf),at(V0,8),at(Ju))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Mx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Px=/%COMP%/g,$B=new Ve("",{providedIn:"root",factory:()=>!0});function YV(e,n){return n.map(r=>r.replace(Px,e))}let XV=(()=>{class e{constructor(r,s,u,d,f,m,S,C=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=u,this.removeStylesOnCompDestroy=d,this.doc=f,this.platformId=m,this.ngZone=S,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=jV(m),this.defaultRenderer=new Nx(r,f,S,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===co.ShadowDom&&(s={...s,encapsulation:co.Emulated});const u=this.getOrCreateRenderer(r,s);return u instanceof tj?u.applyToHost(r):u instanceof kx&&u.applyStyles(),u}getOrCreateRenderer(r,s){const u=this.rendererByCompId;let d=u.get(s.id);if(!d){const f=this.doc,m=this.ngZone,S=this.eventManager,C=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(s.encapsulation){case co.Emulated:d=new tj(S,C,s,this.appId,D,f,m,R);break;case co.ShadowDom:return new qB(S,C,r,s,f,m,this.nonce,R);default:d=new kx(S,C,s,D,f,m,R)}u.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||e)(at(KV),at(JV),at(Mf),at($B),at(Pi),at(Ju),at(Yt),at(V0))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class Nx{constructor(n,r,s,u){this.eventManager=n,this.doc=r,this.ngZone=s,this.platformIsServer=u,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,r){return r?this.doc.createElementNS(Mx[r]||r,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,r){(ej(n)?n.content:n).appendChild(r)}insertBefore(n,r,s){n&&(ej(n)?n.content:n).insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?this.doc.querySelector(n):n;if(!s)throw new Ee(-5104,!1);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,u){if(u){r=u+":"+r;const d=Mx[u];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const u=Mx[s];u?n.removeAttributeNS(u,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,u){u&(Qa.DashCase|Qa.Important)?n.style.setProperty(r,s,u&Qa.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&Qa.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){null!=n&&(n[r]=s)}setValue(n,r){n.nodeValue=r}listen(n,r,s){if("string"==typeof n&&!(n=oo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${r}`);return this.eventManager.addEventListener(n,r,this.decoratePreventDefault(s))}decoratePreventDefault(n){return r=>{if("__ngUnwrap__"===r)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(r)):n(r))&&r.preventDefault()}}}function ej(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class qB extends Nx{constructor(n,r,s,u,d,f,m,S){super(n,d,f,S),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=YV(u.id,u.styles);for(const D of C){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=D,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kx extends Nx{constructor(n,r,s,u,d,f,m,S){super(n,d,f,m),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=u,this.styles=S?YV(S,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tj extends kx{constructor(n,r,s,u,d,f,m,S){const C=u+"-"+s.id;super(n,r,s,d,f,m,S,C),this.contentAttr=function GB(e){return"_ngcontent-%COMP%".replace(Px,e)}(C),this.hostAttr=function zB(e){return"_nghost-%COMP%".replace(Px,e)}(C)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}let KB=(()=>{class e extends QV{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,u){return r.addEventListener(s,u,!1),()=>this.removeEventListener(r,s,u)}removeEventListener(r,s,u){return r.removeEventListener(s,u)}static#e=this.\u0275fac=function(s){return new(s||e)(at(Pi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const nj=["alt","control","meta","shift"],QB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JB={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ZB=(()=>{class e extends QV{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,s,u){const d=e.parseEventName(s),f=e.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oo().onAndCancel(r,d.domEventName,f))}static parseEventName(r){const s=r.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const d=e._normalizeKey(s.pop());let f="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),f="code."),nj.forEach(C=>{const D=s.indexOf(C);D>-1&&(s.splice(D,1),f+=C+".")}),f+=d,0!=s.length||0===d.length)return null;const S={};return S.domEventName=u,S.fullKey=f,S}static matchEventFullKeyCode(r,s){let u=QB[r.key]||r.key,d="";return s.indexOf("code.")>-1&&(u=r.code,d="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),nj.forEach(f=>{f!==u&&(0,JB[f])(r)&&(d+=f+".")}),d+=u,d===s)}static eventCallback(r,s,u){return d=>{e.matchEventFullKeyCode(d,r)&&u.runGuarded(()=>s(d))}}static _normalizeKey(r){return"esc"===r?"escape":r}static#e=this.\u0275fac=function(s){return new(s||e)(at(Pi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const t2=iw(QM,"browser",[{provide:Ju,useValue:VV},{provide:x0,useValue:function YB(){Tx.makeCurrent()},multi:!0},{provide:Pi,useFactory:function e2(){return function bA(e){hy=e}(document),document},deps:[]}]),n2=new Ve(""),ij=[{provide:Ch,useClass:class VB{addToWindow(n){on.getAngularTestability=(s,u=!0)=>{const d=n.findTestabilityInTree(s,u);if(null==d)throw new Ee(5103,!1);return d},on.getAllAngularTestabilities=()=>n.getAllTestabilities(),on.getAllAngularRootElements=()=>n.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(s=>{const u=on.getAllAngularTestabilities();let d=u.length;const f=function(){d--,0==d&&s()};u.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(n,r,s){return null==r?null:n.getTestability(r)??(s?oo().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null)}},deps:[]},{provide:q_,useClass:cb,deps:[Yt,K_,Ch]},{provide:cb,useClass:cb,deps:[Yt,K_,Ch]}],sj=[{provide:gi,useValue:"root"},{provide:No,useFactory:function XB(){return new No},deps:[]},{provide:Rx,useClass:KB,multi:!0,deps:[Pi,Yt,Ju]},{provide:Rx,useClass:ZB,multi:!0,deps:[Pi]},XV,JV,KV,{provide:PC,useExisting:XV},{provide:class aB{},useClass:jB,deps:[]},[]];let r2=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Mf,useValue:r.appId}]}}static#e=this.\u0275fac=function(s){return new(s||e)(at(n2,12))};static#t=this.\u0275mod=Lu({type:e});static#n=this.\u0275inj=Kn({providers:[...sj,...ij],imports:[Dx,JM]})}return e})(),o2=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static#e=this.\u0275fac=function(s){return new(s||e)(at(Pi))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mh(e){return this instanceof Mh?(this.v=e,this):new Mh(e)}function hj(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Vx(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],s=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(d){r[d]=e[d]&&function(f){return new Promise(function(m,S){!function u(d,f,m,S){Promise.resolve(S).then(function(C){d({value:C,done:m})},f)}(m,S,(f=e[d](f)).done,f.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fj=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function gj(e){return Ct(e?.then)}function mj(e){return Ct(e[gv])}function vj(e){return Symbol.asyncIterator&&Ct(e?.[Symbol.asyncIterator])}function yj(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sj=function O2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bj(e){return Ct(e?.[Sj])}function Ej(e){return function pj(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,s=r.apply(e,n||[]),d=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(x){s[x]&&(u[x]=function(G){return new Promise(function(J,ee){d.push([x,G,J,ee])>1||m(x,G)})})}function m(x,G){try{!function S(x){x.value instanceof Mh?Promise.resolve(x.value.v).then(C,D):R(d[0][2],x)}(s[x](G))}catch(J){R(d[0][3],J)}}function C(x){m("next",x)}function D(x){m("throw",x)}function R(x,G){x(G),d.shift(),d.length&&m(d[0][0],d[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:s,done:u}=yield Mh(r.read());if(u)return yield Mh(void 0);yield yield Mh(s)}}finally{r.releaseLock()}})}function Cj(e){return Ct(e?.getReader)}function Id(e){if(e instanceof Vr)return e;if(null!=e){if(mj(e))return function M2(e){return new Vr(n=>{const r=e[gv]();if(Ct(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(fj(e))return function P2(e){return new Vr(n=>{for(let r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}(e);if(gj(e))return function N2(e){return new Vr(n=>{e.then(r=>{n.closed||(n.next(r),n.complete())},r=>n.error(r)).then(null,pv)})}(e);if(vj(e))return Ij(e);if(bj(e))return function k2(e){return new Vr(n=>{for(const r of e)if(n.next(r),n.closed)return;n.complete()})}(e);if(Cj(e))return function L2(e){return Ij(Ej(e))}(e)}throw yj(e)}function Ij(e){return new Vr(n=>{(function x2(e,n){var r,s,u,d;return function lj(e,n,r,s){return new(r||(r=Promise))(function(d,f){function m(D){try{C(s.next(D))}catch(R){f(R)}}function S(D){try{C(s.throw(D))}catch(R){f(R)}}function C(D){D.done?d(D.value):function u(d){return d instanceof r?d:new r(function(f){f(d)})}(D.value).then(m,S)}C((s=s.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(r=hj(e);!(s=yield r.next()).done;)if(n.next(s.value),n.closed)return}catch(f){u={error:f}}finally{try{s&&!s.done&&(d=r.return)&&(yield d.call(r))}finally{if(u)throw u.error}}n.complete()})})(e,n).catch(r=>n.error(r))})}function _d(e,n,r,s=0,u=!1){const d=n.schedule(function(){r(),u?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(d),!u)return d}function _j(e,n=0){return Fn((r,s)=>{r.subscribe($t(s,u=>_d(s,e,()=>s.next(u),n),()=>_d(s,e,()=>s.complete(),n),u=>_d(s,e,()=>s.error(u),n)))})}function wj(e,n=0){return Fn((r,s)=>{s.add(e.schedule(()=>r.subscribe(s),n))})}function Dj(e,n){if(!e)throw new Error("Iterable cannot be null");return new Vr(r=>{_d(r,n,()=>{const s=e[Symbol.asyncIterator]();_d(r,n,()=>{s.next().then(u=>{u.done?r.complete():r.next(u.value)})},0,!0)})})}function Uo(e,n){return n?function H2(e,n){if(null!=e){if(mj(e))return function F2(e,n){return Id(e).pipe(wj(n),_j(n))}(e,n);if(fj(e))return function j2(e,n){return new Vr(r=>{let s=0;return n.schedule(function(){s===e.length?r.complete():(r.next(e[s++]),r.closed||this.schedule())})})}(e,n);if(gj(e))return function V2(e,n){return Id(e).pipe(wj(n),_j(n))}(e,n);if(vj(e))return Dj(e,n);if(bj(e))return function U2(e,n){return new Vr(r=>{let s;return _d(r,n,()=>{s=e[Sj](),_d(r,n,()=>{let u,d;try{({value:u,done:d}=s.next())}catch(f){return void r.error(f)}d?r.complete():r.next(u)},0,!0)}),()=>Ct(s?.return)&&s.return()})}(e,n);if(Cj(e))return function B2(e,n){return Dj(Ej(e),n)}(e,n)}throw yj(e)}(e,n):Id(e)}function jx(e){return e[e.length-1]}function DP(e){return function $2(e){return e&&Ct(e.schedule)}(jx(e))?e.pop():void 0}function Et(...e){return Uo(e,DP(e))}const{isArray:z2}=Array,{getPrototypeOf:W2,prototype:q2,keys:K2}=Object;const{isArray:Z2}=Array;function Ux(...e){const n=DP(e),r=function G2(e){return Ct(jx(e))?e.pop():void 0}(e),{args:s,keys:u}=function Q2(e){if(1===e.length){const n=e[0];if(z2(n))return{args:n,keys:null};if(function J2(e){return e&&"object"==typeof e&&W2(e)===q2}(n)){const r=K2(n);return{args:r.map(s=>n[s]),keys:r}}}return{args:e,keys:null}}(e);if(0===s.length)return Uo([],n);const d=new Vr(function tH(e,n,r=zs){return s=>{Aj(n,()=>{const{length:u}=e,d=new Array(u);let f=u,m=u;for(let S=0;S<u;S++)Aj(n,()=>{const C=Uo(e[S],n);let D=!1;C.subscribe($t(s,R=>{d[S]=R,D||(D=!0,m--),m||s.next(r(d.slice()))},()=>{--f||s.complete()}))},s)},s)}}(s,n,u?f=>function eH(e,n){return e.reduce((r,s,u)=>(r[s]=n[u],r),{})}(u,f):zs));return r?d.pipe(function X2(e){return Qt(n=>function Y2(e,n){return Z2(n)?e(...n):e(n)}(e,n))}(r)):d}function Aj(e,n,r){e?_d(r,e,n):n()}const AP=jh(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ci(e,n,r=1/0){return Ct(n)?ci((s,u)=>Qt((d,f)=>n(s,d,u,f))(Id(e(s,u))),r):("number"==typeof n&&(r=n),Fn((s,u)=>function nH(e,n,r,s,u,d,f,m){const S=[];let C=0,D=0,R=!1;const x=()=>{R&&!S.length&&!C&&n.complete()},G=ee=>C<s?J(ee):S.push(ee),J=ee=>{d&&n.next(ee),C++;let de=!1;Id(r(ee,D++)).subscribe($t(n,ge=>{u?.(ge),d?G(ge):n.next(ge)},()=>{de=!0},void 0,()=>{if(de)try{for(C--;S.length&&C<s;){const ge=S.shift();f?_d(n,f,()=>J(ge)):J(ge)}x()}catch(ge){n.error(ge)}}))};return e.subscribe($t(n,G,()=>{R=!0,x()})),()=>{m?.()}}(s,u,e,r)))}function Bw(e=1/0){return ci(zs,e)}function Bx(...e){return function rH(){return Bw(1)}()(Uo(e,DP(e)))}function Tj(e){return new Vr(n=>{Id(e()).subscribe(n)})}function TP(e,n){const r=Ct(e)?e:()=>e,s=u=>u.error(r());return new Vr(n?u=>n.schedule(s,0,u):s)}const Hc=new Vr(e=>e.complete());function Hx(){return Fn((e,n)=>{let r=null;e._refCount++;const s=$t(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const u=e._connection,d=r;r=null,u&&(!d||u===d)&&u.unsubscribe(),n.unsubscribe()});e.subscribe(s),s.closed||(r=e.connect())})}class Rj extends Vr{constructor(n,r){super(),this.source=n,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,_E(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Tn;const r=this.getSubject();n.add(this.source.subscribe($t(r,void 0,()=>{this._teardown(),r.complete()},s=>{this._teardown(),r.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Tn.EMPTY)}return n}refCount(){return Hx()(this)}}function $c(e,n){return Fn((r,s)=>{let u=null,d=0,f=!1;const m=()=>f&&!u&&s.complete();r.subscribe($t(s,S=>{u?.unsubscribe();let C=0;const D=d++;Id(e(S,D)).subscribe(u=$t(s,R=>s.next(n?n(S,R,D,C++):R),()=>{u=null,m()}))},()=>{f=!0,m()}))})}function qb(e){return e<=0?()=>Hc:Fn((n,r)=>{let s=0;n.subscribe($t(r,u=>{++s<=e&&(r.next(u),e<=s&&r.complete())}))})}function wd(e,n){return Fn((r,s)=>{let u=0;r.subscribe($t(s,d=>e.call(n,d,u++)&&s.next(d)))})}function RP(e){return Fn((n,r)=>{let s=!1;n.subscribe($t(r,u=>{s=!0,r.next(u)},()=>{s||r.next(e),r.complete()}))})}function Oj(e=sH){return Fn((n,r)=>{let s=!1;n.subscribe($t(r,u=>{s=!0,r.next(u)},()=>s?r.complete():r.error(e())))})}function sH(){return new AP}function tv(e,n){const r=arguments.length>=2;return s=>s.pipe(e?wd((u,d)=>e(u,d,s)):zs,qb(1),r?RP(n):Oj(()=>new AP))}function Kb(e,n){return Ct(n)?ci(e,n,1):ci(e,1)}function xi(e,n,r){const s=Ct(e)||n||r?{next:e,error:n,complete:r}:e;return s?Fn((u,d)=>{var f;null===(f=s.subscribe)||void 0===f||f.call(s);let m=!0;u.subscribe($t(d,S=>{var C;null===(C=s.next)||void 0===C||C.call(s,S),d.next(S)},()=>{var S;m=!1,null===(S=s.complete)||void 0===S||S.call(s),d.complete()},S=>{var C;m=!1,null===(C=s.error)||void 0===C||C.call(s,S),d.error(S)},()=>{var S,C;m&&(null===(S=s.unsubscribe)||void 0===S||S.call(s)),null===(C=s.finalize)||void 0===C||C.call(s)}))}):zs}function Qb(e){return Fn((n,r)=>{let d,s=null,u=!1;s=n.subscribe($t(r,void 0,void 0,f=>{d=Id(e(f,Qb(e)(n))),s?(s.unsubscribe(),s=null,d.subscribe(r)):u=!0})),u&&(s.unsubscribe(),s=null,d.subscribe(r))})}function $x(e){return e<=0?()=>Hc:Fn((n,r)=>{let s=[];n.subscribe($t(r,u=>{s.push(u),e<s.length&&s.shift()},()=>{for(const u of s)r.next(u);r.complete()},void 0,()=>{s=null}))})}function Gx(e){return Fn((n,r)=>{try{n.subscribe(r)}finally{r.add(e)}})}const kt="primary",Hw=Symbol("RouteTitle");class pH{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Jb(e){return new pH(e)}function hH(e,n,r){const s=r.path.split("/");if(s.length>e.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<e.length))return null;const u={};for(let d=0;d<s.length;d++){const f=s[d],m=e[d];if(f.startsWith(":"))u[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:e.slice(0,s.length),posParams:u}}function Gc(e,n){const r=e?zx(e):void 0,s=n?zx(n):void 0;if(!r||!s||r.length!=s.length)return!1;let u;for(let d=0;d<r.length;d++)if(u=r[d],!Mj(e[u],n[u]))return!1;return!0}function zx(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Mj(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const r=[...e].sort(),s=[...n].sort();return r.every((u,d)=>s[d]===u)}return e===n}function Pj(e){return e.length>0?e[e.length-1]:null}function Ph(e){return function u2(e){return!!e&&(e instanceof Vr||Ct(e.lift)&&Ct(e.subscribe))}(e)?e:lb(e)?Uo(Promise.resolve(e)):Et(e)}const gH={exact:function Lj(e,n,r){if(!nv(e.segments,n.segments)||!OP(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!e.children[s]||!Lj(e.children[s],n.children[s],r))return!1;return!0},subset:xj},Nj={exact:function mH(e,n){return Gc(e,n)},subset:function vH(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(r=>Mj(e[r],n[r]))},ignored:()=>!0};function kj(e,n,r){return gH[r.paths](e.root,n.root,r.matrixParams)&&Nj[r.queryParams](e.queryParams,n.queryParams)&&!("exact"===r.fragment&&e.fragment!==n.fragment)}function xj(e,n,r){return Fj(e,n,n.segments,r)}function Fj(e,n,r,s){if(e.segments.length>r.length){const u=e.segments.slice(0,r.length);return!(!nv(u,r)||n.hasChildren()||!OP(u,r,s))}if(e.segments.length===r.length){if(!nv(e.segments,r)||!OP(e.segments,r,s))return!1;for(const u in n.children)if(!e.children[u]||!xj(e.children[u],n.children[u],s))return!1;return!0}{const u=r.slice(0,e.segments.length),d=r.slice(e.segments.length);return!!(nv(e.segments,u)&&OP(e.segments,u,s)&&e.children[kt])&&Fj(e.children[kt],n,d,s)}}function OP(e,n,r){return n.every((s,u)=>Nj[r](e[u].parameters,s.parameters))}class Zb{constructor(n=new An([],{}),r={},s=null){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Jb(this.queryParams),this._queryParamMap}toString(){return bH.serialize(this)}}class An{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Object.values(r).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return MP(this)}}class $w{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap??=Jb(this.parameters),this._parameterMap}toString(){return Uj(this)}}function nv(e,n){return e.length===n.length&&e.every((r,s)=>r.path===n[s].path)}let Yb=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>new Wx,providedIn:"root"})}return e})();class Wx{parse(n){const r=new MH(n);return new Zb(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){const r=`/${Gw(n.root,!0)}`,s=function IH(e){const n=Object.entries(e).map(([r,s])=>Array.isArray(s)?s.map(u=>`${PP(r)}=${PP(u)}`).join("&"):`${PP(r)}=${PP(s)}`).filter(r=>r);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${r}${s}${"string"==typeof n.fragment?`#${function EH(e){return encodeURI(e)}(n.fragment)}`:""}`}}const bH=new Wx;function MP(e){return e.segments.map(n=>Uj(n)).join("/")}function Gw(e,n){if(!e.hasChildren())return MP(e);if(n){const r=e.children[kt]?Gw(e.children[kt],!1):"",s=[];return Object.entries(e.children).forEach(([u,d])=>{u!==kt&&s.push(`${u}:${Gw(d,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function SH(e,n){let r=[];return Object.entries(e.children).forEach(([s,u])=>{s===kt&&(r=r.concat(n(u,s)))}),Object.entries(e.children).forEach(([s,u])=>{s!==kt&&(r=r.concat(n(u,s)))}),r}(e,(s,u)=>u===kt?[Gw(e.children[kt],!1)]:[`${u}:${Gw(s,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[kt]?`${MP(e)}/${r[0]}`:`${MP(e)}/(${r.join("//")})`}}function Vj(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function PP(e){return Vj(e).replace(/%3B/gi,";")}function qx(e){return Vj(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function NP(e){return decodeURIComponent(e)}function jj(e){return NP(e.replace(/\+/g,"%20"))}function Uj(e){return`${qx(e.path)}${function CH(e){return Object.entries(e).map(([n,r])=>`;${qx(n)}=${qx(r)}`).join("")}(e.parameters)}`}const _H=/^[^\/()?;#]+/;function Kx(e){const n=e.match(_H);return n?n[0]:""}const wH=/^[^\/()?;=#]+/,AH=/^[^=?&#]+/,RH=/^[^&#]+/;class MH{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[kt]=new An(n,r)),s}parseSegment(){const n=Kx(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(n),new $w(NP(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=function DH(e){const n=e.match(wH);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const u=Kx(this.remaining);u&&(s=u,this.capture(s))}n[NP(r)]=NP(s)}parseQueryParam(n){const r=function TH(e){const n=e.match(AH);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const f=function OH(e){const n=e.match(RH);return n?n[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const u=jj(r),d=jj(s);if(n.hasOwnProperty(u)){let f=n[u];Array.isArray(f)||(f=[f],n[u]=f),f.push(d)}else n[u]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Kx(this.remaining),u=this.remaining[s.length];if("/"!==u&&")"!==u&&";"!==u)throw new Ee(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=kt);const f=this.parseChildren();r[d]=1===Object.keys(f).length?f[kt]:new An([],f),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ee(4011,!1)}}function Bj(e){return e.segments.length>0?new An([],{[kt]:e}):e}function Hj(e){const n={};for(const[s,u]of Object.entries(e.children)){const d=Hj(u);if(s===kt&&0===d.segments.length&&d.hasChildren())for(const[f,m]of Object.entries(d.children))n[f]=m;else(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function PH(e){if(1===e.numberOfChildren&&e.children[kt]){const n=e.children[kt];return new An(e.segments.concat(n.segments),n.children)}return e}(new An(e.segments,n))}function Xb(e){return e instanceof Zb}function $j(e){let n;const u=Bj(function r(d){const f={};for(const S of d.children){const C=r(S);f[S.outlet]=C}const m=new An(d.url,f);return d===e&&(n=m),m}(e.root));return n??u}function Gj(e,n,r,s){let u=e;for(;u.parent;)u=u.parent;if(0===n.length)return Qx(u,u,u,r,s);const d=function kH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wj(!0,0,e);let n=0,r=!1;const s=e.reduce((u,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return Object.entries(d.outlets).forEach(([S,C])=>{m[S]="string"==typeof C?C.split("/"):C}),[...u,{outlets:m}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===f?(d.split("/").forEach((m,S)=>{0==S&&"."===m||(0==S&&""===m?r=!0:".."===m?n++:""!=m&&u.push(m))}),u):[...u,d]},[]);return new Wj(r,n,s)}(n);if(d.toRoot())return Qx(u,u,new An([],{}),r,s);const f=function LH(e,n,r){if(e.isAbsolute)return new LP(n,!0,0);if(!r)return new LP(n,!1,NaN);if(null===r.parent)return new LP(r,!0,0);const s=kP(e.commands[0])?0:1;return function xH(e,n,r){let s=e,u=n,d=r;for(;d>u;){if(d-=u,s=s.parent,!s)throw new Ee(4005,!1);u=s.segments.length}return new LP(s,!1,u-d)}(r,r.segments.length-1+s,e.numberOfDoubleDots)}(d,u,e),m=f.processChildren?Ww(f.segmentGroup,f.index,d.commands):qj(f.segmentGroup,f.index,d.commands);return Qx(u,f.segmentGroup,m,r,s)}function kP(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zw(e){return"object"==typeof e&&null!=e&&e.outlets}function Qx(e,n,r,s,u){let f,d={};s&&Object.entries(s).forEach(([S,C])=>{d[S]=Array.isArray(C)?C.map(D=>`${D}`):`${C}`}),f=e===n?r:zj(e,n,r);const m=Bj(Hj(f));return new Zb(m,d,u)}function zj(e,n,r){const s={};return Object.entries(e.children).forEach(([u,d])=>{s[u]=d===n?r:zj(d,n,r)}),new An(e.segments,s)}class Wj{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&kP(s[0]))throw new Ee(4003,!1);const u=s.find(zw);if(u&&u!==Pj(s))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class LP{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function qj(e,n,r){if(e??=new An([],{}),0===e.segments.length&&e.hasChildren())return Ww(e,n,r);const s=function VH(e,n,r){let s=0,u=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<e.segments.length;){if(s>=r.length)return d;const f=e.segments[u],m=r[s];if(zw(m))break;const S=`${m}`,C=s<r.length-1?r[s+1]:null;if(u>0&&void 0===S)break;if(S&&C&&"object"==typeof C&&void 0===C.outlets){if(!Qj(S,C,f))return d;s+=2}else{if(!Qj(S,{},f))return d;s++}u++}return{match:!0,pathIndex:u,commandIndex:s}}(e,n,r),u=r.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){const d=new An(e.segments.slice(0,s.pathIndex),{});return d.children[kt]=new An(e.segments.slice(s.pathIndex),e.children),Ww(d,0,u)}return s.match&&0===u.length?new An(e.segments,{}):s.match&&!e.hasChildren()?Jx(e,n,r):s.match?Ww(e,0,u):Jx(e,n,r)}function Ww(e,n,r){if(0===r.length)return new An(e.segments,{});{const s=function FH(e){return zw(e[0])?e[0].outlets:{[kt]:e}}(r),u={};if(Object.keys(s).some(d=>d!==kt)&&e.children[kt]&&1===e.numberOfChildren&&0===e.children[kt].segments.length){const d=Ww(e.children[kt],n,r);return new An(e.segments,d.children)}return Object.entries(s).forEach(([d,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(u[d]=qj(e.children[d],n,f))}),Object.entries(e.children).forEach(([d,f])=>{void 0===s[d]&&(u[d]=f)}),new An(e.segments,u)}}function Jx(e,n,r){const s=e.segments.slice(0,n);let u=0;for(;u<r.length;){const d=r[u];if(zw(d)){const S=jH(d.outlets);return new An(s,S)}if(0===u&&kP(r[0])){s.push(new $w(e.segments[n].path,Kj(r[0]))),u++;continue}const f=zw(d)?d.outlets[kt]:`${d}`,m=u<r.length-1?r[u+1]:null;f&&m&&kP(m)?(s.push(new $w(f,Kj(m))),u+=2):(s.push(new $w(f,{})),u++)}return new An(s,{})}function jH(e){const n={};return Object.entries(e).forEach(([r,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(n[r]=Jx(new An([],{}),0,s))}),n}function Kj(e){const n={};return Object.entries(e).forEach(([r,s])=>n[r]=`${s}`),n}function Qj(e,n,r){return e==r.path&&Gc(n,r.parameters)}const qw="imperative";var tn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(tn||{});class zc{constructor(n,r){this.id=n,this.url=r}}class xP extends zc{constructor(n,r,s="imperative",u=null){super(n,r),this.type=tn.NavigationStart,this.navigationTrigger=s,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dd extends zc{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s,this.type=tn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var $s=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}($s||{}),FP=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(FP||{});class eE extends zc{constructor(n,r,s,u){super(n,r),this.reason=s,this.code=u,this.type=tn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tE extends zc{constructor(n,r,s,u){super(n,r),this.reason=s,this.code=u,this.type=tn.NavigationSkipped}}class VP extends zc{constructor(n,r,s,u){super(n,r),this.error=s,this.target=u,this.type=tn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jj extends zc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UH extends zc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BH extends zc{constructor(n,r,s,u,d){super(n,r),this.urlAfterRedirects=s,this.state=u,this.shouldActivate=d,this.type=tn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HH extends zc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $H extends zc{constructor(n,r,s,u){super(n,r),this.urlAfterRedirects=s,this.state=u,this.type=tn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GH{constructor(n){this.route=n,this.type=tn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zH{constructor(n){this.route=n,this.type=tn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WH{constructor(n){this.snapshot=n,this.type=tn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qH{constructor(n){this.snapshot=n,this.type=tn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KH{constructor(n){this.snapshot=n,this.type=tn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QH{constructor(n){this.snapshot=n,this.type=tn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zj{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s,this.type=tn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zx{}class Yx{constructor(n){this.url=n}}class JH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kw,this.attachRef=null}}let Kw=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const u=this.getOrCreateContext(r);u.outlet=s,this.contexts.set(r,u)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new JH,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Yj{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Xx(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=Xx(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=eF(n,this._root);return r.length<2?[]:r[r.length-2].children.map(u=>u.value).filter(u=>u!==n)}pathFromRoot(n){return eF(n,this._root).map(r=>r.value)}}function Xx(e,n){if(e===n.value)return n;for(const r of n.children){const s=Xx(e,r);if(s)return s}return null}function eF(e,n){if(e===n.value)return[n];for(const r of n.children){const s=eF(e,r);if(s.length)return s.unshift(n),s}return[]}class Au{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function nE(e){const n={};return e&&e.children.forEach(r=>n[r.value.outlet]=r),n}class Xj extends Yj{constructor(n,r){super(n),this.snapshot=r,rF(this,n)}toString(){return this.snapshot.toString()}}function eU(e){const n=function ZH(e){const d=new nF([],{},{},"",{},kt,e,null,{});return new tU("",new Au(d,[]))}(e),r=new un([new $w("",{})]),s=new un({}),u=new un({}),d=new un({}),f=new un(""),m=new rv(r,s,d,f,u,kt,e,n.root);return m.snapshot=n.root,new Xj(new Au(m,[]),n)}class rv{constructor(n,r,s,u,d,f,m,S){this.urlSubject=n,this.paramsSubject=r,this.queryParamsSubject=s,this.fragmentSubject=u,this.dataSubject=d,this.outlet=f,this.component=m,this._futureSnapshot=S,this.title=this.dataSubject?.pipe(Qt(C=>C[Hw]))??Et(void 0),this.url=n,this.params=r,this.queryParams=s,this.fragment=u,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qt(n=>Jb(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qt(n=>Jb(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tF(e,n,r="emptyOnly"){let s;const{routeConfig:u}=e;return s=null===n||"always"!==r&&""!==u?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...u?.data,...e._resolvedData}},u&&rU(u)&&(s.resolve[Hw]=u.title),s}class nF{get title(){return this.data?.[Hw]}constructor(n,r,s,u,d,f,m,S,C){this.url=n,this.params=r,this.queryParams=s,this.fragment=u,this.data=d,this.outlet=f,this.component=m,this.routeConfig=S,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jb(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jb(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tU extends Yj{constructor(n,r){super(r),this.url=n,rF(this,r)}toString(){return nU(this._root)}}function rF(e,n){n.value._routerState=e,n.children.forEach(r=>rF(e,r))}function nU(e){const n=e.children.length>0?` { ${e.children.map(nU).join(", ")} } `:"";return`${e.value}${n}`}function oF(e){if(e.snapshot){const n=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Gc(n.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),n.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Gc(n.params,r.params)||e.paramsSubject.next(r.params),function fH(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(!Gc(e[r],n[r]))return!1;return!0}(n.url,r.url)||e.urlSubject.next(r.url),Gc(n.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function iF(e,n){const r=Gc(e.params,n.params)&&function yH(e,n){return nv(e,n)&&e.every((r,s)=>Gc(r.parameters,n[s].parameters))}(e.url,n.url);return r&&!(!e.parent!=!n.parent)&&(!e.parent||iF(e.parent,n.parent))}function rU(e){return"string"==typeof e.title||null===e.title}let sF=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new Er,this.deactivateEvents=new Er,this.attachEvents=new Er,this.detachEvents=new Er,this.parentContexts=_e(Kw),this.location=_e(Ds),this.changeDetector=_e(Lm),this.environmentInjector=_e(Go),this.inputBinder=_e(jP,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:s,previousValue:u}=r.name;if(s)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Ee(4013,!1);this._activatedRoute=r;const u=this.location,f=r.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,S=new YH(r,m,u.injector);this.activated=u.createComponent(f,{index:u.length,injector:S,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275dir=To({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vu]})}return e})();class YH{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s,this.__ngOutletInjector=!0}get(n,r){return n===rv?this.route:n===Kw?this.childContexts:this.parent.get(n,r)}}const jP=new Ve("");let oU=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:s}=r,u=Ux([s.queryParams,s.params,s.data]).pipe($c(([d,f,m],S)=>(m={...d,...f,...m},0===S?Et(m):Promise.resolve(m)))).subscribe(d=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(r);const f=function Mw(e){const n=At(e);if(!n)return null;const r=new jp(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(s.component);if(f)for(const{templateName:m}of f.inputs)r.activatedComponentRef.setInput(m,d[m]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,u)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function Qw(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const u=function e$(e,n,r){return n.children.map(s=>{for(const u of r.children)if(e.shouldReuseRoute(s.value,u.value.snapshot))return Qw(e,s,u);return Qw(e,s)})}(e,n,r);return new Au(s,u)}{if(e.shouldAttach(n.value)){const d=e.retrieve(n.value);if(null!==d){const f=d.route;return f.value._futureSnapshot=n.value,f.children=n.children.map(m=>Qw(e,m)),f}}const s=function t$(e){return new rv(new un(e.url),new un(e.params),new un(e.queryParams),new un(e.fragment),new un(e.data),e.outlet,e.component,e)}(n.value),u=n.children.map(d=>Qw(e,d));return new Au(s,u)}}const iU="ngNavigationCancelingError";function sU(e,n){const{redirectTo:r,navigationBehaviorOptions:s}=Xb(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,u=aU(!1,$s.Redirect);return u.url=r,u.navigationBehaviorOptions=s,u}function aU(e,n){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[iU]=!0,r.cancellationCode=n,r}function uU(e){return!!e&&e[iU]}let cU=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275cmp=zd({type:e,selectors:[["ng-component"]],standalone:!0,features:[cs],decls:1,vars:0,template:function(s,u){1&s&&hh(0,"router-outlet")},dependencies:[sF],encapsulation:2})}return e})();function aF(e){const n=e.children&&e.children.map(aF),r=n?{...e,children:n}:{...e};return!r.component&&!r.loadComponent&&(n||r.loadChildren)&&r.outlet&&r.outlet!==kt&&(r.component=cU),r}function Wc(e){return e.outlet||kt}function Jw(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const r=n.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class c${constructor(n,r,s,u,d){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=u,this.inputBindingEnabled=d}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),oF(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const u=nE(r);n.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,u[f],s),delete u[f]}),Object.values(u).forEach(d=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const u=n.value,d=r?r.value:null;if(u===d)if(u.component){const f=s.getContext(u.outlet);f&&this.deactivateChildRoutes(n,r,f.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet),u=s&&n.value.component?s.children:r,d=nE(n);for(const f of Object.values(d))this.deactivateRouteAndItsChildren(f,u);if(s&&s.outlet){const f=s.outlet.detach(),m=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:f,route:n,contexts:m})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),u=s&&n.value.component?s.children:r,d=nE(n);for(const f of Object.values(d))this.deactivateRouteAndItsChildren(f,u);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(n,r,s){const u=nE(r);n.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],s),this.forwardEvent(new QH(d.value.snapshot))}),n.children.length&&this.forwardEvent(new qH(n.value.snapshot))}activateRoutes(n,r,s){const u=n.value,d=r?r.value:null;if(oF(u),u===d)if(u.component){const f=s.getOrCreateContext(u.outlet);this.activateChildRoutes(n,r,f.children)}else this.activateChildRoutes(n,r,s);else if(u.component){const f=s.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const m=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),oF(m.route.value),this.activateChildRoutes(n,null,f.children)}else{const m=Jw(u.snapshot);f.attachRef=null,f.route=u,f.injector=m,f.outlet&&f.outlet.activateWith(u,f.injector),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,s)}}class lU{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class UP{constructor(n,r){this.component=n,this.route=r}}function l$(e,n,r){const s=e._root;return Zw(s,n?n._root:null,r,[s.value])}function rE(e,n){const r=Symbol(),s=n.get(e,r);return s===r?"function"!=typeof e||function RE(e){return null!==zh(e)}(e)?n.get(e):e:s}function Zw(e,n,r,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=nE(n);return e.children.forEach(f=>{(function p$(e,n,r,s,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=e.value,f=n?n.value:null,m=r?r.getContext(e.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const S=function h$(e,n,r){if("function"==typeof r)return r(e,n);switch(r){case"pathParamsChange":return!nv(e.url,n.url);case"pathParamsOrQueryParamsChange":return!nv(e.url,n.url)||!Gc(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iF(e,n)||!Gc(e.queryParams,n.queryParams);default:return!iF(e,n)}}(f,d,d.routeConfig.runGuardsAndResolvers);S?u.canActivateChecks.push(new lU(s)):(d.data=f.data,d._resolvedData=f._resolvedData),Zw(e,n,d.component?m?m.children:null:r,s,u),S&&m&&m.outlet&&m.outlet.isActivated&&u.canDeactivateChecks.push(new UP(m.outlet.component,f))}else f&&Yw(n,m,u),u.canActivateChecks.push(new lU(s)),Zw(e,null,d.component?m?m.children:null:r,s,u)})(f,d[f.value.outlet],r,s.concat([f.value]),u),delete d[f.value.outlet]}),Object.entries(d).forEach(([f,m])=>Yw(m,r.getContext(f),u)),u}function Yw(e,n,r){const s=nE(e),u=e.value;Object.entries(s).forEach(([d,f])=>{Yw(f,u.component?n?n.children.getContext(d):null:n,r)}),r.canDeactivateChecks.push(new UP(u.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,u))}function Xw(e){return"function"==typeof e}function dU(e){return e instanceof AP||"EmptyError"===e?.name}const BP=Symbol("INITIAL_VALUE");function oE(){return $c(e=>Ux(e.map(n=>n.pipe(qb(1),function iH(...e){const n=DP(e);return Fn((r,s)=>{(n?Bx(e,r,n):Bx(e,r)).subscribe(s)})}(BP)))).pipe(Qt(n=>{for(const r of n)if(!0!==r){if(r===BP)return BP;if(!1===r||r instanceof Zb)return r}return!0}),wd(n=>n!==BP),qb(1)))}function pU(e){return function bE(...e){return EE(e)}(xi(n=>{if(Xb(n))throw sU(0,n)}),Qt(n=>!0===n))}class uF{constructor(n){this.segmentGroup=n||null}}class cF extends Error{constructor(n){super(),this.urlTree=n}}function iE(e){return TP(new uF(e))}class P${constructor(n,r){this.urlSerializer=n,this.urlTree=r}lineralizeSegments(n,r){let s=[],u=r.root;for(;;){if(s=s.concat(u.segments),0===u.numberOfChildren)return Et(s);if(u.numberOfChildren>1||!u.children[kt])return TP(new Ee(4e3,!1));u=u.children[kt]}}applyRedirectCommands(n,r,s){const u=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),n,s);if(r.startsWith("/"))throw new cF(u);return u}applyRedirectCreateUrlTree(n,r,s,u){const d=this.createSegmentGroup(n,r.root,s,u);return new Zb(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Object.entries(n).forEach(([u,d])=>{if("string"==typeof d&&d.startsWith(":")){const m=d.substring(1);s[u]=r[m]}else s[u]=d}),s}createSegmentGroup(n,r,s,u){const d=this.createSegments(n,r.segments,s,u);let f={};return Object.entries(r.children).forEach(([m,S])=>{f[m]=this.createSegmentGroup(n,S,s,u)}),new An(d,f)}createSegments(n,r,s,u){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,u):this.findOrReturn(d,s))}findPosParam(n,r,s){const u=s[r.path.substring(1)];if(!u)throw new Ee(4001,!1);return u}findOrReturn(n,r){let s=0;for(const u of r){if(u.path===n.path)return r.splice(s),u;s++}return n}}const lF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N$(e,n,r,s,u){const d=dF(e,n,r);return d.matched?(s=function r$(e,n){return e.providers&&!e._injector&&(e._injector=nu(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,s),function R$(e,n,r,s){const u=n.canMatch;return u&&0!==u.length?Et(u.map(f=>{const m=rE(f,e);return Ph(function S$(e){return e&&Xw(e.canMatch)}(m)?m.canMatch(n,r):$i(e,()=>m(n,r)))})).pipe(oE(),pU()):Et(!0)}(s,n,r).pipe(Qt(f=>!0===f?d:{...lF}))):Et(d)}function dF(e,n,r){if("**"===n.path)return function k$(e){return{matched:!0,parameters:e.length>0?Pj(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||r.length>0)?{...lF}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const u=(n.matcher||hH)(r,e,n);if(!u)return{...lF};const d={};Object.entries(u.posParams??{}).forEach(([m,S])=>{d[m]=S.path});const f=u.consumed.length>0?{...d,...u.consumed[u.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:r.slice(u.consumed.length),parameters:f,positionalParamSegments:u.posParams??{}}}function hU(e,n,r,s){return r.length>0&&function F$(e,n,r){return r.some(s=>HP(e,n,s)&&Wc(s)!==kt)}(e,r,s)?{segmentGroup:new An(n,x$(s,new An(r,e.children))),slicedSegments:[]}:0===r.length&&function V$(e,n,r){return r.some(s=>HP(e,n,s))}(e,r,s)?{segmentGroup:new An(e.segments,L$(e,r,s,e.children)),slicedSegments:r}:{segmentGroup:new An(e.segments,e.children),slicedSegments:r}}function L$(e,n,r,s){const u={};for(const d of r)if(HP(e,n,d)&&!s[Wc(d)]){const f=new An([],{});u[Wc(d)]=f}return{...s,...u}}function x$(e,n){const r={};r[kt]=n;for(const s of e)if(""===s.path&&Wc(s)!==kt){const u=new An([],{});r[Wc(s)]=u}return r}function HP(e,n,r){return(!(e.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}class B${}class G${constructor(n,r,s,u,d,f,m){this.injector=n,this.configLoader=r,this.rootComponentType=s,this.config=u,this.urlTree=d,this.paramsInheritanceStrategy=f,this.urlSerializer=m,this.applyRedirects=new P$(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Ee(4002,`'${n.segmentGroup}'`)}recognize(){const n=hU(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Qt(r=>{const s=new nF([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),u=new Au(s,r),d=new tU("",u),f=function NH(e,n,r=null,s=null){return Gj($j(e),n,r,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(d._root,null),{state:d,tree:f}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,kt).pipe(Qb(s=>{if(s instanceof cF)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof uF?this.noMatchError(s):s}))}inheritParamsAndData(n,r){const s=n.value,u=tF(s,r,this.paramsInheritanceStrategy);s.params=Object.freeze(u.params),s.data=Object.freeze(u.data),n.children.forEach(d=>this.inheritParamsAndData(d,s))}processSegmentGroup(n,r,s,u){return 0===s.segments.length&&s.hasChildren()?this.processChildren(n,r,s):this.processSegment(n,r,s,s.segments,u,!0).pipe(Qt(d=>d instanceof Au?[d]:[]))}processChildren(n,r,s){const u=[];for(const d of Object.keys(s.children))"primary"===d?u.unshift(d):u.push(d);return Uo(u).pipe(Kb(d=>{const f=s.children[d],m=function a$(e,n){const r=e.filter(s=>Wc(s)===n);return r.push(...e.filter(s=>Wc(s)!==n)),r}(r,d);return this.processSegmentGroup(n,m,f,d)}),function uH(e,n){return Fn(function aH(e,n,r,s,u){return(d,f)=>{let m=r,S=n,C=0;d.subscribe($t(f,D=>{const R=C++;S=m?e(S,D,R):(m=!0,D),s&&f.next(S)},u&&(()=>{m&&f.next(S),f.complete()})))}}(e,n,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),RP(null),function cH(e,n){const r=arguments.length>=2;return s=>s.pipe(e?wd((u,d)=>e(u,d,s)):zs,$x(1),r?RP(n):Oj(()=>new AP))}(),ci(d=>{if(null===d)return iE(s);const f=fU(d);return function z$(e){e.sort((n,r)=>n.value.outlet===kt?-1:r.value.outlet===kt?1:n.value.outlet.localeCompare(r.value.outlet))}(f),Et(f)}))}processSegment(n,r,s,u,d,f){return Uo(r).pipe(Kb(m=>this.processSegmentAgainstRoute(m._injector??n,r,m,s,u,d,f).pipe(Qb(S=>{if(S instanceof uF)return Et(null);throw S}))),tv(m=>!!m),Qb(m=>{if(dU(m))return function U$(e,n,r){return 0===n.length&&!e.children[r]}(s,u,d)?Et(new B$):iE(s);throw m}))}processSegmentAgainstRoute(n,r,s,u,d,f,m){return function j$(e,n,r,s){return!!(Wc(e)===s||s!==kt&&HP(n,r,e))&&dF(n,e,r).matched}(s,u,d,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,u,s,d,f):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(n,u,r,s,d,f):iE(u):iE(u)}expandSegmentAgainstRouteUsingRedirect(n,r,s,u,d,f){const{matched:m,consumedSegments:S,positionalParamSegments:C,remainingSegments:D}=dF(r,u,d);if(!m)return iE(r);u.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const R=this.applyRedirects.applyRedirectCommands(S,u.redirectTo,C);return this.applyRedirects.lineralizeSegments(u,R).pipe(ci(x=>this.processSegment(n,s,r,x.concat(D),f,!1)))}matchSegmentAgainstRoute(n,r,s,u,d){const f=N$(r,s,u,n);return"**"===s.path&&(r.children={}),f.pipe($c(m=>m.matched?this.getChildConfig(n=s._injector??n,s,u).pipe($c(({routes:S})=>{const C=s._loadedInjector??n,{consumedSegments:D,remainingSegments:R,parameters:x}=m,G=new nF(D,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function q$(e){return e.data||{}}(s),Wc(s),s.component??s._loadedComponent??null,s,function K$(e){return e.resolve||{}}(s)),{segmentGroup:J,slicedSegments:ee}=hU(r,D,R,S);if(0===ee.length&&J.hasChildren())return this.processChildren(C,S,J).pipe(Qt(ge=>null===ge?null:new Au(G,ge)));if(0===S.length&&0===ee.length)return Et(new Au(G,[]));const de=Wc(s)===d;return this.processSegment(C,S,J,ee,de?kt:d,!0).pipe(Qt(ge=>new Au(G,ge instanceof Au?[ge]:[])))})):iE(r)))}getChildConfig(n,r,s){return r.children?Et({routes:r.children,injector:n}):r.loadChildren?void 0!==r._loadedRoutes?Et({routes:r._loadedRoutes,injector:r._loadedInjector}):function T$(e,n,r,s){const u=n.canLoad;return void 0===u||0===u.length?Et(!0):Et(u.map(f=>{const m=rE(f,e);return Ph(function g$(e){return e&&Xw(e.canLoad)}(m)?m.canLoad(n,r):$i(e,()=>m(n,r)))})).pipe(oE(),pU())}(n,r,s).pipe(ci(u=>u?this.configLoader.loadChildren(n,r).pipe(xi(d=>{r._loadedRoutes=d.routes,r._loadedInjector=d.injector})):function M$(e){return TP(aU(!1,$s.GuardRejected))}())):Et({routes:[],injector:n})}}function W$(e){const n=e.value.routeConfig;return n&&""===n.path}function fU(e){const n=[],r=new Set;for(const s of e){if(!W$(s)){n.push(s);continue}const u=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...s.children),r.add(u)):n.push(s)}for(const s of r){const u=fU(s.children);n.push(new Au(s.value,u))}return n.filter(s=>!r.has(s))}function gU(e){const n=e.children.map(r=>gU(r)).flat();return[e,...n]}function pF(e){return $c(n=>{const r=e(n);return r?Uo(r).pipe(Qt(()=>n)):Et(n)})}let mU=(()=>{class e{buildTitle(r){let s,u=r.root;for(;void 0!==u;)s=this.getResolvedTitleForRoute(u)??s,u=u.children.find(d=>d.outlet===kt);return s}getResolvedTitleForRoute(r){return r.data[Hw]}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(e3),providedIn:"root"})}return e})(),e3=(()=>{class e extends mU{constructor(r){super(),this.title=r}updateTitle(r){const s=this.buildTitle(r);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||e)(at(o2))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sE=new Ve("",{providedIn:"root",factory:()=>({})}),aE=new Ve("");let hF=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e(X_)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Et(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=Ph(r.loadComponent()).pipe(Qt(vU),xi(d=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=d}),Gx(()=>{this.componentLoaders.delete(r)})),u=new Rj(s,()=>new di).pipe(Hx());return this.componentLoaders.set(r,u),u}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Et({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=function t3(e,n,r,s){return Ph(e.loadChildren()).pipe(Qt(vU),ci(u=>u instanceof TS||Array.isArray(u)?Et(u):Uo(n.compileModuleAsync(u))),Qt(u=>{s&&s(e);let d,f,m=!1;return Array.isArray(u)?(f=u,!0):(d=u.create(r).injector,f=d.get(aE,[],{optional:!0,self:!0}).flat()),{routes:f.map(aF),injector:d}}))}(s,this.compiler,r,this.onLoadEndListener).pipe(Gx(()=>{this.childrenLoaders.delete(s)})),f=new Rj(d,()=>new di).pipe(Hx());return this.childrenLoaders.set(s,f),f}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vU(e){return function n3(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let fF=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(r3),providedIn:"root"})}return e})(),r3=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yU=new Ve(""),SU=new Ve("");function o3(e,n,r){const s=e.get(SU),u=e.get(Pi);return e.get(Yt).runOutsideAngular(()=>{if(!u.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,Promise.resolve();let d;const f=new Promise(C=>{d=C}),m=u.startViewTransition(()=>(d(),function i3(e){return new Promise(n=>{vS(n,{injector:e})})}(e))),{onViewTransitionCreated:S}=s;return S&&$i(e,()=>S({transition:m,from:n,to:r})),f})}let $P=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new di,this.transitionAbortSubject=new di,this.configLoader=_e(hF),this.environmentInjector=_e(Go),this.urlSerializer=_e(Yb),this.rootContexts=_e(Kw),this.location=_e(Ah),this.inputBindingEnabled=null!==_e(jP,{optional:!0}),this.titleStrategy=_e(mU),this.options=_e(sE,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_e(fF),this.createViewTransition=_e(yU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new zH(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new GH(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:s})}setupNavigations(r,s,u){return this.transitions=new un({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qw,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wd(d=>0!==d.id),Qt(d=>({...d,extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),$c(d=>{let f=!1,m=!1;return Et(d).pipe($c(S=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",$s.SupersededByNewNavigation),Hc;this.currentTransition=d,this.currentNavigation={id:S.id,initialUrl:S.rawUrl,extractedUrl:S.extractedUrl,trigger:S.source,extras:S.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const C=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!C&&"reload"!==(S.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const R="";return this.events.next(new tE(S.id,this.urlSerializer.serialize(S.rawUrl),R,FP.IgnoredSameUrlNavigation)),S.resolve(null),Hc}if(this.urlHandlingStrategy.shouldProcessUrl(S.rawUrl))return Et(S).pipe($c(R=>{const x=this.transitions?.getValue();return this.events.next(new xP(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),x!==this.transitions?.getValue()?Hc:Promise.resolve(R)}),function Q$(e,n,r,s,u,d){return ci(f=>function H$(e,n,r,s,u,d,f="emptyOnly"){return new G$(e,n,r,s,u,f,d).recognize()}(e,n,r,s,f.extractedUrl,u,d).pipe(Qt(({state:m,tree:S})=>({...f,targetSnapshot:m,urlAfterRedirects:S}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xi(R=>{d.targetSnapshot=R.targetSnapshot,d.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const x=new Jj(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(x)}));if(C&&this.urlHandlingStrategy.shouldProcessUrl(S.currentRawUrl)){const{id:R,extractedUrl:x,source:G,restoredState:J,extras:ee}=S,de=new xP(R,this.urlSerializer.serialize(x),G,J);this.events.next(de);const ge=eU(this.rootComponentType).snapshot;return this.currentTransition=d={...S,targetSnapshot:ge,urlAfterRedirects:x,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=x,Et(d)}{const R="";return this.events.next(new tE(S.id,this.urlSerializer.serialize(S.extractedUrl),R,FP.IgnoredByUrlHandlingStrategy)),S.resolve(null),Hc}}),xi(S=>{const C=new UH(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(C)}),Qt(S=>(this.currentTransition=d={...S,guards:l$(S.targetSnapshot,S.currentSnapshot,this.rootContexts)},d)),function b$(e,n){return ci(r=>{const{targetSnapshot:s,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:f}}=r;return 0===f.length&&0===d.length?Et({...r,guardsResult:!0}):function E$(e,n,r,s){return Uo(e).pipe(ci(u=>function A$(e,n,r,s,u){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?Et(d.map(m=>{const S=Jw(n)??u,C=rE(m,S);return Ph(function y$(e){return e&&Xw(e.canDeactivate)}(C)?C.canDeactivate(e,n,r,s):$i(S,()=>C(e,n,r,s))).pipe(tv())})).pipe(oE()):Et(!0)}(u.component,u.route,r,n,s)),tv(u=>!0!==u,!0))}(f,s,u,e).pipe(ci(m=>m&&function f$(e){return"boolean"==typeof e}(m)?function C$(e,n,r,s){return Uo(n).pipe(Kb(u=>Bx(function _$(e,n){return null!==e&&n&&n(new WH(e)),Et(!0)}(u.route.parent,s),function I$(e,n){return null!==e&&n&&n(new KH(e)),Et(!0)}(u.route,s),function D$(e,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(f=>function d$(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(f)).filter(f=>null!==f).map(f=>Tj(()=>Et(f.guards.map(S=>{const C=Jw(f.node)??r,D=rE(S,C);return Ph(function v$(e){return e&&Xw(e.canActivateChild)}(D)?D.canActivateChild(s,e):$i(C,()=>D(s,e))).pipe(tv())})).pipe(oE())));return Et(d).pipe(oE())}(e,u.path,r),function w$(e,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return Et(!0);const u=s.map(d=>Tj(()=>{const f=Jw(n)??r,m=rE(d,f);return Ph(function m$(e){return e&&Xw(e.canActivate)}(m)?m.canActivate(n,e):$i(f,()=>m(n,e))).pipe(tv())}));return Et(u).pipe(oE())}(e,u.route,r))),tv(u=>!0!==u,!0))}(s,d,e,n):Et(m)),Qt(m=>({...r,guardsResult:m})))})}(this.environmentInjector,S=>this.events.next(S)),xi(S=>{if(d.guardsResult=S.guardsResult,Xb(S.guardsResult))throw sU(0,S.guardsResult);const C=new BH(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot,!!S.guardsResult);this.events.next(C)}),wd(S=>!!S.guardsResult||(this.cancelNavigationTransition(S,"",$s.GuardRejected),!1)),pF(S=>{if(S.guards.canActivateChecks.length)return Et(S).pipe(xi(C=>{const D=new HH(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}),$c(C=>{let D=!1;return Et(C).pipe(function J$(e,n){return ci(r=>{const{targetSnapshot:s,guards:{canActivateChecks:u}}=r;if(!u.length)return Et(r);const d=new Set(u.map(S=>S.route)),f=new Set;for(const S of d)if(!f.has(S))for(const C of gU(S))f.add(C);let m=0;return Uo(f).pipe(Kb(S=>d.has(S)?function Z$(e,n,r,s){const u=e.routeConfig,d=e._resolve;return void 0!==u?.title&&!rU(u)&&(d[Hw]=u.title),function Y$(e,n,r,s){const u=zx(e);if(0===u.length)return Et({});const d={};return Uo(u).pipe(ci(f=>function X$(e,n,r,s){const u=Jw(n)??s,d=rE(e,u);return Ph(d.resolve?d.resolve(n,r):$i(u,()=>d(n,r)))}(e[f],n,r,s).pipe(tv(),xi(m=>{d[f]=m}))),$x(1),function lH(e){return Qt(()=>e)}(d),Qb(f=>dU(f)?Hc:TP(f)))}(d,e,n,s).pipe(Qt(f=>(e._resolvedData=f,e.data=tF(e,e.parent,r).resolve,null)))}(S,s,e,n):(S.data=tF(S,S.parent,e).resolve,Et(void 0))),xi(()=>m++),$x(1),ci(S=>m===f.size?Et(r):Hc))})}(this.paramsInheritanceStrategy,this.environmentInjector),xi({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(C,"",$s.NoDataFromResolver)}}))}),xi(C=>{const D=new $H(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}))}),pF(S=>{const C=D=>{const R=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(D.routeConfig).pipe(xi(x=>{D.component=x}),Qt(()=>{})));for(const x of D.children)R.push(...C(x));return R};return Ux(C(S.targetSnapshot.root)).pipe(RP(null),qb(1))}),pF(()=>this.afterPreactivation()),$c(()=>{const{currentSnapshot:S,targetSnapshot:C}=d,D=this.createViewTransition?.(this.environmentInjector,S.root,C.root);return D?Uo(D).pipe(Qt(()=>d)):Et(d)}),Qt(S=>{const C=function XH(e,n,r){const s=Qw(e,n._root,r?r._root:void 0);return new Xj(s,n)}(r.routeReuseStrategy,S.targetSnapshot,S.currentRouterState);return this.currentTransition=d={...S,targetRouterState:C},this.currentNavigation.targetRouterState=C,d}),xi(()=>{this.events.next(new Zx)}),((e,n,r,s)=>Qt(u=>(new c$(n,u.targetRouterState,u.currentRouterState,r,s).activate(e),u)))(this.rootContexts,r.routeReuseStrategy,S=>this.events.next(S),this.inputBindingEnabled),qb(1),xi({next:S=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dd(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects))),this.titleStrategy?.updateTitle(S.targetRouterState.snapshot),S.resolve(!0)},complete:()=>{f=!0}}),function dH(e){return Fn((n,r)=>{Id(e).subscribe($t(r,()=>r.complete(),Uh)),!r.closed&&n.subscribe(r)})}(this.transitionAbortSubject.pipe(xi(S=>{throw S}))),Gx(()=>{!f&&!m&&this.cancelNavigationTransition(d,"",$s.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qb(S=>{if(m=!0,uU(S))this.events.next(new eE(d.id,this.urlSerializer.serialize(d.extractedUrl),S.message,S.cancellationCode)),function n$(e){return uU(e)&&Xb(e.url)}(S)?this.events.next(new Yx(S.url)):d.resolve(!1);else{this.events.next(new VP(d.id,this.urlSerializer.serialize(d.extractedUrl),S,d.targetSnapshot??void 0));try{d.resolve(r.errorHandler(S))}catch(C){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(C)}}return Hc}))}))}cancelNavigationTransition(r,s,u){const d=new eE(r.id,this.urlSerializer.serialize(r.extractedUrl),s,u);this.events.next(d),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function s3(e){return e!==qw}let a3=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(c3),providedIn:"root"})}return e})();class u3{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}let c3=(()=>{class e extends u3{static#e=this.\u0275fac=(()=>{let r;return function(u){return(r||(r=Ba(e)))(u||e)}})();static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bU=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:()=>_e(l3),providedIn:"root"})}return e})(),l3=(()=>{class e extends bU{constructor(){super(...arguments),this.location=_e(Ah),this.urlSerializer=_e(Yb),this.options=_e(sE,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_e(fF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zb,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eU(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(s=>{"popstate"===s.type&&r(s.url,s.state)})}handleRouterEvent(r,s){if(r instanceof xP)this.stateMemento=this.createStateMemento();else if(r instanceof tE)this.rawUrlTree=s.initialUrl;else if(r instanceof Jj){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(u,s)}}else r instanceof Zx?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):r instanceof eE&&(r.code===$s.GuardRejected||r.code===$s.NoDataFromResolver)?this.restoreHistory(s):r instanceof VP?this.restoreHistory(s,!0):r instanceof Dd&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,s){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||s.extras.replaceUrl){const f={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(u,"",f)}else{const d={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(u,"",d)}}restoreHistory(r,s=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===r.finalUrl&&0===d&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}static#e=this.\u0275fac=(()=>{let r;return function(u){return(r||(r=Ba(e)))(u||e)}})();static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eD=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(eD||{});function EU(e,n){e.events.pipe(wd(r=>r instanceof Dd||r instanceof eE||r instanceof VP||r instanceof tE),Qt(r=>r instanceof Dd||r instanceof tE?eD.COMPLETE:r instanceof eE&&(r.code===$s.Redirect||r.code===$s.SupersededByNewNavigation)?eD.REDIRECTING:eD.FAILED),wd(r=>r!==eD.REDIRECTING),qb(1)).subscribe(()=>{n()})}function d3(e){throw e}const p3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _a=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_e(iM),this.stateManager=_e(bU),this.options=_e(sE,{optional:!0})||{},this.pendingTasks=_e(gc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_e($P),this.urlSerializer=_e(Yb),this.location=_e(Ah),this.urlHandlingStrategy=_e(fF),this._events=new di,this.errorHandler=this.options.errorHandler||d3,this.navigated=!1,this.routeReuseStrategy=_e(a3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_e(aE,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_e(jP,{optional:!0}),this.eventsSubscription=new Tn,this.isNgZoneEnabled=_e(Yt)instanceof Yt&&Yt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(s=>{try{const u=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(null!==u&&null!==d)if(this.stateManager.handleRouterEvent(s,d),s instanceof eE&&s.code!==$s.Redirect&&s.code!==$s.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Dd)this.navigated=!0;else if(s instanceof Yx){const f=this.urlHandlingStrategy.merge(s.url,u.currentRawUrl),m={info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s3(u.source)};this.scheduleNavigation(f,qw,null,m,{resolve:u.resolve,reject:u.reject,promise:u.promise})}(function g3(e){return!(e instanceof Zx||e instanceof Yx)})(s)&&this._events.next(s)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qw,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",s)},0)})}navigateToSyncWithBrowser(r,s,u){const d={replaceUrl:!0},f=u?.navigationId?u:null;if(u){const S={...u};delete S.navigationId,delete S.\u0275routerPageId,0!==Object.keys(S).length&&(d.state=S)}const m=this.parseUrl(r);this.scheduleNavigation(m,s,f,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(aF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){const{relativeTo:u,queryParams:d,fragment:f,queryParamsHandling:m,preserveFragment:S}=s,C=S?this.currentUrlTree.fragment:f;let R,D=null;switch(m){case"merge":D={...this.currentUrlTree.queryParams,...d};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=d||null}null!==D&&(D=this.removeEmptyProps(D));try{R=$j(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),R=this.currentUrlTree.root}return Gj(R,r,D,C??null)}navigateByUrl(r,s={skipLocationChange:!1}){const u=Xb(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,qw,null,s)}navigate(r,s={skipLocationChange:!1}){return function f3(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,s){let u;if(u=!0===s?{...p3}:!1===s?{...h3}:s,Xb(r))return kj(this.currentUrlTree,r,u);const d=this.parseUrl(r);return kj(this.currentUrlTree,d,u)}removeEmptyProps(r){return Object.entries(r).reduce((s,[u,d])=>(null!=d&&(s[u]=d),s),{})}scheduleNavigation(r,s,u,d,f){if(this.disposed)return Promise.resolve(!1);let m,S,C;f?(m=f.resolve,S=f.reject,C=f.promise):C=new Promise((R,x)=>{m=R,S=x});const D=this.pendingTasks.add();return EU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:d,resolve:m,reject:S,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class CU{}let y3=(()=>{class e{constructor(r,s,u,d,f){this.router=r,this.injector=u,this.preloadingStrategy=d,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(wd(r=>r instanceof Dd),Kb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const u=[];for(const d of s){d.providers&&!d._injector&&(d._injector=nu(d.providers,r,`Route: ${d.path}`));const f=d._injector??r,m=d._loadedInjector??f;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&u.push(this.preloadConfig(f,d)),(d.children||d._loadedRoutes)&&u.push(this.processRoutes(m,d.children??d._loadedRoutes))}return Uo(u).pipe(Bw())}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>{let u;u=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(r,s):Et(null);const d=u.pipe(ci(f=>null===f?Et(void 0):(s._loadedRoutes=f.routes,s._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));return s.loadComponent&&!s._loadedComponent?Uo([d,this.loader.loadComponent(s)]).pipe(Bw()):d})}static#e=this.\u0275fac=function(s){return new(s||e)(at(_a),at(X_),at(Go),at(CU),at(hF))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mF=new Ve("");let IU=(()=>{class e{constructor(r,s,u,d,f={}){this.urlSerializer=r,this.transitions=s,this.viewportScroller=u,this.zone=d,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration||="disabled",f.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Dd?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof tE&&r.code===FP.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Zj&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zj(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){!function uC(){throw new Error("invalid")}()};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function qc(e,n){return{\u0275kind:e,\u0275providers:n}}function wU(){const e=_e(Po);return n=>{const r=e.get(gu);if(n!==r.components[0])return;const s=e.get(_a),u=e.get(DU);1===e.get(vF)&&s.initialNavigation(),e.get(AU,null,Lt.Optional)?.setUpPreloading(),e.get(mF,null,Lt.Optional)?.init(),s.resetRootComponentType(r.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const DU=new Ve("",{factory:()=>new di}),vF=new Ve("",{providedIn:"root",factory:()=>1}),AU=new Ve("");function C3(e){return qc(0,[{provide:AU,useExisting:y3},{provide:CU,useExisting:e}])}function _3(e){return qc(9,[{provide:yU,useValue:o3},{provide:SU,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const TU=new Ve("ROUTER_FORROOT_GUARD"),w3=[Ah,{provide:Yb,useClass:Wx},_a,Kw,{provide:rv,useFactory:function _U(e){return e.routerState.root},deps:[_a]},hF,[]];let RU=(()=>{class e{constructor(r){}static forRoot(r,s){return{ngModule:e,providers:[w3,[],{provide:aE,multi:!0,useValue:r},{provide:TU,useFactory:R3,deps:[[_a,new nl,new ef]]},{provide:sE,useValue:s||{}},s?.useHash?{provide:bd,useClass:dx}:{provide:bd,useClass:kw},{provide:mF,useFactory:()=>{const e=_e(rB),n=_e(Yt),r=_e(sE),s=_e($P),u=_e(Yb);return r.scrollOffset&&e.setOffset(r.scrollOffset),new IU(u,s,e,n,r)}},s?.preloadingStrategy?C3(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?O3(s):[],s?.bindToComponentInputs?qc(8,[oU,{provide:jP,useExisting:oU}]).\u0275providers:[],s?.enableViewTransitions?_3().\u0275providers:[],[{provide:OU,useFactory:wU},{provide:pb,multi:!0,useExisting:OU}]]}}static forChild(r){return{ngModule:e,providers:[{provide:aE,multi:!0,useValue:r}]}}static#e=this.\u0275fac=function(s){return new(s||e)(at(TU,8))};static#t=this.\u0275mod=Lu({type:e});static#n=this.\u0275inj=Kn({})}return e})();function R3(e){return"guarded"}function O3(e){return["disabled"===e.initialNavigation?qc(3,[{provide:J_,multi:!0,useFactory:()=>{const n=_e(_a);return()=>{n.setUpLocationChangeListener()}}},{provide:vF,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?qc(2,[{provide:vF,useValue:0},{provide:J_,multi:!0,deps:[Po],useFactory:n=>{const r=n.get(lx,Promise.resolve());return()=>r.then(()=>new Promise(s=>{const u=n.get(_a),d=n.get(DU);EU(u,()=>{s(!0)}),n.get($P).afterPreactivation=()=>(s(!0),d.closed?Et(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const OU=new Ve("");class yF{}class Ad{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(r=>{const s=r.indexOf(":");if(s>0){const u=r.slice(0,s),d=u.toLowerCase(),f=r.slice(s+1).trim();this.maybeSetNormalizedName(u,d),this.headers.has(d)?this.headers.get(d).push(f):this.headers.set(d,[f])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((r,s)=>{this.setHeaderEntries(s,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([r,s])=>{this.setHeaderEntries(r,s)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ad?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new Ad;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Ad?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,r);const u=("a"===n.op?this.headers.get(r):void 0)||[];u.push(...s),this.headers.set(r,u);break;case"d":const d=n.value;if(d){let f=this.headers.get(r);if(!f)return;f=f.filter(m=>-1===d.indexOf(m)),0===f.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,f)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(n,r){const s=(Array.isArray(r)?r:[r]).map(d=>d.toString()),u=n.toLowerCase();this.headers.set(u,s),this.maybeSetNormalizedName(n,u)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class P3{encodeKey(n){return MU(n)}encodeValue(n){return MU(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const k3=/%(\d[a-f0-9])/gi,L3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MU(e){return encodeURIComponent(e).replace(k3,(n,r)=>L3[r]??n)}function GP(e){return`${e}`}class Nh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new P3,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function N3(e,n){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(u=>{const d=u.indexOf("="),[f,m]=-1==d?[n.decodeKey(u),""]:[n.decodeKey(u.slice(0,d)),n.decodeValue(u.slice(d+1))],S=r.get(f)||[];S.push(m),r.set(f,S)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const s=n.fromObject[r],u=Array.isArray(s)?s.map(GP):[GP(s)];this.map.set(r,u)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(s=>{const u=n[s];Array.isArray(u)?u.forEach(d=>{r.push({param:s,value:d,op:"a"})}):r.push({param:s,value:u,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(s=>r+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new Nh({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(GP(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const u=s.indexOf(GP(n.value));-1!==u&&s.splice(u,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class x3{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function PU(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function NU(e){return typeof Blob<"u"&&e instanceof Blob}function kU(e){return typeof FormData<"u"&&e instanceof FormData}class tD{constructor(n,r,s,u){let d;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function F3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==s?s:null,d=u):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params),this.transferCache=d.transferCache),this.headers??=new Ad,this.context??=new x3,this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=r;else{const m=r.indexOf("?");this.urlWithParams=r+(-1===m?"?":m<r.length-1?"&":"")+f}}else this.params=new Nh,this.urlWithParams=r}serializeBody(){return null===this.body?null:"string"==typeof this.body||PU(this.body)||NU(this.body)||kU(this.body)||function V3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kU(this.body)?null:NU(this.body)?this.body.type||null:PU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const r=n.method||this.method,s=n.url||this.url,u=n.responseType||this.responseType,d=n.transferCache??this.transferCache,f=void 0!==n.body?n.body:this.body,m=n.withCredentials??this.withCredentials,S=n.reportProgress??this.reportProgress;let C=n.headers||this.headers,D=n.params||this.params;const R=n.context??this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((x,G)=>x.set(G,n.setHeaders[G]),C)),n.setParams&&(D=Object.keys(n.setParams).reduce((x,G)=>x.set(G,n.setParams[G]),D)),new tD(r,s,f,{params:D,headers:C,context:R,reportProgress:S,responseType:u,withCredentials:m,transferCache:d})}}var bF=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(bF||{});class EF{constructor(n,r=xU.Ok,s="OK"){this.headers=n.headers||new Ad,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class nD extends EF{constructor(n={}){super(n),this.type=bF.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new nD({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}var xU=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(xU||{});function CF(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let FU=(()=>{class e{constructor(r){this.handler=r}request(r,s,u={}){let d;if(r instanceof tD)d=r;else{let S,C;S=u.headers instanceof Ad?u.headers:new Ad(u.headers),u.params&&(C=u.params instanceof Nh?u.params:new Nh({fromObject:u.params})),d=new tD(r,s,void 0!==u.body?u.body:null,{headers:S,context:u.context,params:C,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials,transferCache:u.transferCache})}const f=Et(d).pipe(Kb(S=>this.handler.handle(S)));if(r instanceof tD||"events"===u.observe)return f;const m=f.pipe(wd(S=>S instanceof nD));switch(u.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return m.pipe(Qt(S=>{if(null!==S.body&&!(S.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return S.body}));case"blob":return m.pipe(Qt(S=>{if(null!==S.body&&!(S.body instanceof Blob))throw new Error("Response is not a Blob.");return S.body}));case"text":return m.pipe(Qt(S=>{if(null!==S.body&&"string"!=typeof S.body)throw new Error("Response is not a string.");return S.body}));default:return m.pipe(Qt(S=>S.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(r,s={}){return this.request("DELETE",r,s)}get(r,s={}){return this.request("GET",r,s)}head(r,s={}){return this.request("HEAD",r,s)}jsonp(r,s){return this.request("JSONP",r,{params:(new Nh).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,s={}){return this.request("OPTIONS",r,s)}patch(r,s,u={}){return this.request("PATCH",r,CF(u,s))}post(r,s,u={}){return this.request("POST",r,CF(u,s))}put(r,s,u={}){return this.request("PUT",r,CF(u,s))}static#e=this.\u0275fac=function(s){return new(s||e)(at(yF))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),sG=(()=>{class e{constructor(r,s,u){this.httpClient=r,this.document=s,this.router=u,this.authEndpoint="https://spiral-agent.com/api/createMeeting",this.csrfCookieEndpoint="https://spiral-agent.com/api/sanctum/csrf-cookie",this.inSession=!1,this.config={videoSDKJWT:"",sessionName:"",userName:"",sessionPasscode:"123"},this.role=0}ngOnInit(){this.checkScreenSharingSupport()}checkScreenSharingSupport(){"getDisplayMedia"in navigator.mediaDevices?console.log("Screen sharing is supported in this browser."):console.error("Screen sharing is not supported in this browser.")}getCookie(r){const s=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return s?decodeURIComponent(s[1]):null}getCsrfToken(){return this.httpClient.get(this.csrfCookieEndpoint,{withCredentials:!0,responseType:"text"})}getVideoSDKJWT(){this.sessionContainer=this.document.getElementById("sessionContainer"),this.inSession=!0,this.getCsrfToken().subscribe({next:()=>{const r=this.getCookie("XSRF-TOKEN");r?this.httpClient.post(this.authEndpoint,{role:this.role},{withCredentials:!0,headers:{"Content-Type":"application/json","X-XSRF-TOKEN":r}}).subscribe({next:s=>{s.signature?(console.log(s.signature),this.config.videoSDKJWT=s.signature,this.config.sessionName=s.sessionName,this.config.userName=s.userName):console.error("Invalid response",s)},error:s=>{console.error("Error fetching JWT",s)}}):console.error("CSRF token not found in cookies")},error:r=>{console.error("Error fetching CSRF token",r)}})}joinSession(){this.getVideoSDKJWT(),this.router.navigate(["/session",{config:this.config}])}static#e=this.\u0275fac=function(s){return new(s||e)(et(FU),et(Pi),et(_a))};static#t=this.\u0275cmp=zd({type:e,selectors:[["app-join"]],decls:8,vars:0,consts:[["id","join-flow"],[3,"click"]],template:function(s,u){1&s&&(xo(0,"main")(1,"div",0)(2,"h1"),Ls(3,"Zoom Video SDK Sample Angular"),Ti(),xo(4,"p"),Ls(5,"User interface offered by the Video SDK UI Toolkit"),Ti(),xo(6,"button",1),lu("click",function(){return u.joinSession()}),Ls(7,"Join Session"),Ti()()())},styles:["#join-flow[_ngcontent-%COMP%]{text-align:center;margin-top:50px}"]})}return e})();var aG=Td(42),uG=Td.n(aG);const cG=[{path:"",component:sG},{path:"session",component:(()=>{class e{constructor(r){this.route=r}ngOnInit(){this.route.params.subscribe(r=>{this.userToken=r.config.videoSDKJW,this.userName=r.config.userName,this.sessionName=r.config.sessionName}),this.startVideoSession()}startVideoSession(){this.client=uG().createClient(),this.client.init("en-US"),this.client.join(this.sessionName,this.userName,this.userToken).then(()=>{console.log("User joined the meeting");const r=document.getElementById("localVideo");this.client.startVideo(),this.client.on("stream-added",s=>{const u=s.stream;"local"===u.getType()&&u.play(r)})}).catch(r=>{console.error("Error joining meeting:",r)})}static#e=this.\u0275fac=function(s){return new(s||e)(et(rv))};static#t=this.\u0275cmp=zd({type:e,selectors:[["app-session"]],decls:20,vars:0,consts:[[1,"video-container"],["id","localVideo",1,"local-video"],[1,"user-info"],[1,"empty-space"],[1,"controls"],[1,"control-button"]],template:function(s,u){1&s&&(xo(0,"main")(1,"div",0),hh(2,"div",1),xo(3,"div",2)(4,"p"),Ls(5,"testUser"),Ti()()(),hh(6,"div",3),xo(7,"div",4)(8,"button",5),Ls(9,"Microphone"),Ti(),xo(10,"button",5),Ls(11,"Video"),Ti(),xo(12,"button",5),Ls(13,"Participants"),Ti(),xo(14,"button",5),Ls(15,"Chat"),Ti(),xo(16,"button",5),Ls(17,"Settings"),Ti(),xo(18,"button",5),Ls(19,"Share"),Ti()()())},styles:[".video-container[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.local-video[_ngcontent-%COMP%]{width:100%;height:200px;background-color:#000}.user-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;color:#fff}.empty-space[_ngcontent-%COMP%]{flex-grow:1;background-color:#e0e0e0}.controls[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#007bff;padding:10px 0}.control-button[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer}.control-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return e})()}];let lG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Lu({type:e});static#n=this.\u0275inj=Kn({imports:[RU.forRoot(cG),RU]})}return e})(),dG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275cmp=zd({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(s,u){1&s&&hh(0,"router-outlet")},dependencies:[sF],styles:["main[_ngcontent-%COMP%]{width:70%;margin:auto;text-align:center}main[_ngcontent-%COMP%]   #join-flow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;background-color:#2d8cff;color:#fff;text-decoration:none;padding:10px 40px;display:inline-block;border-radius:10px;cursor:pointer;border:none;outline:none}main[_ngcontent-%COMP%]   #join-flow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2681f2}"]})}return e})(),pG=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=Lu({type:e,bootstrap:[dG]});static#n=this.\u0275inj=Kn({imports:[r2,lG]})}return e})();t2().bootstrapModule(pG).catch(e=>console.error(e))},42:function(Ao,Lh,Td){Ao=Td.nmd(Ao);var Oe=Td(293).default;!function($e){"use strict";function Kc(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,a)}return o}function Ft(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?Kc(Object(o),!0).forEach(function(a){Gs(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Kc(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function Vi(t){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(t)}function Dr(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Bo(t,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,qP(a.key),a)}}function Xe(t,i,o){return i&&Bo(t.prototype,i),o&&Bo(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gs(t,i,o){return(i=qP(i))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}function Qc(t,i){if(null==t)return{};var o,a,c=function(p,h){if(null==p)return{};var g,v,y={},b=Object.keys(p);for(v=0;v<b.length;v++)h.indexOf(g=b[v])>=0||(y[g]=p[g]);return y}(t,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i.indexOf(o=l[a])>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(c[o]=t[o])}return c}function qP(t){var i=function(o,a){if("object"!=typeof o||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var l=c.call(o,"string");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(t);return"symbol"==typeof i?i:String(i)}var uE=function(t,i){return(uE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])})(t,i)};function io(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}uE(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}var xh=function(){return xh=Object.assign||function(t){for(var i,o=1,a=arguments.length;o<a;o++)for(var c in i=arguments[o])Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);return t},xh.apply(this,arguments)};function cE(t,i){var o,a,c,l,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return l={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function h(g){return function(v){return function(y){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,y[0]&&(p=0)),p;)try{if(o=1,a&&(c=2&y[0]?a.return:y[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,y[1])).done)return c;switch(a=0,c&&(y=[2&y[0],c.value]),y[0]){case 0:case 1:c=y;break;case 4:return p.label++,{value:y[1],done:!1};case 5:p.label++,a=y[1],y=[0];continue;case 7:y=p.ops.pop(),p.trys.pop();continue;default:if(!((c=(c=p.trys).length>0&&c[c.length-1])||6!==y[0]&&2!==y[0])){p=0;continue}if(3===y[0]&&(!c||y[1]>c[0]&&y[1]<c[3])){p.label=y[1];break}if(6===y[0]&&p.label<c[1]){p.label=c[1],c=y;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(y);break}c[2]&&p.ops.pop(),p.trys.pop();continue}y=i.call(t,p)}catch(b){y=[6,b],a=0}finally{o=c=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([g,v])}}}function Rd(t){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&t[i],a=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t,i){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var a,c,l=o.call(t),p=[];try{for(;(void 0===i||i-- >0)&&!(a=l.next()).done;)p.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(c)throw c.error}}return p}function ji(t,i,o){if(o||2===arguments.length)for(var a,c=0,l=i.length;c<l;c++)!a&&c in i||(a||(a=Array.prototype.slice.call(i,0,c)),a[c]=i[c]);return t.concat(a||Array.prototype.slice.call(i))}function Jc(t){return this instanceof Jc?(this.v=t,this):new Jc(t)}function Kt(t){return"function"==typeof t}function Od(t){var i=t(function(o){Error.call(o),o.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var sv=Od(function(t){return function(i){t(this),this.message=i?i.length+" errors occurred during unsubscription:\n"+i.map(function(o,a){return a+1+") "+o.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=i}});function Zc(t,i){if(t){var o=t.indexOf(i);0<=o&&t.splice(o,1)}}var wa=function(){function t(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var i;return t.prototype.unsubscribe=function(){var o,a,c,l,p;if(!this.closed){this.closed=!0;var h=this._parentage;if(h)if(this._parentage=null,Array.isArray(h))try{for(var g=Rd(h),v=g.next();!v.done;v=g.next())v.value.remove(this)}catch(_){o={error:_}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}else h.remove(this);var y=this.initialTeardown;if(Kt(y))try{y()}catch(_){p=_ instanceof sv?_.errors:[_]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var E=Rd(b),I=E.next();!I.done;I=E.next()){var w=I.value;try{KP(w)}catch(_){p=p??[],_ instanceof sv?p=ji(ji([],li(p)),li(_.errors)):p.push(_)}}}catch(_){c={error:_}}finally{try{I&&!I.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}}if(p)throw new sv(p)}},t.prototype.add=function(o){var a;if(o&&o!==this)if(this.closed)KP(o);else{if(o instanceof t){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=null!==(a=this._finalizers)&&void 0!==a?a:[]).push(o)}},t.prototype._hasParent=function(o){var a=this._parentage;return a===o||Array.isArray(a)&&a.includes(o)},t.prototype._addParent=function(o){var a=this._parentage;this._parentage=Array.isArray(a)?(a.push(o),a):a?[a,o]:o},t.prototype._removeParent=function(o){var a=this._parentage;a===o?this._parentage=null:Array.isArray(a)&&Zc(a,o)},t.prototype.remove=function(o){var a=this._finalizers;a&&Zc(a,o),o instanceof t&&o._removeParent(this)},t.EMPTY=((i=new t).closed=!0,i),t}(),Yc=wa.EMPTY;function lE(t){return t instanceof wa||t&&"closed"in t&&Kt(t.remove)&&Kt(t.add)&&Kt(t.unsubscribe)}function KP(t){Kt(t)?t():t.unsubscribe()}var oD={setTimeout:function(t,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=oD.delegate;return c?.setTimeout?c.setTimeout.apply(c,ji([t,i],li(o))):setTimeout.apply(void 0,ji([t,i],li(o)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function iD(t){oD.setTimeout(function(){throw t})}function av(){}function Fh(t){t()}var uv=function(t){function i(o){var a=t.call(this)||this;return a.isStopped=!1,o?(a.destination=o,lE(o)&&o.add(a)):a.destination=JP,a}return io(i,t),i.create=function(o,a,c){return new dE(o,a,c)},i.prototype.next=function(o){this.isStopped||this._next(o)},i.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},i.prototype._next=function(o){this.destination.next(o)},i.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},i.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},i}(wa);var AF=function(){function t(i){this.partialObserver=i}return t.prototype.next=function(i){var o=this.partialObserver;if(o.next)try{o.next(i)}catch(a){pE(a)}},t.prototype.error=function(i){var o=this.partialObserver;if(o.error)try{o.error(i)}catch(a){pE(a)}else pE(i)},t.prototype.complete=function(){var i=this.partialObserver;if(i.complete)try{i.complete()}catch(o){pE(o)}},t}(),dE=function(t){function i(o,a,c){var l,h=t.call(this)||this;return l=Kt(o)||!o?{next:o??void 0,error:a??void 0,complete:c??void 0}:o,h.destination=new AF(l),h}return io(i,t),i}(uv);function pE(t){iD(t)}var JP={closed:!0,next:av,error:function(t){throw t},complete:av},sD="function"==typeof Symbol&&Symbol.observable||"@@observable";function cv(t){return t}function Xc(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ZP(t)}function ZP(t){return 0===t.length?cv:1===t.length?t[0]:function(i){return t.reduce(function(o,a){return a(o)},i)}}var Wn=function(){function t(i){i&&(this._subscribe=i)}return t.prototype.lift=function(i){var o=new t;return o.source=this,o.operator=i,o},t.prototype.subscribe=function(i,o,a){var c,h,l=this,p=(c=i)&&c instanceof uv||(h=c)&&Kt(h.next)&&Kt(h.error)&&Kt(h.complete)&&lE(c)?i:new dE(i,o,a);return Fh(function(){var g=l.operator,v=l.source;p.add(g?g.call(p,v):v?l._subscribe(p):l._trySubscribe(p))}),p},t.prototype._trySubscribe=function(i){try{return this._subscribe(i)}catch(o){i.error(o)}},t.prototype.forEach=function(i,o){var a=this;return new(o=aD(o))(function(c,l){var p=new dE({next:function(h){try{i(h)}catch(g){l(g),p.unsubscribe()}},error:l,complete:c});a.subscribe(p)})},t.prototype._subscribe=function(i){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(i)},t.prototype[sD]=function(){return this},t.prototype.pipe=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ZP(i)(this)},t.prototype.toPromise=function(i){var o=this;return new(i=aD(i))(function(a,c){var l;o.subscribe(function(p){return l=p},function(p){return c(p)},function(){return a(l)})})},t.create=function(i){return new t(i)},t}();function aD(t){var i;return null!==(i=t??undefined)&&void 0!==i?i:Promise}function so(t){return function(i){if(o=i,Kt(o?.lift))return i.lift(function(o){try{return t(o,this)}catch(a){this.error(a)}});var o;throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,i,o,a,c){return new hE(t,i,o,a,c)}var jh,hE=function(t){function i(o,a,c,l,p,h){var g=t.call(this,o)||this;return g.onFinalize=p,g.shouldUnsubscribe=h,g._next=a?function(v){try{a(v)}catch(y){o.error(y)}}:t.prototype._next,g._error=l?function(v){try{l(v)}catch(y){o.error(y)}finally{this.unsubscribe()}}:t.prototype._error,g._complete=c?function(){try{c()}catch(v){o.error(v)}finally{this.unsubscribe()}}:t.prototype._complete,g}return io(i,t),i.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;t.prototype.unsubscribe.call(this),!a&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}},i}(uv),fE=Od(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Tn=function(t){function i(){var o=t.call(this)||this;return o.closed=!1,o.currentObservers=null,o.observers=[],o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return io(i,t),i.prototype.lift=function(o){var a=new gE(this,this);return a.operator=o,a},i.prototype._throwIfClosed=function(){if(this.closed)throw new fE},i.prototype.next=function(o){var a=this;Fh(function(){var c,l;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var p=Rd(a.currentObservers),h=p.next();!h.done;h=p.next())h.value.next(o)}catch(g){c={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}}})},i.prototype.error=function(o){var a=this;Fh(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=o;for(var c=a.observers;c.length;)c.shift().error(o)}})},i.prototype.complete=function(){var o=this;Fh(function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var a=o.observers;a.length;)a.shift().complete()}})},i.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(i.prototype,"observed",{get:function(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0},enumerable:!1,configurable:!0}),i.prototype._trySubscribe=function(o){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,o)},i.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},i.prototype._innerSubscribe=function(o){var a=this,c=this,h=c.observers;return c.hasError||c.isStopped?Yc:(this.currentObservers=null,h.push(o),new wa(function(){a.currentObservers=null,Zc(h,o)}))},i.prototype._checkFinalizedStatuses=function(o){var a=this,p=a.isStopped;a.hasError?o.error(a.thrownError):p&&o.complete()},i.prototype.asObservable=function(){var o=new Wn;return o.source=this,o},i.create=function(o,a){return new gE(o,a)},i}(Wn),gE=function(t){function i(o,a){var c=t.call(this)||this;return c.destination=o,c.source=a,c}return io(i,t),i.prototype.next=function(o){var a,c;null===(c=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===c||c.call(a,o)},i.prototype.error=function(o){var a,c;null===(c=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===c||c.call(a,o)},i.prototype.complete=function(){var o,a;null===(a=null===(o=this.destination)||void 0===o?void 0:o.complete)||void 0===a||a.call(o)},i.prototype._subscribe=function(o){var a,c;return null!==(c=null===(a=this.source)||void 0===a?void 0:a.subscribe(o))&&void 0!==c?c:Yc},i}(Tn),uD=function(t){function i(o){var a=t.call(this)||this;return a._value=o,a}return io(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),i.prototype._subscribe=function(o){var a=t.prototype._subscribe.call(this,o);return!a.closed&&o.next(this._value),a},i.prototype.getValue=function(){var o=this,l=o._value;if(o.hasError)throw o.thrownError;return this._throwIfClosed(),l},i.prototype.next=function(o){t.prototype.next.call(this,this._value=o)},i}(Tn),lv={now:function(){return(lv.delegate||Date).now()},delegate:void 0},el=function(t){function i(o,a,c){void 0===o&&(o=1/0),void 0===a&&(a=1/0),void 0===c&&(c=lv);var l=t.call(this)||this;return l._bufferSize=o,l._windowTime=a,l._timestampProvider=c,l._buffer=[],l._infiniteTimeWindow=!0,l._infiniteTimeWindow=a===1/0,l._bufferSize=Math.max(1,o),l._windowTime=Math.max(1,a),l}return io(i,t),i.prototype.next=function(o){var a=this,l=a._buffer,p=a._infiniteTimeWindow,h=a._timestampProvider,g=a._windowTime;a.isStopped||(l.push(o),!p&&l.push(h.now()+g)),this._trimBuffer(),t.prototype.next.call(this,o)},i.prototype._subscribe=function(o){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(o),c=this._infiniteTimeWindow,l=this._buffer.slice(),p=0;p<l.length&&!o.closed;p+=c?1:2)o.next(l[p]);return this._checkFinalizedStatuses(o),a},i.prototype._trimBuffer=function(){var o=this,a=o._bufferSize,c=o._timestampProvider,l=o._buffer,p=o._infiniteTimeWindow,h=(p?1:2)*a;if(a<1/0&&h<l.length&&l.splice(0,l.length-h),!p){for(var g=c.now(),v=0,y=1;y<l.length&&l[y]<=g;y+=2)v=y;v&&l.splice(0,v+1)}},i}(Tn),dv=function(t){function i(o,a){return t.call(this)||this}return io(i,t),i.prototype.schedule=function(o,a){return this},i}(wa),pv={setInterval:function(t,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=pv.delegate;return c?.setInterval?c.setInterval.apply(c,ji([t,i],li(o))):setInterval.apply(void 0,ji([t,i],li(o)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},Uh=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c.pending=!1,c}return io(i,t),i.prototype.schedule=function(o,a){var c;if(void 0===a&&(a=0),this.closed)return this;this.state=o;var l=this.id,p=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(p,l,a)),this.pending=!0,this.delay=a,this.id=null!==(c=this.id)&&void 0!==c?c:this.requestAsyncId(p,this.id,a),this},i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),pv.setInterval(o.flush.bind(o,this),c)},i.prototype.recycleAsyncId=function(o,a,c){if(void 0===c&&(c=0),null!=c&&this.delay===c&&!1===this.pending)return a;null!=a&&pv.clearInterval(a)},i.prototype.execute=function(o,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(o,a);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(o,a){var c,l=!1;try{this.work(o)}catch(p){l=!0,c=p||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),c},i.prototype.unsubscribe=function(){if(!this.closed){var o=this.id,a=this.scheduler,c=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Zc(c,this),null!=o&&(this.id=this.recycleAsyncId(a,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},i}(dv),YP=1,mE={};function cD(t){return t in mE&&(delete mE[t],!0)}var vE=function(t){var i=YP++;return mE[i]=!0,jh||(jh=Promise.resolve()),jh.then(function(){return cD(i)&&t()}),i},Da={setImmediate:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=Da.delegate;return(o?.setImmediate||vE).apply(void 0,ji([],li(t)))},clearImmediate:function(t){cD(t)},delegate:void 0},hv=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c}return io(i,t),i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),null!==c&&c>0?t.prototype.requestAsyncId.call(this,o,a,c):(o.actions.push(this),o._scheduled||(o._scheduled=Da.setImmediate(o.flush.bind(o,void 0))))},i.prototype.recycleAsyncId=function(o,a,c){var l;if(void 0===c&&(c=0),null!=c?c>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,o,a,c);var p=o.actions;null!=a&&(null===(l=p[p.length-1])||void 0===l?void 0:l.id)!==a&&(Da.clearImmediate(a),o._scheduled===a&&(o._scheduled=void 0))},i}(Uh),lD=function(){function t(i,o){void 0===o&&(o=t.now),this.schedulerActionCtor=i,this.now=o}return t.prototype.schedule=function(i,o,a){return void 0===o&&(o=0),new this.schedulerActionCtor(this,i).schedule(a,o)},t.now=lv.now,t}(),Bh=function(t){function i(o,a){void 0===a&&(a=lD.now);var c=t.call(this,o,a)||this;return c.actions=[],c._active=!1,c}return io(i,t),i.prototype.flush=function(o){var a=this.actions;if(this._active)a.push(o);else{var c;this._active=!0;do{if(c=o.execute(o.state,o.delay))break}while(o=a.shift());if(this._active=!1,c){for(;o=a.shift();)o.unsubscribe();throw c}}},i}(lD),Md=new(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return io(i,t),i.prototype.flush=function(o){this._active=!0;var a=this._scheduled;this._scheduled=void 0;var c,l=this.actions;o=o||l.shift();do{if(c=o.execute(o.state,o.delay))break}while((o=l[0])&&o.id===a&&l.shift());if(this._active=!1,c){for(;(o=l[0])&&o.id===a&&l.shift();)o.unsubscribe();throw c}},i}(Bh))(hv),Ui=new Bh(Uh),XP=Ui,yE=function(t){function i(o,a){var c=t.call(this,o,a)||this;return c.scheduler=o,c.work=a,c}return io(i,t),i.prototype.schedule=function(o,a){return void 0===a&&(a=0),a>0?t.prototype.schedule.call(this,o,a):(this.delay=a,this.state=o,this.scheduler.flush(this),this)},i.prototype.execute=function(o,a){return a>0||this.closed?t.prototype.execute.call(this,o,a):this._execute(o,a)},i.prototype.requestAsyncId=function(o,a,c){return void 0===c&&(c=0),null!=c&&c>0||null==c&&this.delay>0?t.prototype.requestAsyncId.call(this,o,a,c):(o.flush(this),0)},i}(Uh),Hh=new(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return io(i,t),i}(Bh))(yE),Se=new Wn(function(t){return t.complete()});function fv(t){return t&&Kt(t.schedule)}function SE(t){return t[t.length-1]}function gv(t){return Kt(SE(t))?t.pop():void 0}function zs(t){return fv(SE(t))?t.pop():void 0}var bE=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function EE(t){return Kt(t?.then)}function Vr(t){return Kt(t[sD])}function CE(t){return Symbol.asyncIterator&&Kt(t?.[Symbol.asyncIterator])}function dD(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var pD="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function hD(t){return Kt(t?.[pD])}function di(t){return function(i,o,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=function(){var i,o,a;return cE(this,function(c){switch(c.label){case 0:i=t.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Jc(i.read())];case 3:return o=c.sent(),a=o.value,o.done?[4,Jc(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Jc(a)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})}.apply(i,o||[]),p=[];return c={},h("next"),h("throw"),h("return"),c[Symbol.asyncIterator]=function(){return this},c;function h(E){l[E]&&(c[E]=function(I){return new Promise(function(w,_){p.push([E,I,w,_])>1||g(E,I)})})}function g(E,I){try{(w=l[E](I)).value instanceof Jc?Promise.resolve(w.value.v).then(v,y):b(p[0][2],w)}catch(w){b(p[0][3],w)}var w}function v(E){g("next",E)}function y(E){g("throw",E)}function b(E,I){E(I),p.shift(),p.length&&g(p[0][0],p[0][1])}}(this,arguments)}function IE(t){return Kt(t?.getReader)}function un(t){if(t instanceof Wn)return t;if(null!=t){if(Vr(t))return c=t,new Wn(function(l){var p=c[sD]();if(Kt(p.subscribe))return p.subscribe(l);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(bE(t))return a=t,new Wn(function(l){for(var p=0;p<a.length&&!l.closed;p++)l.next(a[p]);l.complete()});if(EE(t))return o=t,new Wn(function(l){o.then(function(p){l.closed||(l.next(p),l.complete())},function(p){return l.error(p)}).then(null,iD)});if(CE(t))return _E(t);if(hD(t))return i=t,new Wn(function(l){var p,h;try{for(var g=Rd(i),v=g.next();!v.done;v=g.next())if(l.next(v.value),l.closed)return}catch(b){p={error:b}}finally{try{v&&!v.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}l.complete()});if(IE(t))return _E(di(t))}var i,o,a,c;throw dD(t)}function _E(t){return new Wn(function(i){(function(o,a){var c,l,p,h,g,y,b;return g=this,void 0,b=function(){var v;return cE(this,function(y){switch(y.label){case 0:y.trys.push([0,5,6,11]),c=function rD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=t[Symbol.asyncIterator];return o?o.call(t):(t=Rd(t),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(c){i[c]=t[c]&&function(l){return new Promise(function(p,h){var g,v,y;g=p,v=h,y=(l=t[c](l)).done,Promise.resolve(l.value).then(function(E){g({value:E,done:y})},v)})}}}(o),y.label=1;case 1:return[4,c.next()];case 2:if((l=y.sent()).done)return[3,4];if(a.next(l.value),a.closed)return[2];y.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return v=y.sent(),p={error:v},[3,11];case 6:return y.trys.push([6,,9,10]),l&&!l.done&&(h=c.return)?[4,h.call(c)]:[3,8];case 7:y.sent(),y.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return a.complete(),[2]}})},new((y=void 0)||(y=Promise))(function(E,I){function w(T){try{A(b.next(T))}catch(M){I(M)}}function _(T){try{A(b.throw(T))}catch(M){I(M)}}function A(T){var M;T.done?E(T.value):(M=T.value,M instanceof y?M:new y(function(P){P(M)})).then(w,_)}A((b=b.apply(g,[])).next())})})(t,i).catch(function(o){return i.error(o)})})}function Fn(t,i,o,a,c){void 0===a&&(a=0),void 0===c&&(c=!1);var l=i.schedule(function(){o(),c?t.add(this.schedule(null,a)):this.unsubscribe()},a);if(t.add(l),!c)return l}function $t(t,i){return void 0===i&&(i=0),so(function(o,a){o.subscribe(Ct(a,function(c){return Fn(a,t,function(){return a.next(c)},i)},function(){return Fn(a,t,function(){return a.complete()},i)},function(c){return Fn(a,t,function(){return a.error(c)},i)}))})}function wE(t,i){return void 0===i&&(i=0),so(function(o,a){a.add(t.schedule(function(){return o.subscribe(a)},i))})}function Qt(t,i){if(!t)throw new Error("Iterable cannot be null");return new Wn(function(o){Fn(o,i,function(){var a=t[Symbol.asyncIterator]();Fn(o,i,function(){a.next().then(function(c){c.done?o.complete():o.next(c.value)})},0,!0)})})}function ve(t,i){return i?function(o,a){if(null!=o){if(Vr(o))return l=a,un(o).pipe(wE(l),$t(l));if(bE(o))return function(c,l){return new Wn(function(p){var h=0;return l.schedule(function(){h===c.length?p.complete():(p.next(c[h++]),p.closed||this.schedule())})})}(o,a);if(EE(o))return function(c,l){return un(c).pipe(wE(l),$t(l))}(o,a);if(CE(o))return Qt(o,a);if(hD(o))return function(c,l){return new Wn(function(p){var h;return Fn(p,l,function(){h=c[pD](),Fn(p,l,function(){var g,v,y;try{v=(g=h.next()).value,y=g.done}catch(b){return void p.error(b)}y?p.complete():p.next(v)},0,!0)}),function(){return Kt(h?.return)&&h.return()}})}(o,a);if(IE(o))return function(c,l){return Qt(di(c),l)}(o,a)}var l;throw dD(o)}(t,i):un(t)}function Vt(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ve(t,zs(t))}function Ee(t,i){var o=Kt(t)?t:function(){return t},a=function(c){return c.error(o())};return new Wn(i?function(c){return i.schedule(a,0,c)}:a)}var Pd=Od(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function ar(t,i){var o="object"==typeof i;return new Promise(function(a,c){var l=new dE({next:function(p){a(p),l.unsubscribe()},error:c,complete:function(){o?a(i.defaultValue):c(new Pd)}});t.subscribe(l)})}function DE(t){return t instanceof Date&&!isNaN(t)}var TF=Od(function(t){return function(i){void 0===i&&(i=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function eN(t,i){var o=DE(t)?{first:t}:"number"==typeof t?{each:t}:t,a=o.first,c=o.each,l=o.with,p=void 0===l?fD:l,h=o.scheduler,g=void 0===h?i??Ui:h,v=o.meta,y=void 0===v?null:v;if(null==a&&null==c)throw new TypeError("No timeout provided.");return so(function(b,E){var I,w,_=null,A=0,T=function(M){w=Fn(E,g,function(){try{I.unsubscribe(),un(p({meta:y,lastValue:_,seen:A})).subscribe(E)}catch(P){E.error(P)}},M)};I=b.subscribe(Ct(E,function(M){w?.unsubscribe(),A++,E.next(_=M),c>0&&T(c)},void 0,void 0,function(){w?.closed||null==w||w.unsubscribe(),_=null})),!A&&T(null!=a?"number"==typeof a?a:+a-g.now():c)})}function fD(t){throw new TF(t)}function ye(t,i){return so(function(o,a){var c=0;o.subscribe(Ct(a,function(l){a.next(t.call(i,l,c++))}))})}var Nd=Array.isArray;function Tu(t){return ye(function(i){return o=t,Nd(a=i)?o.apply(void 0,ji([],li(a))):o(a);var o,a})}var kd=Array.isArray,gD=Object.getPrototypeOf,AE=Object.prototype,Ld=Object.keys;function se(t,i,o){return void 0===o&&(o=1/0),Kt(i)?se(function(a,c){return ye(function(l,p){return i(a,l,c,p)})(un(t(a,c)))},o):("number"==typeof i&&(o=i),so(function(a,c){return h=t,g=o,I=[],w=0,_=0,A=!1,T=function(){!A||I.length||w||p.complete()},M=function(N){return w<g?P(N):I.push(N)},P=function(N){w++;var $=!1;un(h(N,_++)).subscribe(Ct(p,function(V){p.next(V)},function(){$=!0},void 0,function(){if($)try{w--;for(;I.length&&w<g;)L=void 0,L=I.shift(),P(L);T()}catch(L){p.error(L)}var L}))},a.subscribe(Ct(p=c,M,function(){A=!0,T()})),function(){};var p,h,g,I,w,_,A,T,M,P}))}function on(t){return void 0===t&&(t=1/0),se(cv,t)}function $h(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return on(1)(ve(t,zs(t)))}function TE(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=gv(t),a=function(h){if(1===h.length){var g=h[0];if(kd(g))return{args:g,keys:null};if((y=g)&&"object"==typeof y&&gD(y)===AE){var v=Ld(g);return{args:v.map(function(b){return g[b]}),keys:v}}}var y;return{args:h,keys:null}}(t),c=a.args,l=a.keys,p=new Wn(function(h){var g=c.length;if(g)for(var v=new Array(g),y=g,b=g,E=function(w){var _=!1;un(c[w]).subscribe(Ct(h,function(A){_||(_=!0,b--),v[w]=A},function(){return y--},void 0,function(){var T;y&&_||(b||h.next(l?(T=v,l.reduce(function(M,P,N){return M[P]=T[N],M},{})):v),h.complete())}))},I=0;I<g;I++)E(I);else h.complete()});return o?p.pipe(Tu(o)):p}var cn=["addListener","removeListener"],tN=["addEventListener","removeEventListener"],Ar=["on","off"];function dn(t,i,o,a){if(Kt(o)&&(a=o,o=void 0),a)return dn(t,i,o).pipe(Tu(a));var h,c=li(Kt((h=t).addEventListener)&&Kt(h.removeEventListener)?tN.map(function(h){return function(g){return t[h](i,g,o)}}):function(h){return Kt(h.addListener)&&Kt(h.removeListener)}(t)?cn.map(nN(t,i)):function(h){return Kt(h.on)&&Kt(h.off)}(t)?Ar.map(nN(t,i)):[],2),l=c[0],p=c[1];if(!l&&bE(t))return se(function(h){return dn(h,i,o)})(un(t));if(!l)throw new TypeError("Invalid event target");return new Wn(function(h){var g=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return h.next(1<v.length?v:v[0])};return l(g),function(){return p(g)}})}function nN(t,i){return function(o){return function(a){return t[o](i,a)}}}function Ru(t,i,o){return o?Ru(t,i).pipe(Tu(o)):new Wn(function(a){var c=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return a.next(1===p.length?p[0]:p)},l=t(c);return Kt(i)?function(){return i(c,l)}:void 0})}function Rn(t,i,o){void 0===t&&(t=0),void 0===o&&(o=XP);var a=-1;return null!=i&&(fv(i)?o=i:a=i),new Wn(function(c){var l=DE(t)?+t-o.now():t;l<0&&(l=0);var p=0;return o.schedule(function(){c.closed||(c.next(p++),0<=a?this.schedule(void 0,a):c.complete())},l)})}function ot(t,i){return void 0===t&&(t=0),void 0===i&&(i=Ui),t<0&&(t=0),Rn(t,t,i)}function qn(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var l,o=zs(t),a="number"==typeof SE(l=t)?l.pop():1/0,c=t;return c.length?1===c.length?un(c[0]):on(a)(ve(c,o)):Se}var pi=Array.isArray;function RF(t,i){return function(o,a){return!t.call(i,o,a)}}function ne(t,i){return so(function(o,a){var c=0;o.subscribe(Ct(a,function(l){return t.call(i,l,c++)&&a.next(l)}))})}function Ho(){for(var t,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return 1===(i=1===(t=i).length&&pi(t[0])?t[0]:t).length?un(i[0]):new Wn(function(a){return function(c){for(var l=[],p=function(g){l.push(un(a[g]).subscribe(Ct(c,function(v){if(l){for(var y=0;y<l.length;y++)y!==g&&l[y].unsubscribe();l=null}c.next(v)})))},h=0;l&&!c.closed&&h<a.length;h++)p(h)}}(i))}function jr(t){return so(function(i,o){var a,c=null,l=!1;c=i.subscribe(Ct(o,void 0,void 0,function(p){a=un(t(p,jr(t)(i))),c?(c.unsubscribe(),c=null,a.subscribe(o)):l=!0})),l&&(c.unsubscribe(),c=null,a.subscribe(o))})}function bt(t){return t<=0?function(){return Se}:so(function(i,o){var a=0;i.subscribe(Ct(o,function(c){++a<=t&&(o.next(c),t<=a&&o.complete())}))})}function hi(t){return ye(function(){return t})}function rN(t,i){return i?function(o){return $h(i.pipe(bt(1),so(function(a,c){a.subscribe(Ct(c,av))})),o.pipe(rN(t)))}:se(function(o,a){return un(t(o,a)).pipe(bt(1),hi(o))})}function Gh(t,i){void 0===i&&(i=Ui);var o=Rn(t,i);return rN(function(){return o})}function ze(t,i,o){return void 0===o&&(o=1/0),Kt(i)?se(function(){return t},i,o):("number"==typeof i&&(o=i),se(function(){return t},o))}function OF(t,i){return so(function(o,a,c,l,p){return function(h,g){var v=c,y=a,b=0;h.subscribe(Ct(g,function(E){var I=b++;y=v?o(y,E,I):(v=!0,E),g.next(y)},void 0))}}(t,i,arguments.length>=2))}function mD(t){return so(function(i,o){var a=!1,c=0;i.subscribe(Ct(o,function(l){return(a||(a=!t(l,c++)))&&o.next(l)}))})}function ds(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=zs(t);return so(function(a,c){(o?$h(t,a,o):$h(t,a)).subscribe(c)})}function it(t,i){return so(function(o,a){var c=null,l=0,p=!1,h=function(){return p&&!c&&a.complete()};o.subscribe(Ct(a,function(g){c?.unsubscribe();var v=0,y=l++;un(t(g,y)).subscribe(c=Ct(a,function(b){return a.next(i?i(g,b,y,v++):b)},function(){c=null,h()}))},function(){p=!0,h()}))})}function We(t){return so(function(i,o){un(t).subscribe(Ct(o,function(){return o.complete()},av)),!o.closed&&i.subscribe(o)})}function xd(t,i){return void 0===i&&(i=!1),so(function(o,a){var c=0;o.subscribe(Ct(a,function(l){var p=t(l,c++);(p||i)&&a.next(l),!p&&a.complete()}))})}function Te(t,i,o){var a=Kt(t)||i||o?{next:t,error:i,complete:o}:t;return a?so(function(c,l){var p;null===(p=a.subscribe)||void 0===p||p.call(a);var h=!0;c.subscribe(Ct(l,function(g){var v;null===(v=a.next)||void 0===v||v.call(a,g),l.next(g)},function(){var g;h=!1,null===(g=a.complete)||void 0===g||g.call(a),l.complete()},function(g){var v;h=!1,null===(v=a.error)||void 0===v||v.call(a,g),l.error(g)},function(){var g,v;h&&(null===(g=a.unsubscribe)||void 0===g||g.call(a)),null===(v=a.finalize)||void 0===v||v.call(a)}))}):cv}function Pe(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=gv(t);return so(function(a,c){for(var l=t.length,p=new Array(l),h=t.map(function(){return!1}),g=!1,v=function(b){un(t[b]).subscribe(Ct(c,function(E){p[b]=E,g||h[b]||(h[b]=!0,(g=h.every(cv))&&(h=null))},av))},y=0;y<l;y++)v(y);a.subscribe(Ct(c,function(b){if(g){var E=ji([b],li(p));c.next(o?o.apply(void 0,ji([],li(E))):E)}}))})}function mv(t){return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(t)}function MF(t,i,o){return c=function(l,p){if("object"!==mv(l)||null===l)return l;var h=l[Symbol.toPrimitive];if(void 0!==h){var g=h.call(l,"string");if("object"!==mv(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(i),(i="symbol"===mv(c)?c:String(c))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t;var c}function qe(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,a)}return o}function oN(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?qe(Object(o),!0).forEach(function(a){MF(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):qe(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function Kn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zh="function"==typeof Symbol&&Symbol.observable||"@@observable",RE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wh={INIT:"@@redux/INIT"+RE(),REPLACE:"@@redux/REPLACE"+RE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+RE()}};function vD(t,i,o){var a;if("function"==typeof i&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(Kn(0));if("function"==typeof i&&void 0===o&&(o=i,i=void 0),void 0!==o){if("function"!=typeof o)throw new Error(Kn(1));return o(vD)(t,i)}if("function"!=typeof t)throw new Error(Kn(2));var c=t,l=i,p=[],h=p,g=!1;function v(){h===p&&(h=p.slice())}function y(){if(g)throw new Error(Kn(3));return l}function b(I){if("function"!=typeof I)throw new Error(Kn(4));if(g)throw new Error(Kn(5));var w=!0;return v(),h.push(I),function(){if(w){if(g)throw new Error(Kn(6));w=!1,v();var _=h.indexOf(I);h.splice(_,1),p=null}}}function E(I){if(!function(A){if("object"!=typeof A||null===A)return!1;for(var T=A;null!==Object.getPrototypeOf(T);)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(A)===T}(I))throw new Error(Kn(7));if(void 0===I.type)throw new Error(Kn(8));if(g)throw new Error(Kn(9));try{g=!0,l=c(l,I)}finally{g=!1}for(var w=p=h,_=0;_<w.length;_++)(0,w[_])();return I}return E({type:Wh.INIT}),(a={dispatch:E,subscribe:b,getState:y,replaceReducer:function(I){if("function"!=typeof I)throw new Error(Kn(10));c=I,E({type:Wh.REPLACE})}})[zh]=function(){var I,w=b;return(I={subscribe:function(_){if("object"!=typeof _||null===_)throw new Error(Kn(11));function A(){_.next&&_.next(y())}return A(),{unsubscribe:w(A)}}})[zh]=function(){return this},I},a}function qh(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return 0===i.length?function(a){return a}:1===i.length?i[0]:i.reduce(function(a,c){return function(){return a(c.apply(void 0,arguments))}})}var Fd=function(t,i){return(Fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])})(t,i)},OE=function(t){function i(o,a){var c=t.call(this,function(l){var p=c.__notifier.subscribe(l);return p&&!p.closed&&l.next(c.value),p})||this;return c.__notifier=new Tn,c.value=a,o.subscribe(function(l){l!==c.value&&(c.value=l,c.__notifier.next(l))}),c}return function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=o}Fd(o,a),o.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}(i,t),i}(Wn),ME=function(t,i){return t===i||"function"==typeof i&&t===i.toString()};function Me(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=t.length;return ne(1===o?function(a){return ME(a.type,t[0])}:function(a){for(var c=0;c<o;c++)if(ME(a.type,t[c]))return!0;return!1})}var Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Vd(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function jd(t,i){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),i&&i.length&&Object.defineProperty(this,"path",{value:i,enumerable:!0})}"object"===(typeof global>"u"?"undefined":Ve(global))&&global&&global,Vd(function t(i,o,a){t.super_.call(this,"E",i),Object.defineProperty(this,"lhs",{value:o,enumerable:!0}),Object.defineProperty(this,"rhs",{value:a,enumerable:!0})},jd),Vd(function t(i,o){t.super_.call(this,"N",i),Object.defineProperty(this,"rhs",{value:o,enumerable:!0})},jd),Vd(function t(i,o){t.super_.call(this,"D",i),Object.defineProperty(this,"lhs",{value:o,enumerable:!0})},jd),Vd(function t(i,o,a){t.super_.call(this,"A",i),Object.defineProperty(this,"index",{value:o,enumerable:!0}),Object.defineProperty(this,"item",{value:a,enumerable:!0})},jd);const Ou=!1;var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vv(t){if(t.__esModule)return t;var i=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),i}var Kh=function(t,i,o,a,c,l,p,h){if(!t){var g;if(void 0===i)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[o,a,c,l,p,h],y=0;(g=new Error(i.replace(/%s/g,function(){return v[y++]}))).name="Invariant Violation"}throw g.framesToPop=1,g}},Ud=function(t){return"function"==typeof t},iN=function(t){return t.toString()},Qh=function(t){return"string"==typeof t},tl="/",Ta=function(t){return t},PE=function(t){return null===t};function Ut(t,i,o){void 0===i&&(i=Ta),Kh(Ud(i)||PE(i),"Expected payloadCreator to be a function, undefined or null");var a=PE(i)||i===Ta?Ta:function(h){for(var g=arguments.length,v=new Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];return h instanceof Error?h:i.apply(void 0,[h].concat(v))},c=Ud(o),l=t.toString(),p=function(){var h=a.apply(void 0,arguments),g={type:t};return h instanceof Error&&(g.error=!0),void 0!==h&&(g.payload=h),c&&(g.meta=o.apply(void 0,arguments)),g};return p.toString=function(){return l},p}var Ws=function(t){if("object"!=typeof t||null===t)return!1;for(var i=t;null!==Object.getPrototypeOf(i);)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i},NE=function(t){return Array.isArray(t)},yt=function(t){return null==t},sn=/\s/,NF=/(_|-|\.|:)/,sN=/([a-z][A-Z]|[A-Z][a-z])/,aN=/[\W_]+(.|$)/g,kF=/(.)([A-Z]+)/g,yv=function(t){return(i=t,function(t){return sn.test(t)?t.toLowerCase():NF.test(t)?(i=t,i.replace(aN,function(o,a){return a?" "+a:""})||t).toLowerCase():sN.test(t)?function(i){return i.replace(kF,function(o,a,c){return a+" "+c.toLowerCase().split("").join(" ")})}(t).toLowerCase():t.toLowerCase();var i}(i).replace(/[\W_]+(.|$)/g,function(o,a){return a?" "+a:""}).trim()).replace(/\s(\w)/g,function(i,o){return o.toUpperCase()});var i},Lt=function(t){return-1===t.indexOf("/")?yv(t):t.split("/").map(yv).join("/")},Jh=function(t,i){return t.reduce(function(o,a){return i(o,a)},{})},Zh=function(t){return typeof Map<"u"&&t instanceof Map};function ao(t){if(Zh(t))return Array.from(t.keys());if(typeof Reflect<"u"&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(t);var i=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t))),i}function kE(t,i){return Zh(i)?i.get(t):i[t]}var cN=function(t){return function i(o,a,c,l){var p=void 0===a?{}:a,h=p.namespace,g=void 0===h?tl:h,v=p.prefix;return void 0===c&&(c={}),void 0===l&&(l=""),ao(o).forEach(function(y){var I,b=(I=function(I){var w;if(!l)return I;var _=I.toString().split("||"),A=l.split("||");return(w=[]).concat.apply(w,A.map(function(T){return _.map(function(M){return""+T+g+M})})).join("||")}(y),l||!v||v&&new RegExp("^"+v+g).test(I)?I:""+v+g+I),E=kE(y,o);t(E)?i(E,{namespace:g,prefix:v},c,b):c[b]=E}),c}},LF=cN(Ws);function Mu(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{},a=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),a.forEach(function(c){LE(t,c,o[c])})}return t}function LE(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}function Qn(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var c,h,l=Ws((c=o)[c.length-1])?o.pop():{};return Kh(o.every(Qh)&&(Qh(t)||Ws(t)),"Expected optional object followed by string action types"),Qh(t)?bD([t].concat(o),l):Mu({},function(g,v){var y=void 0===v?{}:v,b=y.namespace,E=void 0===b?tl:b,I=y.prefix;function w(A,T,M){var P=Lt(M.shift());!function(t){return 0===t.length}(M)?(T[P]||(T[P]={}),w(A,T[P],M)):T[P]=g[A]}var _={};return Object.getOwnPropertyNames(g).forEach(function(A){var T=I?A.replace(""+I+E,""):A;return w(A,_,T.split(E))}),_}(SD(LF(t,h=l)),h),bD(o,l))}function SD(t,i){var o=void 0===i?{}:i,a=o.prefix,c=o.namespace,l=void 0===c?tl:c;return Jh(Object.keys(t),function(p,h){var g,v=t[h];Kh(function(E){if(Ud(E)||yt(E))return!0;if(NE(E)){var I=E[0],_=E[1];return Ud(void 0===I?Ta:I)&&Ud(_)}return!1}(v),"Expected function, undefined, null, or array with payload and meta functions for "+h);var y=a?""+a+l+h:h,b=NE(v)?Ut.apply(void 0,[y].concat(v)):Ut(y,v);return Mu({},p,((g={})[h]=b,g))})}function bD(t,i){var o=SD(Jh(t,function(a,c){var l;return Mu({},a,((l={})[c]=Ta,l))}),i);return Jh(Object.keys(o),function(a,c){var l;return Mu({},a,((l={})[Lt(c)]=o[c],l))})}var lN=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var a="function"!=typeof i[i.length-1]&&i.pop(),c=i;if(void 0===a)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(l,p){for(var h=arguments.length,g=Array(h>2?h-2:0),v=2;v<h;v++)g[v-2]=arguments[v];var y=void 0===l,b=void 0===p;return y&&b&&a?a:c.reduce(function(E,I){return I.apply(void 0,[E,p].concat(g))},y&&!b&&a?a:l)}},ED=cN(function(t){return(Ws(t)||Zh(t))&&(a=(o=ao(t)).every(function(c){return"next"===c||"throw"===c}),!(o.length&&o.length<=2&&a));var o,a});function gr(t,i,o){void 0===o&&(o={}),Kh(Ws(t)||Zh(t),"Expected handlers to be a plain object.");var a=ED(t,o),c=ao(a).map(function(p){return function(h,g,v){void 0===g&&(g=Ta);var y=iN(h).split("||");Kh(!function(w){return void 0===w}(v),"defaultState for reducer handling "+y.join(", ")+" should be defined"),Kh(Ud(g)||Ws(g),"Expected reducer to be a function or object with next and throw reducers");var b=Ud(g)?[g,g]:[g.next,g.throw].map(function(w){return yt(w)?Ta:w}),E=b[0],I=b[1];return function(w,_){void 0===w&&(w=v);var A=_.type;return A&&-1!==y.indexOf(iN(A))?(!0===_.error?I:E)(w,_):w}}(p,kE(p,a),i)}),l=lN.apply(void 0,c.concat([i]));return function(p,h){return void 0===p&&(p=i),l(p,h)}}const Sv=Ut("CONNECT_ZOOM_SOCKET"),qs=Ut("CONNECT_XMPP_SOCKET"),ps=Ut("CLOSE_ZOOM_SOCKET"),at=Ut("CLOSE_XMPP_SOCKET"),Pu=Ut("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),_e=Ut("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),Yh=Ut("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),Xh=Ut("CONNECT_MAIN_SESSION_SOCKET"),Hd=Ut("CLOSE_MAIN_SESSION_SOCKET"),Ra=Ut("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:$d,setRwgServersList:CD,setRwgRetryCount:ID,setXmppSocketStatus:nl,setMainSessionSocketStatus:bv,resetSocket:ef}=Qn("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","RESET_SOCKET"),xE=Ut("CONNECT_TO_MEDIA_STREAM"),Nu=Ut("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:FE,setAudioDecodeStatus:uo,setVideoEncodeStatus:ku,setVideoDecodeStatus:Ev,setSharingEncodeStatus:Gd,setSharingDecodeStatus:rl,setMediaConstraints:tf,setMediaEncryptKey:dN,setIsEnableDecoderInWorklet:VE,setPatchedMediaSdkStatus:jE,setMediaAssetsPath:$o,setIsEnableVideoAudioQos:Cv,setIsAudioBridgeReceiveReady:ol,setIsAudioBridgeSendReady:pN,setIsMediaAgentInitialized:Iv,setAdaptedAbOptionForMediaSdk:hs,resetMedia:Gt}=Qn("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_ENABLE_VIDEO_AUDIO_QOS","SET_IS_AUDIO_BRIDGE_RECEIVE_READY","SET_IS_AUDIO_BRIDGE_SEND_READY","SET_IS_MEDIA_AGENT_INITIALIZED","SET_ADAPTED_AB_OPTION_FOR_MEDIA_SDK","RESET_MEDIA");function il(t,i){for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];return t(Vt(...a||[]),i,null)}function UE(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return qn(...i.map(h=>{const g=h(...l);if(!g)throw new TypeError(`combineEpics: one of the provided Epics "${h.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return g.pipe(jr((v,y)=>(setTimeout(()=>{throw v},0),y)))}))};try{Object.defineProperty(a,"name",{value:`combineEpics(${i.map(c=>c.name||"<anonymous>").join(", ")})`})}catch{}return a}function qr(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return UE(...i.flatMap(a=>Object.values(a)))}function be(t,i){return t.pipe(Me(`${Pu}`),ne(o=>o.payload.evt===i))}function fs(t,i){return t.pipe(Me(`${Ra}`),ne(o=>o.payload.evt===i))}function co(t,i){return t.pipe(Me(`${Yh}`),ne(o=>o.payload.evt===i))}function ur(t,i){return t.pipe(Me(`${Pu}`,`${Ra}`),ne(o=>o.payload.evt===i))}function Ke(t,i){return t.pipe(Me(`${Nu}`),ne(o=>Array.isArray(i)?i.indexOf(o.payload.type)>-1:o.payload.type===i))}function nf(t,i){return t.pipe(Me(`${xE}`),ne(()=>{const{media:{assetsPath:o,mediaConstraints:a}}=i.value;return void 0!==o&&void 0!==a}),it(()=>{const{media:{isMediaAgentInitialized:o}}=i.value;return o?ve([0]):t.pipe(Me(`${Iv}`),ne(a=>!!a.payload),bt(1))}))}const rf="function"==typeof atob,wD="function"==typeof btoa,sl="function"==typeof Buffer,DD="function"==typeof TextDecoder?new TextDecoder:void 0,_v="function"==typeof TextEncoder?new TextEncoder:void 0,sf=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),wv=(()=>{let t={};return sf.forEach((i,o)=>t[i]=o),t})(),gs=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kr=String.fromCharCode.bind(String),HE="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),AD=t=>t.replace(/=/g,"").replace(/[+\/]/g,i=>"+"==i?"-":"_"),TD=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),RD=t=>{let i,o,a,c,l="";const p=t.length%3;for(let h=0;h<t.length;){if((o=t.charCodeAt(h++))>255||(a=t.charCodeAt(h++))>255||(c=t.charCodeAt(h++))>255)throw new TypeError("invalid character found");i=o<<16|a<<8|c,l+=sf[i>>18&63]+sf[i>>12&63]+sf[i>>6&63]+sf[63&i]}return p?l.slice(0,p-3)+"===".substring(p):l},$E=wD?t=>btoa(t):sl?t=>Buffer.from(t,"binary").toString("base64"):RD,Dv=sl?t=>Buffer.from(t).toString("base64"):t=>{let i=[];for(let o=0,a=t.length;o<a;o+=4096)i.push(Kr.apply(null,t.subarray(o,o+4096)));return $E(i.join(""))},Av=(t,i=!1)=>i?AD(Dv(t)):Dv(t),hN=t=>{if(t.length<2)return(i=t.charCodeAt(0))<128?t:i<2048?Kr(192|i>>>6)+Kr(128|63&i):Kr(224|i>>>12&15)+Kr(128|i>>>6&63)+Kr(128|63&i);var i=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Kr(240|i>>>18&7)+Kr(128|i>>>12&63)+Kr(128|i>>>6&63)+Kr(128|63&i)},fN=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,zd=t=>t.replace(fN,hN),OD=sl?t=>Buffer.from(t,"utf8").toString("base64"):_v?t=>Dv(_v.encode(t)):t=>$E(zd(t)),Wd=(t,i=!1)=>i?AD(OD(t)):OD(t),Lu=t=>Wd(t,!0),MD=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,To=t=>{switch(t.length){case 4:var i=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return Kr(55296+(i>>>10))+Kr(56320+(1023&i));case 3:return Kr((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Kr((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Ro=t=>t.replace(MD,To),At=t=>{if(t=t.replace(/\s+/g,""),!gs.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let i,o,a,c="";for(let l=0;l<t.length;)i=wv[t.charAt(l++)]<<18|wv[t.charAt(l++)]<<12|(o=wv[t.charAt(l++)])<<6|(a=wv[t.charAt(l++)]),c+=64===o?Kr(i>>16&255):64===a?Kr(i>>16&255,i>>8&255):Kr(i>>16&255,i>>8&255,255&i);return c},cr=rf?t=>atob(TD(t)):sl?t=>Buffer.from(t,"base64").toString("binary"):At,Ur=sl?t=>HE(Buffer.from(t,"base64")):t=>HE(cr(t).split("").map(i=>i.charCodeAt(0))),Oa=t=>Ur(GE(t)),lo=sl?t=>Buffer.from(t,"base64").toString("utf8"):DD?t=>DD.decode(Ur(t)):t=>Ro(cr(t)),GE=t=>TD(t.replace(/[-_]/g,i=>"-"==i?"+":"/")),Tv=t=>lo(GE(t)),af=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),PD=function(){const t=(i,o)=>Object.defineProperty(String.prototype,i,af(o));t("fromBase64",function(){return Tv(this)}),t("toBase64",function(i){return Wd(this,i)}),t("toBase64URI",function(){return Wd(this,!0)}),t("toBase64URL",function(){return Wd(this,!0)}),t("toUint8Array",function(){return Oa(this)})},ND=function(){const t=(i,o)=>Object.defineProperty(Uint8Array.prototype,i,af(o));t("toBase64",function(i){return Av(this,i)}),t("toBase64URI",function(){return Av(this,!0)}),t("toBase64URL",function(){return Av(this,!0)})},al={version:"3.7.5",VERSION:"3.7.5",atob:cr,atobPolyfill:At,btoa:$E,btoaPolyfill:RD,fromBase64:Tv,toBase64:Wd,encode:Wd,encodeURI:Lu,encodeURL:Lu,utob:zd,btou:Ro,decode:Tv,isValid:t=>{if("string"!=typeof t)return!1;const i=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(i)||!/[^\s0-9a-zA-Z\-_]/.test(i)},fromUint8Array:Av,toUint8Array:Oa,extendString:PD,extendUint8Array:ND,extendBuiltins:()=>{PD(),ND()}};function On(t){return al.encode(t,!0)}function fi(t){return al.decode(t)}function zE(t){return al.encode(t,!1)}const Rv={"-":"+",_:"/",".":"="};function Bi(t){const i=t.replace(/[-_.]/g,o=>Rv[o]);return Uint8Array.from(window.atob(i),o=>o.charCodeAt(0))}const Ov=t=>{const i=t.charCodeAt(0);return i<=parseInt("0x7F",16)?1:i<=parseInt("0x7FF",16)?2:i<=parseInt("0xFFFF",16)?3:i<=parseInt("0x1FFFFF",16)?4:i<=parseInt("0x3FFFFFF",16)?5:6},uf=(t,i)=>{const o=t.split(".").map(l=>Number(l)).slice(0,3),a=i.split(".").map(l=>Number(l)).slice(0,3);let c=0;for(let l=0;l<3;l++){const p=l<o.length?o[l]:0,h=l<a.length?a[l]:0;if(p<h){c=-1;break}if(p>h){c=1;break}}return c},qd=t=>{var i;let o=(new Date).getTime(),a=1e3*(null===(i=performance)||void 0===i?void 0:i.now())||0;const c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{let p=16*Math.random();return o>0?(p=(o+p)%16|0,o=Math.floor(o/16)):(p=(a+p)%16|0,a=Math.floor(a/16)),("x"===l?p:3&p|8).toString(16)});return"string"==typeof t||"number"==typeof t?c+":"+t:c+""};function Kd(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),a=Object.keys(i),c=o.length;if(a.length!==c)return!1;for(let l=0;l<c;l++){const p=o[l];if(t[p]!==i[p]||!Object.prototype.hasOwnProperty.call(i,p))return!1}return!0}const po=(t,i)=>t>>10==i>>10,Ks=(t,i)=>new Promise(o=>{setTimeout(()=>{o(t())},i)}),Ma=t=>{const i=`${Math.floor(1e4*Math.random())}`;return t.indexOf("@")>-1?t.replace("@",i):`${t}${i}`},gi=t=>{try{const i=new URL(t);return!("data:"===i.protocol&&"null"===i.origin)&&i.origin!==location.origin}catch{return!0}},Qs=t=>{const i=t.split(".")[1];if("string"==typeof i){let o=i.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const a=decodeURIComponent(window.atob(o).replace(/(.)/g,function(c,l){let p=l.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p}));return JSON.parse(a)}catch{console.error("Invalid token specified: invalid base64")}}};function WE(t){return t&&t.endsWith("/")?t.slice(0,t.length-1):t}function Mv(t){return[...new Uint8Array(t)].map(i=>i.toString(16).padStart(2,"0")).join("")}function cf(t){return`${t.tagName}${t.id?`#${t.id}`:""}${t.className?`${t.className.split(" ").map(i=>`.${i}`).join("")}`:""}`}function Go(t){const i=function(o){const a=o&&o.getRootNode();if(a&&"#document"!==a.nodeName&&a.host)return cf(a.host)}(t);return`${i?`${i}>`:""}${cf(t)}`}function Pa(t){return"object"==typeof t&&null!==t?t instanceof HTMLElement?Go(t):ArrayBuffer.isView(t)?Mv(t.buffer):Array.isArray(t)?t.map(i=>Pa(i)):Object.keys(t).reduce((i,o)=>({...i,[`${o}`]:Pa(t[o])}),{}):t}let ho=((t={})[t.Success=0]="Success",t[t.MeetingIsOver=6]="MeetingIsOver",t[t.UserFull=9]="UserFull",t[t.MeetingLocked=9]="MeetingLocked",t[t.WebinarBlockedEmail=3033]="WebinarBlockedEmail",t[t.MeetingNotStarted=3008]="MeetingNotStarted",t[t.MeetingHasClosed=103003]="MeetingHasClosed",t[t.UserHasBeenRemoved=103039]="UserHasBeenRemoved",t[t.MMRIBReject=103043]="MMRIBReject",t[t.MMRConfParticipantExists=103044]="MMRConfParticipantExists",t),Na=function(t){return t[t.Unknown=0]="Unknown",t[t.Normal=1]="Normal",t[t.Userrequest=2]="Userrequest",t[t.SdkConnection=3]="SdkConnection",t[t.Reconnect=5]="Reconnect",t[t.PtRequest=6]="PtRequest",t[t.KickedByHost=7]="KickedByHost",t[t.EndByHost=8]="EndByHost",t[t.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",t[t.FreeMeetingTimeout=10]="FreeMeetingTimeout",t[t.JBHTimeout=11]="JBHTimeout",t[t.EndBySingleStatus=12]="EndBySingleStatus",t[t.WebinarNeedRegister=13]="WebinarNeedRegister",t[t.ArchiveFail=14]="ArchiveFail",t[t.EndByNone=15]="EndByNone",t[t.EndByAdmin=16]="EndByAdmin",t[t.DuplicateSession=17]="DuplicateSession",t[t.MeetingTransfer=18]="MeetingTransfer",t}({}),gN=function(t){return t[t.WaitingRoomFailover=1]="WaitingRoomFailover",t[t.WebEndAndRejoin=2]="WebEndAndRejoin",t}({}),Hi=function(t){return t[t.Success=0]="Success",t[t.CommonError=200]="CommonError",t[t.WrongPasscode=3004]="WrongPasscode",t[t.RoleTypeMissing=3010]="RoleTypeMissing",t[t.InvalidParameter=4003]="InvalidParameter",t}({});var t;!function(t){t[t.Success=0]="Success",t[t.AnotherMeetingInProgress=3e3]="AnotherMeetingInProgress",t[t.MeetingNotExist=3001]="MeetingNotExist",t[t.NotHost=3003]="NotHost",t[t.WrongPasscode=3004]="WrongPasscode",t[t.MissingEmail=3005]="MissingEmail",t[t.MeetingNotStarted=3008]="MeetingNotStarted",t[t.UserHasBeenRemoved=3009]="UserHasBeenRemoved",t[t.RoleTypeMissing=3010]="RoleTypeMissing",t[t.WebinarEnforceLogin=3034]="WebinarEnforceLogin",t[t.RealNameMissing=3082]="RealNameMissing",t[t.RegisterRequired=3099]="RegisterRequired",t[t.SsoLoginWindow=6024]="SsoLoginWindow",t[t.ZoomLoginWindow=3051]="ZoomLoginWindow",t[t.ZoomSpecificLoginWindow=3052]="ZoomSpecificLoginWindow",t[t.LoginRequired=3100]="LoginRequired",t[t.Reconnecting=4e3]="Reconnecting",t[t.Disconnect=4001]="Disconnect",t[t.InvalidParameter=4003]="InvalidParameter",t[t.DeniedRegisterWithPanelist=3032]="DeniedRegisterWithPanelist",t[t.ServiceOffline=403]="ServiceOffline",t[t.RwcEmpty=3621]="RwcEmpty",t[t.RwcError=3622]="RwcError",t[t.FrequentCall=3633]="FrequentCall",t[t.FrequentJoin=3634]="FrequentJoin",t[t.WasmFail=3635]="WasmFail",t[t.CommonError=200]="CommonError",t[t.Upgrade=1e4]="Upgrade"}({});const kD={3004:{"apac.errorcodes_pac_mn_wrong":3714},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"apac.errorcodes_be_removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function Js(t,i){let o={code:200,i18nKey:"apac.errorcodes_fail"};if(void 0!==kD[t]){const a=kD[t],c=Object.keys(a)[0];return o={code:a[c],i18nKey:c},{reason:c.startsWith("apac")?"":c,errorCode:o.code}}return{code:200,reason:"connection error"}}const mN=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],Pv={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:t=>({meetingTopic:fi(t)}),gatewayKey:t=>{const[,i,o]=t.split(".");return i&&o?{gatewayUser:{userId:Number(i),sn:o}}:{}},encryptKey:t=>({gcmSessinKey:Bi(t)})},$i=Ut("GET_MEETING_INFO"),ul=Ut("GET_INSTANT_MEETING_INFO");Ut("LOGON_ZOOM_DOMAIN"),Ut("VERIFY_ZOOM_RECAPTCHA"),Ut("LOGON_THIRD_PARTY_DOMAIN");const Qd=Ut("PING_RWC_SERVER"),er=Ut("MEETING_FAILOVER"),Jd=Ut("LEAVE_MEETING"),qE=Ut("LEAVE_WAITING_ROOM"),Vn=Ut("END_MEETING");Ut("REGISTER_WEBINAR");const KE=Ut("TRIGGER_IDLE_CHECK"),LD=Ut("END_OF_ZE_WORLD"),{setMeetingInfo:fo,setMeetingJoinInfo:vN,setWindownOpen:yN,setAppidSignature:xD,setZtk:SN,setZsk:bN,setTkMtkguid:EN,setPingRwcTimestamp:Nv,setInMeetingInfo:Gi,setMeetingAttribute:gn,resetMeeting:Ae,setIsHost:Ze,setIsCohost:tr,setMeetingIsOnHold:go,setIsMeetingReset:Qr,setAudioVideoBeforeOnHold:zo,setCurrentUserAudioBeforeReset:cl,setIsCurrentUserMutedBeforeReset:mn,setMeetingStatus:Tr,setMeetingRegion:zi,setIsCurrentUserStartVideoBeforeReset:lt,setJoinMeetingTimeStamp:Zd,setActiveAppInfo:FD,setMeetingIdleStartTime:Zs,setSessionIdleTimeoutMinutes:jn,setIsAudioBridgeEnabled:Yd,addDiscardedRwcHost:ll,setSharePronounType:Ys,setIsStayAwakeDuringTheSession:Xd,setMeetingJoinSuccessTimestamp:QE,resetFailoverRecord:ka,setFailoverReason:dl,setIsQuicklyLeaveMeetingAfterRefresh:xu,setMeetingInfoTimestamp:St,setIsEnableZmkFromRwg:kv}=Qn({SET_MEETING_INFO:t=>t,SET_MEETING_JOIN_INFO:t=>t,SET_WINDOWN_OPEN:t=>t,SET_APPID_SIGNATURE:t=>t,SET_ZTK:t=>t,SET_ZSK:t=>t,SET_TK_MTKGUID:t=>t,SET_PING_RWC_TIMESTAMP:t=>t,SET_IN_MEETING_INFO:t=>t,SET_MEETING_ATTRIBUTE:t=>{if(mN.some(i=>t&&void 0!==t[i])){let i=t;return Object.keys(Pv).some(o=>void 0!==t[o])&&(i=Object.keys(t).reduce((o,a)=>{const c=Pv[a];return"function"==typeof c?Object.assign(o,c(t[a])):"string"==typeof c&&(o[c]=t[a]),o},{})),i}return{}},SET_IS_HOST:t=>t&&t.bHost,SET_IS_COHOST:t=>t&&t.bCoHost,RESET_MEETING:t=>t,SET_MEETING_IS_ON_HOLD:t=>t,SET_IS_MEETING_RESET:t=>t,SET_AUDIO_VIDEO_BEFORE_ON_HOLD:t=>t,SET_CURRENT_USER_AUDIO_BEFORE_RESET:t=>t,SET_IS_CURRENT_USER_MUTED_BEFORE_RESET:t=>t,SET_MEETING_STATUS:t=>t,SET_MEETING_REGION:t=>t,SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET:t=>t,SET_JOIN_MEETING_TIME_STAMP:t=>t,SET_ACTIVE_APP_INFO:t=>t,SET_MEETING_IDLE_START_TIME:t=>t,SET_SESSION_IDLE_TIMEOUT_MINUTES:t=>t,SET_IS_AUDIO_BRIDGE_ENABLED:t=>t,ADD_DISCARDED_RWC_HOST:t=>t,SET_SHARE_PRONOUN_TYPE:t=>t,SET_IS_STAY_AWAKE_DURING_THE_SESSION:t=>t,SET_MEETING_JOIN_SUCCESS_TIMESTAMP:t=>t,RESET_FAILOVER_RECORD:t=>t,SET_FAILOVER_REASON:t=>t,SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH:t=>t,SET_MEETING_INFO_TIMESTAMP:t=>t,SET_IS_ENABLE_ZMK_FROM_RWG:t=>t});let nr=function(t){return t.Failover="failover",t.OnHold="on hold",t.Promote="promote",t.Depromote="depromote",t.JoinBreakoutRoom="join breakout room",t.MoveToBreakoutRoom="move to breakout room",t.BackToMainSession="back to main session",t}({});const mo="js_media.min.js";let ep=function(t){return t.CDN="CDN",t.Global="Global",t.CN="CN",t}({}),Wi=function(t){return t.Connected="Connected",t.Reconnecting="Reconnecting",t.Closed="Closed",t.Fail="Fail",t}({}),It=function(t){return t.Initial="initial",t.Joined="joined",t.Closed="closed",t}({}),qi=function(t){return t.AudioBridgeEnable="M:1,2;V:1,2",t.AudioDecodeInWorklet="M:6;V:3",t.VideoFullHD="M:8;V:4",t.VideoShareFullHD="M:9;V:5",t.WebGL2Render="M:20;V:8",t.WebGPURender="M:21;V:9",t.ZMKFromRWG="M:19;V:10",t}({}),zt=function(t){return t[t.NormalCase=-1]="NormalCase",t[t.NoHeartbeat=0]="NoHeartbeat",t[t.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",t[t.NetworkChange=2]="NetworkChange",t[t.NotifyUiFailover=3]="NotifyUiFailover",t[t.InvalidParameters=4]="InvalidParameters",t[t.OnError=5]="OnError",t[t.OnErrorMChannel=6]="OnErrorMChannel",t[t.Disconnect=7]="Disconnect",t[t.DisconnectMChannel=8]="DisconnectMChannel",t[t.DisconnectXmpp=9]="DisconnectXmpp",t[t.RefreshPage=10]="RefreshPage",t}({});const vo=["8-29","9-21"];let Tt=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Memory="Memory",t}({});const Fu=On("{}");let rt=(()=>{class t{constructor(o){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=On(`zoom-storage-${o}`),this.localStorageKey=On("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(fi(sessionStorage.getItem(this.sessionStorageKey)||Fu)),this.localCache=JSON.parse(fi(localStorage.getItem(this.localStorageKey)||Fu))}catch(a){console.error(a),this.sessionCache={},this.localCache={}}}static init(o){this.instance=new t(o)}static get(o){if(void 0===this.instance)throw new Error("read before initial");return this.instance.getValue(o).value}static set(o,a,c){if(void 0===this.instance)throw new Error("set before initial");return this.instance.setValue(o,a,c)}static remove(o){if(void 0===this.instance)throw new Error("remove before initial");return this.instance.removeValue(o)}static clearSession(){if(void 0===this.instance)throw new Error("clear before initial");return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey)}getValue(o){return this.sessionCache.hasOwnProperty(o)?{value:this.sessionCache[o],type:Tt.SessionStorage}:this.localCache.hasOwnProperty(o)?{value:this.localCache[o],type:Tt.LocalStorage}:{value:this.memoryCache[o],type:Tt.Memory}}setValue(o,a,c){if(!o)throw new Error("key is null");switch(c){case Tt.SessionStorage:{const l=this.sessionCache[o];let p=a;return"function"==typeof a&&(p=a(l)),l!==p&&(this.sessionCache[o]=p,this.flushValue(Tt.SessionStorage)),p}case Tt.LocalStorage:{const l=this.localCache[o];let p=a;return"function"==typeof a&&(p=a(l)),l!==p&&(this.localCache[o]=p,this.flushValue(Tt.LocalStorage)),p}case Tt.Memory:{let p=a;return"function"==typeof a&&(p=a(this.memoryCache[o])),this.memoryCache[o]=p,p}default:return null}}removeValue(o){const{type:a}=this.getValue(o);switch(a){case Tt.SessionStorage:delete this.sessionCache[o],this.flushValue(Tt.SessionStorage);break;case Tt.LocalStorage:delete this.localCache[o],this.flushValue(Tt.LocalStorage);break;case Tt.Memory:delete this.memoryCache[o]}}flushValue(o){o===Tt.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,On(JSON.stringify(this.sessionCache))):o===Tt.LocalStorage&&localStorage.setItem(this.localStorageKey,On(JSON.stringify(this.localCache)))}}return t.instance=void 0,t})(),Rt=function(t){return t.WebclientOpt="WEB_CLIENT_OPT",t.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",t.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",t.WebclientZtk="WEB_CLIENT_ZTK",t.WebclientZsk="WEB_CLIENT_ZSK",t.WebclientTk="WEB_CLIENT_TK",t.WebclientIVState="WEB_CLIENT_IV_STATE",t.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",t.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",t.WebclientZoomId="WEB_CLIENT_ZOOM_ID",t.WebclientUserName="WEB_CLIENT_USER_NAME",t.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",t.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",t.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",t.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",t.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",t.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",t.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",t.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",t}({}),lf=function(t){return t.WebclientDeviceId="WEBCLIENT_DEVICE_ID",t.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",t}({}),df=function(t){return t.EnforceWebRTCAudio="ENFORCE_WEB_RTC_AUDIO",t.DisableAutoReportLogs="DISABLE_AUTO_REPORT_LOGS",t}({});function Jn(t,i){const o=i.match(t);return o&&o.length>0&&o[1]||""}function Lv(t,i){const o=i.match(t);return o&&o.length>1&&o[2]||""}const La=/version\/(\d+(\.?_?\d+)+)/i,CN=[{test:[/opera/i],describe:t=>["Opera(Legacy)",Jn(La,t)||Jn(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/opr\/|opios/i],describe:t=>["Opera",Jn(/(?:opr|opios)[\s/](\S+)/i,t)||Jn(La,t)]},{test:[/SamsungBrowser/i],describe:t=>["Samsung Internet for Android",Jn(La,t)||Jn(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/micromessenger/i],describe:t=>["WeChat",Jn(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Jn(La,t)]},{test:[/qqbrowser/i],describe:t=>[/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser",Jn(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Jn(La,t)]},{test:[/msie|trident/i],describe:t=>["Internet Explorer",Jn(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t)]},{test:[/\sedg\//i],describe:t=>["Microsoft Edge",Jn(/\sedg\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/edg([ea]|ios)/i],describe:t=>["Microsoft Edge(Legacy)",Lv(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/firefox|iceweasel|fxios/i],describe:t=>["Firefox",Jn(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t)]},{test:[/electron/i],describe:t=>["Electron",Jn(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t)]},{test:[/chromium/i],describe:t=>["Chromium",Jn(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Jn(La,t)]},{test:[/chrome|crios|crmo/i],describe:t=>["Chrome",Jn(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t)]},{test:t=>!/like android/i.test(t)&&/android/i.test(t),describe:t=>["Android Browser",Jn(La,t)]},{test:[/safari|applewebkit/i],describe:t=>["Safari",Jn(La,t)]}],JE=[{test:[/windows /i],describe:t=>["Windows",Jn(/Windows ((NT|XP)( \d\d?.\d)?)/i,t)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:t=>["iOS",Lv(/(Version\/)(\d[\d.]+)/,t)]},{test:[/macintosh/i],describe:t=>["macOS",Jn(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:t=>["iOS",Jn(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".")]},{test:t=>!/like android/i.test(t)&&/android/i.test(t),describe:t=>["Android",Jn(/android[\s/-](\d+(\.\d+)*)/i,t)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}];class xF{constructor(){this.value=void 0,this.gpu=void 0}get isSupported(){if(void 0===this.value)if("function"==typeof window.OffscreenCanvas){const i=new OffscreenCanvas(1,1);i.addEventListener("webglcontextlost",a=>{a.preventDefault()});const o=i.getContext("webgl");if(this.value=!!o,o){const a=o.getExtension("WEBGL_debug_renderer_info");a&&(this.gpu=o.getParameter(a.UNMASKED_RENDERER_WEBGL))}}else this.value=!1;return this.value}}const Re=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._offscreenCanvasCapality=void 0,this._clientHintsData=void 0,this._offscreenCanvasCapality=new xF,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then(t=>{this._clientHintsData=t,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)}).catch(t=>{console.warn(t)})}_getBrowserVersion(){var t,i;if(null!==(t=this._clientHintsData)&&void 0!==t&&null!==(i=t.brands)&&void 0!==i&&i.length){const o=this._clientHintsData.brands.filter(c=>!/(Chromium|Not.*Brand)/i.test(c.brand))[0];o&&(this._browser=o.brand);const a=this._clientHintsData.brands.find(c=>{var l;return"chromium"===(null===(l=c.brand)||void 0===l?void 0:l.toLowerCase())});a?(this._browserVersion=a.version,this._browser||(this._browser=a.brand)):this._browserVersion=o.version}else{const o=navigator.userAgent,a=CN.find(c=>"function"==typeof c.test?c.test(o):c.test.some(l=>l.test(o)));if(a){const c=a.describe(o);this._browser=c[0],this._browserVersion=c[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var t,i;if(null!==(t=this._clientHintsData)&&void 0!==t&&t.platform&&null!==(i=this._clientHintsData)&&void 0!==i&&i.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const o=navigator.userAgent,a=JE.find(c=>"function"==typeof c.test?c.test(o):c.test.some(l=>l.test(o)));if(a){const c=a.describe(o);this._os=c[0],this._osVersion=c[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return"Internet Explorer"===this.browser}get isLegacyEdge(){return"Microsoft Edge(Legacy)"===this.browser}get isLegacyOpera(){return"Opera(Legacy)"===this.browser}get isFirefox(){return"Firefox"===this.browser}get isSafari(){return"Safari"===this.browser}get isChrome(){var t,i,o;if(null!==(t=this._clientHintsData)&&void 0!==t&&null!==(i=t.brands)&&void 0!==i&&i.length)return null===(o=this._clientHintsData)||void 0===o?void 0:o.brands.some(c=>{var l;return"chromium"===(null===(l=c.brand)||void 0===l?void 0:l.toLocaleLowerCase())});const{userAgent:a}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(a)&&/webkit/i.test(a)}get isLegacyChrome(){var t;return this.isChrome&&"function"!=typeof(null===(t=navigator.mediaDevices)||void 0===t?void 0:t.getDisplayMedia)}get isMacOS(){return"macOS"===this.os}get isIPad(){var t;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&(null===(t=navigator)||void 0===t?void 0:t.maxTouchPoints)>2}get isIOSMobile(){return"iOS"===this.os||this.isIPad}get architecture(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.architecture)&&void 0!==t?t:""}get isArm(){return this.architecture?"arm"===this.architecture:/arm/i.test(navigator.userAgent)}get isChromeOS(){return"Chrome OS"===this.os}get isAndroidBrowser(){var t;return"android"===(null===(t=this.os)||void 0===t?void 0:t.toLowerCase())}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return"object"==typeof WebAssembly&&"function"==typeof Worker}get isSupportAudioWorklet(){return"function"==typeof AudioWorklet}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){return"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){return this._offscreenCanvasCapality.isSupported}get gpu(){return this._offscreenCanvasCapality.isSupported?this._offscreenCanvasCapality.gpu:""}get bitness(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.bitness)&&void 0!==t?t:""}get model(){var t,i;return null!==(t=null===(i=this._clientHintsData)||void 0===i?void 0:i.model)&&void 0!==t?t:""}get wow64(){var t;if("windows"===this.os.toLowerCase())return null===(t=this._clientHintsData)||void 0===t?void 0:t.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getDisplayMedia}};function mr(){return Re.isAndroidOrIOSBrowser||!!rt.get(df.EnforceWebRTCAudio)}const IN=()=>Re.isIE,ZE=()=>{var t;return Re.isSupportOffscreenCanvas&&(null===(t=navigator)||void 0===t?void 0:t.hardwareConcurrency)>=2&&"function"==typeof requestAnimationFrame&&"function"==typeof SharedArrayBuffer},pf=(t,i)=>{var o;const{isSafari:a,isIOSMobile:c,isSupportMediaStreamTrackProcessor:l,isAndroidOrIOSBrowser:p,isArmChromeOS:h,isChromeOS:g,isArm:v,isSupportOffscreenCanvas:y,isIPad:b}=Re;if(!ZE()){const I="function"!=typeof window.SharedArrayBuffer&&(!(!a&&!c)||l&&y);return t&&I?i?25:navigator.hardwareConcurrency<4?2:4:1}return p?i?25:b?9:4:h||g&&!v?navigator.hardwareConcurrency>=4?9:2:(null===(o=navigator)||void 0===o?void 0:o.hardwareConcurrency)<4?2:25};function _N(){var t;return"webkit"in window&&!("chrome"in window)&&!(null===(t=window.webkit.messageHandlers)||void 0===t||!t.jsOCHelper)}function YE(){var t;const{isAndroidBrowser:i,isIOSMobile:o,osVersion:a,browserVersion:c,isChrome:l,isFirefox:p,isSafari:h}=Re;var g,v;if(o)return Number(null===(g=a.match(/^\d+/))||void 0===g?void 0:g[0])>=15;if(i)return Number(null===(v=a.match(/^\d+/))||void 0===v?void 0:v[0])>=10;const y=Number(null===(t=c.match(/^\d+/))||void 0===t?void 0:t[0]);return!!(l&&y>=69)||!!(h&&y>14)||!!(p&&y>=76)}let Rr=function(t){return t.VIDEO_ENCODE="0",t.VIDEO_DECODE="1",t.AUDIO_ENCODE="2",t.AUDIO_DECODE="3",t.SHARING_ENCODE="4",t.SHARING_DECODE="5",t}({}),xv=function(t){return t[t.NONE=0]="NONE",t[t.AES_256=1]="AES_256",t[t.AES_GCM=2]="AES_GCM",t}({});const Jr=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),Fv=(window.crypto||window.msCrypto).subtle,pl=Rt.WebclientIVState,VD=Object.keys(Jr).map(t=>Jr[t].sessionType);let Oo=(()=>{class t{constructor(o,a,c){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(o,a,c),rt.set(pl,{},Tt.SessionStorage)}static init(o,a,c){this.instance?this.instance.resetParameters(o,a,c):this.instance=new t(o,a,c)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(o,a,c){this.isGCMEnabled=!(Re.isIE||!Re.isSupportEssentialAudioAndVideoAbility)&&c===xv.AES_GCM,this.gcmSessionKey=Bi(a),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(o)}beginCrypto(o,a,c){const l=new Uint32Array(1);l[0]=9,l[0]+=Number(c);const p=new Uint8Array(l.buffer);let h=new Uint8Array(132);const g=Bi(a);return h.set(g,0),h.set(p,g.length),h=h.subarray(0,g.length+4),Fv.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(v=>Fv.sign({name:"HMAC"},v,h)).then(v=>Fv.importKey("raw",v,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))}getNextIV(o){const a=rt.get(pl);return void 0===a[o]?(a[o]=0,rt.set(pl,a,Tt.SessionStorage)):rt.set(pl,c=>({...c,[o]:c[o]+1}),Tt.SessionStorage)}resetIVState(){const o=rt.get(pl);if(void 0!==o){const a=Object.keys(o).filter(c=>VD.indexOf(c)>-1);a.length>0&&(a.forEach(c=>{o[c]+=1e6}),rt.set(pl,o,Tt.SessionStorage))}}static resetIV(){if(void 0===this.instance)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt(o){let{text:a,type:c}=o;const l=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const g=this.instance.getNextIV(c.sessionType),v=new ArrayBuffer(12),y=new Uint8Array(v);new DataView(v).setUint32(0,g,!0);let b=null;return b="BO_BROADCAST"===c.sessionType||"XMPP_CHAT"===c.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(b,this.instance.zoomId,c.gcmType).then(E=>{const I=ArrayBuffer.isView(a)?a:(new TextEncoder).encode(a);return Fv.encrypt({name:"AES-GCM",iv:y,additionalData:l,tagLength:128},E,I)}).then(E=>{const w=new ArrayBuffer(1+y.byteLength+2+l.byteLength+4+E.byteLength);if(new Uint8Array(w)[0]=y.length,new Uint8Array(w,1,y.byteLength).set(y),new DataView(w).setUint16(1+y.byteLength,l.length,!0),new Uint8Array(w,3+y.byteLength).set(l),new DataView(w).setUint32(1+y.byteLength+2+l.byteLength,E.byteLength-16,!0),new Uint8Array(w,1+y.byteLength+2+l.byteLength+4).set(new Uint8Array(E)),c.sessionType===Jr.CHAT_FILE.sessionType)return w;const _=new Uint8Array(w).reduce((A,T)=>A+String.fromCharCode(T),"");return window.btoa(_).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")})}return Promise.resolve(ArrayBuffer.isView(a)?a:On(a))}static beginDecrypt(o){let{decryptedText:a,type:c,zoomId:l}=o;if(this.instance&&this.instance.isGCMEnabled){const p=ArrayBuffer.isView(a)||a instanceof ArrayBuffer?new Uint8Array(a):function(T){let M;const P=T.length,N=new Array(P);for(M=0;M<P;++M)N[M]=255&T.charCodeAt(M);return new Uint8Array(N)}(atob(a.replace(/_/g,"/").replace(/-/g,"+"))),h=p[0],g=p.slice(1,h+1),v=p.slice(1+h,3+h),y=new DataView(v.buffer).getUint16(0,!0),b=p.slice(1+h+2,1+h+2+y),E=p.slice(1+h+2+y,1+h+2+y+4),I=new DataView(E.buffer).getUint32(0,!0),w=p.slice(1+h+2+y+4,1+h+2+y+4+I),_=p.slice(1+h+2+y+4+I);let A=null;return A="BO_BROADCAST"===c.sessionType||"XMPP_CHAT"===c.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(A,l,c.gcmType).then(T=>{const M=function(P,N){P=new Uint8Array(P),N=new Uint8Array(N);const $=new Uint8Array(P.length+N.length);return $.set(P),$.set(N,P.length),$}(w,_);return Fv.decrypt({name:"AES-GCM",iv:g,additionalData:b,tagLength:8*_.length},T,M.buffer)}).then(T=>({message:c.sessionType===Jr.CHAT_FILE.sessionType?T:(new TextDecoder).decode(T),iv:g,aad:b})).catch(T=>({message:"[This is an encrypted message]",iv:g,aad:b}))}{const p=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(a)||a instanceof ArrayBuffer?a:p.decode(Bi(a))})}}}return t.instance=void 0,t})();const UD=20234,vn=7937,mi=7938,Vv=12039,Vu=16138;let yn=function(t){return t[t.NoAttendee=0]="NoAttendee",t[t.All=1]="All",t[t.AllPanelist=2]="AllPanelist",t[t.Host=3]="Host",t[t.NoOne=4]="NoOne",t[t.EveryonePublicly=5]="EveryonePublicly",t}({}),hl=function(t){return t[t.AllPanelist=1]="AllPanelist",t[t.Everyone=2]="Everyone",t[t.Invalid=0]="Invalid",t}({}),nn=function(t){return t[t.All=0]="All",t[t.Panelist=1]="Panelist",t[t.IndividualCcPanelist=2]="IndividualCcPanelist",t[t.Individual=3]="Individual",t[t.SilentModeUsers=4]="SilentModeUsers",t}({}),Bv=function(t){return t[t.None=0]="None",t[t.Delete=1]="Delete",t[t.Modify=2]="Modify",t}({}),Ki=function(t){return t[t.Success=0]="Success",t[t.Delete=1]="Delete",t[t.Block=3]="Block",t}({});const BD=[yn.All,yn.Host,yn.NoOne,yn.EveryonePublicly],HD=[yn.NoOne,yn.All,yn.AllPanelist],ff={AllPanelist:11,Everyone:12},wN={[ff.AllPanelist]:hl.AllPanelist,[ff.Everyone]:hl.Everyone},Hv={userId:nn.All,displayName:"Everyone",isHost:!1,isCoHost:!1},Jt={userId:nn.Panelist,displayName:"All panelists"},e0={userId:nn.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let gf=function(t){return t[t.Local=0]="Local",t[t.ThirdParty=1]="ThirdParty",t}({}),rn=function(t){return t[t.ChunkSize=20971520]="ChunkSize",t[t.EncodeBlockSize=32768]="EncodeBlockSize",t[t.DecodeBlockSize=32803]="DecodeBlockSize",t[t.MaxSize=2147483648]="MaxSize",t[t.ReaderChunkSize=1073741824]="ReaderChunkSize",t}({}),rr=function(t){return t[t.Init=0]="Init",t[t.InProgress=1]="InProgress",t[t.Success=2]="Success",t[t.Fail=3]="Fail",t[t.Cancel=4]="Cancel",t[t.Complete=5]="Complete",t}({}),Wo=function(t){return t[t.InProgress=1]="InProgress",t[t.Success=2]="Success",t[t.Fail=3]="Fail",t[t.Cancel=4]="Cancel",t}({});const tp={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let pn=function(t){return t.Open="open",t.Message="message",t.Error="error",t.Close="close",t.Inactive="inactive",t}({});class $D{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.eventHandlers=new Map,this.websocket=null,this.seq=1}on(i,o){let a=this.eventHandlers.get(i);a||(a=[]),a.push(o),this.eventHandlers.set(i,a)}off(i,o){const a=this.eventHandlers.get(i);if(a){const c=a.filter(l=>l!==o);this.eventHandlers.set(i,c)}}emit(i,o){const a=this.eventHandlers.get(i);a&&a instanceof Array&&a.slice(0).forEach(c=>{try{c(o)}catch(l){console.error(l)}})}sendMessageToRwg(i){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(i,{seq:o}))),o}connect(i){this.websocket=new WebSocket(i),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var i;null===(i=this.websocket)||void 0===i||i.close()}addHeartBeat(){const o=setInterval(()=>{this.isAlive||this.emit(pn.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1},Re.isAndroidOrIOSBrowser?15e3:2e4);this.intervalsToBeCleardWhenSocketClose.push(o)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach(i=>clearInterval(i)),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",i=>{this.addHeartBeat(),this.emit(pn.Open,i)}),this.websocket.addEventListener("message",i=>{this.isAlive=!0,this.emit(pn.Message,i)}),this.websocket.addEventListener("close",i=>{this.clearIntervals(),this.emit(pn.Close,i)}),this.websocket.addEventListener("error",i=>{this.clearIntervals(),this.emit(pn.Error,i)}))}sendLaunchParams(i){return{seq:this.sendMessageToRwg({evt:4301,body:i})}}joinMeeting(i){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:i}})}}lockMeeting(i){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:i}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(){return{seq:this.sendMessageToRwg({evt:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?4364:4103,body:{}})}}recordMeeting(i,o){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:i,bPause:o}})}}localRecordingGrantPermission(i,o,a){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"permission_request_answer",userId:i,agreed:o,saveAgreed:a}})}}hostGrantPermission(i,o){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"grant_permission",userId:i,grant:o}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"request_permission"}})}}localRecordingMeeting(i){return{seq:this.sendMessageToRwg({evt:4343,body:{cmdType:"change_recording_status",status:i}})}}summaryMeeting(i){return{seq:this.sendMessageToRwg({evt:8009,body:{type:i?"start":"stop"}})}}startMeetingQuery(i){return{seq:this.sendMessageToRwg({evt:8017,body:{type:i?"start":"stop"}})}}allowSelfRecord(i){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:i}})}}enableZoomIQRecord(i){return{seq:this.sendMessageToRwg({evt:4318,body:{check:i}})}}expel(i){return{seq:this.sendMessageToRwg({evt:4107,body:{id:i}})}}expelAttendee(i){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:i}})}}rename(i,o,a){return{seq:this.sendMessageToRwg({evt:4109,body:{id:i,dn2:o,olddn2:a}})}}assignHost(i,o){return{seq:this.sendMessageToRwg({evt:4111,body:{id:i,bCoHost:o}})}}reclaimHost(i){return{seq:this.sendMessageToRwg({evt:4133,body:{id:i,bCoHost:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}})}}revokeCoHost(i){return{seq:this.sendMessageToRwg({evt:4195,body:{id:i}})}}putOnHold(i,o){return{seq:this.sendMessageToRwg({evt:4113,body:{id:i,bHold:o}})}}setMuteOnEntry(i){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:i}})}}setHoldOnEntry(i){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:i}})}}inviteCRCDevice(i,o){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:i,type:o,encrypt:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2}})}}cancelInviteCRCDevice(i){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:i}})}}sendCloseCaption(i){return{seq:this.sendMessageToRwg({evt:4125,body:{...i}})}}allowViewParticipantNumber(i){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:i}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(i,o){return{seq:this.sendMessageToRwg({evt:4131,body:{id:i,bOn:o}})}}chat(i,o,a,c){const l={text:i,destNodeID:o};return a&&Object.assign(l,{sn:a}),c&&Object.assign(l,{attendeeNodeID:c}),{seq:this.sendMessageToRwg({evt:4135,body:l})}}assignCC(i,o){return{seq:this.sendMessageToRwg({evt:4137,body:{id:i,bCCEditor:o}})}}enableLT(i){return{seq:this.sendMessageToRwg({evt:4227,body:{op:i?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(i){return{seq:this.sendMessageToRwg({evt:4305,body:{type:4,disableNewLtt:i}})}}enableManualCaption(i){return{seq:this.sendMessageToRwg({evt:4291,body:{op:i?1:0}})}}setTranslationLanguage(i){return void 0!==i?{seq:this.sendMessageToRwg({evt:4305,body:{type:1,lang:i}})}:{seq:this.sendMessageToRwg({evt:4305,body:{type:3}})}}setSpokenLanguage(i){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:i}})}}allowAskLT(i){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:i}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(i){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:i}})}}setChatPriviledge(i){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:i}})}}setPanelistChatPrivilege(i){if(!Object.values(ff).includes(i))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:i}})}}sendFeedback(i){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:i}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(i){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:i}})}}allowUnmuteAudio(i){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:i}})}}allowRaiseHand(i){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:i}})}}boToken(i){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:i}})}}startBO(i){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:i}})}}stopBO(i){return{seq:this.sendMessageToRwg({evt:4177,body:{status:i}})}}assignToBO(i,o){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:i,targetBID:o}})}}switchBO(i,o){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:i,targetBID:o}})}}wantJoinBO(i,o){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:i,targetBID:o}})}}joinBO(i){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:i}})}}leaveBO(){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}})}}broadcastBO(i){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:i}})}}askForHelpBO(i){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:i}})}}askForHelpResultBO(i,o){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:i,helpResult:o}})}}coHostStartBO(i,o){return{seq:this.sendMessageToRwg({evt:4241,body:{proto:i,targetID:o}})}}coHostStopBO(i,o){return{seq:this.sendMessageToRwg({evt:4243,body:{status:i,targetID:o}})}}coHostAssignToBO(i,o,a){return{seq:this.sendMessageToRwg({evt:4245,body:{userGUID:i,targetID:a,targetBID:o}})}}moveToMainSession(i){return{seq:this.sendMessageToRwg({evt:4247,body:{userGUID:i}})}}coHostMoveToMainSession(i,o){return{seq:this.sendMessageToRwg({evt:4249,body:{userGUID:i,targetID:o}})}}allowParticipantRename(i){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:i}})}}allowMessageFeedbackNotify(i,o){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:i,id:o}})}}setPlayChime(i,o){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:i,id:o}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(i,o,a){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:i,targetUserID:o,bBind:a}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(i,o,a,c){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:o,userID:a,clientCap:c,bPromote:i}})}}sendPromoteConsent(i,o){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:i,req_id:o}})}}batchCreateBOToken(i){const o=i.map((a,c)=>({topic:a,index:c}));return{seq:this.sendMessageToRwg({evt:4211,body:o})}}mute(i,o){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:o,id:i}})}}audioDrop(i){return{seq:this.sendMessageToRwg({evt:8195,body:{id:i}})}}audioDialout(i,o,a,c,l){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:i,dn2:On(o),bCallme:a,bPressOne:c,bGreeting:l}})}}audioCancelDialout(i,o){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:i,bCallme:o}})}}audioMuteAll(i){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:i}})}}allowToTalk(i,o){return{seq:this.sendMessageToRwg({evt:8204,body:{id:i,bAllowTalk:o}})}}subscribeVideo(){return{seq:this.sendMessageToRwg({evt:12289,body:{id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,size:arguments.length>1?arguments[1]:void 0,bOn:arguments.length>2?arguments[2]:void 0}})}}unsubscribeVideo(){return{seq:this.sendMessageToRwg({evt:12291,body:{id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}})}}muteAttendeeVideo(i,o){return{seq:this.sendMessageToRwg({evt:12297,body:{id:i,bOn:o}})}}notifyRwgIsMuteVideo(i,o){return this.muteAttendeeVideo(i,o)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(i,o){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:i,bOn:o}})}}allowViewAll(i,o){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:i,bOn:o}})}}allowVote(i,o){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:i,bOn:o}})}}allowComment(i,o){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:i,bOn:o}})}}sharingRequestRemoteControl(i,o){return{seq:this.sendMessageToRwg({evt:16389,body:{id:i,bOn:o}})}}subscribeGrabRemoteControl(i,o){return{seq:this.sendMessageToRwg({evt:16393,body:{id:i,bOn:o}})}}subscribeSharing(i,o,a,c){const l={id:i,size:o};return a&&Object.assign(l,{bShareToBO:!0}),void 0!==c&&Object.assign(l,{bVideoShare:c}),{seq:this.sendMessageToRwg({evt:16415,body:l})}}unsubscribeSharing(i,o){const a={id:i};return o&&Object.assign(a,{bShareToBO:!0}),{seq:this.sendMessageToRwg({evt:16417,body:a})}}sendRWGConnectionPerformance(i){return{seq:this.sendMessageToRwg({evt:4167,body:{data:i}})}}sendSdkKeyToMonitor(i,o,a){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${a},2,${o},${i}`}})}}sendDatachannelOffer(i){return{seq:this.sendMessageToRwg({evt:24321,offer:i})}}joinOrLeaveVoip(i){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:i}})}}startSharing(i,o){return{seq:this.sendMessageToRwg({evt:16409,body:{id:i,boOn:!1,...o??{}}})}}stopSharing(i){return{seq:this.sendMessageToRwg({evt:16409,body:{id:i,bOn:!0}})}}lockSharing(i){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:i}})}}startShareToBreakoutRoom(i){return{seq:this.sendMessageToRwg({evt:16425,body:{id:i,bShareToBO:!0}})}}stopShareToBreakoutRoom(i){return{seq:this.sendMessageToRwg({evt:16425,body:{id:i,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(i){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:i}})}}allowMultiplePin(i,o){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:i,bOn:o}})}}spotlightVideo(i,o){return{seq:this.sendMessageToRwg({evt:4219,body:{id:i,...o}})}}connectCamera(i,o){return{seq:this.sendMessageToRwg({evt:12307,body:{id:i,bOn:o}})}}followHostLayout(i){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:i}})}}setVideoDragLayout(i){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:i}})}}chatCmdReq(i,o){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:i,cmd:o}})}}activeAppLinkReq(i){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:i}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(i,o){const a={bOn:!0,bShareAudio:!i};return o&&Object.assign(a,{bShareAudioOnly:!0}),{seq:this.sendMessageToRwg({evt:16423,body:a})}}localMuteAudio(i,o){return{seq:this.sendMessageToRwg({evt:8209,body:{id:i,bMute:o}})}}changeSharePronoun(i,o){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:i,strPronoun:o}})}}sendReceivingSharingReady(i){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:i}})}}sendManualCaption(i){return{seq:this.sendMessageToRwg({evt:4289,body:{...i}})}}sendPollingAction(i,o,a){return{seq:this.sendMessageToRwg({evt:4224,body:{action:i,PollingId:o,...a}})}}broadcastUserNetworkQuality(i){return{seq:this.sendMessageToRwg({evt:4331,body:{type:i.isUplink,level:i.level,bwLevel:i.bwLevel}})}}sendFarEndCameraControl(i,o,a){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:i,userID:o,buttonID:a}})}}sendCameraAblity(i){return{seq:this.sendMessageToRwg({evt:4330,body:{...i,focus:!1}})}}sendReaction(i){return{seq:this.sendMessageToRwg({evt:4259,body:{...i}})}}remoteControlConsent(i,o,a,c){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=arguments.length>5?arguments[5]:void 0;const{deviceId:h,...g}=c;return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:h,op:i,SendUserID:a,AssignUserID:o,...g,bAutoDelete:l,...void 0!==p?{runAsAdmin:p}:{}}})}}takeBackRemoteControlPermission(i,o){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:i,ReceiverUserID:o}})}}syncSharedContentMetaWithRcApp(i){const{deviceId:o,...a}=i;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:o,...a}})}}startLiveStream(i,o,a){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:i,streamingKey:o,broadcastURL:a}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(i){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:i}})}}chatFileTransfer(i){return{seq:this.sendMessageToRwg({evt:4307,body:{...i,fileType:0,receiverType:0}})}}broadcastVoiceReq(i){return{seq:this.sendMessageToRwg({evt:4314,body:{broadcastVoice:i}})}}}let Ot=(()=>{class t extends $D{static createAgent(){return this.rwgInstance||(this.rwgInstance=new t),this.rwgInstance}}return t.rwgInstance=null,t})(),DN=(()=>{class t extends $D{static getInstance(){return this.instance||(this.instance=new t),this.instance}}return t.instance=null,t})();const ms=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"js_audio_level_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioLevelWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"}],GD=(t,i)=>ms.reduce((o,a)=>{const{name:c,alias:l}=a;return Object.assign(o,{[`${l}`]:`${t}/${i?"1507_":""}${c}`}),o},{});let Or=function(t){return t.VideoEncode="0",t.VideoDecode="1",t.AudioEncode="2",t.AudioDecode="3",t.SharingEncode="4",t.SharingDecode="5",t}({});const ju=Rt.WebclientIVState;let Ye=(()=>{class t{static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new t),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.mediaSocketAddress=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(o){if(!this.instance&&window.JsMediaSDK_Instance){const a={ivObj:{[Rr.AUDIO_ENCODE]:rt.get(ju)&&rt.get(ju)[Rr.AUDIO_ENCODE],[Rr.VIDEO_ENCODE]:rt.get(ju)&&rt.get(ju)[Rr.VIDEO_ENCODE],[Rr.SHARING_ENCODE]:rt.get(ju)&&rt.get(ju)[Rr.SHARING_ENCODE]},globalTracingLogger:o};this.instance=new window.JsMediaSDK_Instance(a),this.instance.setRWGAgent(Ot.createAgent())}}setAssetsAndConstraint(o,a,c,l){var p;this.assetsPath=o,this.constraints=a,this.mediaWorkersPath=GD(this.assetsPath,!!c),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=l,null===(p=this.instance)||void 0===p||p.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,l)}onMediaSDKCallback(o,a){this.callbackList.length>0&&this.callbackList.forEach(c=>c(o,a))}registerCallback(o){this.callbackList.push(o)}unregisterCallback(o){this.callbackList=this.callbackList.filter(a=>a!==o)}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var o;return Re.isSupportOffscreenCanvas&&0==(null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.AdapterWhiteListCheckForEncoder())}static getPTZCapability(){var o,a,c,l,p,h,g,v,y;return{pan:!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportCameraPan)||void 0===c||!c.call(a)),tilt:!(null===(l=window.JsMediaSDK_Instance)||void 0===l||null===(p=l.util)||void 0===p||null===(h=p.isSupportCameraTilt)||void 0===h||!h.call(p)),zoom:!(null===(g=window.JsMediaSDK_Instance)||void 0===g||null===(v=g.util)||void 0===v||null===(y=v.isSupportCameraZoom)||void 0===y||!y.call(v))}}static isSupportVideoShare(){var o,a,c;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportVideoShareReceive)||void 0===c||!c.call(a))}static isSupportVideoShareSend(){var o,a,c;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||null===(c=a.isSupportVideoShareSend)||void 0===c||!c.call(a))}static isSupportSending720P(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||!a.get720pcapacity())}static isSupportSubscribing1080P(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util)||void 0===a||!a.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportOpenMicWhenShareAudio())}static isSupportMediaPlaybackAsVideoInput(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util.videoToMediaStreamManager)||void 0===a||!a.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var o,a;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||null===(a=o.util.audioToMediaStreamMananger)||void 0===a||!a.isSupported())}static isSupportAudioDenoise(o){var a;return!(null===(a=window.JsMediaSDK_Instance)||void 0===a||!a.util.isSupportAudioDenoise(o))}static isSupportAudioBridgeAVSync(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.getAudioFeatureFlags()}static isSupportShareMultiStream(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var o;return null===(o=window.JsMediaSDK_Instance)||void 0===o?void 0:o.util.isSupportVideoLTR()}static isSupportStereoAudio(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isBrowserSupportStereo())}static isSupportFullHDVideo(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportSendVideoFullHD())}static isSupportFullHDVideoShare(){var o;return!(null===(o=window.JsMediaSDK_Instance)||void 0===o||!o.util.isSupportSendVideoShareFullHD())}static isSupportShare2ndAudioDevice(o){var a;return!(null===(a=window.JsMediaSDK_Instance)||void 0===a||!a.util.isSupportShare2ndAudioDevice(o))}connect(o){var a,c,l,p,h,g;let{svcUrl:v,meetingNumber:y,conId:b,e2eEncrypt:E,isViewOnly:I,currentUserId:w,isWebinar:_,enableAudioQos:A,enableVideoQos:T=!1,enableWebtransport:M=!1,webtransportPort:P,rendererType:N,adaptedABOptionForMediaSDK:$}=o;const{isSupportEssentialAudioAndVideoAbility:V,isSupportAudioWorklet:L,isSupportSendScreenSharing:Q}=Re;this.svcUrl=v,this.meetingNumber=y,this.confId=b;const Y={videoSocketAddress:`wss://${De=v}/wc/media/${Ue=y}?type=v&cid=${Be=b}`,audioSocketAddress:`wss://${De}/wc/media/${Ue}?type=a&cid=${Be}`,sharingSocketAddress:`wss://${De}/wc/media/${Ue}?type=${IN()?"j":"s"}&cid=${Be}`};var De,Ue,Be;this.mediaSocketAddress=Y,this.currentUserId=w;const z=pf(null===(a=this.mediaOptions)||void 0===a?void 0:a.enableMultiDecodeVideoWithoutSAB);var j,O,k,H,U,K,re,te,me,Ne;null===(c=this.instance)||void 0===c||c.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:V?null===(l=this.mediaWorkersPath)||void 0===l?void 0:l.audioWorkletPath:void 0,e2eEncrypt:E,isEnableListenInitEvent:!0,enableWebtransport:M,webtransportPort:P,featureOptions:$,rendererType:N}),!0===(null===(p=this.constraints)||void 0===p?void 0:p.audio)&&V&&!mr()&&((_||L)&&(null===(j=this.instance)||void 0===j||j.initAudioDecode(this.mediaWorkersPath,Y.audioSocketAddress,w,Ou,b,y,z,A)),!L||_&&I||null===(O=this.instance)||void 0===O||O.initAudioEncode(this.mediaWorkersPath,Y.audioSocketAddress,w,Ou,b,y,z,A)),!0===(null===(h=this.constraints)||void 0===h?void 0:h.video)&&V&&(null===(k=this.instance)||void 0===k||k.initVideoDecode(this.mediaWorkersPath,Y.videoSocketAddress,w,Ou,b,y,z,null===(H=null===(U=window.JsMediaSDK_Instance)||void 0===U||null===(K=U.util)||void 0===K?void 0:K.isGraphicShouldUseHardwareAccelerationDecode())||void 0===H||H,T),_&&I||null===(re=this.instance)||void 0===re||re.initVideoEncode(this.mediaWorkersPath,Y.videoSocketAddress,w,Ou,b,y,z,!1,T,!0,!0)),!0===(null===(g=this.constraints)||void 0===g?void 0:g.screen)&&(V?(null===(te=this.instance)||void 0===te||te.initSharingDecode(this.mediaWorkersPath,Y.sharingSocketAddress,w,Ou,b,y,z),!Q||_&&I||null===(me=this.instance)||void 0===me||me.initSharingEncode(this.mediaWorkersPath,Y.sharingSocketAddress,w,Ou,b,y,z)):null===(Ne=this.instance)||void 0===Ne||Ne.initSharingDecode(Y.sharingSocketAddress)),this.inProgress=!0}destroy(){var o=this;return Oe(function*(){var a;o.callbackList=[],[Or.AudioDecode,Or.AudioEncode,Or.VideoDecode,Or.VideoEncode].forEach(l=>{var p;null===(p=o.instance)||void 0===p||p.updateQosSubscription(!1,l)});const c=null===(a=o.instance)||void 0===a?void 0:a.destroy.bind(o.instance);o.instance=null,o.inProgress=!1,yield c?.()})()}disconnect(){var o,a;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(17,{}),null===(a=this.instance)||void 0===a||a.JsMediaSDK_UnInit()}muteAudio(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(o,a,c,l,p,h,g){var v;const y=g?{...g,enableHID:!0}:{enableHID:!1};return null===(v=this.instance)||void 0===v?void 0:v.Notify_MeidaSDK(22,{CaptureAudio:l,CaptureAudioInfo:{ssrc:o,AudioSelectValue:"default"===a?null:a,...y,audioProfile:p},speakerInfo:{defaultDeviceId:c},...h?{useAudioBridge:!0,audioBridge:h}:{}})}leaveComputerAudio(){var o;return null===(o=this.instance)||void 0===o?void 0:o.Notify_MeidaSDK(21,null)}joinSharingAudio(o){var a;let{ssrc:c,microphoneDeviceId:l,speakerDeviceId:p,isCaptureAudio:h,audioBridge:g}=o;return null===(a=this.instance)||void 0===a?void 0:a.Notify_MeidaSDK(72,{CaptureAudio:h,CaptureAudioInfo:{ssrc:c,AudioSelectValue:"default"===l?null:l},speakerInfo:{defaultDeviceId:p},checkAutoplay:!1,...g?{useAudioBridge:!0,audioBridge:g}:{}})}leaveSharingAudio(o){var a;return null===(a=this.instance)||void 0===a?void 0:a.Notify_MeidaSDK(73,{isPause:o?1:0})}changeSpeaker(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:o})}changeMicrophone(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:"default"===o?null:o,microphoneLabel:a??"default",defaultMuted:c})}restoreWebRTC(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:"default"===o?null:o})}renderVideo(o,a,c,l,p,h,g,v,y,b,E){var I;const w={userId:a,width:l,height:p,x:h,y:g,quality:v,isMyself:y,canvas:o,enableWaterMark:E,waterMarkText:b,zone:c};o instanceof HTMLVideoElement&&Object.assign(w,{videodom:o}),null===(I=this.instance)||void 0===I||I.Notify_MeidaSDK(1,w)}stopRenderVideo(o,a,c,l){var p;null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(2,{canvas:o,userId:a,RGBA:l,doNotClean:arguments.length>4&&void 0!==arguments[4]&&arguments[4],zone:c})}startCaptureVideo(o,a,c,l,p,h){var g;let v=arguments.length>6&&void 0!==arguments[6]&&arguments[6],y=arguments.length>8?arguments[8]:void 0;const b=arguments.length>7&&arguments[7]?t.getPTZCapability():void 0;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(3,{ssid:o,width:c,height:l,fps:y,video:p,usingFacingMode:h,VideoSelectValue:"default"===a?null:a,disableOriginalRatio:v,...b})}stopCaptureVideo(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(12,{VideoSelectValue:"default"===o?null:o,usingFacingMode:!!a,...c||{}})}switchCanvasForVideoCapture(o){var a;let c=o;"string"==typeof o&&(c=[o]),null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(25,c)}renderSharing(o,a){var c;let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.receivedSharingCanvas=a,null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(23,{width:0,height:0,ssrc:o,canvas:a,enableWaterMark:l,waterMarkText:p,isFromMainSession:h})}stopRenderSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(24,{})}switchSharingSource(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(36,{ssrc:o,isFromMainSession:Number(arguments.length>1&&void 0!==arguments[1]&&arguments[1])})}ajustmentReceivedSharingCanvas(o,a){if(this.receivedSharingCanvas&&o&&a)try{if(Re.isAndroidOrIOSBrowser){const[c,l]=[1280,720],p=Math.max(o/c,a/l,1);this.receivedSharingCanvas.width=Math.floor(o/p),this.receivedSharingCanvas.height=Math.floor(a/p)}else this.receivedSharingCanvas.width=o,this.receivedSharingCanvas.height=a}catch{}}startRemoteControl(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:a,dom:o,...c})}stopRemoteControl(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(41)}updateRemoteControlProperties(o){var a;const{dimension:c,...l}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(27,{...c,...l})}startDesktopSharing(o,a,c,l){var p;let h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0,y=arguments.length>7?arguments[7]:void 0;this.sharingCanvas=a;const b={};l&&Object.assign(b,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:"default"===l.cameraId?null:l.cameraId,width:l.width,height:l.height}}),void 0!==g&&Object.assign(b,{videoParams:{displaySurface:g}}),void 0!==y&&Object.assign(b,{otherParams:{...y}}),null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(30,{ssid:o,canvas:a,video:c,...b,showShareAudioOption:h,sourceId:v})}stopDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(32,{})}resumeDesktopSharing(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(57,{lang:o})}changeSharingSecondCamera(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(49,{VideoSelectValue:o})}ajustmentSharingCanvas(o,a){if(this.sharingCanvas)try{this.sharingCanvas.width=o,this.sharingCanvas.height=a}catch{}}checkChromeSharingExtension(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(34,{})}enableAudioEncode(){var o,a;null===(o=this.instance)||void 0===o||o.initAudioEncode(this.mediaWorkersPath,this.mediaSocketAddress.audioSocketAddress,this.currentUserId,Ou,this.confId,this.meetingNumber,pf(null===(a=this.mediaOptions)||void 0===a?void 0:a.enableMultiDecodeVideoWithoutSAB))}sendUserNodeList(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(43,{userList:o,encryptKey:a})}updateRenderedSharingDimension(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(44,{width:o,height:a})}pauseOrResumeAudio(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(45,{bPause:o})}updateRenderedVideoCanvasDimension(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(46,{canvas:o,width:a,height:c})}clearVideoCanvas(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(47,{id:o,RGBA:a})}adjustRenderedVideoPosition(o,a,c,l,p,h,g,v){var y;null===(y=this.instance)||void 0===y||y.Notify_MeidaSDK(48,{userId:a,x:l,y:p,width:h,height:g,canvas:o,zone:c,RGBA:v})}mirrorVideo(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(75,{isMirrorMyVideo:o})}updateUserMediaSN(o){var a,c,l;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(80,{isFromMainSession:Number(o.isFromMainSession),mediaActionType:o.iVType,body:{add:null!==(c=o.added)&&void 0!==c?c:[],remove:null!==(l=o.removed)&&void 0!==l?l:[]}})}updateMediaParams(o){var a;const{iVType:c,isFromMainSession:l,updateParams:p}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(81,{mediaActionType:c,isFromMainSession:Number(l),updateParams:p})}createMainSessionChannel(o,a){var c,l;"sharing"===o?null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(84,a):null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(85,a)}addReceivedSharingChannelType(o){var a;const{isFromMainSession:c,...l}=o;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(82,{isFromMainSession:Number(c),...l})}removeReceivedSharingChannelType(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(83,{isFromMainSession:Number(o.isFromMainSession),ssrc:o.ssrc})}enableHardwareAccelerationForVideoDecode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(70,{enable:o})}enableHardwareAccelerationForVideoEncode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(71,{enable:o})}setSharingAudioVolume(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(74,{userid:o>>10,shareVolume:a?0:100,isFromMainSession:c})}subscribeToQos(o,a){o.forEach(c=>{var l;null===(l=this.instance)||void 0===l||l.updateQosSubscription(!0,c,a)})}unsubscribeFromQos(o){o.forEach(a=>{var c;null===(c=this.instance)||void 0===c||c.updateQosSubscription(!1,a)})}passThroughRWGMessage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(40,o)}startVirtualBackgroundSetting(o,a,c,l,p,h){var g;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(91,{canvas:o,bgdom:a,width:p,height:h,ssid:c,VideoSelectValue:"default"===l?null:l,disableOriginalRatio:arguments.length>6&&void 0!==arguments[6]&&arguments[6]})}updateVirtualBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(92,{bgdom:o})}stopVirtualBackgroundSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(93,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}startMaskSetting(o,a,c,l,p,h,g,v,y){var b;null===(b=this.instance)||void 0===b||b.Notify_MeidaSDK(62,{canvas:o,maskdom:c,bgdom:a,dx:0,dy:0,dWidth:h,dHeight:g,width:v,height:y,ssid:l,VideoSelectValue:"default"===p?null:p})}updateMaskBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(63,{bgdom:o})}updateMaskClip(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(64,{maskdom:o,dx:0,dy:0,dWidth:a,dHeight:c})}stopMaskSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(65,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}enableVideoObserver(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(99,{enable:o,fpsdisbale:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}enableShareAudioToBreakoutRoom(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(86,{enable:o})}sendUserAudioStatus(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(51,o)}muteOrUnmuteOtherAudio(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(50,{userId:o,volume:a?0:100})}adjustOtherAudioVolume(o,a){var c;null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(50,{userId:o,volume:a})}notifySDKMeetingReady(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(113)}movePTZCamera(o){var a,c;return null===(a=window.JsMediaSDK_Instance)||void 0===a||null===(c=a.util)||void 0===c?void 0:c.queryPTZPermisson().then(l=>{var p;return l?(null===(p=this.instance)||void 0===p||p.Notify_MeidaSDK(53,o),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")})}switchSharingMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(101,{mode:o})}updateVideoHDValue(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK("update_videohd_value",{videohd:o})}updateVideoFullhdValue(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:o})}changeAudioProfile(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(126,o)}enableSyncButtonsOnHeadset(o,a,c){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(100,{enable:o,microphoneLabel:a,defaultMuted:c})}stopAllIncomingAudio(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(123,o)}isSharingEntireScreen(){var o,a;const c=null===(o=this.instance)||void 0===o||null===(a=o.getShareStreamInfo)||void 0===a?void 0:a.call(o);if(c){const{displaySurface:l}=c;return!l||"monitor"===l}return!1}getShareStreamInfo(){var o,a;const c=null===(o=this.instance)||void 0===o||null===(a=o.getShareStreamInfo)||void 0===a?void 0:a.call(o);if(c){const{deviceId:l,width:p,height:h}=c;return{deviceId:l,width:p,height:h}}return{}}preInitAudioBridge(o){var a;null===(a=this.instance)||void 0===a||a.previewInit({audioBridge:{...o}})}prefetchVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(110,{ssrc:o})}cancelPrefetchVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(112,{ssrc:o,haddata:!1})}setMobileRotateMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(124,{isLandScape:o})}changeActiveVideoSsrc(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(13,{ssrc:o})}setAudioCodecMode(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(122,{mode:o})}startRemoteControlQRCheck(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(54,{enable:o})}broadcastVoiceToBreakoutRoom(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(87,{enable:o})}share2ndAudio(o,a){var c;const l={audioOnly:!0,deviceId:"default"===o?null:o};a&&Object.assign(l,a),null===(c=this.instance)||void 0===c||c.Notify_MeidaSDK(129,l)}}return t.agentInstance=void 0,t})();const xa="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Br="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",mf="ADD_USER_PARTICIPANT_ATTRIBUTE",yo="UPDATE_USER_PARTICIPANT_ATTRIBUTE",ut="REMOVE_USER_PARTICIPANT_ATTRIBUTE",Fa="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",AN="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE",zD="JOIN_MEETING_SUCCESS",Mn="JOIN_MEETING_FAILED",So="RECONNECTING_MEETING",Uu="LEAVING_MEETING",Bu="MEETING_IN_WAITING_ROOM",n0="UPDATE_MEETING_ATTRIBUTE",WD="SHARE_PRONOUN_TYPE_UPDATE";var vs=function(t){return t.ConnectionChange="connection-change",t.OnHoldChange="on-hold-change",t.UserAdd="user-added",t.UserUpdate="user-updated",t.UserRemove="user-removed",t.AttendeeUpdate="attendee-updated",t.MeetingAttributeUpdate="meeting-attribute-updated",t.PromoteAttendeeConsent="promote-attendee-consent",t.ActiveAppsUpdate="active-apps-updated",t.SharePronounTypeUpdate="share-pronoun-type-update",t}(vs||{});const TN={JoinMeeting:{success:xa,fail:[Mn]}},RN={[vs.ConnectionChange]:[{event:zD,payload:()=>({state:Wi.Connected})},{event:Mn,payload:t=>({state:Wi.Fail,...t})},{event:So,payload:t=>({state:Wi.Reconnecting,...t})},{event:Uu,payload:t=>({state:Wi.Closed,...t})}],[vs.OnHoldChange]:[{event:Bu,payload:t=>({isOnHold:t})}],[vs.UserAdd]:[{event:xa,payload:t=>[t]},{event:mf,payload:t=>t}],[vs.UserUpdate]:[{event:Br,payload:t=>[t]},{event:yo,payload:t=>t}],[vs.UserRemove]:[{event:ut,payload:t=>t}],[vs.AttendeeUpdate]:[{event:Fa,payload:t=>t},{event:AN,payload:t=>t}],[vs.MeetingAttributeUpdate]:[{event:n0,payload:t=>"bNoHostTimeOut"in t?{isHostLost:t.bNoHostTimeOut}:null}],[vs.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:t=>{let{req_id:i,sender_id:o}=t;return{reqId:i,senderId:o}}}],[vs.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[vs.SharePronounTypeUpdate]:[{event:WD,payload:t=>t}]},pe="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",ht="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",qD="LIVE_TRANSCRIPTION_STATUS_CHANGE",$v="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",ln={"caption-message":[{event:pe,payload:t=>t}],"caption-status":[{event:ht,payload:t=>t}],"caption-enable":[{event:qD,payload:t=>t}],"caption-host-disable":[{event:$v,payload:t=>t}]},Hu="CHAT_RECEIVE_MESSAGE_EVENTS",Xs="CHAT_PRIVILEGE_CHANGE",ys="CHAT_MESSAGE_RESPONSE",np="CHAT_DELETE_MESSAGE_REPONSE",Va="CHAT_FILE_CHAT_UPLOAD_PROGRESS",Gv="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let zv=function(t){return t.ChatOnMessage="chat-on-message",t.ChatPrivilegeChange="chat-privilege-change",t.ChatDeleteMessage="chat-delete-message",t.ChatFileUploadProgress="chat-file-upload-progress",t.ChatFileDownloadProgress="chat-file-download-progress",t}({});const KD={[zv.ChatOnMessage]:[{event:Hu,payload:t=>t}],[zv.ChatPrivilegeChange]:[{event:Xs,payload:t=>t}],[zv.ChatDeleteMessage]:[{event:np,payload:t=>t}],[zv.ChatFileUploadProgress]:[{event:Va,payload:t=>t}],[zv.ChatFileDownloadProgress]:[{event:Gv,payload:t=>t}]},bo="COMMAND_RECEIVE_MESSAGE_EVENTS",Ss="COMMAND_STATUS_EVENTS";let r0=function(t){return t.CommandChannelStatus="command-channel-status",t.CommandChannelMessage="command-channel-message",t}({});const bs={[r0.CommandChannelStatus]:[{event:Ss,payload:t=>t}],[r0.CommandChannelMessage]:[{event:bo,payload:t=>t}]};let vr=function(t){return t.Recording="Recording",t.Paused="Paused",t.Stopped="Stopped",t.Ask="Ask",t.Accept="Accept",t.Decline="Decline",t}({}),yr=function(t){return t[t.None=0]="None",t[t.Init=1]="Init",t[t.Start=2]="Start",t[t.Pause=3]="Pause",t[t.Stop=4]="Stop",t}({}),rp=function(t){return t[t.Stop=0]="Stop",t[t.Start=1]="Start",t[t.Pause=2]="Pause",t}({}),Mo=function(t){return t[t.None=0]="None",t[t.Deny=1]="Deny",t[t.Allow=2]="Allow",t}({}),ON=function(t){return t[t.None=0]="None",t[t.DenyAllRequest=1]="DenyAllRequest",t[t.AllowAllRequest=2]="AllowAllRequest",t}({});const fl="CLOUD_RECORDING_STATUS_CHANGE",op="CLOUD_RECORDING_ISO_STATUS_CHANGE",ip="LOCAL_RECORDING_CHANGE",vi="LOCAL_RECORDING_PERMISSION_CHANGE",QD="RECORDING_FOR_IQ_STATUS_CHANGE",o0="RECORDING_FOR_IQ_OPERATION_CHANGE";let ja=function(t){return t.RecordingChange="recording-change",t.IndividualRecordingChange="individual-recording-change",t.LocalRecordingChange="local-recording-change",t.LocalRecordingPermissionChange="local-recording-permission-change",t.MediaCaptureStatusChange="media-capture-status-change",t.MediaCapturePermissionChange="media-capture-permission-change",t.RecordingIqChange="recording-iq-change",t}({});const JD={[ja.RecordingChange]:[{event:fl,payload:t=>{const{cmrServerStatus:i}=t;return i===yr.Start?vr.Recording:i===yr.Pause?vr.Paused:vr.Stopped}}],[ja.IndividualRecordingChange]:[{event:op,payload:t=>t}],[ja.LocalRecordingChange]:[{event:ip,payload:t=>t}],[ja.LocalRecordingPermissionChange]:[{event:vi,payload:t=>t}],[ja.MediaCaptureStatusChange]:[{event:ip,payload:t=>t}],[ja.MediaCapturePermissionChange]:[{event:vi,payload:t=>t}],[ja.RecordingIqChange]:[{event:QD,payload:t=>t}]};let he=function(t){return t[t.InitSuccess=1]="InitSuccess",t[t.InitSuccessVideo=1.1]="InitSuccessVideo",t[t.InitSuccessAudio=1.2]="InitSuccessAudio",t[t.InitSuccessSharing=1.3]="InitSuccessSharing",t[t.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",t[t.CurrentVideoResolution=3]="CurrentVideoResolution",t[t.JpegDecThreadOk=4]="JpegDecThreadOk",t[t.JpegData=5]="JpegData",t[t.SharingPara=6]="SharingPara",t[t.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",t[t.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",t[t.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",t[t.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",t[t.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",t[t.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",t[t.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",t[t.MonitorLog=14]="MonitorLog",t[t.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",t[t.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",t[t.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",t[t.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",t[t.DataChannelOffer=19]="DataChannelOffer",t[t.AesGcmIvResponse=21]="AesGcmIvResponse",t[t.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",t[t.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",t[t.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",t[t.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",t[t.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",t[t.HidStatusMute=28]="HidStatusMute",t[t.AudioStreamFailed=31]="AudioStreamFailed",t[t.VideoStreamFailed=32]="VideoStreamFailed",t[t.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",t[t.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",t[t.AudioLevelIndicator=38]="AudioLevelIndicator",t[t.SyncRendererTypeResponse=39]="SyncRendererTypeResponse",t[t.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",t[t.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",t[t.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",t[t.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",t[t.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",t[t.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",t[t.VbModelPreloading_3S=96]="VbModelPreloading_3S",t[t.VbModelPreloading_10S=97]="VbModelPreloading_10S",t[t.VbModelPreloadingOk=98]="VbModelPreloadingOk",t[t.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",t[t.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",t[t.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",t[t.InitFailed=-1]="InitFailed",t[t.InitFailedVideo=-1.1]="InitFailedVideo",t[t.InitFailedAudio=-1.2]="InitFailedAudio",t[t.InitFailedSharing=-1.3]="InitFailedSharing",t[t.UserForbiddedCaptureAudio=-2]="UserForbiddedCaptureAudio",t[t.AudioWebsocketBroken=-3]="AudioWebsocketBroken",t[t.VideoWebsocketBroken=-4]="VideoWebsocketBroken",t[t.SharingDecThreadFailed=-5]="SharingDecThreadFailed",t[t.AudioZeroData=-6]="AudioZeroData",t[t.AudioCtxSamplerate=-7]="AudioCtxSamplerate",t[t.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",t[t.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",t[t.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",t[t.StartRemoteControlFailed=-11]="StartRemoteControlFailed",t[t.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",t[t.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",t[t.UserStopDesktopSharing=-15]="UserStopDesktopSharing",t[t.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",t[t.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",t[t.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",t[t.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",t[t.DesktopSharingError=-20]="DesktopSharingError",t[t.AudioSpeakerSetError=-21]="AudioSpeakerSetError",t[t.DesktopSharingSystemError=-22]="DesktopSharingSystemError",t[t.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",t.AudioQosData="AUDIO_QOS_DATA",t.VideoQosData="VIDEO_QOS_DATA",t.ShareQosData="VIDEOSHARE_QOS_DATA",t.NetworkQualityChange="NETWORK_QUALITY_CHANGE",t[t.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",t[t.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",t[t.WebglLostInMultiView=-32]="WebglLostInMultiView",t[t.MaskSettingParaError=-33]="MaskSettingParaError",t[t.VbSettingParaError=-34]="VbSettingParaError",t[t.NotifyUIFailover=-35]="NotifyUIFailover",t[t.RecoverWebrtcAudio=-36]="RecoverWebrtcAudio",t[t.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",t[t.SharingHealthCheckFailed=-129]="SharingHealthCheckFailed",t[t.VideoHealthCheckFailed=-130]="VideoHealthCheckFailed",t[t.AudioHealthCheckFailed=-131]="AudioHealthCheckFailed",t}({}),Eo=function(t){return t[t.EncodeSuccess=1]="EncodeSuccess",t[t.DecodeSuccess=2]="DecodeSuccess",t[t.EncodeFailed=-1]="EncodeFailed",t[t.DecodeFailed=-2]="DecodeFailed",t}({}),Wv=function(t){return t.Spotlight="Spotlight",t.Unmute="Unmute",t.AllowToTalk="Allow to talk",t}({}),yi=function(t){return t.Inherited="inherited",t.Active="active",t.PassiveByMuteOne="passive(mute one)",t.PassiveByMuteAll="passive(mute all)",t.SharingAudio="sharing audio",t}({}),vf=function(t){return t.Inherited="inherited",t.Active="active",t.Passive="passive",t.SharingAudio="sharing audio",t}({}),lr=function(t){return t.Active="active",t.Failover="failover",t.EndedBySystem="audio stream is ended by system",t.Pstn="pstn",t.MicrophoneError="microphone error",t}({}),Qi=function(t){return t.Join="join",t.Leave="leave",t.Muted="muted",t.Unmuted="unmuted",t}({}),jt=function(t){return t[t.Calling=1]="Calling",t[t.Ringing=2]="Ringing",t[t.Accepted=3]="Accepted",t[t.Busy=4]="Busy",t[t.NotAvailable=5]="NotAvailable",t[t.HangUp=6]="HangUp",t[t.Fail=7]="Fail",t[t.Success=8]="Success",t[t.Timeout=9]="Timeout",t[t.Canceling=10]="Canceling",t[t.Canceled=11]="Canceled",t[t.CancelFailed=12]="CancelFailed",t}({});const MN=(()=>{const t=new ArrayBuffer(684),i=new Uint32Array(t);return i.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([i],{type:"audio/wav"})})(),PN=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),NN=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let Si=function(t){return t[t.HostGrab=0]="HostGrab",t[t.OnlyHost=1]="OnlyHost",t[t.AnyoneGrab=2]="AnyoneGrab",t[t.MultipleShare=3]="MultipleShare",t}({}),_t=function(t){return t.Sharing="sharing",t.Paused="paused",t.End="ended",t}({}),qo=function(t){return t[t.Video_90P=0]="Video_90P",t[t.Video_180P=1]="Video_180P",t[t.Video_360P=2]="Video_360P",t[t.Video_720P=3]="Video_720P",t[t.Video_1080P=4]="Video_1080P",t}({}),gl=function(t){return t.Active="Active",t.Inactive="Inactive",t}({}),bi=function(t){return t.Muted="Muted",t.Unmuted="Unmuted",t}({}),qv=function(t){return t.Started="Started",t.Stopped="Stopped",t.Failed="Failed",t}({}),sp=function(t){return t.Approved="Approved",t.Rejected="Rejected",t}({}),ml=function(t){return t.PrivilegeChange="PrivilegeChange",t.StopScreenCapture="StopScreenCapture",t.ShareFromMainSession="ShareFromMainSession",t}({}),yf=function(t){return t[t.ImageNotMatch=2]="ImageNotMatch",t[t.CanvasNotMatch=3]="CanvasNotMatch",t[t.VBModelNotMatch=4]="VBModelNotMatch",t}({});const $u="blur";let Ua=function(t){return t.User="user",t.Environment="environment",t.Left="left",t.Right="right",t}({});const Sf=Object.values(Ua),Gu=1e3,vl="__ZOOM_SDK_SHARING_VIDEO__",Es="__ZOOM_SDK_VIDEO_ZONE__",kN="__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__",s0="__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",LN="__ZOOM_SDK_MASK_CLIP_@__",a0="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",bf="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",ZD="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",u0={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,rate:0,bandwidth:0}},ea={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,rate:0,bandwidth:0}};let Sr=function(t){return t[t.Request=11]="Request",t[t.Decline=12]="Decline",t[t.Approve=13]="Approve",t[t.GiveUp=14]="GiveUp",t[t.StartControl=15]="StartControl",t[t.ContinueControl=16]="ContinueControl",t[t.StopControl=17]="StopControl",t[t.SwitchCamera=20]="SwitchCamera",t}({}),zu=function(t){return t[t.Bk=0]="Bk",t[t.Center=1]="Center",t[t.ZoomIn=2]="ZoomIn",t[t.ZoomOut=3]="ZoomOut",t[t.Left=4]="Left",t[t.Right=5]="Right",t[t.Up=6]="Up",t[t.Down=7]="Down",t[t.SwitchCamera=8]="SwitchCamera",t}({}),ta=function(t){return t[t.Pan=192]="Pan",t[t.Tilt=48]="Tilt",t[t.Zoom=12]="Zoom",t[t.Focus=3]="Focus",t}({}),c0=function(t){return t[t.ZoomIn=2]="ZoomIn",t[t.ZoomOut=3]="ZoomOut",t[t.Left=4]="Left",t[t.Right=5]="Right",t[t.Up=6]="Up",t[t.Down=7]="Down",t[t.SwitchCamera=8]="SwitchCamera",t}({}),Kv=function(t){return t[t.None=0]="None",t[t.ApproveAnother=3]="ApproveAnother",t[t.Stop=5]="Stop",t}({}),Qv=function(t){return t[t.Null=0]="Null",t[t.Normal=1]="Normal",t[t.VideoMode=2]="VideoMode",t}({}),Ji=function(t){return t[t.Null=0]="Null",t[t.VirtualBackground=1]="VirtualBackground",t[t.Mask=2]="Mask",t}({}),xt=function(t){return t.Computer="computer",t.Phone="phone",t}({}),Jv=function(t){return t[t.Decline=0]="Decline",t[t.Approve=1]="Approve",t[t.CacheClean=2]="CacheClean",t}({}),Sn=function(t){return t.Unknown="unknown",t.Uninstalled="uninstalled",t.Installed="installed",t}({}),Zv=function(t){return t.Unlaunched="unlaunched",t.Launched="launched",t}({}),yl=function(t){return t.Started="started",t.Ended="ended",t}({}),Ef=function(t){return t[t.Max=30]="Max",t[t.Min=10]="Min",t[t.Default=24]="Default",t}({}),ap=function(t){return t[t.Loading=1]="Loading",t[t.Done=2]="Done",t}({}),Cf=function(t){return t.Browser="Browser",t.Zoom="Zoom",t}({}),Yv=function(t){return t.Denoise="backgroundNoiseSuppression",t.OriginalSound="originalSound",t}({}),l0=function(t){return t[t.Undefined=0]="Undefined",t[t.WebGL=1]="WebGL",t[t.WebGPU=2]="WebGPU",t[t.WebGL2=3]="WebGL2",t}({}),YD=function(t){return t[t.H323=1]="H323",t[t.SIP=2]="SIP",t}({}),up=function(t){return t[t.Success=0]="Success",t[t.Ringing=1]="Ringing",t[t.Timeout=2]="Timeout",t[t.Busy=101]="Busy",t[t.Fail=104]="Fail",t}({});const d0="RECEIVE_VIDEO_ACTIVE_INDICATION",p0="RECEIVE_VIDEO_MUTE_INDICATION",XD="ASK_FOR_START_VIDEO_CONSENT",cp="RECEIVE_VIDEO_DIMENSION_CHANGE",Wu="CAPTURED_VIDEO_DIMENSION_CHANGE",h0="CAN_NOT_DETECT_CAMERA",Xv="CAN_NOT_FIND_CAMERA",ey="VIDEO_USER_FORBIDDEN_CAPTURE",qu="VIDEO_CAMERA_IS_TAKEN",Sl="VIDEO_BACKGROUND_FAILED",br="VIDEO_ESTABLISH_STREAM_ERROR",f0="VIDEO_CAPTURE_START_SUCCESS",Ba="VIDEO_CAPTURE_STOP_RESULT",Ku="VIDEO_SPOTLIGHT_CHANGE",eA="VIDEO_FOLLOW_HOST_ORDER_CHANGE",g0="VIDEO_HOST_DRAG_LAYOUT_CHANGE",lp="VIDEO_NEW_USER_START",ty="VIDEO_OLD_USER_STOP",If="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",_f="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",dp="VIDEO_STATISTIC_DATA",ny="VIDEO_CELL_DETAILED_DATA",m0="VIDEO_NETWORK_QUALITY_CHANGE",tA="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",v0="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",wf="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",nA="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",ry="VIDEO_MASK_SETTING_SUCCESS",rA="VIDEO_CAPTURE_SDK_SUCCESS",oA="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",xN="VIDEO_CURRENT_USER_SSRC",y0="VIDEO_RENDER_ASPECT_RATIO_CHANGE",Df="VIDEO_LEADERSHIP_USER_CHANGE",Po={startCaptureVideo:{success:f0,fail:[h0,Xv,ey,br,qu,Sl]},switchCameraVideo:{success:rA,fail:[h0,Xv,ey,qu]},stopCaptureVideo:{success:Ba}};let Zr=function(t){return t.VideoActiveChange="video-active-change",t.PeerVideoStateChange="peer-video-state-change",t.VideoSpotlightChange="video-spotlight-change",t.VideoMutedChange="video-muted-change",t.VideoCapturingChange="video-capturing-change",t.AskForStartVideoConsent="ask-for-start-video-consent",t.VideoDimensionChange="video-dimension-change",t.VideoFollowHostOrder="video-follow-host-order-change",t.VideoHostLayoutChange="video-host-layout-change",t.VideoVBPreloadChange="video-virtual-background-preload-change",t.VideoStatisticDataChange="video-statistic-data-change",t.VideoDetailedDataChange="video-detailed-data-change",t.VideoAspectRatioChange="video-aspect-ratio-change",t.NetworkQualityChange="network-quality-change",t.FarEndCameraRequestControl="far-end-camera-request-control",t.FarEndCameraResponseControl="far-end-camera-response-control",t.FarEndCameraInControlChange="far-end-camera-in-control-change",t.FarEndCameraCapabilityChange="far-end-camera-capability-change",t}({});const iA={[Zr.VideoActiveChange]:[{event:d0,payload:t=>({state:t.bVideoOn?gl.Active:gl.Inactive,userId:t.userId})}],[Zr.VideoCapturingChange]:[{event:f0,payload:()=>({state:qv.Started})},{event:Ba,payload:t=>({state:null!=t&&t.failed?qv.Failed:qv.Stopped})}],[Zr.VideoMutedChange]:[{event:p0,payload:t=>({state:t.isVideoMuted?bi.Muted:bi.Unmuted,userId:t.id})}],[Zr.AskForStartVideoConsent]:[{event:XD,payload:t=>({state:t.isVideoMuted?bi.Muted:bi.Unmuted,userId:t.id})}],[Zr.VideoSpotlightChange]:[{event:Ku,payload:t=>({spotlightList:t.spotlightList&&t.spotlightList.map(i=>({userId:i}))})},{event:Df,payload:t=>{var i;return{spotlightList:null===(i=t.spotlightList)||void 0===i?void 0:i.map(o=>({userId:o}))}}}],[Zr.VideoDimensionChange]:[{event:cp,payload:t=>({type:"received",width:t.width,height:t.height})},{event:Wu,payload:t=>({type:"captured",width:t.width,height:t.height})}],[Zr.VideoFollowHostOrder]:[{event:eA,payload:t=>({isFollowHostOrder:t.bOn})}],[Zr.VideoHostLayoutChange]:[{event:g0,payload:t=>Array.isArray(t.layout)?t.layout.map(i=>({userId:i})):[]}],[Zr.PeerVideoStateChange]:[{event:lp,payload:t=>({action:"Start",...t})},{event:ty,payload:t=>({action:"Stop",...t})}],[Zr.VideoVBPreloadChange]:[{event:If,payload:t=>({isReady:t})}],[Zr.VideoStatisticDataChange]:[{event:dp,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Zr.VideoDetailedDataChange]:[{event:ny,payload:t=>t}],[Zr.VideoAspectRatioChange]:[{event:y0,payload:t=>t}],[Zr.NetworkQualityChange]:[{event:m0,payload:t=>t}],[Zr.FarEndCameraRequestControl]:[{event:tA,payload:t=>t}],[Zr.FarEndCameraResponseControl]:[{event:v0,payload:t=>t}],[Zr.FarEndCameraInControlChange]:[{event:wf,payload:t=>t}],[Zr.FarEndCameraCapabilityChange]:[{event:nA,payload:t=>t}]},FN="AUDIO_ACTIVE_SPEAKER",pp="AUDIO_UNMUTE_CONSENT",No="AUDIO_CURRENT_USER_JOIN_BY_VOIP",oy="AUDIO_CURRENT_USER_JOIN_BY_PHONE",na="AUDIO_CURRENT_USER_LEAVE_AUDIO",S0="AUDIO_CURRENT_USER_MUTED",b0="AUDIO_CURRENT_USER_UNMUTED",E0="AUDIO_PARTICIPANT_AUDIO_UPDATE",VN="AUDIO_DIALOUT_RESULT_CODE",jN="AUDIO_DIALOUT_RESULT_SUCCESS",UN="AUDIO_DIALOUT_RESULT_FAIL",BN="AUDIO_DIALOUT_CANCEL_SUCCESS",HN="DIALOUT_CANCEL_FAIL",sA="AUDIO_MERGE_AUDIO_INDICATION",bl="USER_FORBIDDEN_MICROPHONE",Ha="ESTABLISH_AUDIO_STREAM_ERROR",C0="AUDIO_AUTO_PLAY_FAILED",aA="INVALID_DEVICE_ID",iy="AUDIO_ALLOW_TALK_CHANGE",Er="SHARE_AUDIO_STATE_CHANGE",I0="AUDIO_STATISTIC_DATA",sy="AUDIO_CURRENT_USER_SSRC",El="AUDIO_SET_SPEAKER_RESULT",uA="AUDIO_SHARE_SECONDARY_AUDIO_SUCCESS",_0="AUDIO_CRC_CALL_OUT_RESULT_CODE",w0="AUDIO_CRC_CALL_OUT_RESULT_SUCCESS",Af="AUDIO_CRC_CALL_OUT_RESULT_FAIL",Tf="AUDIO_CURRENT_AUDIO_LEVEL_CHANGE";let Ei=function(t){return t.ActiveSpeaker="active-speaker",t.UnmuteAudioConsent="unmute-audio-consent",t.CurrentAudioChange="current-audio-change",t.CurrentAudioLevelChange="current-audio-level-change",t.DialoutStateChange="dialout-state-change",t.MergeAudio="merged-audio",t.AutoPlayFailed="auto-play-audio-failed",t.AllowTalkChange="allow-talk-change",t.ShareAudioChange="share-audio-change",t.AudioStatisticDataChange="audio-statistic-data-change",t.CrcCallOutStateChange="crc-call-out-state-change",t}({});const Cl={JoinComputerAudio:{success:No,fail:[bl,Ha]},LeaveComputerAudio:{success:na},JoinAudioByCallMe:{success:jN,fail:[UN]},cancelDialOut:{success:BN,fail:[HN]},hangup:{success:na},crcCallOut:{success:w0,fail:[Af]}},$N={[Ei.ActiveSpeaker]:[{event:FN,payload:t=>t}],[Ei.UnmuteAudioConsent]:[{event:pp,payload:t=>({reason:t})}],[Ei.CurrentAudioChange]:[{event:oy,payload:()=>({action:Qi.Join,type:xt.Phone})},{event:No,payload:()=>({action:Qi.Join,type:xt.Computer})},{event:na,payload:t=>{let{source:i}=t;return{action:Qi.Leave,source:i}}},{event:S0,payload:t=>{let{source:i}=t;return{action:Qi.Muted,source:i}}},{event:b0,payload:t=>{let{source:i}=t;return{action:Qi.Unmuted,source:i}}}],[Ei.DialoutStateChange]:[{event:VN,payload:t=>t}],[Ei.MergeAudio]:[{event:sA,payload:t=>t}],[Ei.AutoPlayFailed]:[{event:C0,payload:()=>{}}],[Ei.AllowTalkChange]:[{event:iy,payload:t=>({enabled:t})}],[Ei.ShareAudioChange]:[{event:Er,payload:t=>t}],[Ei.AudioStatisticDataChange]:[{event:I0,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Ei.CrcCallOutStateChange]:[{event:_0,payload:t=>t}],[Ei.CurrentAudioLevelChange]:[{event:Tf,payload:t=>t}]},D0="SHARE_ACTIVE_INDICATION",ay="SHARE_CHECK_CHROME_SHARING_EXTENSION",cA="SHARE_START_DESKTOP_SHARE_FAILED",lA="SHARE_DIMENSION_CHANGE",Yr="SHARE_RECEIVED_DIMENSION_CHANGE",uy="SHARE_VIDEO_STREAMS_END",A0="SHARE_PASSIVE_STOP_SHARE",cy="SHARE_PASSIVE_BO_STOP",Hr="SHARE_NEW_USER_ADD",Il="SHARE_USER_REMOVE",T0="SHARE_USER_PAUSED",R0="SHARE_USER_RESUMED",ly="SHARE_AUTO_CHANGE_SOURCE",Rf="SHARE_REMOTE_CONTROL_APPROVE",_l="SHARE_GRAB_REMOTE_CONTROL_CHANGE",dy="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",dA="SHARE_REMOTE_CONTROL_SUCCESS",O0="SHARE_REMOTE_CONTROL_FAILED",pA="SHARE_PRIVILEGE_CHANGE",hA="SHARE_READ_RECEIPT",M0="SHARE_STATISTIC_DATA",fA="SHARE_REMOTE_CONTROL_REQUEST",Qu="SHARE_REMOTE_CONTROL_APP_STATUS",Of="SHARE_REMOTE_CONTROL_SESSION_STATUS",P0="SHARE_REMOTE_CONTROL_APP_SCHEME";let Xr=function(t){return t.ShareActiveChange="active-share-change",t.ShareDimensionChange="share-content-dimension-change",t.SharePassiveStop="passively-stop-share",t.SharePeerStateChange="peer-share-state-change",t.ShareContentChange="share-content-change",t.SharePrivilegeChange="share-privilege-change",t.ShareReadReceipt="share-can-see-screen",t.ShareStatisticDataChange="share-statistic-data-change",t.RemoteControlApprovedChange="remote-control-approved-change",t.RemoteControlInControlChange="remote-control-in-control-change",t.RemoteControlClipboardChange="remote-control-clipboard-change",t.RemoteControlRequestChange="remote-control-request-change",t.RemoteControlAppStatusChange="remote-control-app-status-change",t.RemoteControlControlledStatusChange="remote-control-controlled-status-change",t}({});const gA={[Xr.ShareActiveChange]:[{event:D0,payload:t=>{const{isActive:i,activeUserId:o,...a}=t;return{state:i?"Active":"Inactive",userId:o,...a}}}],[Xr.ShareDimensionChange]:[{event:lA,payload:t=>({type:"sended",width:t.width,height:t.height})},{event:Yr,payload:t=>({type:"received",width:t.width,height:t.height})}],[Xr.SharePassiveStop]:[{event:uy,payload:()=>({reason:ml.StopScreenCapture})},{event:A0,payload:()=>({reason:ml.PrivilegeChange})},{event:cy,payload:()=>({reason:ml.ShareFromMainSession})}],[Xr.SharePeerStateChange]:[{event:Hr,payload:t=>({userId:t.id,action:"Start"})},{event:Il,payload:t=>({userId:t.id,action:"Stop"})},{event:T0,payload:t=>({userId:t.id,action:"Pause"})},{event:R0,payload:t=>({userId:t.id,action:"Resume"})}],[Xr.ShareContentChange]:[{event:ly,payload:t=>t}],[Xr.SharePrivilegeChange]:[{event:pA,payload:t=>({privilege:t})}],[Xr.ShareReadReceipt]:[{event:hA,payload:()=>{}}],[Xr.ShareStatisticDataChange]:[{event:M0,payload:t=>{const{data:{rate:i,...o},...a}=t??{data:{}};return{data:{bitrate:i,...o},...a}}}],[Xr.RemoteControlApprovedChange]:[{event:Rf,payload:t=>({state:t?sp.Approved:sp.Rejected})}],[Xr.RemoteControlInControlChange]:[{event:_l,payload:t=>({isControlling:t})}],[Xr.RemoteControlClipboardChange]:[{event:dy,payload:t=>t}],[Xr.RemoteControlRequestChange]:[{event:fA,payload:t=>t}],[Xr.RemoteControlAppStatusChange]:[{event:Qu,payload:t=>t}],[Xr.RemoteControlControlledStatusChange]:[{event:Of,payload:t=>t}]};let ra=function(t){return t.Question="question",t.UpdateQuestion="updateQuestion",t.Answer="answer",t.DeleteComment="deleteComment",t.DeleteQuestion="deleteQuestion",t.Dismiss="dismiss",t.Reopen="reopen",t.Upvote="upvote",t.AnswerLive="answerLive",t}({}),N0=function(t){return t.QaSettingChange="qa-setting-change",t.QaActionChange="qa-action-change",t}({});const mA={[N0.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:t=>t}],[N0.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:t=>({action:ra.Question,data:t})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:t=>({action:ra.UpdateQuestion,data:t})},{event:"QA_ANSWER_QUESTION",payload:t=>({action:ra.Answer,data:t})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:t=>({action:ra.DeleteComment,data:t})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:t=>({action:ra.DeleteQuestion,data:t})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:t=>({action:ra.Dismiss,data:t})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:t=>({action:ra.Reopen,data:t})},{event:"QA_ANSWER_VOTE_QUESTION",payload:t=>({action:ra.Upvote,data:t})},{event:"QA_ANSWER_QUESTION_LIVE",payload:t=>({action:ra.AnswerLive,data:t})}]},oe="INVALID_OPERATION",Cs="INTERNAL_ERROR",k0="OPERATION_TIMEOUT",$r="INSUFFICIENT_PRIVILEGES",wl="IMPROPER_MEETING_STATE",Je="INVALID_PARAMETERS",L0="AUDIO_ENCODE_SUCCESS",vA="AUDIO_DECODE_SUCCESS",yA="VIDEO_ENCODE_SUCCESS",GN="VIDEO_DECODE_SUCCESS",SA="SHARING_ENCODE_SUCCESS",py="SHARING_DECODE_SUCCESS",hy="AUDIO_ENCODE_FAIL",bA="AUDIO_DECODE_FAIL",$a="VIDEO_ENCODE_FAIL",Mf="VIDEO_DECODE_FAIL",EA="SHARING_ENCODE_FAIL",x0="SHARING_DECODE_FAIL",Ju="MEDIA_DEVICE_CHANGE",F0="MEDIS_SDK_PATHCH_LOADED",zN="AUDIO_BRIDGE_PEER_CONNECTION_RECEIVE_READY",V0="AUDIO_BRIDGE_PEER_CONNECTION_SEND_READY",CA="DEVICE_PERMISSION_CHANGE",IA="MEDIA_HEALTH_CHECK_FAILED";let j0=function(t){return t.DeviceChange="device-change",t.MediaSDKChange="media-sdk-change",t.DevicePermissionChange="device-permission-change",t.MediaInternalError="media-internal-error",t}({});const FF={[j0.DeviceChange]:[{event:Ju,payload:()=>({})}],[j0.MediaSDKChange]:[{event:L0,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:hy,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:vA,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:bA,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:yA,payload:()=>({type:"video",action:"encode",result:"success"})},{event:$a,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:GN,payload:()=>({type:"video",action:"decode",result:"success"})},{event:Mf,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:SA,payload:()=>({type:"share",action:"encode",result:"success"})},{event:EA,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:py,payload:()=>({type:"share",action:"decode",result:"success"})},{event:x0,payload:()=>({type:"share",action:"decode",result:"fail"})}],[j0.DevicePermissionChange]:[{event:CA,payload:t=>t}],[j0.MediaInternalError]:[{event:IA,payload:t=>t}]},Pf="BREAKOUT_ROOM_ADD_TOKEN",fy="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",Nf="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",kf="BREAKOUT_ROOM_ROOM_COUTDOWN",Dl="BREAKOUT_ROOM_BROADCAST_MESSAGE",gy="BREAKOUT_ROOM_ASK_HELP_REQUEST",Lf="BREAKOUT_ROOM_ASK_HELP_RESPONSE",Is="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",Al="BREAKOUT_ROOM_JOIN_BO_RESPONSE",Tl="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",xf="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",my="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",Ff="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",WN="BREAKOUT_ROOM_INVITE_TO_BACK_NOTIFICATION",vy="BREAKOUT_ROOM_IN_ROOM_USER_STATUS_UPDATE",hp="BREAKOUT_ROOM_BROADCAST_VOICE";let Zi=function(t){return t.InviteToJoin="invite-to-join",t.RoomCountdown="room-countdown",t.RoomTimeUp="room-time-up",t.ClosingRoomCountdown="closing-room-countdown",t.BroadcastMessage="broadcast-message",t.AskForHelp="ask-for-help",t.AskForHelpResponse="ask-for-help-response",t.RoomStateChange="room-state-change",t.MainSessionUserUpdate="main-session-user-updated",t.InviteToBack="invite-back-to-main-session",t.RoomUserUpdate="room-user-update",t.BroadcastVoice="broadcast-voice",t}({});const _A={[Zi.InviteToJoin]:[{event:fy,payload:t=>t}],[Zi.RoomCountdown]:[{event:kf,payload:t=>t}],[Zi.RoomTimeUp]:[{event:Tl,payload:t=>t}],[Zi.ClosingRoomCountdown]:[{event:Nf,payload:t=>t}],[Zi.BroadcastMessage]:[{event:Dl,payload:t=>t}],[Zi.AskForHelp]:[{event:gy,payload:t=>t}],[Zi.AskForHelpResponse]:[{event:Lf,payload:t=>t}],[Zi.RoomStateChange]:[{event:Is,payload:t=>({status:t.controlStatus})}],[Zi.MainSessionUserUpdate]:[{event:Ff,payload:()=>({})}],[Zi.InviteToBack]:[{event:WN,payload:t=>t}],[Zi.RoomUserUpdate]:[{event:vy,payload:t=>t}],[Zi.BroadcastVoice]:[{event:hp,payload:t=>t}]};var U0=function(t){return t.StatusUpdate="archiving-status-update",t.OptionsUpdate="archiving-options-update",t}(U0||{});const qN={[U0.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:t=>t}],[U0.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:t=>t}]};let Vf=function(t){return t.PollDataChange="poll-data-change",t.PollSizeUpdate="poll-size-update",t.PollStatusUpdate="poll-status-update",t}({});const wA={[Vf.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:t=>t}],[Vf.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:t=>t}],[Vf.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:t=>t}]};let DA=function(t){return t.ReactionReceived="reaction-received",t.ReactionRemoved="reaction-removed",t}({});const KN={[DA.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:t=>t}],[DA.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:t=>t}]},Yi="SMART_SUMMARY_STATUS_CHANGE",Ga="MEETING_QUERY_STATUS_CHANGE";let yy=function(t){return t.SummaryChange="summary-status-change",t.MeetingQueryChang="meeting-query-status-change",t}({});const Sy="LIVE_STREAM_STATUS_CHANGE",fp={...RN,...ln,...KD,...bs,...JD,...$N,...iA,...mA,...gA,...FF,..._A,...qN,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:t=>t}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:t=>t}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:t=>t}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:t=>t},{event:"CC_STATUS_CHANGE",payload:t=>t}],...wA,...KN,[yy.SummaryChange]:[{event:Yi,payload:t=>t}],[yy.MeetingQueryChang]:[{event:Ga,payload:t=>t}],"live-stream-status":[{event:Sy,payload:t=>t}]},za=function(t){return{all:t=t||new Map,on:function(i,o){var a=t.get(i);a?a.push(o):t.set(i,[o])},off:function(i,o){var a=t.get(i);a&&(o?a.splice(a.indexOf(o)>>>0,1):t.set(i,[]))},emit:function(i,o){var a=t.get(i);a&&a.slice().map(function(c){c(o)}),(a=t.get("*"))&&a.slice().map(function(c){c(i,o)})}}}(),oa=new Map,jf=new Array,F=function(t){za.emit(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)},ia=t=>new Promise((i,o)=>{t.fail&&t.fail.length>0?Ho(dn(za,t.success).pipe(bt(1)),qn(...t.fail.map(a=>dn(za,a).pipe(bt(1),se(c=>Ee({type:a,payload:c})))))).subscribe(a=>i(a),a=>{o("object"==typeof a.payload?{type:a.type,...a.payload}:void 0===a.payload?{type:a.type}:a)}):dn(za,t.success).pipe(bt(1)).subscribe(a=>i(a))}),Ge=function(t,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Promise((a,c)=>{let l=Se;"string"==typeof t?l=dn(za,t).pipe(bt(1)):(l=dn(za,t.event),t.operations&&(l=t.operations.reduce((p,h)=>p.pipe(h),l))),Ho(l,Rn(o).pipe(ze(Ee("timeout")))).subscribe(p=>{if(i){const h=i(p);"boolean"==typeof h?h?a(""):c({type:Cs}):0===h.ret?a(h.body):c({type:Cs,reason:h.body})}else a(p)},()=>{c({type:k0})})})},Mt=(t,i)=>void 0!==i?dn(za,t).pipe(bt(i)):dn(za,t),gp=()=>{jf.forEach(t=>{t.unsubscribe()}),jf.length=0,oa.clear()},{setAttendeesList:Uf,setIsAdmitAllSilentUsers:B0,resetParticipants:Bf,addFailoverAttendees:Hf,removeFailoverAttendees:Rl,setClearRaiseHand:AA,setClearAttendeeFeedback:TA,updateAttendeeDisplayName:ZN,removeXmppAttendeeUser:$f,updateXmppAttendeeList:by,setAttendeeExtraKey:mp}=Qn({SET_ATTENDEES_LIST:t=>t,SET_ASSISTANT_LIST:t=>t,UPDATE_XMPP_ATTENDEE_LIST:t=>t,RESET_PARTICIPANTS:()=>({}),SET_IS_ADMIT_ALL_SILENT_USERS:t=>t,REMOVE_FAILOVER_ATTENDEES:t=>t,ADD_FAILOVER_ATTENDEES:t=>t,SET_CLEAR_RAISE_HAND:()=>({}),SET_CLEAR_ATTENDEE_FEEDBACK:()=>({}),UPDATE_ATTENDEE_DISPLAY_NAME:t=>t,REMOVE_XMPP_ATTENDEE_USER:t=>t,SET_ATTENDEE_EXTRA_KEY:t=>t});var Gf="NOT_FOUND",RA=function(t,i){return t===i};function H0(t,i){var o,a,c="object"==typeof i?i:{equalityCheck:i},l=c.equalityCheck,h=c.maxSize,g=void 0===h?1:h,v=c.resultEqualityCheck,y=function(I){return function(w,_){if(null===w||null===_||w.length!==_.length)return!1;for(var A=w.length,T=0;T<A;T++)if(!I(w[T],_[T]))return!1;return!0}}(void 0===l?RA:l),b=1===g?(o=y,{get:function(I){return a&&o(a.key,I)?a.value:Gf},put:function(I,w){a={key:I,value:w}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}):function(I,w){var _=[];function A(T){var M=_.findIndex(function(N){return w(T,N.key)});if(M>-1){var P=_[M];return M>0&&(_.splice(M,1),_.unshift(P)),P.value}return Gf}return{get:A,put:function(T,M){A(T)===Gf&&(_.unshift({key:T,value:M}),_.length>I&&_.pop())},getEntries:function(){return _},clear:function(){_=[]}}}(g,y);function E(){var I=b.get(arguments);if(I===Gf){if(I=t.apply(null,arguments),v){var w=b.getEntries().find(function(_){return v(_.value,I)});w&&(I=w.value)}b.put(arguments,I)}return I}return E.clearCache=function(){return b.clear()},E}function OA(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];var h,g=0,v={memoizeOptions:void 0},y=l.pop();if("object"==typeof y&&(v=y,y=l.pop()),"function"!=typeof y)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof y+"]");var b=v.memoizeOptions,E=void 0===b?o:b,I=Array.isArray(E)?E:[E],w=function(T){var M=Array.isArray(T[0])?T[0]:T;if(!M.every(function(N){return"function"==typeof N})){var P=M.map(function(N){return"function"==typeof N?"function "+(N.name||"unnamed")+"()":typeof N}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+P+"]")}return M}(l),_=t.apply(void 0,[function(){return g++,y.apply(null,arguments)}].concat(I)),A=t(function(){for(var T=[],M=w.length,P=0;P<M;P++)T.push(w[P].apply(null,arguments));return h=_.apply(null,T)});return Object.assign(A,{resultFunc:y,memoizedResultFunc:_,dependencies:w,lastResult:function(){return h},recomputations:function(){return g},resetRecomputations:function(){return g=0}}),A}}var bn=OA(H0);const Zu=t=>{let{participants:{attendeesList:i}}=t;return i},MA=t=>{let{meeting:{userId:i}}=t;return i},$0=t=>{let{participants:{xmppAttendeeList:i}}=t;return i};let Ko=function(t){return t[t.Attendee=0]="Attendee",t[t.Host=1]="Host",t[t.Owner=4]="Owner",t[t.ViewOnly=8]="ViewOnly",t[t.HostOwner=5]="HostOwner",t[t.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",t}({}),zf=function(t){return t[t.Host=10]="Host",t[t.Panelist=20]="Panelist",t[t.Attendee=30]="Attendee",t}({}),G0=function(t){return t[t.Client=9]="Client",t[t.Phone=5]="Phone",t[t.H323=15]="H323",t[t.Assitant=51]="Assitant",t}({});const Ey=t=>(t&Ko.Host)===Ko.Host,vp=t=>(t&G0.Phone)===G0.Phone,z0=t=>t===Ko.ViewOnlyCanTalk,Mr=t=>(t&Ko.ViewOnly)===Ko.ViewOnly;let yp=function(t){return t[t.Automatically=1]="Automatically",t[t.Manually=2]="Manually",t[t.SelfSelect=3]="SelfSelect",t}({}),dt=function(t){return t[t.NotStarted=1]="NotStarted",t[t.InProgress=2]="InProgress",t[t.Closing=3]="Closing",t[t.Closed=4]="Closed",t}({}),PA=function(t){return t[t.NoToken=1]="NoToken",t[t.GotToken=2]="GotToken",t[t.Started=3]="Started",t[t.Closing=4]="Closing",t[t.Closed=5]="Closed",t}({}),je=function(t){return t.Initial="initial",t.Invited="invited",t.Joining="joining",t.InRoom="in room",t.Leaving="leaving",t.TimeUp="time up",t.MainSession="main session",t}({}),Ol=function(t){return t.Join="joinRequest",t.Switch="switchRequest",t.Leave="leaveRequest",t.Broadcast="messageText",t.HelpReq="helpRequest",t.HelpRes="helpResponse",t.CoHostWantJoinThisBo="wantJoinThisBO",t.BOActivity="BOActivity",t}({});const NA="Subsession";let _s=function(t){return t[t.Received=0]="Received",t[t.Busy=1]="Busy",t[t.Ignore=2]="Ignore",t[t.AlreadyInRoom=3]="AlreadyInRoom",t}({}),sa=function(t){return t[t.AskToLeave=0]="AskToLeave",t[t.ClosingRoom=1]="ClosingRoom",t}({}),Wf=function(t){return t[t.Active=0]="Active",t[t.Ask=1]="Ask",t}({}),Cy=function(t){return t[t.Connect=1]="Connect",t[t.Muted=2]="Muted",t[t.Voip=4]="Voip",t}({}),W0=function(t){return t[t.Connect=8]="Connect",t[t.On=16]="On",t}({}),q0=function(t){return t[t.Share=32]="Share",t[t.ShareAudio=64]="ShareAudio",t}({});const YN=t=>{let{breakoutRoom:i}=t;return i&&i.controlStatus},XN=t=>{let{breakoutRoom:i}=t;return i&&i.currentRoom.status},Fe=bn([MA,Zu],(t,i)=>i.find(o=>o.userId===t)),Co=bn([Fe],t=>t?.isHost||t?.bCoHost),Iy=bn([Fe],t=>t?.isHost),_y=bn([$0],t=>t.filter(i=>i.userRole===zf.Attendee)),jF=bn([Zu],t=>t.filter(i=>i.bHold&&!i.bid)),Zt=bn([Zu,YN,XN],(t,i,o)=>t.filter(i!==dt.InProgress&&i!==dt.Closing||o!==je.InRoom?a=>!a.bHold&&!a.bid:a=>!a.bHold)),ek=bn([t=>{let{participants:{assistantList:i}}=t;return i}],t=>t),K0=bn([Zt],t=>t.find(i=>i.isHost)),kA=bn([Zt],t=>t.filter(i=>i.bCoHost)),Q0=bn([Fe,Zt],(t,i)=>i.filter(o=>o.userId!==t?.userId));bn([$0],t=>t.reduce((i,o)=>{const{jid:a}=o;return Object.assign(i,{[a]:o}),i},{})),bn([$0,t=>{let{meeting:{jid:i}}=t;return i}],(t,i)=>{var o;return null===(o=t.find(a=>a.jid===i))||void 0===o?void 0:o.userId});const tk=bn([Zu],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some(t=>t?.bLocalRecord===rp.Start)}),LA=bn([YN,t=>{let{meeting:i}=t;return i&&i.meetingOptions},Zu,Iy],(t,i,o,a)=>{const c=o.filter(h=>h.bCoHost),{moveToWRIfHostLeave:l}=i;return a&&!!l&&c.length<=0&&!(t===dt.InProgress)&&o.length>1});bn([Zu,XN,t=>{let{breakoutRoom:i}=t;return i&&i.mainSessionAttendeeList}],(t,i,o)=>(i===je.InRoom?o:t).filter(a=>{return!(a.bHold||a.isHost||a.audio===xt.Phone||vp(a?.userType)||(c=a?.caps,l=a?.bMultiStreamVideoUser,p=c,h=l,128&p&&void 0!==h&&l));var p,h,c,l}));let Wt=function(t){return t.Closed="closed",t.Connecting="connecting",t.Connected="connected",t}({});function Pr(t){return 1<<t-1}let Qo=function(t){return t[t.SupportASL=Pr(1)]="SupportASL",t[t.SidecarPhase2=Pr(2)]="SidecarPhase2",t[t.SupportBroadcastVoice=Pr(4)]="SupportBroadcastVoice",t[t.SendMeetingTokenSeparately=Pr(5)]="SendMeetingTokenSeparately",t[t.SupportPreview=Pr(6)]="SupportPreview",t[t.WebCameraIndication=Pr(7)]="WebCameraIndication",t[t.SupportFarEndCameraControl=Pr(9)]="SupportFarEndCameraControl",t[t.SupportVideoShare=Pr(10)]="SupportVideoShare",t[t.UnifyErrorType=Pr(11)]="UnifyErrorType",t[t.WhiteBoard=Pr(12)]="WhiteBoard",t[t.RequestRemoteControl=Pr(14)]="RequestRemoteControl",t[t.SmartSummary=Pr(15)]="SmartSummary",t[t.LocalRecording=Pr(16)]="LocalRecording",t[t.LocalRecordingGrantPermission=Pr(17)]="LocalRecordingGrantPermission",t[t.ShareMultiStream=Pr(18)]="ShareMultiStream",t[t.VideoLTR=Pr(19)]="VideoLTR",t[t.WebrtcAudioRtcpTime=Pr(20)]="WebrtcAudioRtcpTime",t[t.SupportSend1080PVideo=Pr(29)]="SupportSend1080PVideo",t[t.SupportSend1080PVideoShare=Pr(30)]="SupportSend1080PVideoShare",t}({});const{setAsnIds:J0,setIsCanUnmute:qf,setDialoutSequence:xA,setDialoutResultCode:wy,setIsAllowToTalk:Z0,setAudioSsrc:Ml,setIsMutedUponEntry:FA,setIsUserGrantCaptureAudio:VA,setIsMicrophoneForbidden:Dy,setWebrtcRestartCount:Sp,setMicrophoneList:jA,setSpeakerList:UA,setActiveMicrophone:Kf,setActiveSpeaker:Ay,setCanPlayAudio:Pl,resetAudio:nk,setIsComputerAudioLoading:bp,setIsAllowToTalkAttendeeConnected:Nl,setIsMuteBeforeSharingAudio:Wa,addLocalShareAudioUser:BA,updateLocalShareAudioUser:HA,setIsJoinComputerAudioBeforeSharingAudio:kl,setIsShareAudioEnabled:Ty,setIsShareAudioMuted:Ry,setIsSharingAudio:Ep,setAudioDataEncoding:Oy,setAudioDataDecoding:My,addLocallyMutedAudio:$A,removeLocallyMutedAudio:Cp,updateUserAudioVolumeLocally:rk,removeLocalUserAudioVolume:ok,setCustomizedAudioOption:Qf,setIsBackgroundNoiseSuppression:GA,setIsHidEnabled:ik,setAudioMediaPlaybackFile:zA,setIsStopAllIncomingAudio:WA,setIsVerifiedAudioPermissionOnIosMobile:sk,setIsAudioBridgeSignalReconnecting:Y0,setAudioMutedSource:Xi,setAudioUnmutedSource:Yu,setAudioOriginalSound:Jf,setLeaveAudioSource:Xu,setSecondaryAudioMicrophoneId:Zf,setCrcCallOutSequence:qA,setCrcCallOutReturnCode:KA}=Qn("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE","SET_SECONDARY_AUDIO_MICROPHONE_ID","SET_CRC_CALL_OUT_SEQUENCE","SET_CRC_CALL_OUT_RETURN_CODE"),{setSharePrivilege:Py,setShareActiveNode:qa,setIsReceiveSharing:Io,setIsChromeExtensionInstalled:Ka,setIsScreenShareForbidden:X0,setShareDimension:ak,setShareStatus:Ci,setShareSsrc:uk,setShareQuality:QA,setReceivedShareDimension:Ny,setIsGrabRemoteControl:Yf,setIsSdkGrabControl:JA,setIsReceiveSharingFromMainSession:Qa,setIsSharingToBreakoutRoom:Ll,setIsSharingWithSecondCamera:ky,setShringSecondCameraId:ZA,setIsRequireReadReceipt:xl,setIsOptimizedForSharedVideo:Ip,setShareDataEncoding:Ly,setShareDataDecoding:Fl,addShareCapturedEnsuredCanvas:Xf,addShareRenderedEnsuredCanvas:YA,setRemoteControllingSsrc:_p,setApprovedRemoteControlSsrc:wp,setRemoteControlAppDownloadUrl:XA,setRemoteControlAppInstallStatus:Vl,remoteControlAppStatusFallbackCheck:eC,remoteControlAppLaunchedCheck:jl,setRemoteControlAppLaunchSheme:es,addSharingUserIdSsrcMapping:nC,addRemoteControlledUser:eT,removeRemoteControlledUser:eg,setRemoteControlSetting:xy,setRemoteControlViewportDomSelector:ec,setIsFullHdVideoShareEnabled:rC,resetShare:oC}=Qn("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_CHROME_EXTENSION_INSTALLED","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_SHARING_USER_ID_SSRC_MAPPING","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_IS_FULL_HD_VIDEO_SHARE_ENABLED","RESET_SHARE"),{setVideoSsrc:tT,setActiveVideoId:ck,setCameraList:Dp,setActiveCamera:tg,setIsCurrentUserStartedVideo:iC,setSpotlightVideo:Fy,setIsCaptureForbidden:ng,setVideoMaxQuality:Vy,setIsVideoMuted:sC,setIsCaptureCameraLoading:tc,setIsCameraTaken:nc,resetVideo:aC,setReceivedVideoDimension:rg,addSubscribedVideoId:rc,removeSubscribedVideoId:og,setIsFollowHostVideoLayout:jy,setHostDragLayout:ig,addRenderedVideoId:Ap,removeRenderedVideoId:sg,setIsSupportHdVideo:nT,setMaximumNumbeOfHdSubscriptions:rT,setIsCanUnmuteVideo:oT,setIsVbPreloadReady:Uy,setIsVbConfiged:ag,setVbImageSrc:ft,setVideoDataEncoding:By,setVideoDataDecoding:ug,setHardwareAccelerationState:et,setVideoCaptureCustomizedOption:uC,setNetworkQuality:Hy,setVideoCameraPtzCapabilities:iT,setIsCurrentUserRequestCameraControlled:Ul,setIsCurrentUserCameraInControl:Ja,addVideoFarEndCameraControlUser:$y,removeVideoFarEndCameraControlUser:oc,setVideoPtzCameraMoving:Gy,setVideoPtzCameraValue:cg,setIsControllingFarEndCamera:lg,setNetworkQualityBroadcastTime:zy,setIsMaskConfiged:dg,setVideoBackgroundMode:cC,setVideoMask:Wy,setVideoCapturedDimension:sT,addVideoRenderedEnsuredCanvas:aT,setVideoMediaPlaybackFile:qy,setPrefetchedVideoUser:Tp,setVideoQosSubscriptionStatus:lC,setIsSupportFullHdVideo:uT,addVideoPlayerAttachment:cT,removeVideoPlayerAttachment:pg,setIsWebGl2RendererType:dC,setIsWebGpuRendererType:lT,setVideoRendererType:dT,setIsVideoMirrored:ko,addSelfPreviewVideoTag:pT,removeSelfPreviewVideoTag:pC,setVideoLeadershipUserId:lk}=Qn("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_MAXIMUM_NUMBE_OF_HD_SUBSCRIPTIONS","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_IS_SUPPORT_FULL_HD_VIDEO","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT","SET_IS_WEB_GL2_RENDERER_TYPE","SET_IS_WEB_GPU_RENDERER_TYPE","SET_VIDEO_RENDERER_TYPE","SET_IS_VIDEO_MIRRORED","ADD_SELF_PREVIEW_VIDEO_TAG","REMOVE_SELF_PREVIEW_VIDEO_TAG","SET_VIDEO_LEADERSHIP_USER_ID"),{resetQa:hk}=Qn("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:hC,setPanelistChatPrivilege:gT,addChatMessageHistory:Jo,resetChat:Ky,setIsAllowAttendeeChat:mT,setLatestChatMessageId:vT,removeChatMessage:hg,setFileChatSetting:fC,addChatFileRecord:Rp,updateChatFileRecord:dr,cancelSendFileChat:Qy,addFailedChatFileTransfer:Jy,setChatFileMessageId:gC,cancelDownloadFileChat:Zy}=Qn("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setCcEditorInfo:fg,resetClosedCaption:vk}=Qn("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:ET,setBreakoutRoomAllocationPattern:mC,setBreakoutRoomSequenceId:tS,setMeetingElapsedTime:nS,setStartRoomElapsedTime:mg,setBreakoutRoomOptions:CT,setBreakoutRoomControlStatus:yk,setBreakoutRooms:vg,setCurrentBreakoutRoom:rS,setBreakoutRoomAttendeeStatus:sc,setBreakoutRoomConfId:vC,setBreakoutRoomToken:yC,resetBreakoutRoom:SC,setBreakoutRoomClosingRoomTime:yg,setBreakoutRoomBroadcastMessage:bC,setBreakoutRoomHostReplyType:Bl,setBreakoutRoomHostReplyRequestId:Op,setMainSessionAttendeeList:aa,setIsHugeBreakoutRoom:IT,setBreakoutRoomPreAssignedRoomList:EC,setBreakoutRoomUserRoleUpdated:CC,setBreakoutRoomMeetingOptions:Sg,setBreakoutRoomUserActivityStatus:oS,setBreakoutRoomIsBroadcastVoice:iS}=Qn("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS","SET_BREAKOUT_ROOM_USER_ACTIVITY_STATUS","SET_BREAKOUT_ROOM_IS_BROADCAST_VOICE"),{setCloudRecordingStatus:Sk,setCloudRecordingEnable:bk,setCloudIsoRecordingEnable:_T,setAllowStopAutoRecording:wT,setAutomaticCloudRecordingEnable:Ek,setIsZoomIQ:IC,setZoomIQChanging:DT,setLocalRecordStatus:_C,setSupportLocalRecording:wC,setLocalGrantPermissionOption:AT,setLocalPermissionUserList:ac,resetRecording:Mp}=Qn("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:sS,removeCmdJid:bg,setCmdChannelConnectionStatus:DC,resetCmdChannel:Pp}=Qn("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),{resetArchiving:TT}=Qn({SET_ARCHIVING_STATUS:t=>t,SET_ARCHIVING_SESSION_READY:t=>t,SET_ARCHIVING_OPTIONS:t=>t,RESET_ARCHIVING:()=>{}}),{setIsLiveTranscriptionEnabled:RT,setLiveTranscriptionMeetingOptions:AC,setIsLiveTranscriptionManualCaptionerEnabled:TC,setLiveTranscriptionGatewayId:Eg,setLiveTranscriptionSupportedLanguage:OT,setIsLiveTranscriptionSubscribed:RC,setCurrentTranscriptionLang:Hl,setCurrentTranslationLang:uS,addLiveTranscriptionMessage:OC,updateLiveTranscriptionMessage:cS,reduceLiveTranscriptionMessages:Np,setLiveTranscriptionEngineType:MT,removeLiveTranscriptionFailoverState:Cg,setLiveTranscriptionLastCaptionMessage:Ig,resetLiveTranscription:Ik,setIsHostDisableCaptions:PT}=Qn("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS"),{resetPoll:Dk}=Qn("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","RESET_POLL"),{setLoggerInitOptions:MC,setIsLaplaceInitialized:Za,resetLogger:lS}=Qn("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","RESET_LOGGER"),{setIsLiveStreamEnable:kT,setLiveStreamStatus:_g,resetLiveStream:LT}=Qn("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","RESET_LIVE_STREAM");var dS={exports:{}},xT={};(function(t,i){var o=function(X,Z){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,ae){W.__proto__=ae}||function(W,ae){for(var Ce in ae)ae.hasOwnProperty(Ce)&&(W[Ce]=ae[Ce])})(X,Z)};function a(X,Z){function W(){this.constructor=X}o(X,Z),X.prototype=null===Z?Object.create(Z):(W.prototype=Z.prototype,new W)}var l,c=function(){return c=Object.assign||function(X){for(var Z,W=1,ae=arguments.length;W<ae;W++)for(var Ce in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,Ce)&&(X[Ce]=Z[Ce]);return X},c.apply(this,arguments)},p=function(X,Z){var W=new Uint8Array(X.byteLength+Z.byteLength);return W.set(new Uint8Array(X),0),W.set(new Uint8Array(Z),X.byteLength),W.buffer},h="/";(l=t.TransformDataFormat||(t.TransformDataFormat={})).STRING="string",l.BLOB="blob",l.ARRAY_BUFFER="arraybuffer";var g=function(X){return Blob&&X instanceof Blob?"blob":ArrayBuffer&&X instanceof ArrayBuffer?"arrayBuffer":typeof X},v=[],y=function(){for(var X=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Z="",W=0;W<32;W++)Z+=X[Math.round(61*Math.random())];return-1!==v.indexOf(Z)?y():(v.push(Z),Z)},b=function(X){return X.arrayBuffer?X.arrayBuffer():new Promise(function(Z,W){var ae=new FileReader;ae.readAsArrayBuffer(X),ae.onload=function(Ce){Z(Ce.target&&Ce.target.result)},ae.onerror=function(Ce){W(Ce)}})},E=function(X){return X.text?X.text():new Promise(function(Z,W){var ae=new FileReader;ae.readAsText(X),ae.onload=function(Ce){Z(Ce.target&&Ce.target.result)},ae.onerror=function(Ce){W(Ce)}})},I=function(X,Z){return Promise.resolve(new Blob([new Uint8Array(X)],{type:Z}))},w=function(X,Z){var W=new Blob([X],{type:Z||"text/plain"});return E(W)},_=function(X,Z){return Promise.resolve(new Blob([X],{type:Z||"text/plain"}))},A=function(X,Z){return b(new Blob([X],{type:Z||"text/plain"}))};function T(X){var Z=(X||"").split(".");return Z[Z.length-1]||""}function M(X){var Z=(X||"").lastIndexOf(h);return Z<0?"":X.slice(0,Z)}function P(X){var Z=(X||"").lastIndexOf(h),W=Z<0?X:X.slice(Z+1),ae=(W||"").lastIndexOf(".");return ae<0?W:W.slice(0,ae)}function N(X){return["png","jpg","jpeg","svg"].includes(T(X))}function $(X){return"json"===T(X)}function V(X){return"version"===T(X)}function Q(X,Z){return i.loadAsync(X).then(function(W){return Promise.all(W.filter(function(ae,Ce){return!Ce.dir}).map(function(ae){var Le,Ce=$((Le=ae).name)?"string":N(Le.name)?"base64":V(Le.name)?"text":"blob";return Z?.setUnZipFormat&&(Ce=Z.setUnZipFormat(ae)||Ce),ae.async(Ce).then(function(Le){var He=Le,nt=T(ae.name),st="svg"===nt?"svg+xml":nt;return"base64"===Ce&&N(ae.name)&&!Le.startsWith("data")&&(He="data:image/"+st+";base64,"+He),{data:He,file:ae}})}))}).then(function(W){return function L(X,Z){return X.reduce(function(W,ae){var Ce,Le=ae.data,He=ae.file,nt=T(He.name),st=M(He.name),vt=P(He.name),ct=(Z?.combineExtNames||[]).includes(nt)&&"string"==typeof Le,pt=ct?""+(st?""+st+h+nt:nt):He.name;return ct&&W.some(function(Xt){return Xt.path===pt&&(Xt.data[vt]=Le,!0)})||W.push({path:pt,extName:nt,data:ct?(Ce={},Ce[vt]=Le,Ce):Le,shouldCombine:ct}),W},[]).map(function(W){var ae=W.data,Ce=W.shouldCombine,Le=function(He,nt){var st={};for(var vt in He)Object.prototype.hasOwnProperty.call(He,vt)&&nt.indexOf(vt)<0&&(st[vt]=He[vt]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(vt=Object.getOwnPropertySymbols(He);ct<vt.length;ct++)nt.indexOf(vt[ct])<0&&Object.prototype.propertyIsEnumerable.call(He,vt[ct])&&(st[vt[ct]]=He[vt[ct]])}return st}(W,["data","shouldCombine"]);return c(c({},Le),{data:Ce?JSON.stringify(ae):ae})})}(W,Z)})}function Y(X,Z){var en,W=Z||{},ae=W.encoding,Ce=W.blobType,Le=W.unZipOptions;if("blob"===g(en=X)&&(en.type.includes("compressed")||en.type.includes("zip"))&&!Le?.disableUnZip)return Q(X,Le);if(!ae)return Promise.resolve(X);var He=g(X),nt="string"===He,st="blob"===He,vt="arrayBuffer"===He;if(ae===t.TransformDataFormat.BLOB){var ct=X;if(nt)return E(ct);if(vt)return b(ct)}else if(ae===t.TransformDataFormat.ARRAY_BUFFER){var pt=X;if(nt)return w(pt,Ce);if(st)return I(pt,Ce)}else if(ae===t.TransformDataFormat.STRING){var Xt=X;if(st)return _(Xt,Ce);if(vt)return A(Xt,Ce)}return Promise.resolve(X)}function z(X){var Z=0,W=!1,ae=function(){Z>90||W||(X(Z+=(100-Z)/50),requestAnimationFrame(ae))};return ae(),{finish:function(){100===Z||W||(Z=100,X(100))},abort:function(){100===Z||W||(W=!0)},get curProgress(){return Z}}}function j(){}function O(){O.init.call(this)}function k(X){return void 0===X._maxListeners?O.defaultMaxListeners:X._maxListeners}function H(X,Z,W,ae){var Ce,Le,He,st;if("function"!=typeof W)throw new TypeError('"listener" argument must be a function');if((Le=X._events)?(Le.newListener&&(X.emit("newListener",Z,W.listener?W.listener:W),Le=X._events),He=Le[Z]):(Le=X._events=new j,X._eventsCount=0),He){if("function"==typeof He?He=Le[Z]=ae?[W,He]:[He,W]:ae?He.unshift(W):He.push(W),!He.warned&&(Ce=k(X))&&Ce>0&&He.length>Ce){He.warned=!0;var nt=new Error("Possible EventEmitter memory leak detected. "+He.length+" "+Z+" listeners added. Use emitter.setMaxListeners() to increase limit");nt.name="MaxListenersExceededWarning",nt.emitter=X,nt.type=Z,nt.count=He.length,st=nt,"function"==typeof console.warn?console.warn(st):console.log(st)}}else He=Le[Z]=W,++X._eventsCount;return X}function U(X,Z,W){var ae=!1;function Ce(){X.removeListener(Z,Ce),ae||(ae=!0,W.apply(X,arguments))}return Ce.listener=W,Ce}function K(X){var Z=this._events;if(Z){var W=Z[X];if("function"==typeof W)return 1;if(W)return W.length}return 0}function re(X,Z){for(var W=new Array(Z);Z--;)W[Z]=X[Z];return W}j.prototype=Object.create(null),O.EventEmitter=O,O.usingDomains=!1,O.prototype.domain=void 0,O.prototype._events=void 0,O.prototype._maxListeners=void 0,O.defaultMaxListeners=10,O.init=function(){this.domain=null,O.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new j,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(X){if("number"!=typeof X||X<0||isNaN(X))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=X,this},O.prototype.getMaxListeners=function(){return k(this)},O.prototype.emit=function(X){var Z,W,ae,Ce,Le,He,nt,st="error"===X;if(He=this._events)st=st&&null==He.error;else if(!st)return!1;if(nt=this.domain,st){if(Z=arguments[1],!nt){if(Z instanceof Error)throw Z;var vt=new Error('Uncaught, unspecified "error" event. ('+Z+")");throw vt.context=Z,vt}return Z||(Z=new Error('Uncaught, unspecified "error" event')),Z.domainEmitter=this,Z.domain=nt,Z.domainThrown=!1,nt.emit("error",Z),!1}if(!(W=He[X]))return!1;var ct="function"==typeof W;switch(ae=arguments.length){case 1:!function(pt,Xt,en){if(Xt)pt.call(en);else for(var Bt=pt.length,Xn=re(pt,Bt),Cn=0;Cn<Bt;++Cn)Xn[Cn].call(en)}(W,ct,this);break;case 2:!function(pt,Xt,en,Bt){if(Xt)pt.call(en,Bt);else for(var Xn=pt.length,Cn=re(pt,Xn),Gn=0;Gn<Xn;++Gn)Cn[Gn].call(en,Bt)}(W,ct,this,arguments[1]);break;case 3:!function(pt,Xt,en,Bt,Xn){if(Xt)pt.call(en,Bt,Xn);else for(var Cn=pt.length,Gn=re(pt,Cn),ui=0;ui<Cn;++ui)Gn[ui].call(en,Bt,Xn)}(W,ct,this,arguments[1],arguments[2]);break;case 4:!function(pt,Xt,en,Bt,Xn,Cn){if(Xt)pt.call(en,Bt,Xn,Cn);else for(var Gn=pt.length,ui=re(pt,Gn),jo=0;jo<Gn;++jo)ui[jo].call(en,Bt,Xn,Cn)}(W,ct,this,arguments[1],arguments[2],arguments[3]);break;default:for(Ce=new Array(ae-1),Le=1;Le<ae;Le++)Ce[Le-1]=arguments[Le];!function(pt,Xt,en,Bt){if(Xt)pt.apply(en,Bt);else for(var Xn=pt.length,Cn=re(pt,Xn),Gn=0;Gn<Xn;++Gn)Cn[Gn].apply(en,Bt)}(W,ct,this,Ce)}return!0},O.prototype.on=O.prototype.addListener=function(X,Z){return H(this,X,Z,!1)},O.prototype.prependListener=function(X,Z){return H(this,X,Z,!0)},O.prototype.once=function(X,Z){if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');return this.on(X,U(this,X,Z)),this},O.prototype.prependOnceListener=function(X,Z){if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');return this.prependListener(X,U(this,X,Z)),this},O.prototype.removeListener=function(X,Z){var W,ae,Ce,Le,He;if("function"!=typeof Z)throw new TypeError('"listener" argument must be a function');if(!(ae=this._events))return this;if(!(W=ae[X]))return this;if(W===Z||W.listener&&W.listener===Z)0==--this._eventsCount?this._events=new j:(delete ae[X],ae.removeListener&&this.emit("removeListener",X,W.listener||Z));else if("function"!=typeof W){for(Ce=-1,Le=W.length;Le-- >0;)if(W[Le]===Z||W[Le].listener&&W[Le].listener===Z){He=W[Le].listener,Ce=Le;break}if(Ce<0)return this;if(1===W.length){if(W[0]=void 0,0==--this._eventsCount)return this._events=new j,this;delete ae[X]}else!function(nt,st){for(var vt=st,ct=vt+1,pt=nt.length;ct<pt;vt+=1,ct+=1)nt[vt]=nt[ct];nt.pop()}(W,Ce);ae.removeListener&&this.emit("removeListener",X,He||Z)}return this},O.prototype.removeAllListeners=function(X){var Z,W;if(!(W=this._events))return this;if(!W.removeListener)return 0===arguments.length?(this._events=new j,this._eventsCount=0):W[X]&&(0==--this._eventsCount?this._events=new j:delete W[X]),this;if(0===arguments.length){for(var ae,Ce=Object.keys(W),Le=0;Le<Ce.length;++Le)"removeListener"!==(ae=Ce[Le])&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=new j,this._eventsCount=0,this}if("function"==typeof(Z=W[X]))this.removeListener(X,Z);else if(Z)do{this.removeListener(X,Z[Z.length-1])}while(Z[0]);return this},O.prototype.listeners=function(X){var Z,W=this._events;return W&&(Z=W[X])?"function"==typeof Z?[Z.listener||Z]:function(ae){for(var Ce=new Array(ae.length),Le=0;Le<Ce.length;++Le)Ce[Le]=ae[Le].listener||ae[Le];return Ce}(Z):[]},O.listenerCount=function(X,Z){return"function"==typeof X.listenerCount?X.listenerCount(Z):K.call(X,Z)},O.prototype.listenerCount=K,O.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var te=function(X){function Z(W){var ae=X.call(this)||this;return ae.timeout=W?.timeout||3e4,ae}return a(Z,X),Z.prototype.clearTimeoutCheck=function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},Z.prototype.startTimeoutCheck=function(){var W=this;!this.timeoutTimer&&!this.finished&&this.timeout>0&&(this.timeoutTimer=setTimeout(function(){W.finished||(W.finished=!0,W.data=null,W.emit("timeout")),W.clearTimeoutCheck()},this.timeout))},Z}(O),me=function(X){function Z(W){var ae=X.call(this,W)||this;return ae.uuid=y(),ae.domParams=W||{},ae}return a(Z,X),Z.prototype.jsonp=function(){var W=this;if(!this.finished){var ae=this.domParams,Ce=ae.url,Le=ae.jsonpCallbackName,He=void 0===Le?"callback":Le,nt=ae.body,st=ae.integrity;this.script=document.createElement("script"),st&&(this.script.integrity=st,this.script.crossOrigin="anonymous");var vt="";nt&&Object.entries(nt).forEach(function(ct){vt+=(vt?"&":"")+ct[0]+"="+ct[1]}),vt+=(vt?"&":"")+He+"="+this.uuid,this.script.src=Ce+(Ce.includes("?")?"":"?")+vt,this.jsonpCallback(),this.progressMonitory=z(function(ct){W.finished||W.emit("progressUpdated",ct)}),document.body.appendChild(this.script)}},Z.prototype.clearSideEffect=function(W){if(void 0===W&&(W=!1),document.body.removeChild(this.script),W){var ae=this.uuid;window[this.uuid]=function(){window[ae]&&delete window[ae]}}else delete window[this.uuid];this.script=null,this.uuid=null,this.finished=!0,this.data=null,this.clearTimeoutCheck()},Z.prototype.jsonpCallback=function(){var W=this;this.script.onerror=function(ae){var Ce;W.finished||(W.clearSideEffect(),null===(Ce=W.progressMonitory)||void 0===Ce||Ce.abort(),W.emit("error",new Error("string"==typeof ae?ae:"load jsonp script failed")))},window[this.uuid]=function(ae){var Ce;if(!W.finished){var Le=W.domParams,He=Le.encoding,nt=Le.blobType,st=Le.unZipOptions,vt=Le.beforeTransformData,ct=Le.afterTransformData;null===(Ce=W.progressMonitory)||void 0===Ce||Ce.finish(),W.clearSideEffect(),(vt?vt(ae||""):Promise.resolve(ae||"")).then(function(pt){return Y(pt,{encoding:He,blobType:nt,unZipOptions:st}).then(function(Xt){return(ct?ct(Xt):Promise.resolve(Xt)).then(function(en){return W.emit("finished",en)})})}).catch(function(pt){return W.emit("error",pt)})}}},Z.prototype.abort=function(){this.clearSideEffect(!0)},Z}(te),Ne=function(X){function Z(W){var ae=X.call(this,W)||this;return ae.socketParams=W||{},ae}return a(Z,X),Z.prototype.write=function(W,ae){W&&!this.finished&&(W instanceof Error?this.handleError(W):(this.data?this.appendData(W):this.data=W,this.handlePerCentUpdate(ae)))},Z.prototype.handlePerCentUpdate=function(W){void 0===W||this.finished||this.emit("progressUpdated",W)},Z.prototype.handleError=function(W){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.emit("error",W)},Z.prototype.appendData=function(W){g(W)===g(this.data)?"string"==typeof W?this.data+=W:Blob&&W instanceof Blob?this.data=new Blob([this.data,W],{type:W.type}):ArrayBuffer&&W instanceof ArrayBuffer&&(this.data=p(this.data,W)):this.handleError(new Error("every piece of the data format must be the same"))},Z.prototype.end=function(W){var ae=this;if(!this.finished){this.handlePerCentUpdate(100),W&&this.write(W);var Ce=this.socketParams,Le=Ce.encoding,He=Ce.blobType,nt=Ce.unZipOptions,st=Ce.beforeTransformData,vt=Ce.afterTransformData;(st?st(this.data):Promise.resolve(this.data)).then(function(ct){return Y(ct,{encoding:Le,blobType:He,unZipOptions:nt}).then(function(pt){return(vt?vt(pt):Promise.resolve(pt)).then(function(Xt){return ae.emit("finished",Xt)})})}).catch(function(ct){return ae.emit("error",ct)}),this.data=null,this.finished=!0,this.clearTimeoutCheck()}},Z.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck()},Z}(te),De=function(X){function Z(W){var ae=X.call(this,W)||this;return ae.xhrParams=W||{},ae.xhrParams.headers=c({},ae.xhrParams.headers||{}),ae}return a(Z,X),Z.prototype.supportFetch=function(){return!!window.fetch&&window.AbortController&&window.Request},Z.prototype.ajax=function(){var W=this;if(!this.finished)if(this.xhrParams.url){var ae=this.xhrParams,Ce=ae.headers,Le=void 0===Ce?{}:Ce,He=ae.url,nt=ae.body,st=void 0===nt?{}:nt,vt=ae.method,ct=void 0===vt?"POST":vt,pt=ae.encoding,Xt=ae.integrity;this.controller=this.supportFetch()?new AbortController:new XMLHttpRequest;var en=this.supportFetch()?z(function(Bt){W.finished||W.emit("progressUpdated",Bt)}):null;(this.supportFetch()?fetch(new Request(He,c({method:ct,headers:Le,body:"GET"===ct?void 0:JSON.stringify(st),signal:this.controller.signal},Xt?{integrity:Xt,mode:"cors"}:{}))).then(function(Bt){return Bt.ok?pt===t.TransformDataFormat.STRING?Bt.text():pt===t.TransformDataFormat.ARRAY_BUFFER?Bt.arrayBuffer():Bt.blob():Promise.reject(new Error("xhr download "+He+" failed!"))}):new Promise(function(Bt,Xn){var Cn=new XMLHttpRequest;W.controller=Cn,Cn.open(ct,He),Cn.responseType=pt===t.TransformDataFormat.STRING?"text":pt===t.TransformDataFormat.ARRAY_BUFFER?"arraybuffer":"blob",Object.entries(Le).forEach(function(Gn){Cn.setRequestHeader(Gn[0],Gn[1])}),Cn.onload=function(){var Gn=Cn.status,jo=Cn.statusText;Gn>=200&&Gn<300||304===Gn?Bt(Cn.response):Xn(new Error(Gn+": "+jo))},Cn.onprogress=function(Gn){var ui=Gn||{},jo=ui.total,Bc=ui.loaded;void 0===Bc||W.finished||(jo?W.emit("progressUpdated",Bc/jo*100):Bc&&!en&&(en=z(function(Wb){W.finished||W.emit("progressUpdated",Wb)})))},Cn.onerror=function(){Xn(new Error("xhr download "+He+" failed!"))},Cn.send(JSON.stringify(st))})).then(function(Bt){if(!W.finished){var Xn=W.xhrParams,Cn=Xn.encoding,Gn=Xn.blobType,ui=Xn.unZipOptions,jo=Xn.beforeTransformData,Bc=Xn.afterTransformData;en?.finish(),W.finished=!0,W.clearTimeoutCheck(),(jo?jo(Bt):Promise.resolve(Bt)).then(function(Wb){return Y(Wb,{encoding:Cn,blobType:Gn,unZipOptions:ui}).then(function(wx){return(Bc?Bc(wx):Promise.resolve(wx)).then(function(Dx){return W.emit("finished",Dx)})})}).catch(function(Wb){return W.emit("error",Wb)})}}).catch(function(Bt){W.finished||(W.finished=!0,W.clearTimeoutCheck(),en?.abort(),W.emit("error",Bt))})}else this.emit("error",new Error("xhrDownloader url params invalid!"))},Z.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.controller.abort()},Z}(te),Ue=0;O.defaultMaxListeners=500;var Be,ke=new O,xe="ThreadPoolReady",tt=function(){Ue-=1,ke.emit(xe)};(Be=t.DownloaderType||(t.DownloaderType={})).XHR="xhr",Be.DOM="dom",Be.SOCKET="socket";var Nt=function(X){function Z(W){var ae=X.call(this)||this;return ae.aborted=!1,ae.downloadParmas=c({type:t.DownloaderType.XHR},W),ae.id=y(),ae}return a(Z,X),Z.prototype.start=function(){var W=this;Ue+=1,this.progress=0,this.emit("downloadStart"),this.onDownloadStartCallback&&this.onDownloadStartCallback();var ae=this.downloadParmas,Le=ae.xhrParams,He=ae.domParams,nt=ae.socketParams;switch(ae.type){case t.DownloaderType.DOM:this.downloader=new me(He),this.downloader.jsonp();break;case t.DownloaderType.SOCKET:this.downloader=new Ne(nt);break;default:this.downloader=new De(Le),this.downloader.ajax()}return this.downloader.startTimeoutCheck(),this.downloader.on("error",function(st){W.emit("error",st),W.onErrorCallback&&W.onErrorCallback(st),tt()}).on("finished",function(st){W.emit("complete",st),W.onCompleteCallback&&W.onCompleteCallback(st),tt()}).on("progressUpdated",function(st){W.progress=st,W.emit("progressUpdated",st),W.onProgressUpdatedCallback&&W.onProgressUpdatedCallback(st)}).on("timeout",function(){W.emit("timeout"),W.onTimeoutCallback&&W.onTimeoutCallback(),tt()}),this},Z.prototype.abort=function(){if(this.aborted)return this;this.aborted=!0,this.downloader&&!this.downloader.finished&&this.downloader.abort();var W=new Error("file download has been aborted");return this.emit("abort",W),this.onAbortCallback&&this.onAbortCallback(W),tt(),this},Z.prototype.onDownloadStart=function(W){return this.onDownloadStartCallback=W,this},Z.prototype.onProgressUpdated=function(W){return this.onProgressUpdatedCallback=W,this},Z.prototype.onError=function(W){return this.onErrorCallback=W,this},Z.prototype.onComplete=function(W){return this.onCompleteCallback=W,this},Z.prototype.onAbort=function(W){return this.onAbortCallback=W,this},Z.prototype.onTimeout=function(W){return this.onTimeoutCallback=W,this},Z.prototype.isInProgress=function(){return void 0!==this.progress},Z.prototype.isFinished=function(){return 100===this.progress},Z}(O),mt=function(){function X(Z){this.taskList=[],this.options=Z||{};var W=this.options.threadLimit;if((void 0===W?6:W)>6)throw new Error("threadLimit must be lower than 6");ke.on(xe,this.startNextTask.bind(this))}return X.prototype.download=function(Z){var W=new Nt(Z),ae=this.removeTask.bind(this,W);return W.on("abort",ae),this.taskList.push(W),this.checkTaskReady(W),W},X.prototype.startNextTask=function(){var Z=this.taskList.find(function(W){return!W.isInProgress()});Z&&this.checkTaskReady(Z)},X.prototype.checkTaskReady=function(Z){var W=this.options.threadLimit,ae=void 0===W?6:W;if(!(this.taskList.findIndex(function(Le){return!Le.isInProgress()})>=ae||Ue+1>6)){var Ce=this.removeTask.bind(this,Z);Z.on("complete",Ce),Z.on("error",Ce),Z.on("timeout",Ce),setTimeout(function(){return Z.start()},0)}},X.prototype.removeTask=function(Z){var W=this;this.taskList.some(function(ae,Ce){return ae===Z&&(setTimeout(function(){return Z.removeAllListeners()},0),W.taskList.splice(Ce,1),!0)})},X}();t.DownloadTask=Nt,t.IDownloadManager=mt,t.appendBuffer=p,t.arrayBufferToBlob=I,t.arrayBufferToString=w,t.blobToArrayBuffer=b,t.blobToText=E,t.genUuid=y,t.getDataFormat=g,t.getExtName=T,t.getFileName=P,t.getFullPathName=M,t.isImgFile=N,t.isJsonFile=$,t.isVersionFile=V,t.monitorProgress=z,t.sep=h,t.stringToArrayBuffer=A,t.stringToBlob=_,t.transformData=Y,Object.defineProperty(t,"__esModule",{value:!0})})(xT,vv(Object.freeze({__proto__:null,loadAsync:function(){},default:{}}))),yD(xT),function(t,i){var o=function(z,j){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var H in k)k.hasOwnProperty(H)&&(O[H]=k[H])})(z,j)};function a(z,j){function O(){this.constructor=z}o(z,j),z.prototype=null===j?Object.create(j):(O.prototype=j.prototype,new O)}var c=function(){return c=Object.assign||function(z){for(var j,O=1,k=arguments.length;O<k;O++)for(var H in j=arguments[O])Object.prototype.hasOwnProperty.call(j,H)&&(z[H]=j[H]);return z},c.apply(this,arguments)};function l(){}function p(){p.init.call(this)}function h(z){return void 0===z._maxListeners?p.defaultMaxListeners:z._maxListeners}function g(z,j,O,k){var H,U,K,te;if("function"!=typeof O)throw new TypeError('"listener" argument must be a function');if((U=z._events)?(U.newListener&&(z.emit("newListener",j,O.listener?O.listener:O),U=z._events),K=U[j]):(U=z._events=new l,z._eventsCount=0),K){if("function"==typeof K?K=U[j]=k?[O,K]:[K,O]:k?K.unshift(O):K.push(O),!K.warned&&(H=h(z))&&H>0&&K.length>H){K.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+j+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=z,re.type=j,re.count=K.length,te=re,"function"==typeof console.warn?console.warn(te):console.log(te)}}else K=U[j]=O,++z._eventsCount;return z}function v(z,j,O){var k=!1;function H(){z.removeListener(j,H),k||(k=!0,O.apply(z,arguments))}return H.listener=O,H}function y(z){var j=this._events;if(j){var O=j[z];if("function"==typeof O)return 1;if(O)return O.length}return 0}function b(z,j){for(var O=new Array(j);j--;)O[j]=z[j];return O}l.prototype=Object.create(null),p.EventEmitter=p,p.usingDomains=!1,p.prototype.domain=void 0,p.prototype._events=void 0,p.prototype._maxListeners=void 0,p.defaultMaxListeners=10,p.init=function(){this.domain=null,p.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new l,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this},p.prototype.getMaxListeners=function(){return h(this)},p.prototype.emit=function(z){var j,O,k,H,U,K,re,te="error"===z;if(K=this._events)te=te&&null==K.error;else if(!te)return!1;if(re=this.domain,te){if(j=arguments[1],!re){if(j instanceof Error)throw j;var me=new Error('Uncaught, unspecified "error" event. ('+j+")");throw me.context=j,me}return j||(j=new Error('Uncaught, unspecified "error" event')),j.domainEmitter=this,j.domain=re,j.domainThrown=!1,re.emit("error",j),!1}if(!(O=K[z]))return!1;var Ne="function"==typeof O;switch(k=arguments.length){case 1:!function(De,Ue,Be){if(Ue)De.call(Be);else for(var ke=De.length,xe=b(De,ke),tt=0;tt<ke;++tt)xe[tt].call(Be)}(O,Ne,this);break;case 2:!function(De,Ue,Be,ke){if(Ue)De.call(Be,ke);else for(var xe=De.length,tt=b(De,xe),Nt=0;Nt<xe;++Nt)tt[Nt].call(Be,ke)}(O,Ne,this,arguments[1]);break;case 3:!function(De,Ue,Be,ke,xe){if(Ue)De.call(Be,ke,xe);else for(var tt=De.length,Nt=b(De,tt),mt=0;mt<tt;++mt)Nt[mt].call(Be,ke,xe)}(O,Ne,this,arguments[1],arguments[2]);break;case 4:!function(De,Ue,Be,ke,xe,tt){if(Ue)De.call(Be,ke,xe,tt);else for(var Nt=De.length,mt=b(De,Nt),X=0;X<Nt;++X)mt[X].call(Be,ke,xe,tt)}(O,Ne,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(k-1),U=1;U<k;U++)H[U-1]=arguments[U];!function(De,Ue,Be,ke){if(Ue)De.apply(Be,ke);else for(var xe=De.length,tt=b(De,xe),Nt=0;Nt<xe;++Nt)tt[Nt].apply(Be,ke)}(O,Ne,this,H)}return!0},p.prototype.on=p.prototype.addListener=function(z,j){return g(this,z,j,!1)},p.prototype.prependListener=function(z,j){return g(this,z,j,!0)},p.prototype.once=function(z,j){if("function"!=typeof j)throw new TypeError('"listener" argument must be a function');return this.on(z,v(this,z,j)),this},p.prototype.prependOnceListener=function(z,j){if("function"!=typeof j)throw new TypeError('"listener" argument must be a function');return this.prependListener(z,v(this,z,j)),this},p.prototype.removeListener=function(z,j){var O,k,H,U,K;if("function"!=typeof j)throw new TypeError('"listener" argument must be a function');if(!(k=this._events))return this;if(!(O=k[z]))return this;if(O===j||O.listener&&O.listener===j)0==--this._eventsCount?this._events=new l:(delete k[z],k.removeListener&&this.emit("removeListener",z,O.listener||j));else if("function"!=typeof O){for(H=-1,U=O.length;U-- >0;)if(O[U]===j||O[U].listener&&O[U].listener===j){K=O[U].listener,H=U;break}if(H<0)return this;if(1===O.length){if(O[0]=void 0,0==--this._eventsCount)return this._events=new l,this;delete k[z]}else!function(re,te){for(var me=te,Ne=me+1,De=re.length;Ne<De;me+=1,Ne+=1)re[me]=re[Ne];re.pop()}(O,H);k.removeListener&&this.emit("removeListener",z,K||j)}return this},p.prototype.removeAllListeners=function(z){var j,O;if(!(O=this._events))return this;if(!O.removeListener)return 0===arguments.length?(this._events=new l,this._eventsCount=0):O[z]&&(0==--this._eventsCount?this._events=new l:delete O[z]),this;if(0===arguments.length){for(var k,H=Object.keys(O),U=0;U<H.length;++U)"removeListener"!==(k=H[U])&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=new l,this._eventsCount=0,this}if("function"==typeof(j=O[z]))this.removeListener(z,j);else if(j)do{this.removeListener(z,j[j.length-1])}while(j[0]);return this},p.prototype.listeners=function(z){var j,O=this._events;return O&&(j=O[z])?"function"==typeof j?[j.listener||j]:function(k){for(var H=new Array(k.length),U=0;U<H.length;++U)H[U]=k[U].listener||k[U];return H}(j):[]},p.listenerCount=function(z,j){return"function"==typeof z.listenerCount?z.listenerCount(j):y.call(z,j)},p.prototype.listenerCount=y,p.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var E="ZipInfo:";function I(z){var j;return null===(j=z?.path)||void 0===j?void 0:j.startsWith(E)}function w(z){return"string"==typeof z&&z.startsWith(E)}function _(z,j){return(Array.isArray(z)?z:[z]).some(function(O){if("number"!=typeof O.version)throw new Error("file version must be an int number");return O.version<j})}function A(z,j){return z.reduce(function(O,k){return O.then(function(H){return j(H,k)}).catch(function(){return j(void 0,k)})},Promise.resolve(void 0))}var T,M=function(z){function j(){return null!==z&&z.apply(this,arguments)||this}return a(j,z),j}(p),P="resource",N=function(z){function j(O){var te,k=z.call(this)||this;if(k.ready=!1,k.openError=!1,k.isEnable()){var H=O||{},K=H.indexDbVersion;k.dbName="resource-manager"+((te=H.nameSpaceId)?"-"+te:"");var re=indexedDB.open(k.dbName,K||1);re.addEventListener("error",function(){k.openError=!0,k.checkReady(),k.emit("error",new Error("failed to open indexedDB"))}),re.addEventListener("success",function(){k.db=re.result,k.checkReady()}),re.addEventListener("upgradeneeded",function(){k.db=re.result,k.handleSuccess()}),setTimeout(function(){k.checkReady()},5e3)}else k.checkReady();return k}return a(j,z),j.prototype.checkReady=function(){this.ready||(this.ready=!0,this.emit("ready"))},j.prototype.handleSuccess=function(){if(!this.db.objectStoreNames||0===this.db.objectStoreNames.length||!this.db.objectStoreNames.contains(P)){var O=this.db.createObjectStore(P,{keyPath:"path",autoIncrement:!1});O.createIndex("path","path"),O.createIndex("sourceURL","sourceURL",{unique:!1})}},j.prototype.createAction=function(O){var k=this.db.transaction([P],O||"readonly");return{trans:k,store:k.objectStore(P)}},j.prototype.handleAction=function(O,k){return new Promise(function(H,U){var K=k();O.addEventListener("complete",function(){H(K.result)}),O.addEventListener("error",function(){U(O.error||new Error("transaction error"))}),O.addEventListener("abort",function(){U(O.error||new Error("transaction aborted"))})})},j.prototype.put=function(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];var H=this.createAction("readwrite"),K=H.store;return this.handleAction(H.trans,function(){return K.put.apply(K,O)})},j.prototype.getAllKeysFromIndex=function(O){for(var k=[],H=1;H<arguments.length;H++)k[H-1]=arguments[H];if(IDBObjectStore.prototype.getAllKeys){var U=this.createAction(),re=U.store;return this.handleAction(U.trans,function(){var te;return(te=re.index(O)).getAllKeys.apply(te,k)})}return this.openKeyCursor(O)},j.prototype.getAllFromIndex=function(O){for(var k=[],H=1;H<arguments.length;H++)k[H-1]=arguments[H];var U=this.createAction(),re=U.store;return IDBObjectStore.prototype.getAll?this.handleAction(U.trans,function(){var te;return(te=re.index(O)).getAll.apply(te,k)}):this.openCursor(O)},j.prototype.getFromIndex=function(O){for(var k=[],H=1;H<arguments.length;H++)k[H-1]=arguments[H];var U=this.createAction(),re=U.store;return this.handleAction(U.trans,function(){var te;return(te=re.index(O)).get.apply(te,k)})},j.prototype.deleteKey=function(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];var H=this.createAction("readwrite"),K=H.store;return this.handleAction(H.trans,function(){return K.delete.apply(K,O)})},j.prototype.handleCursorAction=function(O,k,H,U){return new Promise(function(K,re){k.addEventListener("success",function(){k.result?(H(U,k.result),k.result.continue()):K(U)}),k.addEventListener("error",function(){re(O.error||new Error("transaction error"))})})},j.prototype.openKeyCursor=function(O){for(var k,H=[],U=1;U<arguments.length;U++)H[U-1]=arguments[U];var K=this.createAction("readwrite");return this.handleCursorAction(K.trans,(k=K.store.index(O)).openKeyCursor.apply(k,H),function(me,Ne){return me.push(Ne.key),me},[])},j.prototype.openCursor=function(O){for(var k,H=[],U=1;U<arguments.length;U++)H[U-1]=arguments[U];var K=this.createAction("readwrite");return this.handleCursorAction(K.trans,(k=K.store.index(O)).openCursor.apply(k,H),function(me,Ne){return me.push(Ne.value),me},[])},j.prototype.isEnable=function(){return!!window.indexedDB&&!this.openError},j.prototype.saveFile=function(O){return this.db?this.put(O).then(function(){return!0}):Promise.resolve(!1)},j.prototype.removeFile=function(O){var k=this;return this.db?"string"==typeof O?this.getAllKeysFromIndex("path").then(function(H){var U=(H||[]).filter(function(K){return K===O||K.startsWith(""+O+i.sep)});return Promise.all(U.map(function(K){return k.deleteKey(K)}))}).then(function(){return!0}):this.deleteKey(O.path).then(function(){return!0}):Promise.resolve(!1)},j.prototype.clear=function(){if(!this.db)return Promise.resolve(!1);var O=this.createAction("readwrite"),H=O.store;return this.handleAction(O.trans,function(){return H.clear()}).then(function(){return!0})},j.prototype.findFileByPath=function(O){return this.db&&O?this.getFromIndex("path",O):Promise.resolve(void 0)},j.prototype.findFileBySourceURL=function(O){return this.db&&O?this.getAllFromIndex("sourceURL",O):Promise.resolve([])},j.prototype.isDirectory=function(O){var k=this;return this.db?new Promise(function(H){w(O)?H(!1):k.getAllKeysFromIndex("path").then(function(U){return(U||[]).some(function(K){return K.startsWith(""+O+i.sep)})}).then(H).catch(function(){return H(!1)})}):Promise.resolve(!1)},j.prototype.ls=function(O){var k=this;return this.db?this.getAllKeysFromIndex("path").then(function(H){var U=[];return Promise.all((H||[]).map(function(K){if(w(K))return Promise.resolve(void 0);if(O){if(K.startsWith(""+O+i.sep)){var re=K.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return te&&!U.includes(te)?(U.push(te),Promise.resolve(te)):Promise.resolve(void 0)}return k.getFromIndex("path",K)}return Promise.resolve(void 0)}if(K.includes(i.sep)){var me=K.split(i.sep)[0]||"";return me&&!U.includes(me)?(U.push(me),Promise.resolve(me)):Promise.resolve(void 0)}return k.getFromIndex("path",K)})).then(function(K){return K.filter(function(re){return!!re})})}):Promise.resolve([])},j}(M),$=function(z){function j(){var O=null!==z&&z.apply(this,arguments)||this;return O.memoryFiles=[],O}return a(j,z),j.prototype.isEnable=function(){return!0},j.prototype.saveFile=function(O){var k=this;return new Promise(function(H){k.memoryFiles.some(function(U,K){return U.path===O.path&&(k.memoryFiles.splice(K,1,O),!0)})||k.memoryFiles.push(O),H(!0)})},j.prototype.removeFile=function(O){var k=this;return new Promise(function(H){for(var U=k.memoryFiles.length-1;U>=0;U--){var K=k.memoryFiles[U];("string"==typeof O&&(K.path===O||K.path.startsWith(""+O+i.sep))||O.path===K.path)&&k.memoryFiles.splice(U,1)}H(!0)})},j.prototype.clear=function(){var O=this;return new Promise(function(k){O.memoryFiles=[],k(!0)})},j.prototype.findFileByPath=function(O){var k=this;return new Promise(function(H){H(k.memoryFiles.filter(function(U){return U.path===O})[0])})},j.prototype.findFileBySourceURL=function(O){var k=this;return new Promise(function(H){H(k.memoryFiles.filter(function(U){return U.sourceURL===O}))})},j.prototype.isDirectory=function(O){var k=this;return new Promise(function(H){w(O)?H(!1):H(k.memoryFiles.some(function(U){return U.path.startsWith(""+O+i.sep)}))})},j.prototype.ls=function(O){var k=this;return new Promise(function(H){var U=[];k.memoryFiles.forEach(function(K){if(!I(K))if(O){if(K.path.startsWith(""+O+i.sep)){var re=K.path.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return void(te&&!U.includes(te)&&U.push(te))}U.push(K)}}else if(K.path.includes(i.sep)){var me=K.path.split(i.sep)[0]||"";me&&!U.includes(me)&&U.push(me)}else U.push(K)}),H(U)})},j}(M),V=function(z){function j(O){var U,k=z.call(this)||this;return k.isLocalAvaliable=void 0,k.isEnable()&&(k.storageName="resource-manager"+((U=(O||{}).nameSpaceId)?"-"+U:"")),k}return a(j,z),j.prototype.isEnable=function(){if(void 0!==this.isLocalAvaliable)return this.isLocalAvaliable;try{this.isLocalAvaliable=!0,localStorage.setItem("privateTest","")}catch{this.isLocalAvaliable=!1}return this.isLocalAvaliable},j.prototype.saveFile=function(O){var k=this;return this.isEnable()?new Promise(function(H){var U=k.getLocalFile();U.some(function(K,re){return K.path===O.path&&(U.splice(re,1,O),!0)})||U.push(O),localStorage.setItem(k.storageName,JSON.stringify(U)),H(!0)}):Promise.resolve(!1)},j.prototype.getLocalFile=function(){var O=localStorage.getItem(this.storageName),k=[];if(O)try{k=JSON.parse(O)||"[]"}catch(H){console.log(H)}return k},j.prototype.removeFile=function(O){var k=this;return this.isEnable()?new Promise(function(H){for(var U=k.getLocalFile(),K=U.length-1;K>=0;K--){var re=U[K];("string"==typeof O&&(re.path===O||re.path.startsWith(""+O+i.sep))||O.path===re.path)&&U.splice(K,1)}localStorage.setItem(k.storageName,JSON.stringify(U)),H(!0)}):Promise.resolve(!1)},j.prototype.clear=function(){var O=this;return this.isEnable()?new Promise(function(k){localStorage.removeItem(O.storageName),k(!0)}):Promise.resolve(!1)},j.prototype.findFileByPath=function(O){var k=this;return this.isEnable()?new Promise(function(H){H(k.getLocalFile().filter(function(U){return U.path===O})[0])}):Promise.resolve(void 0)},j.prototype.findFileBySourceURL=function(O){var k=this;return this.isEnable()?new Promise(function(H){H(k.getLocalFile().filter(function(U){return U.sourceURL===O}))}):Promise.resolve([])},j.prototype.isDirectory=function(O){var k=this;return this.isEnable()?new Promise(function(H){w(O)?H(!1):H(k.getLocalFile().some(function(U){return U.path.startsWith(""+O+i.sep)}))}):Promise.resolve(!1)},j.prototype.ls=function(O){var k=this;return this.isEnable()?new Promise(function(H){var U=[];k.getLocalFile().forEach(function(K){if(!I(K))if(O){if(K.path.startsWith(""+O+i.sep)){var re=K.path.split(""+O+i.sep)[1]||"";if(re.includes(i.sep)){var te=""+O+i.sep+re.split(i.sep)[0];return void(te&&!U.includes(te)&&U.push(te))}U.push(K)}}else if(K.path.includes(i.sep)){var me=K.path.split(i.sep)[0]||"";me&&!U.includes(me)&&U.push(me)}else U.push(K)}),H(U)}):Promise.resolve([])},j}(M);(T=t.FileStoreEnum||(t.FileStoreEnum={})).MEMORY="memoryStore",T.INDEX_DB="indexedDBStore",T.STORAGE="storageStore";var L=function(z){function j(O){var k=z.call(this)||this;return k.indexedDBStore=new N(O),k.memoryStore=new $,k.storageStore=new V(O),k}return a(j,z),j.prototype.saveFile=function(O,k,H){var U=this;void 0===k&&(k=!0);var K=(H||{}).forceSpecifyStore;return(k?this.findFileByPath(O.path,H):Promise.resolve(void 0)).then(function(re){if(re?.version&&_(O,re.version))throw new Error("there is an higher version file existed already");var te=c(c({},O),{createTime:re&&re.createTime||Date.now(),updateTime:Date.now()});return K&&U[K]&&U[K].isEnable()&&(K!==t.FileStoreEnum.STORAGE||U.isLocalStorageAvaliable(te))?U[K].saveFile(te):U[U.saveToTargetStoreRule(te)].saveFile(te)})},j.prototype.isLocalStorageAvaliable=function(O){var k=O.data;return"string"===i.getDataFormat(k)&&k.length<=102400&&this.storageStore.isEnable()},j.prototype.saveToTargetStoreRule=function(O){return this.indexedDBStore.isEnable()?t.FileStoreEnum.INDEX_DB:this.isLocalStorageAvaliable(O)?t.FileStoreEnum.STORAGE:t.FileStoreEnum.MEMORY},j.prototype.removeFile=function(O,k){var H=(k||{}).forceSpecifyStore;return H&&this[H]?this[H].removeFile(O):Promise.all([this.indexedDBStore.removeFile(O),this.storageStore.removeFile(O),this.memoryStore.removeFile(O)]).then(function(){return!0})},j.prototype.clear=function(O){var k=(O||{}).forceSpecifyStore;return k&&this[k]?this[k].clear():Promise.all([this.indexedDBStore.clear(),this.storageStore.clear(),this.memoryStore.clear()]).then(function(){return!0})},j.prototype.findFileByPath=function(O,k){var H=this,U=(k||{}).forceSpecifyStore;return U&&this[U]?this[U].findFileByPath(O):A(this.searchInTargetStoreRule(),function(K,re){return K?Promise.resolve(K):H[re].findFileByPath(O)})},j.prototype.findFileBySourceURL=function(O,k){var H=this,U=(k||{}).forceSpecifyStore;return U&&this[U]?this[U].findFileBySourceURL(O):A(this.searchInTargetStoreRule(),function(K,re){return H[re].findFileBySourceURL(O).then(function(te){return K?K.filter(function(me){return!te.some(function(Ne){return Ne.path===me.path})}).concat(te||[]):te||[]})})},j.prototype.searchInTargetStoreRule=function(){return[t.FileStoreEnum.INDEX_DB,t.FileStoreEnum.STORAGE,t.FileStoreEnum.MEMORY]},j.prototype.isDirectory=function(O){var k=this;return O?A(this.searchInTargetStoreRule(),function(H,U){return H?Promise.resolve(!0):k[U].isDirectory(O)}):Promise.resolve(!0)},j.prototype.ls=function(O){var k=this;return this.isDirectory(O).then(function(H){if(!H)throw new Error("path: "+O+" is an invalid directory path");return A(k.searchInTargetStoreRule(),function(U,K){return k[K].ls(O).then(function(re){return U?(re||[]).concat(U.filter(function(te){return!re.some(function(me){return"string"==typeof te?me===te:"string"!=typeof me&&me.path===te.path})})):re})})})},j}(p),Q=function(z){function j(){return null!==z&&z.apply(this,arguments)||this}return a(j,z),j}(p),Y=function(z){function j(O){var k=z.call(this)||this,H=O||{},U=H.storeOptions;return k.downloadManager=new i.IDownloadManager(H.downloadManagerOptions),k.store=new L(U),k.store.indexedDBStore.on("ready",function(){return k.emit("ready")}),k}return a(j,z),j.prototype.getFile=function(O,k,H){var U=this,K=new Q,re=Promise.resolve(void 0),te=k||{},me=te.downloadOptions,De=te.saveRootPath;te.forceDownload?re=Promise.resolve(void 0):"string"==typeof O?re=this.store.findFileByPath(O,H):O?.sourceURL?re=this.store.findFileBySourceURL(O.sourceURL):me&&(me.domParams||me.socketParams||me.xhrParams)&&(re=this.store.findFileBySourceURL(this.genSourceURL(me)));var Ue=null,Be=new Promise(function(ke){Ue=ke});return K.getDownloadTask=function(){return Be},re=re.then(function(ke){if(ke&&(!Array.isArray(ke)||ke.length)){var xe=ke;if(Array.isArray(xe)){var tt=xe.find(function(mt){return I(mt)});if(!tt)return;xe=xe.filter(function(mt){return!I(mt)});var Nt=tt.data;if("string"!=typeof Nt||!JSON.parse(Nt||"[]").every(function(mt){return xe.some(function(X){return X.path===mt})}))return}if(!H?.targetVersion||!_(xe,H.targetVersion))return K.emit("checkExpire",!1),xe;K.emit("checkExpire",!0)}}).then(function(ke){if(!ke&&me){var xe=U.downloadManager.download(me);return Ue(xe),new Promise(function(tt,Nt){xe.on("complete",function(mt){setTimeout(function(){var X=Array.isArray(mt)?mt.map(function(W){var ae=W.data,Le=W.extName;return{path:U.genFilePath(De,W.path),sourceURL:U.genSourceURL(me),data:ae,fileFormat:Le||U.getFileFormat(me),version:H?.targetVersion||1}}):{path:U.genFilePath(De,void 0),sourceURL:U.genSourceURL(me),data:mt,fileFormat:U.getFileFormat(me),version:H?.targetVersion||1};if(Array.isArray(X)&&"string"==typeof O&&O){var Z=X.find(function(W){return W.path===O});tt(Z||X)}else tt(X);K.emit("beforeSet",X),U.beforeWrite(X,H).then(function(){K.emit("afterSet")}).catch(function(W){return K.emit("afterSet",W)})},0)}),xe.on("abort",Nt),xe.on("error",Nt),xe.on("timeout",function(){return Nt(new Error("download timeout"))})})}return Ue(void 0),ke}).catch(function(ke){return Ue(void 0),Promise.reject(ke)}),K.getResult=function(){return re},K},j.prototype.genSourceURL=function(O){var H=O.type;if(H===i.DownloaderType.SOCKET)return null;var K=(H===i.DownloaderType.DOM?O.domParams:O.xhrParams)||{},re=K.url,te=void 0===re?"":re,me=K.body;return me&&Object.keys(me).length?te+(te.includes("?")?"&":"?")+"downloadBodyParams="+JSON.stringify(me):te},j.prototype.updateFile=function(O,k){return this.saveStore(O,!0,k)},j.prototype.beforeWrite=function(O,k){var U,K,H=this;return Array.isArray(O)?Promise.all(O.concat((U=O,K=U[0].sourceURL||"",{path:""+E+K,sourceURL:K,data:JSON.stringify(U.map(function(re){return re.path}))})).map(function(U){return H.saveStore(U,!1,k)})).then(function(U){return U.filter(function(K){return!I(K)})}):this.saveStore(O,!0,k)},j.prototype.getFileFormat=function(O){var k=O||{},H=k.xhrParams,U=k.domParams,K=k.socketParams,re=k.type;return re===i.DownloaderType.DOM&&U?.fileFormat?U.fileFormat:re===i.DownloaderType.SOCKET&&K?.fileFormat?K.fileFormat:H?.fileFormat?H.fileFormat:"unknow"},j.prototype.genFilePath=function(O,k){return k?""+(O||"")+(O?i.sep:"")+k:O||""},j.prototype.saveStore=function(O,k,H){return void 0===k&&(k=!0),this.store.saveFile(O,k,H).then(function(U){if(U)return O;throw new Error("fail to save file in local store")})},j.prototype.remove=function(O,k){return this.store.removeFile(O,k)},j.prototype.clear=function(O){return this.store.clear(O)},j.prototype.list=function(O){return this.store.ls(O)},j.prototype.updateVersion=function(O,k){var H=this;return this.store.findFileByPath(O).then(function(U){if(U)return H.saveStore(c(c({},U),{version:k})).then(function(){});throw new Error("the target path: "+O+" isn't existed")})},j.prototype.updateSourceURL=function(O,k){var H=this;return this.store.findFileByPath(O).then(function(U){if(U)return H.saveStore(c(c({},U),{sourceURL:k})).then(function(){});throw new Error("the target path: "+O+" isn't existed")})},j}(p);t.IResourceManager=Y,Object.defineProperty(t,"__esModule",{value:!0})}(dS.exports,xT),yD(dS.exports);class FT{constructor(i){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,i&&(this._cancelError=i),this._locked=!1}acquire(){const i=this.isLocked(),o=new Promise((a,c)=>this._queue.push({resolve:a,reject:c}));return i||this._dispatch(),o}runExclusive(i){var o=this;return Oe(function*(){const a=yield o.acquire();try{return yield i()}finally{a()}})()}waitForUnlock(){var i=this;return Oe(function*(){return i.isLocked()?new Promise(o=>i._waiters.push({resolve:o})):Promise.resolve()})()}isLocked(){return this._locked}release(){if(this._currentReleaser){const i=this._currentReleaser;this._currentReleaser=void 0,i()}}cancel(){this._queue.forEach(i=>i.reject(this._cancelError)),this._queue=[]}_dispatch(){const i=this._queue.shift();if(!i)return;let o=!1;this._currentReleaser=()=>{o||(o=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,i.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach(i=>i.resolve()),this._waiters=[]}}function kp(t,i,o){const a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=()=>{"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,i())}:(a.onload=()=>{i()},a.onerror=()=>{o()}),a.src=t,window.crossOriginIsolated&&(a.crossOrigin="anonymous"),"function"==typeof document.body.append?document.getElementsByTagName("head")[0].append(a):document.getElementsByTagName("head")[0].appendChild(a)}function PC(t,i){let o=t;/^https?:\/\//.test(o)||(o=`https://${t}`);try{const a=new URL(o);if(!i)return a.href;if(i.hostname)return a.hostname;if(i.path)return a.pathname}catch{return""}return""}function uc(t){if(t){var i;const o=document.getElementById(t);null==o||null===(i=o.parentNode)||void 0===i||i.removeChild(o)}}let wg="zoom.us";const pS="3.8.10",Lp=`https://dmogdx0jrul3u.cloudfront.net/${pS}/lib/av`,xp=`https://source.zoom.us/${pS}/lib/av`,Dg=`https://jssdk.zoomus.cn/${pS}/lib/av`,ws=()=>wg,Gr=(t,i,o)=>TE([i,o].map((a,c)=>{if("initial"!==a)return ve(["success"===a]);{const l=0===c?"ENCODE":"DECODE";return Ho(Mt(`${t.toUpperCase()}_${l}_SUCCESS`,1).pipe(ye(()=>!0)),Mt(`${t.toUpperCase()}_${l}_FAIL`,1).pipe(ye(()=>!1)))}})),$l=t=>{const i=Fe(t.value);return i?Vt(i):Mt(xa,1).pipe($t(Md),Pe(t),ye(o=>{let[,a]=o;return Fe(a)}))};function Ak(t,i){var o,a;const c="audio"===t?null===(o=i.audio)||void 0===o?void 0:o.audioSsrc:null===(a=i.video)||void 0===a?void 0:a.videoSsrc,l="audio"===t?sy:xN;return"audio"===t&&mr()||c?Promise.resolve():Ge(l)}const Yt=()=>ve(navigator.mediaDevices.enumerateDevices()).pipe(ye(t=>{const i=[],o=[],a=[];return t.forEach(c=>{const{kind:l,deviceId:p,label:h}=c,g=h.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(l){case"audioinput":"communications"===p||/ZoomAudioDevice/i.test(g)||/Zoom-\S*/.test(g)||/CubebAggregateDevice\S*/.test(g)||/Microsoft Teams Audio/i.test(g)||i.push({deviceId:p,label:g});break;case"audiooutput":"communications"===p||/ZoomAudioDevice/i.test(g)||/Microsoft Teams Audio/i.test(g)||o.push({deviceId:p,label:g});break;case"videoinput":a.push({deviceId:p,label:g})}}),{microphones:i,speakers:o,cameras:a}}));function NC(t){const{x:i,y:o,width:a,height:c}=t.getBoundingClientRect();return{scaleWidth:a,scaleHeight:c,srcOffsetX:i,srcOffsetY:o}}function Fp(t){if(t){let o=t;try{t.width=t.width}catch{var i;o=t.cloneNode(!0),null===(i=t.parentNode)||void 0===i||i.replaceChild(o,t)}return o}return t}function kC(){try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(PN)}catch{return!1}}function hS(){var t;return null===(t=WebAssembly)||void 0===t?void 0:t.validate(NN)}const fS=(()=>{const t=new FT;return{withAudioAction:i=>function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return new Promise(function(){var l=Oe(function*(p,h){let g=!1;const v=setTimeout(()=>{g=!0,t.release()},3e4);try{yield t.acquire(),g||clearTimeout(v),p(i(...a))}catch(y){g||(clearTimeout(v),h(y))}});return function(p,h){return l.apply(this,arguments)}}())},processAudioAction:i=>t.acquire().then(()=>i()),completeAudioAction:()=>{t.release()},cancelAllAudioAction:()=>{t.cancel()}}})();function Ag(t){const i=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(t,{get:(o,a)=>"string"==typeof a&&i.includes(a)?function(){return fS.withAudioAction(o[a].bind(o))(...arguments)}:Reflect.get(o,a)})}function Tg(t){var i;const{browserVersion:o,isChrome:a,isFirefox:c,isSafari:l,isAndroidOrIOSBrowser:p,isSupportMediaStreamTrackProcessor:h,isSupportOffscreenCanvas:g}=Re,v=Number(null==o||null===(i=o.match(/^\d+/))||void 0===i?void 0:i[0]),y=a&&v>=91,b=c&&v>=89,E=l&&uf(o,"17.4")>=0,I=navigator.hardwareConcurrency>2;let w=ZE();return t&&!w&&(w=g&&h),!p&&w&&(y||b||E)&&I}const gS=(t,i)=>{const o=document.createElement("link");return o.rel="preload",o.href=t,o.as=i,o.crossOrigin="anonymous",o},Gl=(t,i,o)=>{const a=[],c=[],l=Array.isArray(t)?t:[t];return ms.filter(p=>{var h;return l.includes(p.category)&&(p.tag===i||(null===(h=p.tag)||void 0===h?void 0:h.split(",").includes(i)))}).forEach(p=>{"worker"===p.type?a.push(`${o}${p.name}`):"wasm"===p.type&&c.push(`${o}${p.name}`)}),{workers:a,wasms:c}};function VT(t,i,o){const a={};if("function"!=typeof window.SharedArrayBuffer){const{isIOSMobile:c,isSafari:l,isSupportOffscreenCanvas:p,isSupportMediaStreamTrackProcessor:h}=Re;Object.assign(a,{enableMultiDecodeVideoWithoutSAB:!!i&&(c||l||p&&h)}),p&&h&&Object.assign(a,{enableVirtualBackgroundWithoutSAB:!!o})}return Tg(o)&&Object.assign(a,{resourceManager:dS.exports.IResourceManager,file:[{path:`${t}/vb-resource/dualModel.bin`,type:"bin"},{path:`${t}/vb-resource/tf.min.js`,type:"js"}]}),a}function Ya(t,i){const{media:{isAudioBridgeReceiveReady:o,isAudioBridgeSendReady:a},audio:{customizeAudioOption:c}}=t,l=void 0!==i?i:!(null==c||!c.speakerOnly);return TE([o?ve([!0]):Mt(zN,1).pipe(hi(!0)),a||l?ve([!0]):Mt(V0,1).pipe(hi(!0))])}function mS(t,i,o){if(t.deviceId===i)return!0;if("default"===i){const a=o.find(c=>c.deviceId===i);if(a)return a.label.indexOf(t.label)>-1}return!1}function zl(t){return t.find(i=>"default"===i.deviceId)}const LC=(()=>{let t,i=!1;return{watch:function(o){i=!0,t=Promise.race([o,Ks(()=>!0,1e4)]).then(()=>{t=void 0,i=!1}).finally(()=>{t=void 0,i=!1})},acquire:function(){return i&&t?t:Promise.resolve()}}})(),vS=(t,i)=>Ge({event:n0,operations:[ne(o=>void 0!==o[`${t}`]),bt(1)]},o=>o[`${t}`]===i);let ts=(()=>{class t{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return void 0===this.instance&&(this.instance=new t),this.instance}static destroyInstance(){if(this.instance){this.instance.stopAudioElement(),this.instance.stopVideoElement();const a=document.getElementById(a0);var o;a&&(null===(o=a.parentNode)||void 0===o||o.removeChild(a)),this.instance=void 0}}setAudioElement(o){return void 0===this._audioElement&&(this._audioElement=new Audio),new Promise((a,c)=>{if(this.videoSrc===o.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(p=this._videoElement).currentTime>0&&!p.paused&&!p.ended&&p.readyState>2?a(""):this._videoElement.play().then(()=>{a("")}).catch(()=>{c()});else{var l;this.isUsingSameFile=!1;const h=Re.isFirefox?"canplay":"canplaythrough",g=()=>{this._audioElement.play().then(()=>{this._audioElement.removeEventListener(h,g),a("")})},v=()=>{this._audioElement.removeEventListener(h,g),this._audioElement.removeEventListener("error",v),c()};this._audioElement.addEventListener(h,g),this._audioElement.addEventListener("error",v),this._audioElement.src=o.url,this._audioElement.loop=!!o.loop,gi(o.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max(null!==(l=o.currentTime)&&void 0!==l?l:0,1e-4)}var p})}setVideoElement(o){return void 0===this._videoElement&&(this._videoElement=document.createElement("video")),new Promise((a,c)=>{var l;this.videoSrc=o.url;const p=Re.isFirefox?"canplay":"canplaythrough",h=()=>{this._videoElement.play().then(()=>{this._videoElement.removeEventListener(p,h),a("")})},g=()=>{this._videoElement.removeEventListener(p,h),this._videoElement.removeEventListener("error",g),c()};this._videoElement.addEventListener(p,h),this._videoElement.addEventListener("error",g),this._videoElement.src=o.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!o.loop,this._videoElement.currentTime=null!==(l=o.currentTime)&&void 0!==l?l:0,gi(o.url)&&this._videoElement.setAttribute("crossorigin",""),Re.isSafari&&!document.getElementById(a0)&&(this._videoElement.id=a0,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement))})}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile||this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}return t.instance=void 0,t})();const cc=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{socket:{zoomSocketStatus:o,xmppSocketStatus:a,mainSessionSocketStatus:c},meeting:{meetingStatus:l}}=t,p=[];if(l===It.Joined){var h;const g=Ye.getInstance(),v=Ot.createAgent();if((null===(h=Fe(t))||void 0===h?void 0:h.audio)===xt.Computer&&g.leaveComputerAudio(),g.disconnect(),LC.watch(g.destroy()),t.video&&(t.video.subscribedVideoList.length>0&&t.video.subscribedVideoList.forEach(y=>{v.unsubscribeVideo(y)}),t.video.isCurrentUserStartedVideo&&F(Ba)),t.share&&t.share.isReceiveSharing){const y=t.share.activeNodeId;t.share.remoteControlledUserList.length>0&&t.share.remoteControlledUserList.forEach(b=>{v.sharingRequestRemoteControl(b,!1)}),v.unsubscribeSharing(y)}ts.destroyInstance()}if(i||(rt.clearSession(),[Rt.WebclientTk,Rt.WebclientZsk,Rt.WebclientZtk,Rt.WebclientRecordingToken].forEach(g=>{sessionStorage.removeItem(g)}),Oo.destroy()),o!==Wt.Closed&&p.push(ps()),a!==Wt.Closed&&p.push(at()),c!==Wt.Closed&&p.push(Hd()),i){const g=Fe(t);p.push(Ae({audio:g?.audio,muted:g?.muted,video:g?.bVideoOn,isFailover:i}))}else p.push(Ae({audio:!1,muted:void 0,video:!1,isFailover:i}));return p.push(ef(),Gt(),Bf(),nk(i),oC(),aC(i),hk(),Ky(),Mp(),vk(),SC(),Pp(),TT(),Ik(i),Dk(),lS(i),LT(i),Tr(It.Closed)),p},lc=function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return Ge({event:yo,operations:[ye(c=>c.find(l=>l.userId===t.userId&&(!t.key||void 0!==l[`${t.key}`]))),ne(c=>!!c),bt(1)]},...o)},xC={[`${qi.AudioBridgeEnable}`]:{mask:240,action:Yd},[`${qi.AudioDecodeInWorklet}`]:{mask:15,action:VE},[`${qi.VideoFullHD}`]:{mask:15,action:uT},[`${qi.VideoShareFullHD}`]:{mask:15,action:rC},[`${qi.WebGL2Render}`]:{mask:15,action:dC},[`${qi.WebGPURender}`]:{mask:15,action:lT},[`${qi.ZMKFromRWG}`]:{mask:15,action:kv}};function dc(t){if(!t)return"";const i=t.match(/rid=(.*)/);return i?i[1]:""}function ua(t){return Xc(ye((i,o)=>t(i,o)),ne(i=>null!=i))}function FC(t){return Xc(se((i,o)=>t(i,o)||Se))}function ns(t){return Xc(se((i,o)=>t(i,o)),se(i=>Array.isArray(i)?ve(i):Vt(i)))}const Tk={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},VC={[`${vn}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(t){t.add&&this.payloads.add.push(...t.add),t.update&&this.payloads.update.push(...t.update),t.remove&&this.payloads.remove.push(...t.remove)}})};function yS(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tk;return i=>new Wn(o=>{const a=new Map;let c=0,l=null;const{period:p,rules:h}=t;let g=null;l||(l=((b,E)=>{const I=performance.now();let w=0,_=!1;return setTimeout(function A(){w+=E,c=0;const T=performance.now()-I-w,M=setTimeout(A,Math.max(E-T,0));_&&clearTimeout(M)},E),()=>{_=!0}})(0,p));const v=Object.keys(VC),y=i.subscribe({next(b){if(b&&b.evt&&null!==l){c+=1;const{evt:E,body:I}=b,w=String(E);if(v.indexOf(w)>=0)if(g){const _=a.get(w);if(_)_.onThrottle(I);else{const A=VC[w]();A.onThrottle(I),a.set(w,A)}}else{let _=0;if(h.forEach(A=>{c>A.peak&&(_=A.throttle)}),_>0){const A=VC[w]();A.onThrottle(I),a.set(w,A),g=setTimeout(()=>{a.forEach((T,M)=>{const P={evt:Number(M),body:T.payloads};o.next(P)}),a.clear(),g=null},_)}else o.next(b)}else o.next(b)}else o.next(b)},error(b){o.error(b)},complete(){o.complete()}});return()=>{y.unsubscribe(),l&&(l(),l=null),c=0}})}let jC=function(t){return t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Mac=2]="Mac",t[t.Pad=3]="Pad",t[t.Mobile=4]="Mobile",t[t.CallIn=5]="CallIn",t[t.Linux=6]="Linux",t[t.WebClient=7]="WebClient",t[t.ChromeOs=8]="ChromeOs",t}({});const Rk=t=>!(4&~t),Wl=t=>!(1048576&~t),UC=t=>{let{share:{isReceiveSharing:i}}=t;return i},BC=t=>{let{share:{activeNodeId:i}}=t;return i},Ok=bn([Zt,UC,BC],function(){let t=arguments.length>2?arguments[2]:void 0;if(arguments.length>1&&arguments[1]){const i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(o=>o.userId===t&&!0===o.sharerOn);if(i){let{os:o}=i;const{pwaOS:a}=i;return"mac"===a?o=jC.Mac:"win"===a&&(o=jC.Windows),{...i,os:o}}}return null}),ca=bn([Zt],t=>t.filter(i=>i.sharerOn)),jp=bn([ca],t=>t.some(i=>!!i.bVideoShare)),ql=bn([t=>{let{share:{remoteControlledUserList:i}}=t;return i},UC,BC],(t,i,o)=>!!i&&t.some(a=>po(a,o)));var HC,Mk=new Uint8Array(16);function Pk(){if(!HC&&!(HC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return HC(Mk)}for(var zr,Un,SS,la,Ds=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,eo=[],$C=0;$C<256;++$C)eo.push(($C+256).toString(16).substr(1));function Rg(t,i,o){var a=(t=t||{}).random||(t.rng||Pk)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i){o=o||0;for(var c=0;c<16;++c)i[o+c]=a[c];return i}return function(l){var g,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=(eo[l[p+0]]+eo[l[p+1]]+eo[l[p+2]]+eo[l[p+3]]+"-"+eo[l[p+4]]+eo[l[p+5]]+"-"+eo[l[p+6]]+eo[l[p+7]]+"-"+eo[l[p+8]]+eo[l[p+9]]+"-"+eo[l[p+10]]+eo[l[p+11]]+eo[l[p+12]]+eo[l[p+13]]+eo[l[p+14]]+eo[l[p+15]]).toLowerCase();if("string"!=typeof(g=h)||!Ds.test(g))throw TypeError("Stringified UUID is invalid");return h}(a)}(function(t){t[t.PLAIN=0]="PLAIN",t[t.RSA=1]="RSA",t[t.AESGCM256=2]="AESGCM256"})(zr||(zr={})),function(t){t[t.info=0]="info",t[t.debug=1]="debug",t[t.log=2]="log",t[t.warn=3]="warn",t[t.error=4]="error"}(Un||(Un={})),function(t){t[t.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"}(SS||(SS={})),function(t){t.beforeInit="beforeInit",t.afterInit="afterInit",t.beforeLog="beforeLog",t.hitSizeLimit="hitSizeLimit",t.afterLog="afterLog",t.beforeReport="beforeReport",t.afterReport="afterReport"}(la||(la={}));class bS{constructor(){}}var Og,ES={exports:{}},GC={exports:{}},jT=vv(Object.freeze({__proto__:null,default:{}}));GC.exports=(Og=Og||function(t,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==Aa&&Aa.crypto&&(o=Aa.crypto),!o)try{o=jT}catch{}var a=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function _(){}return function(A){var T;return _.prototype=A,T=new _,_.prototype=null,T}}(),l={},p=l.lib={},h=p.Base={extend:function(_){var A=c(this);return _&&A.mixIn(_),A.hasOwnProperty("init")&&this.init!==A.init||(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var A in _)_.hasOwnProperty(A)&&(this[A]=_[A]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},g=p.WordArray=h.extend({init:function(_,A){_=this.words=_||[],this.sigBytes=A??4*_.length},toString:function(_){return(_||y).stringify(this)},concat:function(_){var A=this.words,T=_.words,M=this.sigBytes,P=_.sigBytes;if(this.clamp(),M%4)for(var N=0;N<P;N++)A[M+N>>>2]|=(T[N>>>2]>>>24-N%4*8&255)<<24-(M+N)%4*8;else for(var V=0;V<P;V+=4)A[M+V>>>2]=T[V>>>2];return this.sigBytes+=P,this},clamp:function(){var _=this.words,A=this.sigBytes;_[A>>>2]&=4294967295<<32-A%4*8,_.length=t.ceil(A/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var A=[],T=0;T<_;T+=4)A.push(a());return new g.init(A,_)}}),v=l.enc={},y=v.Hex={stringify:function(_){for(var A=_.words,T=_.sigBytes,M=[],P=0;P<T;P++){var N=A[P>>>2]>>>24-P%4*8&255;M.push((N>>>4).toString(16)),M.push((15&N).toString(16))}return M.join("")},parse:function(_){for(var A=_.length,T=[],M=0;M<A;M+=2)T[M>>>3]|=parseInt(_.substr(M,2),16)<<24-M%8*4;return new g.init(T,A/2)}},b=v.Latin1={stringify:function(_){for(var A=_.words,T=_.sigBytes,M=[],P=0;P<T;P++)M.push(String.fromCharCode(A[P>>>2]>>>24-P%4*8&255));return M.join("")},parse:function(_){for(var A=_.length,T=[],M=0;M<A;M++)T[M>>>2]|=(255&_.charCodeAt(M))<<24-M%4*8;return new g.init(T,A)}},E=v.Utf8={stringify:function(_){try{return decodeURIComponent(escape(b.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return b.parse(unescape(encodeURIComponent(_)))}},I=p.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(_){"string"==typeof _&&(_=E.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var A,T=this._data,M=T.words,P=T.sigBytes,N=this.blockSize,$=P/(4*N),V=($=_?t.ceil($):t.max((0|$)-this._minBufferSize,0))*N,L=t.min(4*V,P);if(V){for(var Q=0;Q<V;Q+=N)this._doProcessBlock(M,Q);A=M.splice(0,V),T.sigBytes-=L}return new g.init(A,L)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});p.Hasher=I.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(A,T){return new _.init(T).finalize(A)}},_createHmacHelper:function(_){return function(A,T){return new w.HMAC.init(_,T).finalize(A)}}});var w=l.algo={};return l}(Math),Og),ES.exports=function(t){return t.enc.Utf8}(GC.exports);var Mg={exports:{}};Mg.exports=function(t){return o=t.lib.WordArray,t.enc.Base64={stringify:function(c){var l=c.words,p=c.sigBytes,h=this._map;c.clamp();for(var g=[],v=0;v<p;v+=3)for(var y=(l[v>>>2]>>>24-v%4*8&255)<<16|(l[v+1>>>2]>>>24-(v+1)%4*8&255)<<8|l[v+2>>>2]>>>24-(v+2)%4*8&255,b=0;b<4&&v+.75*b<p;b++)g.push(h.charAt(y>>>6*(3-b)&63));var E=h.charAt(64);if(E)for(;g.length%4;)g.push(E);return g.join("")},parse:function(c){var l=c.length,p=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var g=0;g<p.length;g++)h[p.charCodeAt(g)]=g}var v=p.charAt(64);if(v){var y=c.indexOf(v);-1!==y&&(l=y)}return function a(c,l,p){for(var h=[],g=0,v=0;v<l;v++)if(v%4){var y=p[c.charCodeAt(v-1)]<<v%4*2|p[c.charCodeAt(v)]>>>6-v%4*2;h[g>>>2]|=y<<24-g%4*8,g++}return o.create(h,g)}(c,l,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var o}(GC.exports);var Pg=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(y){l(y)}}function h(v){try{g(a.throw(v))}catch(y){l(y)}}function g(v){var y;v.done?c(v.value):(y=v.value,y instanceof o?y:new o(function(b){b(y)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const UT=t=>{try{const i=Mg.exports.parse(t);return ES.exports.stringify(i)}catch{return t}},CS=t=>{for(var i=t.length,o=t.length-1;o>=0;o--){var a=t.charCodeAt(o);a>127&&a<=2047?i++:a>2047&&a<=65535&&(i+=2),a>=56320&&a<=57343&&o--}return i},BT=()=>Pg(void 0,void 0,void 0,function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}),Nk=(t,i,o)=>Pg(void 0,void 0,void 0,function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:o},i,t)}catch(a){throw a}}),zC=(t,i)=>{const o="string"==typeof t?function(a){const c=new ArrayBuffer(a.length),l=new Uint8Array(c);for(let p=0,h=a.length;p<h;p++)l[p]=a.charCodeAt(p);return c}(t):t;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},i,o)},IS={},Ng=(t,i)=>{IS[i]=t},WC=IS,kg=t=>{try{return JSON.stringify(t)}catch{return"json stringify failed"}},kk=t=>{try{return JSON.parse(t)}catch{return t}},HT=t=>{let i=0;return i+=CS(t.message),t.tags.forEach(o=>{i+=CS(o)}),i};class Lk{constructor(i){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,E=>(E^crypto.getRandomValues(new Uint8Array(1))[0]&15>>E/4).toString(16));const{databaseName:o,maxSize:a,publicKey:c,reportUrl:l,plugins:p,idbManager:h,logManager:g,currentSize:v,externalKeys:y}=i;this.databaseName=o,this.maxSize=a,this.publicKey=c??"",this.reportUrl=l??"",this.plugins=p??[],this.idbManager=h,this.logManager=g,this.currentSize=v??0,this.externalKeys=y,this.commonMethods=Object.assign({},WC)}getLocalAESGCM256Key(){var i,o,c,l;return o=this,void 0,l=function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield BT();const o=this.externalKeys?null===(i=this.externalKeys.filter(a=>a.usage===SS.PROTECT_LOCAL_KEY)[0])||void 0===i?void 0:i.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,o),this.localAESGCM256Key},new((c=void 0)||(c=Promise))(function(p,h){function g(b){try{y(l.next(b))}catch(E){h(E)}}function v(b){try{y(l.throw(b))}catch(E){h(E)}}function y(b){var E;b.done?p(b.value):(E=b.value,E instanceof c?E:new c(function(I){I(E)})).then(g,v)}y((l=l.apply(o,[])).next())})}updateCurrentSize(i){var o;let a=null!==(o=this.currentSize)&&void 0!==o?o:0;if(i instanceof Map)for(const[c,l]of i)a+=HT(l);else a+=HT(i);return this.currentSize=a,a>=this.maxSize}}const qC=(...t)=>{const i={},o=[];for(const c of t)c.forEach(l=>{i[l.id]||(i[l.id]=!0,o.push(l))});const a=new Map;return o.sort((c,l)=>c?.id-l?.id).forEach(c=>{a.set(c.id,c)}),a},Lg=(t,i)=>{const o=new Map;return i.forEach(a=>{t(a)&&o.set(a.id,a)}),o};class KC{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=i=>{for(const o of i)this.store.byTime.set(o.id,o)},this.pushByTag=i=>{i.forEach(o=>{const a=o.tags;Array.isArray(a)&&a.forEach(c=>{this.store.byTag[c]||(this.store.byTag[c]=new Map),this.store.byTag[c].set(o.id,o)})})},this.addLog=i=>{let o=i;Array.isArray(i)||(o=[i]),this.pushByTime(o),this.pushByTag(o)},this.syncFromIDB=i=>{return o=this,void 0,l=function*(){const o=yield i.getAllLogs();this.addLog(o)},new((c=void 0)||(c=Promise))(function(p,h){function g(b){try{y(l.next(b))}catch(E){h(E)}}function v(b){try{y(l.throw(b))}catch(E){h(E)}}function y(b){var E;b.done?p(b.value):(E=b.value,E instanceof c?E:new c(function(I){I(E)})).then(g,v)}y((l=l.apply(o,[])).next())});var o,c,l},this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=i=>{for(const o of i){const a=this.store.byTime.get(o);if(!a)continue;const{tags:c}=a;for(const l of c)this.store.byTag[l].delete(o);this.store.byTime.delete(o)}},this.filterStore=i=>{const o=((c,l)=>{if(!l)return c.byTime;if("string"==typeof l)return c.byTag[l]||new Map;if(Array.isArray(l)){if(l.every(p=>"string"==typeof p))return qC(...l.map(p=>c.byTag[p]).filter(p=>!!p))}else{if("function"==typeof l)return Lg(l,c.byTime);if("object"==typeof l)if(l.tags&&l.filter){if("string"==typeof l.tags)return Lg(l.filter,c.byTag[l.tags]);if(Array.isArray(l.tags)&&l.tags.every(p=>"string"==typeof p))return qC(...l.tags.map(p=>{const h=c.byTag[p];return h?Lg(l.filter,h):new Map}))}else{if(l.filter)return Lg(l.filter,c.byTime);if(l.tags){if("string"==typeof l)return c.byTag[l]||new Map;if(Array.isArray(l)&&l.every(p=>"string"==typeof p))return qC(...l.map(p=>c.byTag[p]))}}else console.error("Wrong filter type")}return new Map})(this.store,i),a=new Map;for(const[c,l]of o){const p=Object.assign(Object.assign({},l),{message:kk(UT(l.message))});a.set(c,p)}return a},this.store={byTag:{},byTime:new Map}}}function da(t,i,o){const a=t.plugins;if(!Array.isArray(a))return o;let c=o;return a.forEach(l=>{const p=l[i];if("function"==typeof p){const h=p(t,c);h&&(c=h)}}),c}const QC=(t,i,o,a,c,l={})=>{return void 0,void 0,v=function*(){const{noCache:p,extraProperties:h={}}=l,g=((y,b,E,I,w,_)=>{const A=Array.isArray(b)?b:[b],T=Date.now();return Object.assign({message:y,logLevel:E,tags:A,encryptMode:I,timestamp:T,laplaceSessionId:w},_)})(`${i}`,o,a,c,t.uuid,h),v=da(t,la.beforeLog,g);if(p)da(t,la.afterLog,g);else{const{idbManager:y,logManager:b}=t,E=yield y.makeNextId();v.message=(w=>{try{const _=ES.exports.parse(w);return Mg.exports.stringify(_)}catch{return w}})(v.message);const I=Object.assign(Object.assign({},v),{id:E});t.updateCurrentSize(I)&&da(t,la.hitSizeLimit,I),b.addLog(I),yield y.addLog(I),da(t,la.afterLog,I)}},new((g=void 0)||(g=Promise))(function(y,b){function E(_){try{w(v.next(_))}catch(A){b(A)}}function I(_){try{w(v.throw(_))}catch(A){b(A)}}function w(_){var A;_.done?y(_.value):(A=_.value,A instanceof g?A:new g(function(T){T(A)})).then(E,I)}w((v=v.apply(undefined,[])).next())});var g,v};Ng(QC,"commonLog");const $T=t=>new Promise(i=>{const o=new XMLHttpRequest;o.open(t.type||"GET",t.url,!0),o.withCredentials=t.withCredentials,o.onerror=a=>{i({error:a,report:t.reportItem})},o.onreadystatechange=function(){if(4===o.readyState){const a=o.status;i(a>=200&&a<300?{report:t.reportItem}:{error:`Request failed, status: ${a}, responseText: ${o.responseText}`,report:t.reportItem})}},Object.entries(t.headers).forEach(([a,c])=>{c&&a&&o.setRequestHeader(a,c)}),o.send(t.data)}),Kl=(t,i=2)=>{let o=`${t}`;for(;o.length<i;)o=`0${o}`;return o},GT=t=>{const i=new Date(t);return`${i.getUTCFullYear()}-${Kl(i.getUTCMonth()+1)}-${Kl(i.getUTCDate())} ${Kl(i.getUTCHours())}:${Kl(i.getUTCMinutes())}:${Kl(i.getUTCSeconds())}.${Kl(i.getUTCMilliseconds(),3)}`},JC={version:"000001",flag:"0"},_S=(t,i,o)=>{return(a=t,c=i.reportUrl,l=o,Promise.all(a.map(p=>Object.assign({url:c||"",type:"POST",withCredentials:!1,headers:{},data:kg({messages:p.messages,meta:p.meta}),reportItem:p},l)).map($T))).then(a=>{a.forEach(c=>{var l;da(i,la.afterReport,{report:c.report,error:null!==(l=c.error)&&void 0!==l?l:null})})});var a,c,l},ZC=(t,i,o)=>{return void 0,void 0,p=function*(){const a=t.logManager.filterStore(i);if(!a||0===a?.size||!o)return;const{xhrOptions:c={},additionalContext:l}=o,h=((t,i)=>Array.from(t.values()).reduce((o,a)=>{const c=((h,g)=>{const{message:v,logLevel:y,tags:b,timestamp:E}=h,_=function(T,M){var P={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&M.indexOf(N)<0&&(P[N]=T[N]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(N=Object.getOwnPropertySymbols(T);$<N.length;$++)M.indexOf(N[$])<0&&Object.prototype.propertyIsEnumerable.call(T,N[$])&&(P[N[$]]=T[N[$]])}return P}(h,["message","logLevel","tags","timestamp","encryptMode","id"]),A=Object.assign(Object.assign({time:GT(E),logLevel:Un[y],message:v,tags:b},g),_);return kg(A)})(a,i),l=CS(c),p=o[o.length-1];return p.currentSize+l>30720?o.push({messages:[c],ids:[a.id],currentSize:l}):(p.messages.push(c),p.ids.push(a.id),p.currentSize+=l),o},[{messages:[],ids:[],currentSize:0}]).filter(o=>o.currentSize>0).map(o=>({messages:o.messages.join("\n"),ids:o.ids,meta:JC})))(da(t,la.beforeReport,a),l);_S(h,t,c)},new((l=void 0)||(l=Promise))(function(h,g){function v(E){try{b(p.next(E))}catch(I){g(I)}}function y(E){try{b(p.throw(E))}catch(I){g(I)}}function b(E){var I;E.done?h(E.value):(I=E.value,I instanceof l?I:new l(function(w){w(I)})).then(v,y)}b((p=p.apply(undefined,[])).next())});var l,p};Ng(ZC,"commonReport");var YC=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(y){l(y)}}function h(v){try{g(a.throw(v))}catch(y){l(y)}}function g(v){var y;v.done?c(v.value):(y=v.value,y instanceof o?y:new o(function(b){b(y)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const Fk=(t,i,o)=>YC(void 0,void 0,void 0,function*(){const{idbManager:a,logManager:c}=t;if(Array.isArray(o)&&(yield a.deleteLogs(o),c.deleteLogs(o),!i))return;const l=t.logManager.filterStore(i),p=[];for(const[g,v]of l)p.push(v.id);let h=p;Array.isArray(p)||(h=[p]),yield a.deleteLogs(h),c.deleteLogs(h)}),Vk=t=>YC(void 0,void 0,void 0,function*(){const{idbManager:i,logManager:o}=t;yield i.reset(),o.reset()});function zT(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,a=new Array(i);o<i;o++)a[o]=t[o];return a}function eu(t){return new Promise(function(i,o){t.oncomplete=t.onsuccess=function(){return i(t.result)},t.onabort=t.onerror=function(){return o(t.error)}})}function XC(t,i){var o=indexedDB.open(t);o.onupgradeneeded=function(){return o.result.createObjectStore(i)};var a=eu(o);return function(c,l){return a.then(function(p){return l(p.transaction(i,c).objectStore(i))})}}var xg;function Up(){return xg||(xg=XC("keyval-store","keyval")),xg}function eI(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up())("readwrite",function(i){return t.forEach(function(o){return i.delete(o)}),eu(i.transaction)})}Ng(Fk,"commonDelete"),Ng(Vk,"commonReset");var qT=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(y){l(y)}}function h(v){try{g(a.throw(v))}catch(y){l(y)}}function g(v){var y;v.done?c(v.value):(y=v.value,y instanceof o?y:new o(function(b){b(y)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const KT={default:{queue:[],isRunning:!1,listeners:[]}},QT=t=>{let i=KT[t];return i||(i={queue:[],isRunning:!1,listeners:[]},KT[t]=i),i};function jk(t){return qT(this,void 0,void 0,function*(){const i=QT(t),{queue:o,listeners:a}=i;for(;o.length>0&&!i.isRunning;){const c=o.shift();i.isRunning=!0;try{const l=yield c.task();c.resolution(l)}catch(l){c.rejection(l)}i.isRunning=!1,jk(t)}a.length&&a.forEach(c=>{c()})})}function tI(t,i){const o=QT(i);try{return new Promise((a,c)=>{o.queue.push({task:t,resolution:a,rejection:c}),jk(i)})}catch(a){return Promise.reject(a)}}const Uk=(t,i)=>{QT(t).listeners.push(i)};var rs=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(y){l(y)}}function h(v){try{g(a.throw(v))}catch(y){l(y)}}function g(v){var y;v.done?c(v.value):(y=v.value,y instanceof o?y:new o(function(b){b(y)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const JT="change_meta",ZT="change_log",Fg=()=>Promise.resolve();class YT{constructor(i){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=o=>function(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up())("readonly",function(c){return eu(c.get(a))})}(o,this.store),this.set=(o,a)=>rs(this,void 0,void 0,function*(){try{return!(this.dbFailCount.write>3)&&(yield function(c,l){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Up())("readwrite",function(p){return p.put(l,c),eu(p.transaction)})}(o,a,this.store))}catch(c){c instanceof DOMException&&(c&&"QuotaExceededError"===c.name?(yield this.deleteOldLogsForSetNewOne(),yield this.set(o,a)):this.dbFailCount.write+=1),console.error(c)}}),this.deleteOldLogsForSetNewOne=()=>rs(this,void 0,void 0,function*(){var o;const a=yield this.getAllLogs(),c=[];for(let l=0;l<13;l++){const p=null===(o=a[l])||void 0===o?void 0:o.id;(p||0===p)&&c.push(`${p}`)}return eI(c,this.store)}),this.adjustMaxId=()=>rs(this,void 0,void 0,function*(){return this.resetting?Fg():(this.isChangingMeta=!0,yield tI(()=>rs(this,void 0,void 0,function*(){var o;const a=yield this.getAllLogs(),c=a[a.length-1],l=null!==(o=c?.id)&&void 0!==o?o:0;return yield this.set("maxId",l),l}),JT))}),this.makeNextId=()=>rs(this,void 0,void 0,function*(){return this.resetting?Fg():(this.isChangingMeta=!0,yield tI(()=>rs(this,void 0,void 0,function*(){const o=yield this.get("maxId");if(!o&&0!==o)return yield this.set("maxId",0),0;const a=o+1;return yield this.set("maxId",a),a}),JT))}),this.addLog=o=>rs(this,void 0,void 0,function*(){if(this.resetting)return Fg();this.isChangingLog=!0,yield tI(()=>rs(this,void 0,void 0,function*(){const{id:a}=o;return this.set(`${a}`,o)}),ZT)}),this.getAllLogs=()=>rs(this,void 0,void 0,function*(){return(yield function WT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up();return t("readonly",function(i){if(i.getAll&&i.getAllKeys)return Promise.all([eu(i.getAllKeys()),eu(i.getAll())]).then(function(a){var h,c=function(v){if(Array.isArray(v))return v}(h=a)||function(v,y){var b=null==v?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(null!=b){var E,I,w=[],_=!0,A=!1;try{for(b=b.call(v);!(_=(E=b.next()).done)&&(w.push(E.value),2!==w.length);_=!0);}catch(T){A=!0,I=T}finally{try{_||null==b.return||b.return()}finally{if(A)throw I}}return w}}(h)||function(v,y){if(v){if("string"==typeof v)return zT(v,2);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?zT(v,2):void 0}}(h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=c[1];return c[0].map(function(h,g){return[h,p[g]]})});var o=[];return t("readonly",function(a){return(c=a,c.openCursor().onsuccess=function(){var p;this.result&&(o.push([(p=this.result).key,p.value]),this.result.continue())},eu(c.transaction)).then(function(){return o});var c})})}(this.store)).filter(([o])=>"maxId"!==o).sort((o,a)=>{var c,l;return(null===(c=o[1])||void 0===c?void 0:c.id)-(null===(l=a[1])||void 0===l?void 0:l.id)}).map(([,o])=>o)}),this.deleteLogs=o=>rs(this,void 0,void 0,function*(){if(this.resetting)return Fg();this.isChangingLog=!0,yield tI(()=>rs(this,void 0,void 0,function*(){return eI(o.map(a=>`${a}`),this.store)}),ZT),yield this.adjustMaxId()}),this.saveAESGCM256Key=(o,a,c)=>rs(this,void 0,void 0,function*(){if(c){const l=yield self.crypto.subtle.exportKey("raw",a),p=yield(h=l,g=c,v=new Uint8Array(16),Pg(void 0,void 0,void 0,function*(){return new Promise((y,b)=>{requestAnimationFrame(()=>Pg(void 0,void 0,void 0,function*(){var E;const I=null===(E=g?.algorithm)||void 0===E?void 0:E.name;let w;if("RSA-OAEP"===I?w=zC:"AES-GCM"===I&&(w=Nk),!w)throw new Error("Unsupported encrypt key type");if("string"==typeof h){const _=new TextEncoder,A=yield w(_.encode(h),g,v);y(A)}else{const _=yield w(h,g,v);y(_)}}))})}));yield this.set(`aes-gcm-256-${o}`,p)}else yield this.set(`aes-gcm-256-${o}`,a);var h,g,v}),this.reset=()=>rs(this,void 0,void 0,function*(){return this.resetting?Fg():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?Fg():(this.resetting=!0,yield function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up())("readwrite",function(o){return o.clear(),eu(o.transaction)})}(this.store),this.resetting=!1,void(this.waitingForReset=!1)))}),this.store=XC(i,i+"-store"),Uk(JT,()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()}),Uk(ZT,()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()})}}var Pn=function(t,i,o,a){return new(o||(o=Promise))(function(c,l){function p(v){try{g(a.next(v))}catch(y){l(y)}}function h(v){try{g(a.throw(v))}catch(y){l(y)}}function g(v){var y;v.done?c(v.value):(y=v.value,y instanceof o?y:new o(function(b){b(y)})).then(p,h)}g((a=a.apply(t,i||[])).next())})};const nV={databaseName:"laplace-default-db",maxSize:49283072};let rV=(()=>{class t{constructor(o){this.commonLogWithContext=(c,l,p,h,g)=>Pn(this,void 0,void 0,function*(){yield QC(this.runtimeMetaManager,c,l,p,h,g)}),this.commonReportWithContext=(c,l)=>Pn(this,void 0,void 0,function*(){yield ZC(this.runtimeMetaManager,c,l)}),this.commonDeleteWithContext=c=>Pn(this,void 0,void 0,function*(){yield Fk(this.runtimeMetaManager,c)}),this.resetWithContext=()=>Pn(this,void 0,void 0,function*(){yield Vk(this.runtimeMetaManager)}),this.initLocalAESGCM256Key=()=>Pn(this,void 0,void 0,function*(){return yield BT()}),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.log,zr.PLAIN,{extraProperties:p})}),this.info=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.info,zr.PLAIN,{extraProperties:p})}),this.warn=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.warn,zr.PLAIN,{extraProperties:p})}),this.debug=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.debug,zr.PLAIN,{extraProperties:p})}),this.error=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.error,zr.PLAIN,{extraProperties:p})}),this.logWithEncryption=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.log,zr.AESGCM256,{extraProperties:p})}),this.infoWithEncryption=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.info,zr.AESGCM256,{extraProperties:p})}),this.debugWithEncryption=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.debug,zr.AESGCM256,{extraProperties:p})}),this.warnWithEncryption=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.warn,zr.AESGCM256,{extraProperties:p})}),this.errorWithEncryption=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.error,zr.AESGCM256,{extraProperties:p})}),this.logWithoutCache=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.log,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.infoWithoutCache=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.info,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.warnWithoutCache=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.warn,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.debugWithoutCache=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.debug,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.errorWithoutCache=(c,l,p)=>Pn(this,void 0,void 0,function*(){yield this.commonLogWithContext(c,l,Un.error,zr.PLAIN,{extraProperties:p,noCache:!0})}),this.getLogs=c=>{const l=this.runtimeMetaManager.logManager;return l?l.filterStore(c):new Map},this.report=(...c)=>((l,p,h={})=>{return void 0,void 0,b=function*(){var g,v;const y=null!==(g=h.sampleRate)&&void 0!==g?g:1;if(Math.random()>y)return;if(CS(p)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const b=Object.assign({message:Object.assign({strMsg:p},h.extraMsg),time:GT(Date.now())},h.extraData);return!(null===(v=h?.tags)||void 0===v)&&v.length&&(b.tags=h?.tags),_S([{messages:JSON.stringify(b),meta:JC}],l,h.xhrOptions)},new((y=void 0)||(y=Promise))(function(E,I){function w(T){try{A(b.next(T))}catch(M){I(M)}}function _(T){try{A(b.throw(T))}catch(M){I(M)}}function A(T){var M;T.done?E(T.value):(M=T.value,M instanceof y?M:new y(function(P){P(M)})).then(w,_)}A((b=b.apply(undefined,[])).next())});var y,b})(this.runtimeMetaManager,...c),this.reportByHttps=(c,l)=>Pn(this,void 0,void 0,function*(){yield this.commonReportWithContext(c,l)}),this.deleteLog=c=>Pn(this,void 0,void 0,function*(){yield this.commonDeleteWithContext(c)}),this.deleteAll=()=>Pn(this,void 0,void 0,function*(){yield this.resetWithContext()});const{runtimeMetaManager:a}=o;this.runtimeMetaManager=a}}return t.init=i=>Pn(void 0,void 0,void 0,function*(){const{databaseName:o="laplace-default-db"}=i,a=new YT(o),c=new KC,l=new Lk(Object.assign(Object.assign(Object.assign({},nV),i),{idbManager:a,logManager:c}));da(l,la.beforeInit),yield c.syncFromIDB(l.idbManager);const p=new t({runtimeMetaManager:l});return da(l,la.afterInit),p}),t})();class oV extends bS{constructor(i){super(),this.config={verbose:!1},this.beforeLog=(o,a)=>{const{verbose:c}=this.config;switch(c&&console.log("beforeLog, ","state: ",a,"meta: ",o),a.logLevel){case Un.error:console.error(a.message);break;case Un.warn:console.warn(a.message);break;case Un.log:console.log(a.message);break;case Un.debug:console.debug(a.message);break;case Un.info:console.info(a.message)}},this.afterLog=(o,a)=>{const{verbose:c}=this.config;c&&console.log("afterLog, ","state: ",a,"meta: ",o)},this.beforeReport=(o,a)=>{const{verbose:c}=this.config;c&&console.log("beforeReport, ","pluginParams: ",a,"meta: ",o)},this.afterReport=(o,a)=>{const{verbose:c}=this.config;c&&console.log("afterReport, ","pluginParams: ",a,"runtimeMetaManager: ",o)},i&&(this.config=i)}}const Bk=t=>{const i=[];for(const[o,a]of t)i.push(a);return i};class iV extends bS{constructor(i){super(),this.config={debug:!1},this.debugLog=o=>{const{debug:a}=this.config;a&&console.log(`[AutoCleanLogPlugin]: ${o}`)},this.afterInit=o=>{const{expireBefore:a}=this.config;if(!a)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:c,commonMethods:{commonDelete:l}}=o,p=c.getStore().byTime,h=("function"==typeof a?Bk(p).filter(a):Bk(p).filter(g=>g.timestamp<a)).map(g=>g.id);l(o,void 0,h),this.debugLog(`afterInit, clean log id: ${h}`)},this.afterReport=(o,{report:a,error:c})=>{if(c)return this.debugLog("error"),void console.error(c);const{cleanAfterReport:l}=this.config;if(!l)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:p}}=o;p(o,void 0,a.ids),this.debugLog(`afterReport, clean log id: ${a.ids}`)},i&&(this.config=i)}}var Hk="Expected a function",aV=/^\s+|\s+$/g,Gk=/^[-+]0x[0-9a-f]+$/i,Bp=/^0b[01]+$/i,Vg=/^0o[0-7]+$/i,zk=parseInt,XT="object"==typeof self&&self&&self.Object===Object&&self,Wk="object"==typeof Aa&&Aa&&Aa.Object===Object&&Aa||XT||Function("return this")(),cV=Object.prototype.toString,qk=Math.max,Kk=Math.min,nI=function(){return Wk.Date.now()};function Ql(t){var i=typeof t;return!!t&&("object"==i||"function"==i)}function rI(t){if("number"==typeof t)return t;if("symbol"==typeof(a=t)||function(c){return!!c&&"object"==typeof c}(a)&&"[object Symbol]"==cV.call(a))return NaN;var a;if(Ql(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=Ql(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(aV,"");var o=Bp.test(t);return o||Vg.test(t)?zk(t.slice(2),o?2:8):Gk.test(t)?NaN:+t}const eR=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class lV extends bS{constructor(i){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=o=>{var a;return null===(a=this.config.publicTags)||void 0===a?void 0:a.concat(o).filter(c=>c)},this.debugLog=o=>{const{debug:a}=this.config;a&&console.log("[AutoLogErrorPlugin]:",o)},this.ignore=o=>{var a,c,l,p,h;return void 0!==(null===(a=this.config)||void 0===a?void 0:a.maxErrorCount)&&this.errorCount>=(null===(c=this.config)||void 0===c?void 0:c.maxErrorCount)||!(null===(l=this.config)||void 0===l||!l.ignoredErrorMsgKeywords)&&o&&(null===(h=null===(p=this.config)||void 0===p?void 0:p.ignoredErrorMsgKeywords)||void 0===h?void 0:h.some(g=>o?.includes(g)))},this.report=function(t,i,o){var a=!0,c=!0;if("function"!=typeof t)throw new TypeError(Hk);return Ql(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),function(l,p,h){var g,v,y,b,E,I,w=0,_=!1,A=!1,T=!0;if("function"!=typeof l)throw new TypeError(Hk);function M(L){var Q=g,Y=v;return g=v=void 0,w=L,b=l.apply(Y,Q)}function P(L){var Q=L-I;return void 0===I||Q>=p||Q<0||A&&L-w>=y}function N(){var Q,Y,L=nI();if(P(L))return $(L);E=setTimeout(N,(Y=p-((Q=L)-I),A?Kk(Y,y-(Q-w)):Y))}function $(L){return E=void 0,T&&g?M(L):(g=v=void 0,b)}function V(){var Y,L=nI(),Q=P(L);if(g=arguments,v=this,I=L,Q){if(void 0===E)return w=Y=I,E=setTimeout(N,p),_?M(Y):b;if(A)return E=setTimeout(N,p),M(I)}return void 0===E&&(E=setTimeout(N,p)),b}return p=rI(p)||0,Ql(h)&&(_=!!h.leading,y=(A="maxWait"in h)?qk(rI(h.maxWait)||0,p):y,T="trailing"in h?!!h.trailing:T),V.cancel=function(){void 0!==E&&clearTimeout(E),w=0,g=I=v=E=void 0},V.flush=function(){return void 0===E?b:$(nI())},V}(t,i,{leading:a,maxWait:i,trailing:c})}(()=>{if(null===this.runtimeMetaManager)return;const{autoReport:o}=this.config,{commonMethods:{commonReport:a}}=this.runtimeMetaManager;return a(this.runtimeMetaManager,eR,o)},600,{trailing:!0,leading:!1}),this.afterInit=o=>{if(this.runtimeMetaManager=o,!self.addEventListener)return;const{commonMethods:{commonLog:a}}=o,c=(l,p,h)=>{this.debugLog(h),this.errorCount+=1;try{return function(g){const v=(new TextEncoder).encode(g);return crypto.subtle.digest("SHA-1",v).then(y=>Array.from(new Uint8Array(y)).map(b=>b.toString(16).padStart(2,"0")).join(""))}(l).then(g=>this.hashErrors[g]?"dismissed":(this.hashErrors[g]=!0,a(o,l,this.addPublicTags([].concat(p)),Un.error,zr.PLAIN,{extraProperties:{messageHash:g}}).then(this.report))).catch(console.error)}catch(g){return console.error(g),Promise.resolve(g)}};try{self.addEventListener("error",l=>{var p,h,g,v,y,b,E;if(!this.ignore(l?.message)){if(l?.target&&(null!==(p=l?.target)&&void 0!==p&&p.src||null!==(h=l?.target)&&void 0!==h&&h.href)){const I=`Load Resource Error in ${null===(g=l?.target)||void 0===g?void 0:g.tagName} element: ${(null===(v=l?.target)||void 0===v?void 0:v.src)||(null===(y=l?.target)||void 0===y?void 0:y.href)}`;return c(I,"RESOURCE_ERROR",l)}{const I=`Javascript Runtime Error in ${l?.filename} (${l?.lineno}:${l?.colno}): ${l?.message}\nStack: ${null!==(E=null===(b=l?.error)||void 0===b?void 0:b.stack)&&void 0!==E?E:l?.stack}`;return c(I,"JS_ERROR",l)}}}),self.addEventListener("unhandledrejection",l=>{var p;if(this.ignore(null===(p=l?.reason)||void 0===p?void 0:p.message))return;let h;const g=l?.reason;return h="string"==typeof g?`Promise Error: ${g}`:g instanceof Error?`Promise Error: ${g.message} ${g.name} ${g.stack}`:"object"==typeof g?`Promise Error with reason: ${kg(g)}`:`Promise Error with unrecognized reason: ${g}`,c(h,"UNHANDLED_PROMISE_REJECTION",l)})}catch(l){console.error(l)}this.debugLog("afterInit, add listener")},i&&(this.config=i),this.config.publicTags=[].concat(i?.publicTags)}}let pc=function(t){return t.DeviceAudioStreamCaptured="device audio stream captured",t.AudioJoinComplete="audio join complete",t.AudioLeaveComplete="audio leave complete",t.SharingAudioStartComplete="sharing audio start complete",t.SharingAudioStopComplete="sharing audio stop complete",t.AudioBridgeReconnectStart="audio bridge reconnect start",t.AudioBridgeReconnectEnd="audio bridge reconnect end",t}({}),Hp=function(t){return t.VBSettingSuccess="video VB setting success",t.VBSettingFailed="init video VB failed",t.VBPreloadSuccess="preload video VB success",t.VBPreloading3S="preload video VB 3s",t.VBPreloading10S="preload video VB 10s",t.StartCaptureVideoSuccess="start capture video success",t.StopCaptureVideoSuccess="stop capture video success",t}({});function Wr(t){return`{E}${t}{/E}`}const tR={enable:!1,enableReport:!1,gatewayEndPoint:"",newGatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},oI=["debug","log","info","print","warn","error"],$p=(t,i)=>[...t,...i].filter(o=>!!o);let Ii=(()=>{class t{static getInstance(){return this.agentInstance||(this.agentInstance=new t),this.agentInstance}constructor(){var o=this,a=this;this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.disableAutoReport=void 0,this.initConfig=function(){var c=Oe(function*(l){let p,h=tR;try{l.logConfig&&(h=JSON.parse(l.logConfig),h.gatewayEndPoint&&(o.reportUrl=h.gatewayEndPoint),h.newGatewayEndPoint&&(o.reportUrl=h.newGatewayEndPoint));const{enable:b,enableReport:E,reportUrl:I,logLevel:w,encryptKeys:_,trackingId:A,accountId:T}=l;if(void 0!==b&&(h={...h,enable:!!b}),void 0!==E&&(h={...h,enableReport:!!E}),I&&(o.reportUrl=I),"string"==typeof w){const M=oI.indexOf(w),P=oI.reduce((N,$,V)=>V<M?{...N,[`${$}`]:!1}:{...N,[`${$}`]:!0},{});h={...h,logLevel:P}}else void 0!==w&&(h={...h,logLevel:w});if(A&&(o.trackingId=A,h={...h,enable:!0,enableReport:!0}),void 0!==_){const M=Array.isArray(_)?_:[_];p=yield Promise.all(M.map(P=>{return(N=P,window.crypto.subtle.importKey("raw",(new TextEncoder).encode(N.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])).then(N=>({usage:SS.PROTECT_LOCAL_KEY,key:N}));var N}))}void 0!==T&&(o.accountId=T)}catch(b){console.error("parse log config error",b)}const g=(new Date).getTime()-6048e5,v=h.enableReport&&o.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:o.trackingId}}:void 0;o.publicTags=["VideoSDK",o.trackingId];const y=[l.debugMode&&new oV({verbose:!1}),new iV({debug:!1,cleanAfterReport:!0,expireBefore:g}),new lV({debug:!1,autoReport:v,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:o.accountId?[...o.publicTags,Wr(o.accountId)]:o.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:l.logEncryptionPubKey,reportUrl:o.reportUrl,externalKeys:p,plugins:y},logConfig:h}});return function(l){return c.apply(this,arguments)}}(),this.handleInitLaplaceSuccess=(c,l)=>{var p;this.laplace=c;const h=rt.get(lf.VSDKLogTrackingId);let g=[];try{g=JSON.parse(h?window.atob(h):"[]")}catch{}g.length>=(null!==(p=l?.trackingCount)&&void 0!==p?p:7)&&g.shift();const v=g.reduce((y,b)=>({...y,[`${b}`]:!0}),{});c.deleteLog(y=>{var b;return!(null!==(b=y.tags)&&void 0!==b&&b.some(E=>v[E]))}),g.push(this.trackingId),rt.set(lf.VSDKLogTrackingId,window.btoa(JSON.stringify(g)),Tt.LocalStorage)},this.init=function(){var c=Oe(function*(l){const{laplaceConfig:p,logConfig:h}=yield o.initConfig(l);return h.enable?(o.logConfig=h,rV.init(p).then(g=>{o.handleInitLaplaceSuccess(g,h)}).catch(g=>{throw{type:Cs,reason:"Logger init failed.",error:g}})):Promise.reject({type:oe,reason:"Logger feature is not enabled."})});return function(l){return c.apply(this,arguments)}}(),this.check=c=>{var l,p;return!(!this.checkLaplace()||(null===(l=this.logConfig)||void 0===l||null===(p=l.logLevel)||void 0===p||!p[c])&&(console.warn(`Logger ${c} is not enabled.`),1))},this.log=(c,l,p)=>{if(this.check("log"))try{var h;return null===(h=this.laplace.logWithEncryption(c,$p(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.logWithExtraProperties=(c,l,p)=>{if(this.check("log"))try{var h;return null===(h=this.laplace.log(c,l,p))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.warn=(c,l,p)=>{if(this.check("warn"))try{var h;return null===(h=this.laplace.warnWithEncryption(c,$p(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.info=(c,l,p)=>{if(this.check("info"))try{var h;return null===(h=this.laplace.infoWithEncryption(c,$p(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.debug=(c,l,p)=>{if(this.check("debug"))try{var h;return null===(h=this.laplace.debugWithEncryption(c,$p(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.error=(c,l,p)=>{if(this.check("error"))try{var h;return null===(h=this.laplace.errorWithEncryption(c,$p(l,p)))||void 0===h?void 0:h.catch(()=>{})}catch{return}},this.checkLaplace=()=>{var c;return!(null===(c=this.laplace)||void 0===c||!c.log)},this.makeLogger=c=>{var l;const p=$p(null!==(l=this.publicTags)&&void 0!==l?l:[],c);return{log:(h,g)=>this.log(h,p,g??[]),logWithExtraProperties:(h,g)=>this.logWithExtraProperties(h,p,g),warn:(h,g)=>this.warn(h,p,g??[]),info:(h,g)=>this.info(h,p,g??[]),debug:(h,g)=>this.debug(h,p,g??[]),error:(h,g)=>this.error(h,p,g??[])}},this.reportToGlobalTracing=function(c){var l;let p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.checkLaplace()?null!==(l=a.logConfig)&&void 0!==l&&l.enableReport&&a.reportUrl?function(){try{return!!rt.get(df.DisableAutoReportLogs)}catch{return!1}}()&&!p?Promise.resolve():a.laplace.reportByHttps(c,{gzip:!1,encrypt:!1,xhrOptions:{url:a.reportUrl},additionalContext:{trackingId:a.trackingId}}):Promise.reject({type:oe,reason:"Please use getLogs to obtain log data and report by yourself."}):Promise.reject({type:oe,reason:"Logger has not been enabled or initialized."})},this.report=function(c,l){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warn";if(a.checkLaplace()&&a.logConfig.enableReport&&a.reportUrl){var h,g,v;const y=Array.isArray(l)?l:[l],b=a.accountId?[...y,Wr(a.accountId)]:y;null===(h=(g=a.makeLogger(b))[`${p}`])||void 0===h||null===(v=h.call(g,c))||void 0===v||v.then(()=>{a.reportToGlobalTracing(y)})}},this.getLogs=(c,l)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const p=c.getState(),{meeting:{meetingNumber:h,userId:g,userEmail:v,userName:y}}=p,b={meetingNumber:h,userId:g,userEmail:v,userName:y},E=this.laplace.getLogs(l),I=[];for(const[,w]of E)I.push({...w,...b});return I},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=Rg()}}return t.agentInstance=void 0,t})();const jg=Ii.getInstance(),nR=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","preInitAudioBridge","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce((t,i)=>{const{type:o,methods:a}=i;return[...t,...a.map(c=>({name:c,type:o}))]},[]),Jk=nR.map(t=>t.name),Zk=function(t){const i=nR.find(l=>l.name===t);if(i){const{type:l}=i;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];const p=a?.map(h=>Pa(h));jg.makeLogger([l,`${l} Media SDK`]).info(`${t},params:${JSON.stringify(p)}`)}};function _o(t){return new Proxy(t,{get:(i,o)=>"string"==typeof o&&Jk.includes(o)?function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];try{Reflect.apply(Zk,void 0,[o,...c])}catch{}return Reflect.apply(Reflect.get(i,o),i,c)}:Reflect.get(i,o)})}const wS=Ii.getInstance().makeLogger(["Remote Control"]),Yk=_o(Ye.getInstance());function Gp(t,i,o,a){let{share:{activeNodeId:c,shareQuality:l}}=i;const{share:{isReceiveSharingFromMainSession:p}}=i;o&&(c=o),void 0!==a&&(l=a);const h=jp(i);t.subscribeSharing(c,l,p,h)}class iI{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(i){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new Tn,this.checkerSubscription=Rn(i).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var i;this.checkerSubject&&(this.checkerSubject.complete(),null===(i=this.checkerSubscription)||void 0===i||i.unsubscribe(),this.checkerSubject=void 0)}}const sI=new iI,rR=new iI;function DS(){return sI.stopCheck()}function AS(){return rR.stopCheck()}function Ug(t,i){DS(),AS();const{share:{remoteControllingSsrc:o},meeting:{userId:a}}=t;o&&(oR(),i.takeBackRemoteControlPermission(a,o))}function hc(t,i,o,a,c){return TS.apply(this,arguments)}function TS(){return TS=Oe(function*(t,i,o,a,c){const{share:{isSDKGrabControl:l,isGrabRemoteControl:p}}=o;p||(a.subscribeGrabRemoteControl(t,!0),yield ar(Mt(_l,1).pipe(ne(g=>!!g))));const h=Ok(o);h&&(l?(c.resendRemoteControlPositionPDU(),c.updateRemoteControlProperties({os:h.os,isControllerNow:!0,dimension:i&&NC(i)})):i&&c.startRemoteControl(i,h.os,NC(i)))}),TS.apply(this,arguments)}function oR(){wS.log("qr scanning stop"),Yk.startRemoteControlQRCheck(!1)}const pa=Ot.createAgent(),Nr=_o(Ye.getInstance()),As=Ot.createAgent(),tu=_o(Ye.getInstance());function os(t){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];throw Error("[Immer] minified error nr: "+t+(o.length?" "+o.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function nu(t){return!!t&&!!t[Zo]}function Jl(t){var i;return!!t&&(function(o){if(!o||"object"!=typeof o)return!1;var a=Object.getPrototypeOf(o);if(null===a)return!0;var c=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return c===Object||"function"==typeof c&&Function.toString.call(c)===NS}(t)||Array.isArray(t)||!!t[lI]||!(null===(i=t.constructor)||void 0===i||!i[lI])||aR(t)||gc(t))}function fc(t,i,o){void 0===o&&(o=!1),0===Bg(t)?(o?Object.keys:qg)(t).forEach(function(a){o&&"symbol"==typeof a||i(a,t[a],t)}):t.forEach(function(a,c){return i(c,a,t)})}function Bg(t){var i=t[Zo];return i?i.i>3?i.i-4:i.i:Array.isArray(t)?1:aR(t)?2:gc(t)?3:0}function iR(t,i){return 2===Bg(t)?t.has(i):Object.prototype.hasOwnProperty.call(t,i)}function sR(t,i,o){var a=Bg(t);2===a?t.set(i,o):3===a?(t.delete(i),t.add(o)):t[i]=o}function aR(t){return PS&&t instanceof Map}function gc(t){return zg&&t instanceof Set}function zp(t){return t.o||t.t}function Wp(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var i=lR(t);delete i[Zo];for(var o=qg(i),a=0;a<o.length;a++){var c=o[a],l=i[c];!1===l.writable&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[c]})}return Object.create(Object.getPrototypeOf(t),i)}function aI(t,i){return void 0===i&&(i=!1),Hg(t)||nu(t)||!Jl(t)||(Bg(t)>1&&(t.set=t.add=t.clear=t.delete=Xk),Object.freeze(t),i&&fc(t,function(o,a){return aI(a,!0)},!0)),t}function Xk(){os(2)}function Hg(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function ha(t){var i=kS[t];return i||os(18,t),i}function Ts(){return ou}function Zl(t,i){i&&(ha("Patches"),t.u=[],t.s=[],t.v=i)}function Bn(t){ru(t),t.p.forEach(is),t.p=null}function ru(t){t===ou&&(ou=t.l)}function $g(t){return ou={p:[],l:ou,h:t,m:!0,_:0}}function is(t){var i=t[Zo];0===i.i||1===i.i?i.j():i.O=!0}function Yl(t,i){i._=i.p.length;var o=i.p[0],a=void 0!==t&&t!==o;return i.h.g||ha("ES5").S(i,t,a),a?(o[Zo].P&&(Bn(i),os(4)),Jl(t)&&(t=RS(i,t),i.l||Gg(i,t)),i.u&&ha("Patches").M(o[Zo].t,t,i.u,i.s)):t=RS(i,o,[]),Bn(i),i.u&&i.v(i.u,i.s),t!==cI?t:void 0}function RS(t,i,o){if(Hg(i))return i;var a=i[Zo];if(!a)return fc(i,function(l,p){return qp(t,a,i,l,p,o)},!0),i;if(a.A!==t)return i;if(!a.P)return Gg(t,a.t,!0),a.t;if(!a.I){a.I=!0,a.A._--;var c=4===a.i||5===a.i?a.o=Wp(a.k):a.o;fc(3===a.i?new Set(c):c,function(l,p){return qp(t,a,c,l,p,o)}),Gg(t,c,!1),o&&t.u&&ha("Patches").R(a,o,t.u,t.s)}return a.o}function qp(t,i,o,a,c,l){if(nu(c)){var p=RS(t,c,l&&i&&3!==i.i&&!iR(i.D,a)?l.concat(a):void 0);if(sR(o,a,p),!nu(p))return;t.m=!1}if(Jl(c)&&!Hg(c)){if(!t.h.F&&t._<1)return;RS(t,c),i&&i.A.l||Gg(t,c)}}function Gg(t,i,o){void 0===o&&(o=!1),t.h.F&&t.m&&aI(i,o)}function OS(t,i){var o=t[Zo];return(o?zp(o):t)[i]}function uR(t,i){if(i in t)for(var o=Object.getPrototypeOf(t);o;){var a=Object.getOwnPropertyDescriptor(o,i);if(a)return a;o=Object.getPrototypeOf(o)}}function uI(t){t.P||(t.P=!0,t.l&&uI(t.l))}function Zn(t){t.o||(t.o=Wp(t.t))}function MS(t,i,o){var a=aR(i)?ha("MapSet").N(i,o):gc(i)?ha("MapSet").T(i,o):t.g?function(c,l){var p=Array.isArray(c),h={i:p?1:0,A:l?l.A:Ts(),P:!1,I:!1,D:{},l,t:c,k:null,o:null,j:null,C:!1},g=h,v=iu;p&&(g=[h],v=Kg);var y=Proxy.revocable(g,v),b=y.revoke,E=y.proxy;return h.k=E,h.j=b,E}(i,o):ha("ES5").J(i,o);return(o?o.A:Ts()).p.push(a),a}function cR(t,i){switch(i){case 2:return new Map(t);case 3:return Array.from(t)}return Wp(t)}var or,ou,mc=typeof Symbol<"u"&&"symbol"==typeof Symbol("x"),PS=typeof Map<"u",zg=typeof Set<"u",Wg=typeof Proxy<"u"&&void 0!==Proxy.revocable&&typeof Reflect<"u",cI=mc?Symbol.for("immer-nothing"):((or={})["immer-nothing"]=!0,or),lI=mc?Symbol.for("immer-draftable"):"__$immer_draftable",Zo=mc?Symbol.for("immer-state"):"__$immer_state",NS=""+Object.prototype.constructor,qg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,lR=Object.getOwnPropertyDescriptors||function(t){var i={};return qg(t).forEach(function(o){i[o]=Object.getOwnPropertyDescriptor(t,o)}),i},kS={},iu={get:function(t,i){if(i===Zo)return t;var c,h,g,o=zp(t);if(!iR(o,i))return c=t,(g=uR(o,i))?"value"in g?g.value:null===(h=g.get)||void 0===h?void 0:h.call(c.k):void 0;var a=o[i];return t.I||!Jl(a)?a:a===OS(t.t,i)?(Zn(t),t.o[i]=MS(t.A.h,a,t)):a},has:function(t,i){return i in zp(t)},ownKeys:function(t){return Reflect.ownKeys(zp(t))},set:function(t,i,o){var p,h,a=uR(zp(t),i);if(a?.set)return a.set.call(t.k,o),!0;if(!t.P){var c=OS(zp(t),i),l=c?.[Zo];if(l&&l.t===o)return t.o[i]=o,t.D[i]=!1,!0;if(((p=o)===(h=c)?0!==p||1/p==1/h:p!=p&&h!=h)&&(void 0!==o||iR(t.t,i)))return!0;Zn(t),uI(t)}return t.o[i]===o&&"number"!=typeof o&&(void 0!==o||i in t.o)||(t.o[i]=o,t.D[i]=!0,!0)},deleteProperty:function(t,i){return void 0!==OS(t.t,i)||i in t.t?(t.D[i]=!1,Zn(t),uI(t)):delete t.D[i],t.o&&delete t.o[i],!0},getOwnPropertyDescriptor:function(t,i){var o=zp(t),a=Reflect.getOwnPropertyDescriptor(o,i);return a&&{writable:!0,configurable:1!==t.i||"length"!==i,enumerable:a.enumerable,value:o[i]}},defineProperty:function(){os(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){os(12)}},Kg={};fc(iu,function(t,i){Kg[t]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}}),Kg.deleteProperty=function(t,i){return Kg.set.call(this,t,i,void 0)},Kg.set=function(t,i,o){return iu.set.call(this,t[0],i,o,t[0])};var _i=function(){function t(o){var a=this;this.g=Wg,this.F=!0,this.produce=function(c,l,p){if("function"==typeof c&&"function"!=typeof l){var h=l;l=c;var g=a;return function(_){var A=this;void 0===_&&(_=h);for(var T=arguments.length,M=Array(T>1?T-1:0),P=1;P<T;P++)M[P-1]=arguments[P];return g.produce(_,function(N){var $;return($=l).call.apply($,[A,N].concat(M))})}}var v;if("function"!=typeof l&&os(6),void 0!==p&&"function"!=typeof p&&os(7),Jl(c)){var y=$g(a),b=MS(a,c,void 0),E=!0;try{v=l(b),E=!1}finally{E?Bn(y):ru(y)}return typeof Promise<"u"&&v instanceof Promise?v.then(function(_){return Zl(y,p),Yl(_,y)},function(_){throw Bn(y),_}):(Zl(y,p),Yl(v,y))}if(!c||"object"!=typeof c){if(void 0===(v=l(c))&&(v=c),v===cI&&(v=void 0),a.F&&aI(v,!0),p){var I=[],w=[];ha("Patches").M(c,v,I,w),p(I,w)}return v}os(21,c)},this.produceWithPatches=function(c,l){if("function"==typeof c)return function(v){for(var y=arguments.length,b=Array(y>1?y-1:0),E=1;E<y;E++)b[E-1]=arguments[E];return a.produceWithPatches(v,function(I){return c.apply(void 0,[I].concat(b))})};var p,h,g=a.produce(c,l,function(v,y){p=v,h=y});return typeof Promise<"u"&&g instanceof Promise?g.then(function(v){return[v,p,h]}):[g,p,h]},"boolean"==typeof o?.useProxies&&this.setUseProxies(o.useProxies),"boolean"==typeof o?.autoFreeze&&this.setAutoFreeze(o.autoFreeze)}var i=t.prototype;return i.createDraft=function(o){var l;Jl(o)||os(8),nu(o)&&(nu(l=o)||os(22,l),o=function p(h){if(!Jl(h))return h;var g,v=h[Zo],y=Bg(h);if(v){if(!v.P&&(v.i<4||!ha("ES5").K(v)))return v.t;v.I=!0,g=cR(h,y),v.I=!1}else g=cR(h,y);return fc(g,function(b,E){var I,w;v&&(w=b,(2===Bg(I=v.t)?I.get(w):I[w])===E)||sR(g,b,p(E))}),3===y?new Set(g):g}(l));var a=$g(this),c=MS(this,o,void 0);return c[Zo].C=!0,ru(a),c},i.finishDraft=function(o,a){var c=(o&&o[Zo]).A;return Zl(c,a),Yl(void 0,c)},i.setAutoFreeze=function(o){this.F=o},i.setUseProxies=function(o){o&&!Wg&&os(20),this.g=o},i.applyPatches=function(o,a){var c;for(c=a.length-1;c>=0;c--){var l=a[c];if(0===l.path.length&&"replace"===l.op){o=l.value;break}}c>-1&&(a=a.slice(c+1));var p=ha("Patches").$;return nu(o)?p(o,a):this.produce(o,function(h){return p(h,a)})},t}(),wi=new _i,B=wi.produce;wi.produceWithPatches.bind(wi),wi.setAutoFreeze.bind(wi),wi.setUseProxies.bind(wi),wi.applyPatches.bind(wi),wi.createDraft.bind(wi),wi.finishDraft.bind(wi);const LS={ssrc:0,status:_t.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Si.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isChromeExtensionInstalled:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:Sn.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isFullHDVideoShareEnabled:!1,userSsrcMapping:{},statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}}},dR=gr({[`${Py}`]:B((t,i)=>{let{payload:o}=i;t.sharePrivilege=o}),[`${qa}`]:B((t,i)=>{let{payload:o}=i;t.isRemoteSharingActive=1===o.bStatus,t.activeNodeId=o.activeNodeID,t.activeSsrc=o.ssrc}),[`${Io}`]:B((t,i)=>{let{payload:o}=i;t.isReceiveSharing=o}),[`${Ka}`]:B((t,i)=>{let{payload:o}=i;t.isChromeExtensionInstalled=o}),[`${ak}`]:B((t,i)=>{let{payload:o}=i;t.shareDimension={...o}}),[`${Ci}`]:B((t,i)=>{let{payload:o}=i;t.status=o}),[`${uk}`]:B((t,i)=>{let{payload:o}=i;t.ssrc=o}),[`${QA}`]:B((t,i)=>{let{payload:o}=i;t.shareQuality=o}),[`${Ny}`]:B((t,i)=>{let{payload:o}=i;t.receivedShareDimension={...o}}),[`${eT}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlledUserList.includes(o)||t.remoteControlledUserList.push(o)}),[`${eg}`]:B((t,i)=>{let{payload:o}=i;const a=t.remoteControlledUserList.indexOf(o);a>=0&&t.remoteControlledUserList.splice(a,1)}),[`${Yf}`]:B((t,i)=>{let{payload:o}=i;t.isGrabRemoteControl=o,!1===o&&(t.remoteControlViewportDomSelector=void 0)}),[`${JA}`]:B((t,i)=>{let{payload:o}=i;t.isSDKGrabControl=o}),[`${Qa}`]:B((t,i)=>{let{payload:o}=i;t.isReceiveSharingFromMainSession=o}),[`${Ll}`]:B((t,i)=>{let{payload:o}=i;t.isSharingToBreakoutRoom=o}),[`${ky}`]:B((t,i)=>{let{payload:o}=i;t.isSharingWithSecondCamera=o}),[`${ZA}`]:B((t,i)=>{let{payload:o}=i;t.secondCameraId=o}),[`${xl}`]:B((t,i)=>{let{payload:o}=i;t.isRequireReadReceipt=o}),[`${Ip}`]:B((t,i)=>{let{payload:o}=i;t.isOptimizedForSharedVideo=o}),[`${Ly}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${Fl}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${Xf}`]:B((t,i)=>{let{payload:o}=i;t.capturedEnsuredCanvas.includes(o)||t.capturedEnsuredCanvas.push(o)}),[`${YA}`]:B((t,i)=>{let{payload:o}=i;t.renderedEnsuredCanvas.includes(o)||t.renderedEnsuredCanvas.push(o)}),[`${_p}`]:B((t,i)=>{let{payload:o}=i;t.remoteControllingSsrc=o}),[`${wp}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlApprovedSsrc=o}),[`${XA}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlAppDownloadUrl=o}),[`${Vl}`]:B((t,i)=>{let{payload:o}=i;(t.remoteControlAppInstallStatus!==Sn.Installed||Sn.Unknown)&&(t.remoteControlAppInstallStatus=o)}),[`${es}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlAppLaunchSheme=o}),[`${nC}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,ssrc:c}=o;Object.assign(t.userSsrcMapping,{[`${a}`]:c})}),[`${xy}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t,o)}),[`${ec}`]:B((t,i)=>{let{payload:o}=i;t.remoteControlViewportDomSelector=o}),[`${rC}`]:B((t,i)=>{let{payload:o}=i;t.isFullHDVideoShareEnabled=o}),[`${oC}`]:()=>({...LS})},LS),pR={remoteControlEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{meetingOptions:o,rcAutoDelete:a,jwtRc:c,opRc:l}}=i;return xy({isRemoteControlEnabled:o?.isRemoteControlEnbaled&&l&&1===c,isEnableAutoDeleteRcApp:1===a})})),remoteControlEpics1:(t,i)=>be(t,16391).pipe(se(o=>{const{payload:{body:{bOn:a,sendID:c,receiveID:l}}}=o,{meeting:{userId:p},share:{status:h,activeNodeId:g,isGrabRemoteControl:v}}=i.value,y=[];if(h===_t.End&&y.push(_p(0)),h!==_t.End)if(po(p,c))if(a){DS(),AS(),h===_t.Paused&&(As.resumeSharing(),tu.resumeDesktopSharing(),y.push(Ci(_t.Sharing))),y.push(_p(l));const E=Zt(i.value).find(I=>po(I.userId,l));E&&y.push(nC({userId:E.userId,ssrc:l}))}else y.push(_p(0));else{var b;const E=null===(b=Zt(i.value))||void 0===b?void 0:b.find(I=>po(I.userId,c));E&&(y.push(nC({userId:E.userId,ssrc:c})),F(fA,{userId:E.userId,displayName:E.displayName,isSharingEntireScreen:tu.isSharingEntireScreen()}))}else if(!l||po(l,p)){const E=Fe(i.value);if(!Mr(E.userRole)&&!Re.isAndroidOrIOSBrowser){const I=c&&po(g,c);a?(y.push(eT(g)),I&&(v||As.subscribeGrabRemoteControl(g,!0))):(y.push(eg(g)),I&&(v&&(As.subscribeGrabRemoteControl(g,!1),y.push(Yf(!1)),F(_l,!1)),tu.updateRemoteControlProperties({isControllerNow:!1}))),F(Rf,a)}}return ve(y)})),remoteControlEpics2:(t,i)=>be(t,16395).pipe(Pe(i),ne(o=>{let[a,c]=o;return a.payload.body.id===c.meeting.userId}),ye(o=>{let[a]=o;const{payload:{body:{bOn:c}}}=a;return tu.updateRemoteControlProperties({isControllerNow:c}),F(_l,c),Yf(c)})),remoteControlEpics3:t=>Ke(t,[he.StartRemoteControlSuccess,he.StartRemoteControlFailed,he.CancelRemoteControlSuccess]).pipe(ua(i=>i.payload.type===he.StartRemoteControlSuccess?(F(dA),JA(!0)):i.payload.type===he.CancelRemoteControlSuccess?JA(!1):void(i.payload.type===he.StartRemoteControlFailed&&F(O0)))),remoteControlEpics4:t=>Ke(t,[he.RemoteControlCopiedTextNotify,he.RemoteControlPasteTextLengthOverflow]).pipe(Te(i=>{if(i.payload.type===he.RemoteControlCopiedTextNotify){const{payload:{data:o}}=i;F(dy,{content:o.data,x:o.x,y:o.y})}else F(dy,{error:"length of pasted text is too long"})}),ze(Se)),remoteControlEpics5:(t,i)=>be(t,4342).pipe(ne(o=>0===o.payload.body.result),se(o=>{const{payload:{body:{downloadUrl:a,ssrc:c,urlScheme:l}}}=o,{share:{remoteControlApprovedSsrc:p,status:h}}=i.value,g=[],{isMacOS:v}=Re;if(h!==_t.End){if(!p||p===c){DS();try{const w=JSON.parse(a||"{}");g.push(XA(v?w.macDownloadUrl:w.winDownloadUrl))}catch(w){console.warn("unsupported JSON string",w)}}const y={},b=Zt(i.value).find(w=>po(w.userId,c));b&&Object.assign(y,{controllerName:On(b.displayName)}),Object.assign(y,{ssrc:c});const{deviceId:E}=tu.getShareStreamInfo();E&&Object.assign(y,{DeviceID:E});const I=`${l}&${new URLSearchParams(y).toString()}`;g.push(es(I),Vl(Sn.Unknown)),F(P0,I)}return ve(g)})),remoteControlEpics6:t=>t.pipe(Me(`${eC}`),se(()=>sI.startCheck(1e4).pipe(ye(()=>(F(Qu,Sn.Unknown),Vl(Sn.Unknown)))))),remoteControlEpics7:(t,i)=>t.pipe(Me(`${jl}`),ne(()=>{const{share:{remoteControlAppInstallStatus:o}}=i.value;return o===Sn.Installed}),se(()=>rR.startCheck(12e4).pipe(se(()=>{F(Qu,Zv.Unlaunched);const{share:{remoteControlApprovedSsrc:o,isEnableAutoDeleteRcApp:a},meeting:{userId:c}}=i.value,l=[],{isMacOS:p}=Re;return o&&(As.remoteControlConsent(Jv.CacheClean,o,c,{...tu.getShareStreamInfo(),platform:p?"mac":"win"},a),l.push(es(""),wp(0))),ve(l)})))),remoteControlEpics8:(t,i)=>t.pipe(Me(`${es}`),ne(o=>!!o.payload),se(o=>{const{payload:a}=o,c=[];let l;if(a){(function(h){if(!h.startsWith("zoomprc://"))return;const g=Ma("__ZOOM_SDK_RC_APP_SCHEME_@__");let v=document.getElementById(g);v||(v=document.createElement("iframe"),v.id=g,v.style.display="none",document.body.appendChild(v)),v.contentWindow.location.href=h})(a),c.push(jl());const p=performance.now();document.hasFocus()?l=ot(25).pipe(xd(()=>{const h=performance.now()-p<500;return h||F(Qu,Sn.Uninstalled),h&&i.value.share.remoteControlAppInstallStatus===Sn.Unknown}),it(()=>{const h=performance.now()-p,g=[];return document.hasFocus()||(h>75?g.push(eC()):DS(),F(Qu,Sn.Installed),g.push(Vl(Sn.Installed),jl())),ve(g)}),function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return function(v){return $h(v,Vt.apply(void 0,ji([],li(h))))}}(Vl(Sn.Uninstalled))):(F(Qu,Sn.Unknown),c.push(Vl(Sn.Unknown)))}return l?qn(l,ve(c)):ve(c)})),remoteControlEpics9:(t,i)=>be(t,16428).pipe(se(()=>(F(Of,yl.Ended),Ug(i.value,As),ve([es(""),wp(0)])))),remoteControlEpics10:(t,i)=>t.pipe(Me(`${Ci}`),ne(o=>{const{share:{remoteControllingSsrc:a,remoteControlApprovedSsrc:c}}=i.value;return!(o.payload!==_t.End||!a&&!c)}),Te(()=>{const{share:{remoteControllingSsrc:o,remoteControlApprovedSsrc:a,isEnableAutoDeleteRcApp:c},meeting:{userId:l}}=i.value,{isMacOS:p}=Re;o&&Ug(i.value,As),a!==o&&As.remoteControlConsent(Jv.Decline,a,l,{...tu.getShareStreamInfo(),platform:p?"mac":"win"},c)}),ze(Se)),remoteControlEpics11:(t,i)=>be(t,16430).pipe(se(()=>{return DS(),AS(),F(Qu,Zv.Launched),i.value.share.status!==_t.End&&(o=i.value,a=tu,(c=Oe(function*(l){const{media:{assetsPath:p}}=l,h=`${p}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise((g,v)=>{wS.log(`load qr scanner script start. url:${h}`),kp(h,()=>{wS.log("load qr scanner script done."),g("")},v)})}),function(l){return c.apply(this,arguments)})(o).then(()=>{wS.log("qr scanning start"),a.startRemoteControlQRCheck(!0)})),ve([es(""),wp(0)]);var o,a,c})),remoteControlEpics12:t=>Ke(t,he.CurrentDesktopSharingWidthHeight).pipe(Te(()=>{As.syncSharedContentMetaWithRcApp(tu.getShareStreamInfo())}),ze(Se)),remoteControlEpics13:(t,i)=>Ke(t,he.SendRemoteControlQrCode).pipe(Te(o=>{const{payload:{data:a}}=o,{share:{status:c}}=i.value;c!==_t.End&&Array.isArray(a)&&a.length>0&&a.forEach(l=>{null!=l&&l.startsWith("zrc_")&&As.sendRemoteControlAuth(l)})}),ze(Se)),remoteControlEpics14:t=>be(t,16434).pipe(Te(i=>{const{payload:{body:{result:o}}}=i;0===o&&(oR(),F(Of,yl.Started))}),ze(Se)),remoteControlEpics15:(t,i)=>be(t,vn).pipe(ne(o=>{var a,c;const{meeting:{userId:l},share:{remoteControlledUserList:p}}=i.value,{payload:{body:h}}=o;return p.length>0&&((null===(a=h.update)||void 0===a?void 0:a.some(g=>g.id!==l&&!1===g.bShareOn))||(null===(c=h.remove)||void 0===c?void 0:c.some(g=>g.id!==l)))}),se(o=>{var a,c,l,p;const{payload:{body:h}}=o,{share:{remoteControlledUserList:g,activeNodeId:v,isGrabRemoteControl:y},meeting:{userId:b}}=i.value,E=(null!==(a=null===(c=h.update)||void 0===c?void 0:c.filter(w=>w.id!==b&&!1===w.bShareOn))&&void 0!==a?a:[]).concat(null!==(l=null===(p=h.remove)||void 0===p?void 0:p.filter(w=>w.id!==b))&&void 0!==l?l:[]),I=[];return g.forEach(w=>{E.find(_=>_.id===w)&&(I.push(eg(w)),w===v&&y&&(I.push(Yf(!1)),F(_l,!1)))}),ve(I)})),remoteControlEpics16:(t,i)=>t.pipe(Me(`${er}`),Te(()=>{const{share:{remoteControllingSsrc:o,status:a}}=i.value;a===_t.Sharing&&o&&F(Of,yl.Ended)}),ze(Se))},dV=qr({epics0:(t,i)=>be(t,mi).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.lockShare)}),Pe(i),Te(o=>{let[a,c]=o;const{share:{sharePrivilege:l}}=c,{payload:{body:{lockShare:p}}}=a;l!==p&&F(pA,p)}),ye(o=>{let[a]=o;return Py(a.payload.body.lockShare)})),epics1:t=>be(t,20227).pipe(ye(i=>uk(i.payload.body.ssrc))),epics2:(t,i)=>be(t,20225).pipe(Pe(i),ne(o=>{let[a,c]=o;const{payload:{body:l}}=a,{share:{isReceiveSharingFromMainSession:p}}=c;return!p||p&&l.fromMainSession}),ye(o=>{let[a,c]=o;const{share:{isReceiveSharing:l,activeNodeId:p,isReceiveSharingFromMainSession:h},breakoutRoom:g}=c,{payload:{body:v}}=a;if(l&&1===v.bStatus){let y=!1;g?.currentRoom.status===je.InRoom&&g.mainSessionAttendeeList.length>0&&(y=g.mainSessionAttendeeList.findIndex(b=>b.userId===p)>-1),pa.unsubscribeSharing(p,y),Gp(pa,c,v.activeNodeID),Nr.switchSharingSource(v.ssrc,h),F(ly,{userId:v.activeNodeID})}else if(1===v.bStatus){const y={activeUserId:v.activeNodeID,isActive:!0};h&&Object.assign(y,{isFromMainSession:!0}),F(D0,y)}else if(l){const y={activeUserId:v.activeNodeID,isActive:!1};h&&Object.assign(y,{isFromMainSession:!0}),F(D0,y)}return qa(v)})),epics3:t=>Ke(t,he.CheckChromeSharingExtensionResponse).pipe(ye(i=>(F(ay,i.payload.data),Ka(i.payload.data)))),epics4:(t,i)=>Ke(t,[he.SharingDesktopStreamHaveAudio,he.SharingDesktopStreamHaveNoAudio]).pipe(ne(o=>o.payload.type!==he.SharingDesktopStreamHaveAudio||!i.value.audio.secondaryAudioMicrophoneId),Pe(i),ye(o=>{let[a,c]=o;const{meeting:{userId:l},share:{isSharingToBreakoutRoom:p,isOptimizedForSharedVideo:h}}=c,{payload:{type:g}}=a;return pa.startSharing(l,{bShareToBO:p,bShareAudio:g===he.SharingDesktopStreamHaveAudio,bShareVideo:!!h}),Nr.switchSharingMode(h?Qv.VideoMode:Qv.Normal),X0(!1)})),epics5:t=>Ke(t,[he.DesktopSharingError,he.DesktopSharingChromeExtensionUninstalled,he.DesktopSharingPermissionDenied,he.DesktopSharingSystemError]).pipe(se(i=>{const o=[];let a="";return[he.DesktopSharingPermissionDenied,he.DesktopSharingSystemError].includes(i.payload.type)&&(o.push(X0(!0)),i.payload.type===he.DesktopSharingSystemError?Re.isMacOS&&(a="To use screen share on Chrome, please allow screen recording access in system setting."):a="To use screen share, please allow the permission request."),F(cA,{reason:a}),ve(o)})),epics6:t=>Ke(t,he.CurrentDesktopSharingWidthHeight).pipe(ne(i=>!!i.payload.data),ye(i=>{F(lA,i.payload.data);const{payload:{data:{width:o,height:a}}}=i;return Nr.ajustmentSharingCanvas(o,a),ak(i.payload.data)})),epics7:(t,i)=>Ke(t,he.SharingDecodeMaxSize).pipe(ne(o=>!!o.payload.data),Pe(i),ua(o=>{let[a,c]=o;const{share:{shareQuality:l,activeNodeId:p}}=c,{payload:{data:{fps:h}}}=a,g=Number(h);if(l!==g)return Gp(pa,c,p,g),QA(g)})),epics8:t=>be(t,20226).pipe(Te(i=>{var o,a;if(F(Yr,null===(o=i.payload)||void 0===o?void 0:o.body),null!==(a=i.payload)&&void 0!==a&&a.body){const{payload:{body:{width:c,height:l}}}=i;Nr.ajustmentReceivedSharingCanvas(c,l)}}),ye(i=>Ny(i.payload.body))),epics9:t=>Ke(t,he.SharingPara).pipe(Te(i=>{var o,a;if(F(Yr,null===(o=i.payload.data)||void 0===o?void 0:o.body),null!==(a=i.payload.data)&&void 0!==a&&a.body){const{payload:{data:{body:{width:c,height:l}}}}=i;Nr.ajustmentReceivedSharingCanvas(c,l)}}),ye(i=>{var o;return Ny(null===(o=i.payload.data)||void 0===o?void 0:o.body)})),epics10:(t,i)=>Ke(t,he.UserStopDesktopSharing).pipe(Pe(i),ye(o=>{let[,a]=o;const{meeting:{userId:c},share:{status:l}}=a;return l!==_t.End&&(pa.stopSharing(c),Nr.stopDesktopSharing(),F(uy)),Ci(_t.End)})),epics11:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l}}=c,p=a.payload.body.update;return p&&p.length>0&&p.findIndex(h=>h.id===l&&void 0!==h.bShareOn)>-1}),se(o=>{let[a,c]=o;const{meeting:{userId:l},share:{status:p,isReceiveSharing:h,activeNodeId:g}}=c,{payload:{body:{update:v}}}=a,y=v.find(I=>I.id===l&&!1===I.bShareOn),b=v.find(I=>I.id===l&&!0===I.bShareOn),E=[];return y&&p!==_t.End&&(pa.stopSharing(l),Nr.stopDesktopSharing(),E.push(Ci(_t.End)),F(A0)),b&&p===_t.End&&(h&&(Nr.stopRenderSharing(),pa.unsubscribeSharing(g),E.push(Io(!1))),E.push(Ci(_t.Sharing))),ve(E)})),epics12:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l}}=c,p=a.payload.body.update;return p&&p.length>0&&p.findIndex(h=>h.id!==l&&void 0!==h.bShareOn)>-1}),se(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{share:{activeNodeId:p,isReceiveSharing:h}}=c,g=ca(c),v=l.filter(E=>!0===E.bShareOn&&!1===E.bSharePause),y=l.filter(E=>!0===E.bShareOn&&!0===E.bSharePause),b=l.filter(E=>!1===E.bShareOn);return v.length>0&&v.forEach(E=>{-1===g.findIndex(I=>I.userId===E.id)?F(Hr,E):F(R0,E)}),y.length>0&&y.forEach(E=>{F(T0,E)}),b.length>0&&(b.forEach(E=>{F(Il,E)}),h&&b.some(E=>E.id===p))?Ho(be(t,20225).pipe(bt(1),ze(Se)),Rn(50).pipe(ze(Ee("timeout")))).pipe(jr(()=>{const{share:{activeNodeId:E,isReceiveSharingFromMainSession:I},audio:w}=i.value,_=g.filter(A=>A.userId!==E);if(_.length>0){const A=_[0],{userId:T}=A;return pa.unsubscribeSharing(E,I),Gp(pa,i.value,T),Nr.switchSharingSource(T,I),w?.localShareAudioUserMutedList.forEach(M=>{Nr.setSharingAudioVolume(T,M.userId!==T||M.muted,M.isFromMainSession)}),F(ly,{userId:T}),Vt(qa({activeNodeID:T,bStatus:1,ssrc:T}))}return Se})):Se})),epics13:(t,i)=>be(t,UD).pipe(Pe(i),it(o=>{let[a,c]=o;const{payload:{body:{encryptKey:l,additionalType:p}}}=a,{media:{sharingDecodeStatus:h,sharingEncodeStatus:g},meeting:{confId:v,userId:y,zoomId:b,meetingId:E,meetingNumber:I,isWebinar:w}}=c;return $l(i).pipe(it(_=>{let A=g;return(!Re.isSupportSendScreenSharing||w&&_&&Mr(_.userRole))&&(A="failed"),Gr("sharing",A,h).pipe(Te(T=>{let[M,P]=T;const N={userId:y,sn:Bi(b),confId:v,encryptKey:Bi(l),encryptType:p,meetingId:E,meetingNumber:I};if(M&&Nr?.updateMediaParams({iVType:Rr.SHARING_ENCODE,isFromMainSession:!1,updateParams:N}),P){Nr.updateMediaParams({iVType:Rr.SHARING_DECODE,isFromMainSession:!1,updateParams:N});const{participants:{attendeesList:$}}=i.value;if($.length>0){const V=$.map(L=>({userid:L.userId,sn:L.zoomID&&Bi(L.zoomID)}));Nr.updateUserMediaSN({added:V,isFromMainSession:!1,iVType:Rr.SHARING_DECODE})}}}),ze(Se))}))})),epics14:(t,i)=>ur(t,20235).pipe(Pe(i),Te(o=>{let[a,c]=o;const{media:{sharingDecodeStatus:l}}=c,{type:p,payload:{body:h}}=a,g=p===`${Ra}`;Gr("sharing","success",l).subscribe(v=>{let[,y]=v;y&&Nr.addReceivedSharingChannelType({isFromMainSession:g,...h})})}),ze(Se)),epics15:(t,i)=>ur(t,20236).pipe(Pe(i),Te(o=>{let[a,c]=o;const{media:{sharingDecodeStatus:l}}=c,{type:p,payload:{body:{ssrc:h}}}=a,g=p===`${Ra}`;Gr("sharing","success",l).subscribe(v=>{let[,y]=v;y&&Nr.removeReceivedSharingChannelType({isFromMainSession:g,ssrc:h})})}),ze(Se)),epics16:t=>Ke(t,he.SharingFirstDecodeFrameReceivedSsrc).pipe(ne(i=>!!i.payload.data),Te(i=>{const{payload:{data:{ssrc:o}}}=i;pa.sendReceivingSharingReady(o)}),ze(Se)),epics17:(t,i)=>be(t,20233).pipe(ne(()=>!!i.value.share.isRequireReadReceipt),Te(o=>{const{payload:{body:{bReceiveOk:a}}}=o;a&&F(hA)}),ze(Se)),epics18:(t,i)=>be(t,mi).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.lockShare)}),se(o=>{const{payload:{body:{lockShare:a}}}=o,{share:{isOptimizedForSharedVideo:c,isSharingToBreakoutRoom:l},audio:{isSharingAudio:p},meeting:{userId:h}}=i.value,g=[];return a===Si.MultipleShare&&c&&(pa.startSharing(h,{bShareAudio:p,bShareToBO:l,bShareVideo:!1}),Nr.switchSharingMode(Qv.Normal),g.push(Ip(!1))),ve(g)})),epics19:(t,i)=>Ke(t,he.ShareQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{meeting:{isWebinar:p},media:{sharingEncodeStatus:h,sharingDecodeStatus:g},share:{status:v,isReceiveSharing:y},participants:{xmppAttendeeList:b}}=l;let E=Q0(l).length>0;p&&(E=E||!!b.length);const w=y&&"success"===g;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?v!==_t.End&&"success"===h&&E?(F(M0,c.payload),Ly(c.payload)):Ly(ea):w?(F(M0,c.payload),Fl(c.payload)):Fl(ea)}))},pR),ss=Ot.createAgent();let Di=function(t){return t.Add="add",t.List="list",t.Remove="memberremove",t.rename="rename",t.update="UPDATE",t}({}),Rs=function(t){return t.Open="open",t.Message="message",t.Error="error",t.Close="close",t}({}),Kp=(()=>{class t{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new t),this.xmppInstance}on(o,a){let c=this.eventHandlers.get(o);c||(c=[]),c.push(a),this.eventHandlers.set(o,c)}off(o,a){const c=this.eventHandlers.get(o);if(c){const l=c.filter(p=>p!==a);this.eventHandlers.set(o,l)}}emit(o,a){const c=this.eventHandlers.get(o);c&&c instanceof Array&&c.slice(0).forEach(l=>{try{l(a)}catch(p){console.error(p)}})}sendMessageToRwg(o){this.seq+=1;const a=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(o,{seq:a}))),a}connect(o){this.websocket=new WebSocket(o),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var o;null===(o=this.websocket)||void 0===o||o.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",o=>{this.emit(Rs.Open,o)}),this.websocket.addEventListener("message",o=>{const{data:a}=o;var c;if(a instanceof ArrayBuffer)0===new Uint8Array(a)[0]&&(null===(c=this.websocket)||void 0===c||c.send(a));else try{this.emit(Rs.Message,JSON.parse(a))}catch{console.warn("Unsupported format",a)}}),this.websocket.addEventListener("close",o=>{this.emit(Rs.Close,o)}),this.websocket.addEventListener("error",o=>{this.emit(Rs.Error,o)}))}join(o){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:o}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(o){return{seq:this.sendMessageToRwg({evt:24578,jids:o||[]})}}sendWebinarMseeage(o,a,c){return{seq:this.sendMessageToRwg({evt:24582,body:{msg:o,jid:a?[a]:[],type:c,bcm:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}})}}sendAnswer(o,a,c){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:a.jid,question_attendeename:a.displayName,question_text:a.questionText,question_id:a.questionId,question_anonymous:a.isAnonymous,question_time:a.questionTime,text:o,isPrivate:c}})}}answerOnline(o,a){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,isLiveStart:a}})}}dismissQuestion(o){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bOpen:!1}})}}deleteQuestion(o){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:o,bDelete:!0}})}}deleteComment(o){return{seq:this.sendMessageToRwg({body:{comment_id:o,bDelete:!0},evt:24616})}}reopenQuestion(o){return{seq:this.sendMessageToRwg({body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bOpen:!0},evt:24590})}}askQuestion(o,a){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3?arguments[3]:void 0;const p=qd();return{seq:this.sendMessageToRwg({body:{id:p,text:o,isAnonymous:c,bAllowAttendeeViewAllQuestion:l,name:a},evt:24592}),questionId:p}}upOrDownVote(o,a){return{seq:this.sendMessageToRwg({body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,bUpVote:a},evt:24598})}}rename(o,a){return{seq:this.sendMessageToRwg({body:{jid:o,displayName:a},evt:24600})}}setSkinTome(o){return{seq:this.sendMessageToRwg({body:{skinTone:o},evt:24618})}}}return t.xmppInstance=null,t})();const Qp=Ii.getInstance();let vc,dI;const Jp=Ot.createAgent();let to=null;function xS(t){switch(t.responseType){case"json":if("response"in t)return t.response;var i=t;return JSON.parse(i.responseText);case"document":return t.responseXML;default:return"response"in t?t.response:(i=t).responseText}}var yc,hR=function(t,i,o,a){void 0===a&&(a="download_load"),this.originalEvent=t,this.xhr=i,this.request=o,this.type=a;var l=i.responseType;this.status=i.status??0,this.responseType=l??"";var p=i.getAllResponseHeaders();this.responseHeaders=p?p.split("\n").reduce(function(v,y){var b=y.indexOf(": ");return v[y.slice(0,b)]=y.slice(b+2),v},{}):{},this.response=xS(i);var g=t.total;this.loaded=t.loaded,this.total=g},Qg=Od(function(t){return function(i,o,a){var c;this.message=i,this.name="AjaxError",this.xhr=o,this.request=a,this.status=o.status,this.responseType=o.responseType;try{c=xS(o)}catch{c=o.responseText}this.response=c}}),fR=function(){function t(i,o){return Qg.call(this,"ajax timeout",i,o),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(Qg.prototype),t}(),t1=ye(function(t){return t.response}),no=((yc=function(t){var i;return i="string"==typeof t?{url:t}:t,new Wn(function(o){var a,c,l,p=xh({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},i),h=p.queryParams,g=p.body,v=p.headers,y=p.url;if(!y)throw new TypeError("url is required");if(h)if(y.includes("?")){var b=y.split("?");if(2<b.length)throw new TypeError("invalid url");l=new URLSearchParams(b[1]),new URLSearchParams(h).forEach(function(te,me){return l.set(me,te)}),y=b[0]+"?"+l}else y=y+"?"+(l=new URLSearchParams(h));var E={};if(v)for(var I in v)v.hasOwnProperty(I)&&(E[I.toLowerCase()]=v[I]);var w=p.crossDomain;w||"x-requested-with"in E||(E["x-requested-with"]="XMLHttpRequest");var A=p.xsrfCookieName,T=p.xsrfHeaderName;if((p.withCredentials||!w)&&A&&T){var M=null!==(c=null===(a=document?.cookie.match(new RegExp("(^|;\\s*)("+A+")=([^;]*)")))||void 0===a?void 0:a.pop())&&void 0!==c?c:"";M&&(E[T]=M)}var P,N=function(te,me){var Ne;if(!te||"string"==typeof te||typeof FormData<"u"&&te instanceof FormData||function(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(te)||function(De){return gI(De,"ArrayBuffer")}(te)||function(De){return gI(De,"File")}(te)||function(De){return gI(De,"Blob")}(te)||function(De){return typeof ReadableStream<"u"&&De instanceof ReadableStream}(te))return te;if(function(De){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(De)}(te))return te.buffer;if("object"==typeof te)return me["content-type"]=null!==(Ne=me["content-type"])&&void 0!==Ne?Ne:"application/json;charset=utf-8",JSON.stringify(te);throw new TypeError("Unknown body type")}(g,E),$=xh(xh({},p),{url:y,headers:E,body:N});P=i.createXHR?i.createXHR():new XMLHttpRequest;var V=i.progressSubscriber,L=i.includeDownloadProgress,Q=void 0!==L&&L,Y=i.includeUploadProgress,z=void 0!==Y&&Y,j=function(te,me){P.addEventListener(te,function(){var Ne,De=me();null===(Ne=V?.error)||void 0===Ne||Ne.call(V,De),o.error(De)})};j("timeout",function(){return new fR(P,$)}),j("abort",function(){return new Qg("aborted",P,$)});var O=function(te,me){return new hR(me,P,$,te+"_"+me.type)},k=function(te,me,Ne){te.addEventListener(me,function(De){o.next(O(Ne,De))})};z&&[pI,hI,fI].forEach(function(te){return k(P.upload,te,gR)}),V&&[pI,hI].forEach(function(te){return P.upload.addEventListener(te,function(me){var Ne;return null===(Ne=V?.next)||void 0===Ne?void 0:Ne.call(V,me)})}),Q&&[pI,hI].forEach(function(te){return k(P,te,mR)});var H=function(te){o.error(new Qg("ajax error"+(te?" "+te:""),P,$))};P.addEventListener("error",function(te){var me;null===(me=V?.error)||void 0===me||me.call(V,te),H()}),P.addEventListener(fI,function(te){var me,Ne,De=P.status;if(De<400){null===(me=V?.complete)||void 0===me||me.call(V);var Ue=void 0;try{Ue=O(mR,te)}catch(Be){return void o.error(Be)}o.next(Ue),o.complete()}else null===(Ne=V?.error)||void 0===Ne||Ne.call(V,te),H(De)});var U=$.user,K=$.method,re=$.async;for(var I in U?P.open(K,y,re,U,$.password):P.open(K,y,re),re&&(P.timeout=$.timeout,P.responseType=$.responseType),"withCredentials"in P&&(P.withCredentials=$.withCredentials),E)E.hasOwnProperty(I)&&P.setRequestHeader(I,E[I]);return N?P.send(N):P.send(),function(){P&&4!==P.readyState&&P.abort()}})}).get=function(t,i){return no({method:"GET",url:t,headers:i})},yc.post=function(t,i,o){return no({method:"POST",url:t,body:i,headers:o})},yc.delete=function(t,i){return no({method:"DELETE",url:t,headers:i})},yc.put=function(t,i,o){return no({method:"PUT",url:t,body:i,headers:o})},yc.patch=function(t,i,o){return no({method:"PATCH",url:t,body:i,headers:o})},yc.getJSON=function(t,i){return t1(no({method:"GET",url:t,headers:i}))},yc),gR="upload",mR="download",pI="loadstart",hI="progress",fI="load",vR=Object.prototype.toString;function gI(t,i){return vR.call(t)==="[object "+i+"]"}const n1=Ii.getInstance(),mI=t=>{const{meeting:{encryptedRWC:i,encryptedGEORWC:o,discardedRwcList:a,meetingOptions:c}}=t;let l=[];return c?.isEnableGeoFenceRWC&&o&&o?.length>0?l=o.filter(p=>!a.includes(p.rwc)).reduce((p,h)=>{const{dl:g,rwc:v,rwcToken:y}=h,b=p.find(E=>E.dl===g);if(b)b.items.push({rwc:v,rwcToken:y});else{const E={dl:g,items:[]};E.items.push({rwc:v,rwcToken:y}),p.push(E)}return p},[]):i&&(l=[{dl:0,items:Object.keys(i).map(p=>({rwc:p,rwcToken:i[p]}))}]),l},Jg=t=>qn(...t.map(i=>0===i.dl?ve(i.items):Rn(i.dl).pipe(se(()=>ve(i.items))))),FS=()=>Ho(Mt(Uu,1),Mt(Mn,1),Mt(So,1)),yR=(t,i)=>t.pipe(Me(`${Qd}`),Pe(i),ne(o=>{let[,a]=o;return void 0!==a.meeting.encryptedRWC||void 0!==a.meeting.encryptedGEORWC&&a.meeting.encryptedGEORWC.length>0}),it(o=>{let[,a]=o;const{meeting:{ts:c,auth:l,meetingNumber:p,meetingOptions:h,meetingId:g,userName:v},breakoutRoom:y}=a,b=h?.isEnableGeoFenceRWC,E=mI(a);if(E.length>0){const I={serversLength:E.reduce((_,A)=>_+A.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0,retryCounts:0};let w;return b&&(w=new el,Jg(E).subscribe(_=>{var A;return null===(A=w)||void 0===A?void 0:A.next(_)})),(b?w:Jg(E)).pipe(We(FS()),xd(()=>{const{meeting:{meetingStatus:_,meetingId:A}}=i.value,T=_===It.Initial&&!!A&&I.pingFailedServerList.length<I.serversLength&&I.serversLength>0;return!T&&w&&w.complete(),T}),Te(()=>{if(I.pingRwcServerCounts=I.pingRwcServerCounts+1,b&&I.pingRwcServerCounts===I.serversLength){const _=1e3*Math.floor(5*Math.pow(2,I.retryCounts));I.retryCounts=I.retryCounts+1,n1.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry,current rwc list:${JSON.stringify(mI(i.value))},retry counts:${I.retryCounts}, ${JSON.stringify({meetingId:g,meetingNumber:Wr(p),userName:Wr(v)})}`,["Ping RWC Retry"]),Rn(_).pipe(ye(()=>{const A=mI(i.value);return Object.assign(I,{serversLength:A.reduce((T,M)=>T+M.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0}),A})).subscribe(A=>{Jg(A).subscribe(T=>{w.next(T)})})}}),se(_=>{const{rwc:A,rwcToken:T}=_,M=((P,N,$,V,L,Q)=>{const Y={ts:V,auth:L,rwcToken:$,dmz:1};return Q&&Object.assign(Y,{confID:Q}),`https://${P}/wc/ping/${N}?${new URLSearchParams(Y).toString()}`})(A,p,T,c,l,y?.currentRoom.boConfId);return no({url:M,crossDomain:gi(M)}).pipe(We(FS()),se(P=>{let N={};return N=P.response?{...P.response,rwc:A,fromNginx:!1}:{rwc:A,rwg:A,rwcToken:T,fromNginx:!0},ve([CD(N),Sv()])}),jr(()=>{const{pingFailedServerList:P,serversLength:N}=I;return P.push(M),P.length===N?(b&&w&&w.complete(),n1.report(`ping rwc error, ${JSON.stringify({meetingId:g,meetingNumber:Wr(p),userName:Wr(v)})}`,["Join Meeting Flow","Ping RWC Error"],"error"),F(Mn,{reason:"connection error",errorCode:Hi.CommonError}),ve([...cc(i.value)])):Se}))}),ds(Nv(performance.now())))}return Se}));let SR=0;const r1=Ii.getInstance(),vI={meetingStatus:It.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",isAudioBridgeEnabled:!0,discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0,sequence:""},enableLongPollingCheckStart:!1,rsPwd:"",chatModerationPolicy:{}},o1=gr({[`${fo}`]:B((t,i)=>{let{payload:o}=i;o.customerKey=t.customerKey||o.customerKey||"",Object.assign(t,o),t.meetingStatus=It.Initial}),[`${vN}`]:B((t,i)=>{let{payload:o}=i;o.customerKey=t.customerKey||o.customerKey||"",Object.assign(t,o)}),[`${yN}`]:B((t,i)=>{let{payload:o}=i;t.isWindowOpen=o}),[`${xD}`]:B((t,i)=>{let{payload:o}=i;t.signatureType=o.useSDK?"sdk":"api",t.apiKey=o.apiKey,t.signature=o.signature,t.lang=o.language}),[`${SN}`]:B((t,i)=>{let{payload:o}=i;t.ztk=o}),[`${bN}`]:B((t,i)=>{let{payload:o}=i;t.zsk=o}),[`${EN}`]:B((t,i)=>{let{payload:o}=i;t.tk=o.tk,t.mtkGuid=o.mtkGuid}),[`${Nv}`]:B((t,i)=>{let{payload:o}=i;t.pingRWCTimestamp=o}),[`${St}`]:B((t,i)=>{let{payload:o}=i;t.meetingInfoTimestamp=o}),[`${Gi}`]:B((t,i)=>{let{payload:o}=i;t.confId=o.confID,t.conId=o.conID,t.e2eEncrypt=o.e2eEncrypt,t.meetingNumber=parseInt(o.mn,10),t.zoomId=o.zoomID,t.meetingStatus=It.Joined,t.jid=o.jid,t.xtoken=o.xtoken,t.groups=o.groups,t.svcUrl=o.svcUrl,t.encType=o.encType,t.userGUID=o.userGUID,t.userId=o.userID,t.role=o.role,t.participantID=o.participantID,t.reportDomain=o.reportDomain,t.abToken=o.ABtoken,t.supportLocalAB=!!o.supportLocalAB,o.enableWebTransport&&(t.enableWebtransport=o.enableWebTransport,t.webtransportPort=o.WebTransportPort)}),[`${gn}`]:B((t,i)=>{let{payload:o}=i;if(o.gatewayUser){var a;const{userId:l,sn:p}=o.gatewayUser,h=null===(a=t.gatewayUserList)||void 0===a?void 0:a.find(g=>g.userId===l);var c;h?h.sn=p:null===(c=t.gatewayUserList)||void 0===c||c.push(o.gatewayUser)}else Object.assign(t,o)}),[`${Ze}`]:B((t,i)=>{let{payload:o}=i;t.isHost=o}),[`${tr}`]:B((t,i)=>{let{payload:o}=i;t.isCoHost=o}),[`${go}`]:B((t,i)=>{let{payload:o}=i;t.isOnHold=o}),[`${Qr}`]:B((t,i)=>{let{payload:o}=i;t.isMeetingReset=o}),[`${zo}`]:B((t,i)=>{let{payload:o}=i;t.audioVideoBeforeOnHold=o}),[`${cl}`]:B((t,i)=>{let{payload:o}=i;t.currentUserAudioBeforeReset=o}),[`${mn}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserMutedBeforeReset=o}),[`${Tr}`]:B((t,i)=>{let{payload:o}=i;t.meetingStatus=o}),[`${zi}`]:B((t,i)=>{let{payload:o}=i;t.region=o.region,t.network=o.network}),[`${lt}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserStartVideoBeforeReset=o}),[`${Zd}`]:B((t,i)=>{let{payload:o}=i;t.joinMeetingTimeStamp=o}),[`${FD}`]:B((t,i)=>{let{payload:o}=i;t.activeAppInfo=o}),[`${Zs}`]:B((t,i)=>{let{payload:o}=i;t.idleStartTime=o}),[`${jn}`]:B((t,i)=>{let{payload:o}=i;t.sessionIdleTimeoutMins=o}),[`${Yd}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeEnabled=o}),[`${ll}`]:B((t,i)=>{var o,a;let{payload:c}=i;const l=null===(o=t.encryptedGEORWC)||void 0===o||null===(a=o.find(h=>h.rwc===c))||void 0===a?void 0:a.dc;if(l){var p;const h=null===(p=t.encryptedGEORWC)||void 0===p?void 0:p.filter(g=>g.dc===l);h&&t.discardedRwcList.some(g=>h?.findIndex(v=>v.rwc===g)>=0)&&t.discardedRwcList.push(...h.map(g=>g.rwc)),t.discardedRwcList.push(c)}}),[`${Ys}`]:B((t,i)=>{let{payload:o}=i;t.sharePronounType=o}),[`${Xd}`]:B((t,i)=>{let{payload:o}=i;t.stayAwake=o}),[`${QE}`]:B((t,i)=>{let{payload:o}=i;t.failover.joinMeetingSuccessTimestamp=o}),[`${ka}`]:B(t=>{Object.assign(t.failover,{...vI.failover,count:t.failover.count,joinMeetingSuccessTimestamp:t.failover.joinMeetingSuccessTimestamp})}),[`${dl}`]:B((t,i)=>{let{payload:o}=i;const{count:a,reason:c,interval:l,sequence:p}=o;t.failover.count=a,t.failover.reason=c,t.failover.interval=l,t.failover.isCurrentFailoverRecorded=!0,t.failover.sequence=p}),[`${xu}`]:B((t,i)=>{let{payload:o}=i;t.quicklyLeave=o}),[`${kv}`]:B((t,i)=>{let{payload:o}=i;t.isEnableZmkFromRWG=o}),[`${Ae}`]:(t,i)=>{let{payload:o}=i;const{isFailover:a}=o,c={isMeetingReset:!0,apiKey:t.apiKey,signatureType:t.signatureType,signature:t.signature,lang:t.lang,proxy:1,stayAwake:t.stayAwake};return a&&Object.assign(c,{currentUserAudioBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.audio:o.audio,isCurrentUserMutedBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.muted:o.muted,isCurrentUserStartVideoBeforeReset:t.audioVideoBeforeOnHold?t.audioVideoBeforeOnHold.video:o.video,meetingNumber:t.meetingNumber,userName:t.userName,passWord:t.passWord,userEmail:t.userEmail,sdkUrl:t.sdkUrl,sdkOrigin:t.sdkOrigin,cv:t.cv,zsk:t.zsk,ztk:t.ztk,idleStartTime:t.idleStartTime,sessionIdleTimeoutMins:t.sessionIdleTimeoutMins,customerKey:t.customerKey,failover:t.failover,stayAwake:t.stayAwake,quicklyLeave:t.quicklyLeave}),{...vI,...c}}},vI),c1=qr({meetingMainEpics0:(t,i)=>be(t,0).pipe(Te(o=>{var a;if("READY"===(null===(a=o.payload.body)||void 0===a?void 0:a.status)){const{meeting:{zlkJwtToken:c,signatureType:l,sign:p,passWord:h,isHost:g,isOriginHost:v,ztk:y,zsk:b,tk:E,userEmail:I},breakoutRoom:w}=i.value,_=c?{zlkJwtToken:c}:{signType:l,sign:p};if(h&&""!==h&&(c?Object.assign(_,{mpwd:On(h)}):g&&v||Object.assign(_,{mpwd:h})),w?.currentRoom.status===je.Joining){const{currentRoom:{boId:T,boConfId:M,boToken:P}}=w;T&&M&&P&&Object.assign(_,{botk:P})}if(!c){y&&Object.assign(_,{zak:y}),(sessionStorage.getItem(Rt.WebclientZsk)||b)&&Object.assign(_,{zak:b}),E&&Object.assign(_,{tk:E});const T=rt.get(Rt.WebclientWebinarToken);void 0!==T&&Object.assign(_,{tk:T});const M=sessionStorage.getItem(Rt.WebclientRecordingToken);M&&Object.assign(_,{localRecordToken:M}),I&&Object.assign(_,{email:I})}ss.sendLaunchParams(_);const A=rt.get(Rt.WebclientMeetingToken);A&&ss.joinMeeting(A)}}),ze(Se)),meetingMainEpics1:(t,i)=>{return be(t,4098).pipe(Pe(i),(o=a=>{let[c,l]=a;const{payload:{body:{res:p,userID:h,zoomID:g,mn:v,participantID:y,meetingtoken:b,role:E}}}=c,{meeting:{userEmail:I,userName:w,isMeetingReset:_,apiKey:A,zsk:T,signatureType:M}}=l;if(ho.Success===p){const{WebclientParticipantId:N,WebclientZoomId:$,WebclientUserEmail:V,WebclientUserName:L,WebclientMeetingToken:Q}=Rt;rt.set($,g,Tt.SessionStorage),rt.set(N,y,Tt.SessionStorage),I&&rt.set(V,I,Tt.SessionStorage),rt.set(L,w,Tt.SessionStorage),b&&rt.set(Q,b,Tt.SessionStorage),T&&ss.sendSdkKeyToMonitor(M,A,h);const Y=[Gi(c.payload.body),Zd(performance.now())];return _&&Y.push(Qr(!1)),(E&Ko.Owner)===Ko.Owner&&(F(Mn,{reason:"dont support assisnt join through widget",errorCode:-1}),ss.leaveMeeting()),F(zD,{meetingNumber:v}),ve(Y)}if(ho.MeetingLocked===p)F(Mn,Js(p));else if(ho.UserFull===p)F(Mn,Object.assign({},Js(p),{lmUrl:c.payload.body.lmURL}));else if(ho.MeetingIsOver===p)F(Mn,Js(p));else if(ho.MMRIBReject===p)F(Mn,Js(p));else if(ho.MMRConfParticipantExists===p)F(Mn,Js(p));else if([ho.UserHasBeenRemoved,ho.WebinarBlockedEmail].includes(p))F(Mn,Js(p));else if(ho.MeetingNotStarted===p){var P;const N=Js(p),{meeting:{meetingNumber:$,passWord:V,userName:L,userEmail:Q,inviteEmail:Y,meetingTopic:z,region:j,network:O,userId:k,lang:H,meetingId:U,participantID:K,wrInfo:re,meetingInfo:te,isNewJoinFlow:me,enableLongPollingCheckStart:Ne,tid:De,signature:Ue,rsPwd:Be}}=l;Object.assign(N,{meetingInfo:{meetingNumber:$,password:V,userName:L,userEmail:Q,inviteEmail:Y,meetingTopic:z,region:j,network:O,userId:k,lang:H,webEndpoint:ws(),meetingId:U,participantId:K,wrInfo:Object.assign({},re,{isNew:me}),scheduleInfo:te,enableLongPollingCheckStart:Ne,rid:dc(De),role:Number(null===(P=Qs(Ue))||void 0===P?void 0:P.role),rsPwd:Be}}),F(Mn,N)}else F(Mn,Js(p));return ve(cc(l,!1))},Xc(it((a,c)=>o(a)||Se))));var o},meetingMainEpics2:(t,i)=>be(t,mi).pipe(Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:l}}=a,{meeting:{zoomId:p,encType:h,gcmSessinKey:g}}=c;if(void 0!==l?.encryptKey&&Oo.init(p,l.encryptKey,h),void 0!==l?.gatewayKey){const v=Ye.getInstance(),[,y,b]=l.gatewayKey.split(".");v.sendUserNodeList([{userid:Number(y),sn:b&&Bi(b)}],g)}return F(n0,l),gn(l)})),meetingMainEpics3:(t,i)=>be(t,7939).pipe(Pe(i),se(o=>{let[a,c]=o;const{payload:{body:l}}=a;if(void 0!==l.reason){if(Na.Reconnect===l.reason)return F(So,gN.WaitingRoomFailover===l.subReason?{reason:nr.OnHold}:{reason:nr.Failover}),Vt(er(zt.NormalCase));Na.KickedByHost===l.reason?F(Uu,{reason:"kicked by host"}):[Na.EndByHost,Na.EndByNone,Na.EndByAdmin,Na.EndByHostStartAnotherMeeting].includes(l.reason)?F(Uu,{reason:"ended by host"}):Na.FreeMeetingTimeout===l.reason?F(Uu,{reason:"free meeting ended"}):[Na.DuplicateSession,Na.MeetingTransfer].includes(l.reason)&&F(Uu,{reason:"duplicated session"})}return c.meeting.isMeetingReset?Se:ve(cc(c,!1))})),meetingMainEpics4:(t,i)=>t.pipe(Me(`${er}`),Pe(i),se(o=>{let[,a]=o;const c=cc(a,!0);let l;if(a.meeting.zlkJwtToken){const p=function(g){if(g){const{meeting:{topic:v,passWord:y,userName:b,zlkJwtToken:E,lang:I,cv:w,customerKey:_}}=g;return{topic:v,passWord:y,userName:b,zlkJwtToken:E,lang:I,cv:w,customerKey:_}}return null}(a),h={topic:p?.topic,password:null!=p&&p.passWord?encodeURIComponent(p?.passWord):"",userName:p?.userName,zlk:p?.zlkJwtToken,lang:p?.lang,cv:p?.cv,customerKey:p?.customerKey};l=Vt(ul(h)).pipe(Gh(1e3))}else{const p=function(h){var g;const{meeting:{apiKey:v,signature:y,signatureType:b,meetingNumber:E,userName:I,lang:w,passWord:_,userEmail:A,sdkUrl:T,sdkOrigin:M,proxy:P,cv:N,ztk:$,zsk:V,tk:L}}=h;let Q=$||sessionStorage.getItem(Rt.WebclientZtk),Y=V||sessionStorage.getItem(Rt.WebclientZsk);const z=1===Number(null===(g=Qs(y))||void 0===g?void 0:g.role);return z||(Q=Y,Y=""),{apiKey:v,signature:y,signatureType:b,meetingNumber:E,userName:I,lang:w,passWord:_?encodeURIComponent(_):"",userEmail:A,sdkUrl:T,sdkOrigin:M,proxy:P,cv:N,ztk:Q,zsk:Y,tk:L||sessionStorage.getItem(Rt.WebclientTk),ulsm:z&&Y?1:0}}(a);l=Vt($i(p)).pipe(Gh(1e3))}return $h(ve(c),l)})),meetingMainEpics5:t=>ur(t,7940).pipe(Te(i=>{F("MEETING_HOST_CHANGE_INDICATION",i.payload.body.bHost)}),ye(i=>Ze(i.payload.body))),meetingMainEpics6:t=>ur(t,7941).pipe(Te(i=>{F("MEETING_COHOST_CHANGE_INDICATION",i.payload.body.bCoHost)}),ye(i=>tr(i.payload.body))),meetingMainEpics7:t=>ur(t,7945).pipe(Te(i=>{const{payload:{body:{opt:o}}}=i;rt.set(Rt.WebclientOpt,o,Tt.SessionStorage)}),ze(Se)),meetingMainEpics8:(t,i)=>be(t,7942).pipe(Te(o=>{const{payload:{body:{bHold:a}}}=o;rt.set(Rt.WebclientIsOnHold,a?1:0,Tt.SessionStorage),F(Bu,a)}),Pe(i),se(o=>{let[a,c]=o;const l=[go(a.payload.body.bHold)];if(a.payload.body.bHold){const p=Fe(c);if(p){l.push(zo({audio:p.audio,video:p.bVideoOn,muted:p.muted}));const h=_o(Ye.getInstance());if("computer"===p.audio&&(h.leaveComputerAudio(),ss.joinOrLeaveVoip(!1)),p.bVideoOn&&h.stopCaptureVideo(),p.sharerOn&&(ss.stopSharing(p.userId),h.stopDesktopSharing(),l.push(Ci(_t.End))),c.video&&c.video.subscribedVideoList.length>0&&c.video.subscribedVideoList.forEach(g=>{ss.unsubscribeVideo(g)}),c.share&&c.share.isReceiveSharing){const g=c.share.activeNodeId;c.share.remoteControlledUserList.length>0&&(c.share.remoteControlledUserList.forEach(v=>{ss.sharingRequestRemoteControl(v,!1)}),ql(c)&&h.stopRemoteControl()),ss.unsubscribeSharing(g),h.stopRenderSharing()}}}return ve(l)})),meetingMainEpics9:t=>be(t,7954).pipe(ye(i=>zi(i.payload.body))),meetingMainEpics10:t=>be(t,4216).pipe(Te(i=>{F("MEETING_CLAIM_HOST_KEY_RESPONSE",i.payload.body.bresult)}),ze(Se)),meetingMainEpics11:(t,i)=>t.pipe(Me(`${Jd}`,`${Vn}`),Pe(i),se(o=>{let[a,c]=o;const l=LA(c),{socket:{zoomSocketStatus:p},meeting:{meetingId:h}}=c;return p===Wt.Connected&&(a.type===`${Jd}`?ss.leaveMeeting(l):a.type===`${Vn}`&&ss.endMeeting()),h&&F(Uu,{}),ve(cc(c,!1))})),meetingMainEpics12:(t,i)=>t.pipe(Me(`${qE}`),Pe(i),se(o=>{let[a,c]=o;if(a.type===`${qE}`&&c.meeting.meetingNumber&&!c.meeting.zlkJwtToken){const l={mn:c.meeting.meetingNumber.toString(),name:c.meeting.userName,customerKey:c.meeting.customerKey?On(c.meeting.customerKey):""},{jbhLeave:p}={jbhLeave:`https://${wg}/wc/jbhLeave`},h=`${p}/?${new URLSearchParams(l).toString()}`;fetch(h,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return Se})),meetingMainEpics13:t=>be(t,2).pipe(Te(()=>{console.warn("Upgrade to latest version to optimize meeting experience")}),ze(Se)),meetingMainEpics14:t=>be(t,1).pipe(Te(i=>{const{payload:{body:{upgradeVersion:o}}}=i,a=Js(1e4);if(a&&a.reason){const c=a.reason.replace(/{(\d+)}/g,()=>o);a.reason=c}F(Mn,a)}),ze(Se)),meetingMainEpics15:t=>be(t,4265).pipe(ye(i=>{const{payload:{body:o}}=i,{nShareType:a}=o;return F(WD,{userSharePronounType:a}),Ys(a)})),meetingMainEpics16:t=>be(t,4128).pipe(Te(i=>{const{payload:{body:{meetingtoken:o}}}=i,{WebclientMeetingToken:a}=Rt;o&&rt.set(a,o,Tt.SessionStorage)}),ze(Se)),meetingMainEpics17:(t,i)=>t.pipe(Me(`${Gi}`),ne(()=>!!i.value.meeting.quicklyLeave),it(()=>dn(window,"beforeunload").pipe(Te(()=>{ss.leaveMeeting()}),ze(Se)))),meetingMainEpics18:(t,i)=>be(t,8025).pipe(ne(o=>!!o.payload.body.Zmk&&!!i.value.meeting.isEnableZmkFromRWG),ye(o=>{const{payload:{body:{Zmk:a}}}=o;return gn({zmk:a})}))},{wakeLockEpic0:(t,i)=>t.pipe(Me(`${Gi}`),Pe(i),ne(o=>{let[,a]=o;return!!a.meeting.stayAwake}),Te(Oe(function*(){try{const{isSafari:o,isIOSMobile:a}=Re;to&&to.release().then(()=>{to=null}),"wakeLock"in navigator&&((o||a)&&(yield ar(Ho(dn(document,"click").pipe(bt(1)),dn(document,"touchend").pipe(bt(1))))),to=yield navigator.wakeLock.request("screen"),to.addEventListener("release",()=>{}))}catch{}})),it(()=>dn(document,"visibilitychange").pipe(se(Oe(function*(){if("visible"===document.visibilityState){const{isSafari:o,isIOSMobile:a}=Re;to&&to.release().then(()=>{to=null}),"wakeLock"in navigator&&((o||a)&&(yield ar(Ho(dn(document,"click").pipe(bt(1)),dn(document,"touchend").pipe(bt(1))))),to=yield navigator.wakeLock.request("screen"))}else to&&to.release().then(()=>{to=null})})),ze(Se)))),wakeLockEpic1:t=>t.pipe(Me(`${ps}`)).pipe(Te(()=>{to&&to.release().then(()=>{to=null})}),ze(Se))},{meetingFailoverReportEpic0:(t,i)=>t.pipe(Me(`${fo}`),it(()=>{const o=0===i.value.meeting.failover.joinMeetingSuccessTimestamp&&!!rt.get(Rt.WebclientZoomId);return t.pipe(Me(`${Gi}`),bt(1),se(()=>{const a=[],{count:c,sequence:l}=rt.get(Rt.WebclientFailoverCount)||{};let{meeting:{failover:{count:p,reason:h,interval:g}}}=i.value;const{meeting:{pingRWCTimestamp:v}}=i.value;if(o){p=c+1,h=zt.RefreshPage,g=0;const E=l?`${l}-${h}`:`${h}`;rt.set(Rt.WebclientFailoverCount,{count:p,sequence:E},Tt.SessionStorage),a.push(dl({count:p,reason:h,interval:g,sequence:E}))}const y=performance.now();let b=`WCL_M, JMCT(${y-v})`;return p>0&&h!==zt.NormalCase&&(b=`${b},FAILOVER(${p},${h},${(g/1e3).toFixed(1)})`),Jp.sendRWGConnectionPerformance(b),a.push(ka(),QE(y)),ve(a)}))})),meetingFailoverReportEpic1:(t,i)=>t.pipe(Me(`${er}`),se(o=>{const{payload:a}=o,{meeting:{failover:{joinMeetingSuccessTimestamp:c,isCurrentFailoverRecorded:l},userGUID:p,userId:h}}=i.value,g=[];if(!l){let{count:v,sequence:y}=rt.get(Rt.WebclientFailoverCount)||{};y=y?`${y}-${a}`:`${a}`,a!==zt.NormalCase&&(v+=1,rt.set(Rt.WebclientFailoverCount,{count:v,sequence:y},Tt.SessionStorage));const b=performance.now()-c;g.push(dl({reason:a,count:v,interval:b,sequence:y,userGUID:p,userId:h}))}return ve(g)}))},{sessionIdleEpic0:(t,i)=>t.pipe(Me(`${Gi}`),Pe(i),ne(o=>{let[,a]=o;return void 0!==a.meeting.zlkJwtToken}),it(()=>(vc&&vc.complete(),vc=new Tn,dI=ot(6e4).pipe(ye(()=>performance.now())).subscribe(vc),vc.pipe(ye(o=>KE(o)))))),sessionIdleEpic1:t=>t.pipe(Me(`${ps}`)).pipe(Te(()=>{vc&&(vc.complete(),dI.unsubscribe())}),ze(Se)),sessionIdleEpic2:(t,i)=>t.pipe(Me(`${KE}`),Pe(i),se(o=>{var a;let[c,l]=o;const{meeting:{idleStartTime:p,sessionIdleTimeoutMins:h,isOriginHost:g,isWebinar:v},participants:{attendeesList:y,xmppAttendeeList:b},recording:E,breakoutRoom:I}=l,w=c.payload,_=[];if(1!==y.length||v&&0!==b.length||(null==I||null===(a=I.currentRoom)||void 0===a?void 0:a.status)===je.InRoom||E?.cmrStatus===yr.Start)_.push(Zs(void 0));else if(p){const A=g&&Ey(y[0].userRole)?h:40;w-p>60*A*1e3&&(console.warn(`No active for ${A} minutes, will end the session.`),Qp.report(`Session idle timeout(${A} minutes), end the session automatically!`,["Join Meeting Flow","Session idle"],"warn"),_.push(Vn()),Rn(500).subscribe(()=>{gp()}))}else _.push(Zs(w));return ve(_)})),sessionIdleEpic3:(t,i)=>t.pipe(Me(`${Pu}`),ne(o=>[vn,mi].includes(o.payload.evt)&&void 0!==i.value.meeting.idleStartTime),$t(Ui),se(()=>{var o;const{participants:{attendeesList:a,xmppAttendeeList:c},recording:l,breakoutRoom:p}=i.value,h=[];return(a.length>1||c.length>0||l?.cmrStatus===yr.Start||(null==p||null===(o=p.currentRoom)||void 0===o?void 0:o.status)===je.InRoom)&&h.push(Zs(void 0)),ve(h)})),sessionIdleEpic4:t=>t.pipe(Me(`${Jd}`,`${Vn}`),hi(Zs(void 0)))},{meetingInfoEpic:(t,i)=>t.pipe(Me(`${ul}`),it(o=>{const a=Object.assign({},o.payload,{password:On(o.payload.password),topic:On(o.payload.topic)}),{videoSDKUrl:c}={meetingSDKUrl:`https://${wg}/api/v1/wc/info`,videoSDKUrl:`https://${wg}/wc/lsdk`};return function(l,p){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"zoomsdkjsonpcallback";return new Wn(g=>{SR++;const v=`${h}${SR}`,y=document.createElement("script");Object.keys(p).forEach(b=>null==p[b]&&delete p[b]),y.src=`${l}?${new URLSearchParams(Object.assign(p,{callback:v})).toString()}`,y.async=!0,y.onerror=b=>g.error(b),document.getElementsByTagName("head")[0].appendChild(y),window[v]=b=>{y.parentNode&&y.parentNode.removeChild(y),delete window[v],g.next(b),g.complete()}})}(c,a).pipe(We(t.pipe(Me(`${Jd}`),bt(1))),jr(l=>Vt({status:!1,result:l.toString(),errorCode:-3e3})),se(l=>{const[p,h]=(g=Vt(l),[ne(v=b=>!0===b.status&&void 0!==b.result,y)(un(g)),ne(RF(v,y))(un(g))]);var g,v,y;return h.subscribe(b=>{r1.report(`get meeting info error, ${JSON.stringify(b)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),b.state||(3e3===b.errorCode&&"Meeting password is incorrect"===b.errorMessage?F(Mn,{errorCode:Hi.WrongPasscode,reason:"Incorrect passcode."}):3e3===b.errorCode&&"The role type error"===b.errorMessage?F(Mn,{errorCode:Hi.RoleTypeMissing,reason:"Role type error"}):-3e3===b.errorCode?F(Mn,{errorCode:Hi.CommonError,reason:"connection error"}):3e3===b.errorCode?F(Mn,{reason:b.errorMessage,errorCode:Hi.CommonError}):300===b.errorCode?F(Mn,{reason:"This account does not exist or does not belong to you",errorCode:Hi.CommonError}):124===b.errorCode&&"Parse lite sdk topic and pwd fail"===b.errorMessage?F(Mn,{reason:"Topic is invalid",errorCode:Hi.CommonError}):124===b.errorCode&&"The java web token is expired or more than 2 days or ineffective."===b.errorMessage?F(Mn,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:Hi.CommonError}):124===b.errorCode&&F(Mn,{reason:"Verify JWT failed",errorCode:Hi.CommonError}))}),p.pipe(FC(b=>{if(!0===b.status){const{result:{mid:I,websdkClientFeatureOptions:w,showRecommendVersion:_}}=b;rt.init(I);const A=((N,$)=>{if(N.result){const{result:{mn:V,ts:L,auth:Q,track_auth:Y,mid:z,tid:j,encryptedRWC:O,encryptedGEORWC:k,user_identity:H,meetingOptions:U,can_recording:K,wcXMPPConfig:re,call_out_country_json:te,isOriginalHost:me,support_call_out:Ne,liveTranscription:De,logConfig:Ue,logEncryptionPubKey:Be,toll_numbers_json:ke,h323Password:xe,liveStreamInfo:tt,rc_auto_delete:Nt,jwt_rc:mt,op_rc:X,mediaSDKVersion:Z,mediaSDKPathPrefix:W,zmk:ae,fileTransfer:Ce,fileServerDomain:Le,accountId:He}}=N,{lang:nt,password:st,topic:vt,zlk:ct,cv:pt,userName:Xt}=$;return{meetingNumber:V,meetingId:z,tid:j,ts:L,auth:Q,passWord:st,trackAuth:Y,customerKey:H,encryptedRWC:JSON.parse(O||"{}"),encryptedGEORWC:JSON.parse(k||"{}"),meetingOptions:JSON.parse(U||"{}"),recordingEnable:"1"===K,topic:vt,userName:rt.get(Rt.WebclientUserName)||Xt,cv:pt,zlkJwtToken:ct,xmppConfig:JSON.parse(re||"{}"),callOutCountry:JSON.parse(te||"{}"),lang:nt,isOriginHost:me,isSupportCallOut:"1"===Ne,liveTranscription:JSON.parse(De||"{}"),logConfig:Ue,logEncryptionPubKey:Be,tollNumbers:void 0===ke?void 0:JSON.parse(ke),h323Password:xe,liveStreamInfo:JSON.parse(tt||"{}"),rcAutoDelete:Nt,jwtRc:mt,opRc:X,mediaSDKPath:Z&&W?`${WE(W)}/${Z}`:void 0,zmk:ae,fileTransfer:JSON.parse(Ce||"{}"),fileServerDomain:Le,accountId:He}}return N})(b,o.payload);_&&console.log("Update VideoSDK-Web to the latest version to optimize meeting experience","https://developers.zoom.us/docs/video-sdk/web/");const T=[Vt(fo(A)),il(yR,i,Qd())],M=((N,$)=>{const V=[];if(N){const L=N.split("").reverse();Object.keys(qi).filter(Q=>/M:\d+(,\d+)*;V:\d+(,\d+)*/.test(qi[Q])).forEach(Q=>{const Y=qi[Q];let[z,j]=Y.split(";");z.startsWith("V:")&&([z,j]=[j,z]);const O=j.slice(2).split(",").map(U=>L[Number(U)-1]).reverse().join(""),k=parseInt(O,16),H=xC[Y];H&&(Array.isArray(H)?H:[H]).forEach(U=>{V.push(Vt(U.action(U.mask?(k&U.mask)>0:k)))})})}return V})(w);M.length>0&&T.unshift(...M);const P=((N,$)=>{const V=[];if(N){const Q=N.split("").reverse(),Y=[];vo.forEach(z=>{var j;const[O,k]=z.split("-"),H=Number(k)-1;Y.length<H&&(Y.length=H+1),Y[H]=null!==(j=Q[Number(O)-1])&&void 0!==j?j:"0"});for(let z=0;z<Y.length;z++){var L;Y[z]=null!==(L=Y[z])&&void 0!==L?L:"0"}V.push(Vt(hs(Y.reverse().join(""))))}return V})(w);return P.length>0&&T.unshift(...P),$h(...T)}}))}),ds(St(performance.now())))})),pingRWCEpic:yR});var bR={exports:{}};bR.exports=function(){function t(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)i[c]=a[c]}return i}return function i(o,a){function c(l,p,h){if(typeof document<"u"){"number"==typeof(h=t({},a,h)).expires&&(h.expires=new Date(Date.now()+864e5*h.expires)),h.expires&&(h.expires=h.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var g="";for(var v in h)h[v]&&(g+="; "+v,!0!==h[v]&&(g+="="+h[v].split(";")[0]));return document.cookie=l+"="+o.write(p,l)+g}}return Object.create({set:c,get:function(l){if(typeof document<"u"&&(!arguments.length||l)){for(var p=document.cookie?document.cookie.split("; "):[],h={},g=0;g<p.length;g++){var v=p[g].split("="),y=v.slice(1).join("=");try{var b=decodeURIComponent(v[0]);if(h[b]=o.read(y,b),l===b)break}catch{}}return l?h[l]:h}},remove:function(l,p){c(l,"",t({},p,{expires:-1}))},withAttributes:function(l){return i(this.converter,t({},this.attributes,l))},withConverter:function(l){return i(t({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(o)}})}({read:function(i){return'"'===i[0]&&(i=i.slice(1,-1)),i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(i){return encodeURIComponent(i).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}();var l1=bR.exports;const{WebclientIsOnHold:d1,WebclientOpt:p1,WebclientParticipantId:h1,WebclientZoomId:f1,WebclientMeetingToken:g1}=Rt,{WebclientDeviceId:yI}=lf;function SI(t){let{retryCount:i,rwgServerList:o,userName:a,auth:c,trackAuth:l,meetingId:p,customerKey:h,tid:g,lang:v,ts:y,bid:b,botk:E,confID:I,zlkJwtToken:w,isAudioBridgeEnabled:_,isMeetingReset:A,cameraDevicesList:T,isFullHDVideoEnabled:M,isFullHDVideoShareEnabled:P}=t;const N=l1.get("_zm_mtk_guid");let $=rt.get(yI);if($||($=Rg(),rt.set(yI,$,Tt.LocalStorage)),o.length>i){var V;const L=o[i],Q={dn2:On(a),auth:c,browser:`${Re.browser}${Re.browserVersion} ${null!==(V=window)&&void 0!==V&&V.crossOriginIsolated?"SAB":""}`,trackAuth:l,mid:p,tid:g,lang:v,ts:y,"ZM-CID":$,_ZM_MTG_TRACK_ID:N||"",customer_key:On(h),cfs:0,islch:1};if(w)try{const{vendor:O}=Qs(w);O&&Object.assign(Q,{vendor:O})}catch(O){console.log(O)}L.rwcAuth?Object.assign(Q,{rwcAuth:L.rwcAuth}):L.rwcToken&&Object.assign(Q,{rwcToken:L.rwcToken});const Y=IN()?1:Re.isIE||Re.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(Q,{as_type:Y}),[{key:p1,queryKey:"opt"},{key:h1,queryKey:"participantID"},{key:f1,queryKey:"zoomid"}].forEach(O=>{const k=rt.get(O.key);void 0!==k&&(Q[O.queryKey]=k)});const z=b&&E&&I;return z&&Object.assign(Q,{bid:On(b),confID:I}),rt.get(g1)&&Object.assign(Q,{isdj:1}),mr()&&(Object.assign(Q,{from:Re.isAndroidBrowser?"android":"ios"}),_&&Object.assign(Q,{useABAudio:1})),Object.assign(Q,{clientCaps:Sc({isAudioBridgeEnabled:_&&mr(),isBO:z,isFullHDVideoEnabled:M,isFullHDVideoShareEnabled:P})}),Object.assign(Q,{isCamera:A?T.length>0?1:0:1}),Object.assign(Q,{clientOS:Re.isAndroidOrIOSBrowser?Re.isIOSMobile?"ios":"android":Re.isMacOS?"mac":"win"}),Object.assign(Q,{audioFeature:Ye.getAudioFeatureFlag()}),{queryObject:{...Q},rwgServer:L}}return null}function Sc(t){const{isAudioBridgeEnabled:i,isBO:o,isFullHDVideoEnabled:a,isFullHDVideoShareEnabled:c}=t;let l=Qo.WebCameraIndication|Qo.SendMeetingTokenSeparately|Qo.SmartSummary|Qo.LocalRecording|Qo.LocalRecordingGrantPermission|Qo.UnifyErrorType;const p=Ye.getPTZCapability();return(p.pan||p.tilt||p.zoom)&&(l|=Qo.SupportFarEndCameraControl),Ye.isSupportVideoShare()&&(l|=Qo.SupportVideoShare),i&&Ye.isSupportAudioBridgeAVSync()&&(l|=Qo.WebrtcAudioRtcpTime),Ye.isSupportShareMultiStream()&&(l|=Qo.ShareMultiStream),Ye.isSupportVideoLTR()&&(l|=Qo.VideoLTR),o||(l|=Qo.RequestRemoteControl),a&&Ye.isSupportFullHDVideo()&&(l|=Qo.SupportSend1080PVideo),c&&Ye.isSupportFullHDVideoShare()&&(l|=Qo.SupportSend1080PVideoShare),l}function Zp(t,i){return i?Xc(Gh(i),ne(()=>{const{socket:{zoomSocketStatus:o},meeting:{meetingStatus:a,isMeetingReset:c}}=t.value;return o!==Wt.Closed&&a===It.Joined&&!c})):Xc(ne(()=>{const{socket:{zoomSocketStatus:o},meeting:{meetingStatus:a,isMeetingReset:c}}=t.value;return o!==Wt.Closed&&a===It.Joined&&!c}))}const Xl=Ot.createAgent();let VS;const bc=Kp.getInstance();let Zg;const fa=DN.getInstance();let Yp;const ed={zoomSocketStatus:Wt.Closed,xmppSocketStatus:Wt.Closed,mainSessionSocketStatus:Wt.Closed,retryCount:0,rwgServerList:[]},ER=gr({[`${$d}`]:B((t,i)=>{let{payload:o}=i;t.zoomSocketStatus=o.status}),[`${CD}`]:B((t,i)=>{let{payload:o}=i;const{rwgServerList:a}=t;a.find(c=>c.rwg===o.rwg)||a.push(o)}),[`${ID}`]:B((t,i)=>{let{payload:o}=i;t.retryCount=o}),[`${nl}`]:B((t,i)=>{let{payload:o}=i;t.xmppSocketStatus=o}),[`${bv}`]:B((t,i)=>{let{payload:o}=i;t.mainSessionSocketStatus=o}),[`${ef}`]:()=>ed},ed),bI=qr({epics0:(t,i)=>t.pipe(Me(`${Sv}`),Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Closed&&!!a.meeting.meetingId}),it(o=>{let[,a]=o;const{media:{patchedMediaSDKStatus:c}}=a;return(c===ap.Loading?Mt(F0,1):ve([0])).pipe(it(()=>{const{socket:{retryCount:l,rwgServerList:p},meeting:h,breakoutRoom:g,video:v,share:y}=i.value;let b;const E={...h,retryCount:l,rwgServerList:p};if(v){const{cameraDevicesList:w,isFullHDVideoEnabled:_}=v;Object.assign(E,{cameraDevicesList:w,isFullHDVideoEnabled:_})}if(y){const{isFullHDVideoShareEnabled:w}=y;Object.assign(E,{isFullHDVideoShareEnabled:w})}if(g&&g.currentRoom.status===je.Joining){const{currentRoom:{boId:w,boConfId:_,boToken:A}}=g;Object.assign(E,{bid:w,botk:A,confID:_})}if(b=h.zlkJwtToken?function(w){const _=SI(w);if(_){const{queryObject:A,rwgServer:T}=_,{topic:M,cv:P,meetingNumber:N}=w;return Object.assign(A,{topic:On(M),iccv:P}),`wss://${T.rwg}/instantsdk/${N}?${new URLSearchParams(A).toString()}`}return null}(E):function(w){const _=SI(w);if(_){const{queryObject:A,rwgServer:T}=_,{cv:M,meetingNumber:P}=w;return Object.assign(A,{jscv:M,browser:A.browser+" ComponentView"}),[{key:d1,queryKey:"cfs"}].forEach(N=>{const $=rt.get(N.key);void 0!==$&&(A[N.queryKey]=$)}),`wss://${T.rwg}/wc/api/${P}?${new URLSearchParams(A).toString()}`}return null}(E),b){const w=(Xl.connect(b),VS=new Tn,Ru(_=>Xl.on(pn.Message,_),_=>Xl.off(pn.Message,_),_=>_.data).subscribe(VS),VS);return qn(w.pipe(ne(_=>"string"==typeof _),ye(_=>{try{return JSON.parse(_)}catch(A){return console.error(A),{evt:0}}}),yS(),ua(_=>{if(0!==_.evt||!_.body||"invalid parameters!"!==_.body.test)return Pu(_);F(Mn,{errorCode:Hi.InvalidParameter,reason:"Invalid parameter"})}),ds($d({status:Wt.Connecting,rwgUrl:b}))),w.pipe(ne(_=>_ instanceof ArrayBuffer),ye(_=>_e(_))))}return Se}))})),epics1:(t,i)=>t.pipe(Me(`${Sv}`),Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Closed&&!!a.meeting.meetingId}),it(()=>{const[o,a,c,l]=[pn.Open,pn.Close,pn.Error,pn.Inactive].map(p=>Ru(h=>Xl.on(p,h),h=>Xl.on(p,h)));return qn(o.pipe(se(()=>qn(Vt($d({status:Wt.Connected})),Rn(6e4).pipe(Pe(i),ne(p=>{let[,h]=p;return h.meeting.meetingStatus===It.Initial&&!h.meeting.isMeetingReset}),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NoHeartbeat))))))),a.pipe(Zp(i),ye(()=>(F(So,{reason:nr.Failover}),er(zt.Disconnect)))),l.pipe(Zp(i),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NoHeartbeat)))),c.pipe(Pe(i),se(p=>{let[,h]=p;const{meeting:{meetingStatus:g,isMeetingReset:v},socket:{rwgServerList:y,retryCount:b}}=h,E=[];if(g===It.Initial&&null!=y&&y.length){const I=y[b];return Rn(5e3).pipe(ne(()=>i.value.meeting.meetingStatus===It.Initial),se(()=>{const{socket:{rwgServerList:w,retryCount:_}}=i.value,A=[];return w.length>_+1?A.push(ID(_+1),ps({retry:!0})):(F(Mn,{reason:"connection error",errorCode:Hi.CommonError}),A.push(...cc(i.value))),ve(A)}),ds(ll(I?.rwc)))}return v||g!==It.Joined||(F(So,{reason:nr.Failover}),E.push(er(zt.OnError))),ve(E)})))})),epics2:(t,i)=>t.pipe(Me(`${ps}`),it(o=>o.payload&&o.payload.retry?Vt(Sv()).pipe(Gh(1e3),ds($d({status:Wt.Closed}))):Vt($d({status:Wt.Closed}))),Gh(100),Te(()=>{var o;i.value.socket.zoomSocketStatus===Wt.Closed&&(Xl.close(),null===(o=VS)||void 0===o||o.complete())}))},{xmppEpics0:(t,i)=>t.pipe(Me(`${Gi}`),se(()=>{const{meeting:{meetingOptions:o,zlkJwtToken:a,isWebinar:c}}=i.value,l=[];return(o.isPollingEnabled||a||c)&&l.push(qs()),ve(l)})),xmppEpics1:(t,i)=>t.pipe(Me(`${qs}`),Pe(i),ne(o=>{let[,a]=o;return"closed"===a.socket.xmppSocketStatus}),it(o=>{let[,a]=o;const{meeting:{svcUrl:c,meetingNumber:l,conId:p}}=a;return(g=`wss://${c}/wc/media/${l}?type=x&cid=${p}`,bc.connect(g),Zg=new Tn,Ru(v=>bc.on(Rs.Message,v),v=>bc.off(Rs.Message,v)).subscribe(Zg),Zg).pipe(ne(g=>void 0!==g?.evt),ye(g=>Yh(g)),ds(nl(Wt.Connecting)));var g})),xmppEpics2:(t,i)=>t.pipe(Me(`${qs}`),it(()=>{const[o,a,c]=[Rs.Open,Rs.Close,Rs.Error].map(l=>Ru(p=>bc.on(l,p),p=>bc.on(l,p)));return qn(o.pipe(Te(()=>{const l=function(){const{isSupportEssentialAudioAndVideoAbility:p,isSupportAudioWorklet:h}=Re;return p&&h?11:10}();bc.join(l)}),hi(nl(Wt.Connected))),a.pipe(Zp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.DisconnectXmpp)))),c.pipe(Zp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.OnError)))))})),xmppEpics3:t=>t.pipe(Me(`${at}`),hi(nl(Wt.Closed)),Gh(100),Te(()=>{var i;bc.close(),null===(i=Zg)||void 0===i||i.complete()}))},{mainSessionEpics0:(t,i)=>t.pipe(Me(`${Xh}`),Pe(i),ne(o=>{let[,a]=o;return"closed"===a.socket.mainSessionSocketStatus}),it(o=>{let[,a]=o;const{meeting:{svcUrl:c,meetingNumber:l,conId:p}}=a;return(g=`wss://${c}/wc/media/${l}?type=m&cid=${p}&mode=2`,fa.connect(g),Yp=new Tn,Ru(v=>fa.on(pn.Message,v),v=>fa.off(pn.Message,v)).pipe(ye(v=>v.data)).subscribe(Yp),Yp).pipe(ye(g=>{try{return JSON.parse(g)}catch(v){return console.error(v),{evt:0}}}),ne(g=>0!==g.evt),yS(),ye(g=>Ra(g)),ds(bv(Wt.Connecting)));var g})),mainSessionEpics1:(t,i)=>t.pipe(Me(`${Xh}`),it(()=>{const[o,a,c]=[pn.Open,pn.Close,pn.Error].map(l=>Ru(p=>fa.on(l,p),p=>fa.on(l,p)));return qn(o.pipe(hi(bv(Wt.Connected))),a.pipe(Zp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.DisconnectMChannel)))),c.pipe(Zp(i,500),ye(()=>(F(So,{reason:nr.Failover}),er(zt.OnErrorMChannel)))))})),mainSessionEpics2:t=>t.pipe(Me(`${Hd}`),hi(bv(Wt.Closed)),Te(()=>{var i;fa.close(),null===(i=Yp)||void 0===i||i.complete()}))}),eh={id:"userId",type:t=>vp(t)?{userType:t,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:t},role:t=>({userRole:t,isHost:Ey(t)}),dn2:t=>({displayName:fi(t)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:t=>({bLocalRecord:t}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},ga=t=>{const i={};return["add","remove","update"].forEach(o=>{const c=t[o];null!=c&&(i[o]=c.reduce((l,p)=>{const h=Object.keys(p).reduce((v,y)=>{const b=eh[y];return Object.assign(v,"function"==typeof b?b(p[y]):"string"==typeof b?{[`${b}`]:p[y]}:{[`${y}`]:p[y]}),v},{}),g=l.find(v=>v.userId===h.userId);return void 0!==g?Object.assign(g,h):l.push(h),l},[]))}),i},th={name:"displayName",node:t=>({userId:Number(t)}),role:t=>({userRole:Number(t)})},Ec=t=>Object.keys(t).reduce((i,o)=>{const a=th[o];return Object.assign(i,"function"==typeof a?a(t[o]):"string"==typeof a?{[`${a}`]:t[o]}:{[`${o}`]:t[o]}),i},{}),td={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},nh=gr({[`${Uf}`]:B((t,i)=>{let{payload:o}=i;void 0!==o.add&&o.add.length>0&&o.add.forEach(a=>{if(a.userType===G0.Assitant){const c=t.assistantList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.assistantList.push(a)}else if(z0(a.userRole)){const c=t.allowTalkAttendeesList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.allowTalkAttendeesList.push(a)}else{const c=t.attendeesList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):t.attendeesList.push(a)}}),void 0!==o.update&&o.update.length>0&&o.update.forEach(a=>{const c=t.attendeesList.find(l=>l.userId===a.userId);if(void 0!==c)Object.assign(c,a);else{const l=t.allowTalkAttendeesList.find(p=>p.userId===a.userId);if(void 0!==l)Object.assign(l,a);else{const p=t.assistantList.find(h=>h.userId===a.userId);void 0!==p&&Object.assign(p,a)}}}),void 0!==o.remove&&o.remove.length>0&&o.remove.forEach(a=>{const c=t.attendeesList.findIndex(l=>l.userId===a.userId);if(-1!==c)t.attendeesList.splice(c,1);else{const l=t.allowTalkAttendeesList.findIndex(p=>p.userId===a.userId);if(-1!==l)t.allowTalkAttendeesList.splice(l,1);else{const p=t.assistantList.findIndex(h=>h.userId===a.userId);-1!==p&&t.assistantList.splice(p,1)}}})}),[`${by}`]:B((t,i)=>{let{payload:o}=i;const{xmppAttendeeList:a}=t,c=a.map(l=>l.jid);o.forEach(l=>{const{jid:p}=l,h=c.indexOf(p);-1!==h?Object.assign(a[h],l):a.push(l)})}),[`${B0}`]:B((t,i)=>{let{payload:o}=i;t.isAdmitAllSilentUsers=o}),[`${AA}`]:B(t=>{t.attendeesList.forEach(i=>{i.bRaiseHand&&(i.bRaiseHand=!1)})}),[`${TA}`]:B(t=>{t.attendeesList.forEach(i=>{i.feedback>0&&(i.feedback=0)})}),[`${Hf}`]:B((t,i)=>{let{payload:o}=i;t.failoverAttendeesList.push(o)}),[`${Rl}`]:B((t,i)=>{let{payload:o}=i;o.forEach(a=>{const c=t.failoverAttendeesList.findIndex(l=>l.zoomID===a.zoomID);-1!==c&&t.failoverAttendeesList.splice(c,1)})}),[`${ZN}`]:B((t,i)=>{let{payload:o}=i;const{jid:a,name:c}=o,l=t.xmppAttendeeList.find(p=>p.jid===a);l&&(l.displayName=c)}),[`${$f}`]:B((t,i)=>{let{payload:o}=i;const{jid:a}=o,c=t.xmppAttendeeList.findIndex(l=>l.jid===a);-1!==a&&t.xmppAttendeeList.splice(c,1)}),[`${mp}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,key:c,value:l}=o,p=t.attendeesList.find(h=>h.userId===a);p&&(p[`${c}`]=l)}),[`${Bf}`]:()=>td},td),oh=qr({epics0:(t,i)=>be(t,vn).pipe(ye(o=>ga(o.payload.body)),Pe(i),se(o=>{let[a,c]=o,l=[Uf(a)];const{meeting:{userId:p,isWebinar:h,isOnHold:g},participants:{attendeesList:v,failoverAttendeesList:y,allowTalkAttendeesList:b}}=c,E=b.map(w=>w.userId);if(a.add){const w=a.add.filter(A=>A.userId===p);w.length>0&&w.forEach(A=>{void 0!==A.bHold&&l.push(go(A.bHold)),F(xa,A)});const _=a.add.filter(A=>A.userId!==p);if(_.length>0){const A=_.filter(M=>!z0(M.userRole)).map(M=>{const P={...M};if(vp(M.userType)){var N;const V=null===(N=c.audio)||void 0===N?void 0:N.dialout.find(L=>L.phoneNodeId===M.userId);V&&Object.assign(P,{phoneNumber:V.phoneNumber})}const $=y.find(V=>V.zoomID===M.zoomID);return $&&Object.assign(P,{source:$.isOnHold?"on hold":"failover"}),P}),T=A.filter(M=>!!M.source).map(M=>({zoomID:M.zoomID}));if(l.push(Rl(T)),F(mf,A),h){const M=_.filter(P=>z0(P.userRole));M.length>0&&F(Fa,M.map(P=>({userId:P.userId,isAllowToTalk:!0})))}}}if(a.update){const w=a.update.filter(A=>A.userId===p);w.length>0&&w.forEach(A=>{F(Br,A),void 0!==A.bHold&&l.push(go(A.bHold))});const _=a.update.filter(A=>!(A.userId===p||E.includes(A.userId)));if(_.length>0&&F(yo,_),h){const A=a.update.filter(T=>T.userId!==p&&E.includes(T.userId));A.length>0&&F(Fa,A)}}if(a.remove){const w=a.remove.map(_=>{const A=v.find(T=>T.userId===_.userId);return A?2===_.action&&1===_.nUserStatus?A.bHold?(l.push(Hf({zoomID:A.zoomID,isOnHold:!0})),{..._,...A,reason:"on hold"}):(l.push(Hf({zoomID:A.zoomID,isOnHold:!1})),{..._,...A,reason:"failover"}):{..._,...A}:null}).filter(_=>!!_);if(F(ut,w),h){const _=a.remove.filter(A=>E.includes(A.userId));_.length>0&&F(Fa,_.map(A=>({userId:A.userId,isAllowToTalk:!1})))}}const I=l.filter(w=>w.type===`${go}`);if(I.length>0){const w=I[I.length-1];l=l.filter(_=>_.type!==`${go}`),w.payload!==g&&(l.push(w),F(Bu,!g))}return ve(l)})),epics1:(t,i)=>co(t,24595).pipe(se(o=>{const{payload:{body:{action:a,data:c}}}=o,{meeting:{jid:l},participants:{xmppAttendeeList:p}}=i.value,h=[];if(a===Di.rename){c.forEach(v=>{h.push(ZN(v))});const g=c.map(v=>Ec(v));F(Fa,g)}if(a===Di.Remove){c.forEach(v=>{h.push($f(v))});const g=c.map(v=>({...Ec(v),removed:!0}));F(AN,g)}if([Di.Add,Di.List,Di.update].includes(a)){const g=c.map(v=>{const y=Ec(v);return Object.keys(y).reduce((b,E)=>(""!==y[E]&&Object.assign(b,{[E]:y[E]}),b),{})});if(F(Fa,g),h.push(by(g)),a===Di.update){const v=c.find(y=>y.jid===l);if(v&&void 0!==v.bRaiseHand){const y=p.find(b=>b.jid===l);y?.bRaiseHand!==v.bRaiseHand&&F("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:v.bRaiseHand})}}}return ve(h)})),epics2:t=>be(t,7951).pipe(Te(i=>{!1===i.payload.body.bStarted&&F("ADMIT_ALL_SILENT_USERS_END",i.payload.body.bStarted)}),ye(i=>B0(i.payload.body.bStarted))),epics3:t=>be(t,7946).pipe(ne(i=>{var o;return["bRaiseHand","feedback"].includes(null===(o=i.payload.body)||void 0===o?void 0:o.key)&&0===i.payload.body.value}),ye(i=>(F(yo,{}),"bRaiseHand"===i.payload.body.key?AA():TA())))}),nd={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,fileWithVersion:!1,enforceMultipleVideos:!1,enforceVirtualBackground:!1,enableAudioQos:!0,enableVideoQos:!0,isAudioBridgeReceiveReady:!1,isAudioBridgeSendReady:!1,isMediaAgentInitialized:!1,disableRenderLimits:!1,adaptedABOptionForMediaSDK:""},CR=gr({[`${uo}`]:B((t,i)=>{let{payload:o}=i;t.audioDecodeStatus=o}),[`${FE}`]:B((t,i)=>{let{payload:o}=i;t.audioEncodeStatus=o}),[`${rl}`]:B((t,i)=>{let{payload:o}=i;t.sharingDecodeStatus=o}),[`${Gd}`]:B((t,i)=>{let{payload:o}=i;t.sharingEncodeStatus=o}),[`${Ev}`]:B((t,i)=>{let{payload:o}=i;t.videoDecodeStatus=o}),[`${ku}`]:B((t,i)=>{let{payload:o}=i;t.videoEncodeStatus=o}),[`${tf}`]:B((t,i)=>{let{payload:o}=i;t.mediaConstraints=o.mediaConstraints,t.assetsPath=o.assetsPath,t.fileWithVersion=o.fileWithVersion,t.enforceMultipleVideos=!!o.enforceMultipleVideos,t.enforceVirtualBackground=o.enforceVirtualBackground,t.skipJsMedia=o.skipJsMedia,t.patchJsMedia=o.patchJsMedia,t.alternativeNameForVideoPlayer=o.alternativeNameForVideoPlayer,o.enforceMultipleVideos&&"object"==typeof o.enforceMultipleVideos&&(t.disableRenderLimits=!!o.enforceMultipleVideos.disableRenderLimits)}),[`${dN}`]:B((t,i)=>{let{payload:o}=i;const{type:a,encryptKey:c,additionalType:l}=o,p={encryptKey:c,additionalType:l};"audio"===a?t.audioEncrypt=p:"video"===a?t.videoEncrypt=p:"sharing"===a&&(t.sharingEncrypt=p)}),[`${VE}`]:B((t,i)=>{let{payload:o}=i;t.isEnableDecoderInWorklet=o}),[`${jE}`]:B((t,i)=>{let{payload:o}=i;t.patchedMediaSDKStatus=o}),[`${$o}`]:B((t,i)=>{let{payload:o}=i;t.assetsPath=o}),[`${Cv}`]:B((t,i)=>{let{payload:o}=i;t.enableAudioQos=o.audioQos,t.enableVideoQos=o.videoQos}),[`${ol}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeReceiveReady=o}),[`${pN}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeSendReady=o}),[`${Iv}`]:B((t,i)=>{let{payload:o}=i;t.isMediaAgentInitialized=o}),[`${hs}`]:B((t,i)=>{let{payload:o}=i;t.adaptedABOptionForMediaSDK=o}),[`${Gt}`]:t=>({...nd,mediaConstraints:t.mediaConstraints,assetsPath:t.assetsPath,fileWithVersion:t.fileWithVersion,enforceMultipleVideos:t.enforceMultipleVideos,disableRenderLimits:t.disableRenderLimits,enforceVirtualBackground:t.enforceVirtualBackground,alternativeNameForVideoPlayer:t.alternativeNameForVideoPlayer})},nd),kr=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player",renderCountMap:new Map},this.onceMap=new WeakMap,this.subscribers=[]}get(t){return this.state[t]}dispatch(t,i,o){i&&Object.assign(this.state,i),t&&this.notifySubscribers(t,o)}subscribe(t){return this.subscribers.push(t),()=>{const i=this.subscribers.indexOf(t);-1!==i&&this.subscribers.splice(i,1)}}once(t,i){this.onceMap.set(i,{event:t,unSubscribe:this.subscribe(i)})}notifySubscribers(t,i){const o=[];this.subscribers.forEach(a=>{a(t,this.state,i);const c=this.onceMap.get(a);if(c){const{event:l,unSubscribe:p}=c;l===t&&(o.push(p),this.onceMap.delete(a))}}),o.forEach(a=>a())}};var Lr,Yg;(function(t){t[t.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",t[t.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",t[t.START_SHARING=23]="START_SHARING",t[t.STOP_SHARING=24]="STOP_SHARING",t[t.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",t[t.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",t[t.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",t[t.ZOOM_RENDER=48]="ZOOM_RENDER",t[t.REMOVE_EXPIRED_CANVAS=76]="REMOVE_EXPIRED_CANVAS",t[t.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",t[t.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",t[t.SEND_RENDER_LOG=79]="SEND_RENDER_LOG"})(Lr||(Lr={})),function(t){t[t.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW",t[t.MOBILE_CAPTURE_DEVICE_CHANGE=135]="MOBILE_CAPTURE_DEVICE_CHANGE"}(Yg||(Yg={}));const ih="default-sesssion-key";var Xg,EI,CI,ma;function em(t,i,o,a,c){const l=document.createElement("canvas");l.id=a;const p=wR(l,t,i);return c(`VPISC:${window.devicePixelRatio},${p}`),l.style.pointerEvents="none",l.style.position="absolute",l.style.left="0px",l.style.top="0px",l.style.width=t+"px",l.width=t*Cc(l),l.style.height=i+"px",l.height=i*Cc(l),l.ariaHidden="true",l.style.zIndex=o,l}function su(t,i){const o=II(()=>{if(t){wR(t,i.clientWidth,i.clientHeight),[Lr.UPDATE_CANVAS_SIZE,Lr.UPDATE_SHARING_DECODE_PARAM].forEach(l=>{var p,h;null===(h=Yo(null===(p=i?.getSessionId)||void 0===p?void 0:p.call(i)))||void 0===h||h.Notify_MeidaSDK(l,{width:i.clientWidth*Cc(t),height:i.clientHeight*Cc(t),canvas:t})}),t.style.width=i.clientWidth+"px",t.style.height=i.clientHeight+"px";try{t.width=i.clientWidth*Cc(t),t.height=i.clientHeight*Cc(t)}catch{}kr.dispatch("resize",void 0,t.id)}},300),a=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),c=new ResizeObserver(o);return a.addEventListener("change",o),c.observe(i),()=>{_I.delete(t),c?.disconnect(),a.removeEventListener("change",o)}}function IR(t,i){Object.defineProperties(t,i.reduce((o,a)=>(o[a]={get:()=>t.getAttribute(a),set:c=>{c?t.setAttribute(a,c):t.removeAttribute(a)}},o),{}))}function _R(t,i){Object.entries(i).forEach(([o,a])=>{t.getAttribute(o)||t.setAttribute(o,a)})}function jS(t,i){const o=t.getAttribute(i);return!(!o||"true"!==o)}function Yo(t=ih){var i;return null===(i=kr.get("mediaSDKInstanceMap").get(t))||void 0===i?void 0:i()}function tm(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();let t=(new Date).getTime(),i=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,o=>{let a=16*Math.random();return t>0?(a=(t+a)%16|0,t=Math.floor(t/16)):(a=(i+a)%16|0,i=Math.floor(i/16)),("x"===o?a:3&a|8).toString(16)})}function II(t,i){let o;return function(...a){clearTimeout(o),o=setTimeout(()=>{t(...a)},i)}}function US(t,i){const o=Object.keys(t),a=Object.keys(i);if(o.length!==a.length)return!1;for(const c of o){const l=t[c],p=i[c];if("object"==typeof l&&"object"==typeof p){if(!US(l,p))return!1}else if(l!==p)return!1}return!0}function rd(t){return!t||"0"===t}(function(t){t.Video="video",t.Share="share"})(Xg||(Xg={})),function(t){t.DEFAULT="",t.MAIN="main"}(EI||(EI={})),function(t){t.Video_90P="0",t.Video_180P="1",t.Video_360P="2",t.Video_720P="3",t.Video_1080P="4"}(CI||(CI={})),function(t){t[t.Unknown=0]="Unknown",t[t.VideoTag=1]="VideoTag",t[t.WebGL=2]="WebGL",t[t.WebGL2=3]="WebGL2",t[t.WebGPU=4]="WebGPU"}(ma||(ma={}));const _I=new Map;function wR(t,i,o){const a=i>=2*window.screen.width||o>=2*window.screen.height?1:window.devicePixelRatio,c=_I.get(t);return _I.set(t,a),c&&c!==a&&kr.dispatch("scale",void 0,t.id),a}function Cc(t){return _I.get(t)||window.devicePixelRatio}function Ic(t,i){i&&t?.Notify_MeidaSDK(Lr.SEND_RENDER_LOG,{message:i})}function DR(t,i){const o=kr.get("renderCountMap"),a=o.get(t)||0;o.set(t,i?a+1:a-1)}function pr(t,i){const{left:o,top:a,bottom:c,right:l,width:p,height:h}=t.getBoundingClientRect(),g=i.getBoundingClientRect();return{left:o-g.left,top:a-g.top,bottom:g.bottom-c,right:g.right-l,width:p,height:h}}const wI=[];for(let t=0;t<=1;t+=.01)wI.push(t);class DI{constructor(i,o){if(this.getRenderParams=o,this.el=document.createElement("div"),this.position=null,this.id="",this.srcObject=null,this.removePositionObserve=null,this.viewId=`${kr.get("tagName")}-${tm()}`,this.getSDK=()=>{var a,c;return Yo(null===(c=null===(a=this.container)||void 0===a?void 0:a.getSessionId)||void 0===c?void 0:c.call(a))},!i)throw new Error(`The ${kr.get("tagName")} must have a ${kr.get("tagName")}-container as its ancestor element.`);this.container=i,this.el.style.width="100%",this.el.style.height="100%",this.debounceUpdateVideoPosition=II(this.updateVideoPosition.bind(this),300)}getElement(){return this.el}init(){this.removeSubscribe=kr.subscribe((i,o,a)=>{a===this.getCanvas().id&&("resize"===i?(this.updateVideoPosition(),setTimeout(()=>{this.updateVideoPosition()},300)):"scale"===i&&Ic(this.getSDK(),`VPSC:${Cc(this.getCanvas())}`))})}getCanvas(){return this.container.getCanvas()}initObservePosition(){this.stopObservePosition(),this.removePositionObserve=function(i,o,a){const{wrapper:c=document.documentElement}=a,l=II(o,300);let p,h;const g=(v=1,y=!1)=>{p&&(p.disconnect(),p=null);const{top:b,left:E,width:I,height:w,right:_,bottom:A}=pr(i,c);if(!I||!w)return void o({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const T=b<0||A<0||E<0||_<0,M=((V,L,Q,Y,z,j)=>V<=0&&V+j<=0||L<=0&&L+j<=0||Q<=0&&Q+z<=0||Y<=0&&Y+z<=0)(b,A,E,_,I,w),P={root:c,threshold:T?wI:v};T||(P.rootMargin=`${-b}px ${-_}px ${-A}px ${-E}px`);let N=!0,$=!0;y&&($=!1),o({hide:M,cross:T,top:b,left:E,width:I,height:w,bottom:A,right:_}),l({hide:M,cross:T,top:b,left:E,width:I,height:w,bottom:A,right:_},!0),p=new IntersectionObserver(([V])=>{if(0===V.intersectionRatio)return $?g(1,!0):void 0;if(v!==V.intersectionRatio){if(!N)return g();g(0===V.intersectionRatio?1e-7:V.intersectionRatio)}1===V.intersectionRatio&&T&&g(),N=!1},P),p.observe(i)};return g(),h=new ResizeObserver(()=>g()),h.observe(i),()=>{p?.disconnect(),p=null,h?.disconnect(),h=null}}(this.el,(i,o)=>{o?setTimeout(()=>{this.updateVideoPosition()},300):this.debounceUpdateVideoPosition(i)},{wrapper:this.container})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(i){return this.transformRectToPosition(pr(i,this.container))}transformRectToPosition(i){const{left:o,width:a,height:c,bottom:l,top:p}=i,h=Cc(this.getCanvas());return{x:o*h,y:l*h,width:a*h,height:c*h,left:o*h,bottom:l*h,top:p*h}}playVideo(i){this.initObservePosition(),"string"==typeof i?this.id=i:this.srcObject=i;const o=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign(Object.assign({},o),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=o}updateVideoPosition(i){if(!this.id&&!this.srcObject)return;const o=this.transformRectToPosition(i||pr(this.el,this.container));this.position&&US(o,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign(Object.assign({},o),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=o)}stopVideo(){this.stopObservePosition(),(this.id||this.srcObject)&&this.position&&((this.id||this.srcObject)&&this.stopRender(Object.assign(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=null,this.id="",this.srcObject=null)}updateVideoQuality(i){var o;this.id&&(null===(o=this.getSDK())||void 0===o||o.Notify_MeidaSDK(Lr.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:i}))}refresh(){this.debounceUpdateVideoPosition()}destroy(){var i;this.stopVideo(),null===(i=this.removeSubscribe)||void 0===i||i.call(this)}}class AI{constructor(i){this.container=i,this.id="",this.srcObject=null,this.getSDK=()=>{var o,a;return Yo(null===(a=null===(o=this.container)||void 0===o?void 0:o.getSessionId)||void 0===a?void 0:a.call(o))},this.el=document.createElement("video"),this.el.style.width="100%",this.el.style.height="100%",this.el.setAttribute("autoplay","true"),this.el.setAttribute("muted","true"),this.el.setAttribute("playsinline","true")}getElement(){return this.el}init(){}playVideo(i){"string"==typeof i?this.id=i:this.srcObject=i,this.addRender(Object.assign({userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){(this.id||this.srcObject)&&(this.stopRender(Object.assign({userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{})),this.id="",this.srcObject=null)}updateVideoQuality(i){}destroy(){this.stopVideo()}}class AR extends DI{addRender({width:i,height:o,x:a,y:c,canvas:l,zone:p,userId:h,left:g,bottom:v,top:y,fillMode:b,videoQuality:E}){var I;this.getSDK()&&(DR(this.container,!0),function(w){var _,A;const T=kr.get("renderCountMap").get(w)||0,M=(null===(A=null===(_=null==JsMediaSDK_Instance?void 0:JsMediaSDK_Instance.util)||void 0===_?void 0:_.getMaxCountRender)||void 0===A?void 0:A.call(_))||25,P=T>=0&&T<=M,N=kr.get("tagName");P||console.error(`In your environment, the maximum number of ${N} that can be accommodated in each ${N}-container is ${M}. The current number has exceeded this limit, which may cause video rendering issues.`)}(this.container)),null===(I=this.getSDK())||void 0===I||I.Notify_MeidaSDK(Lr.ADD_RENDER_VIDEO,{width:i,height:o,x:a,y:c,canvas:l,zone:p,userId:h,left:g,bottom:v,top:y,fillMode:b,videoQuality:E})}zoomRender({width:i,height:o,x:a,y:c,userId:l,canvas:p,RGBA:h,zone:g,left:v,bottom:y,top:b}){var E;null===(E=this.getSDK())||void 0===E||E.Notify_MeidaSDK(Lr.ZOOM_RENDER,{width:i,height:o,x:a,y:c,userId:l,canvas:p,RGBA:h,zone:g,left:v,bottom:y,top:b})}stopRender({width:i,height:o,x:a,y:c,userId:l,canvas:p,doNotClean:h,RGBA:g,zone:v,left:y,bottom:b,top:E,videoQuality:I}){var w;this.getSDK()&&DR(this.container,!1),null===(w=this.getSDK())||void 0===w||w.Notify_MeidaSDK(Lr.STOP_RENDER_VIDEO,{width:i,height:o,x:a,y:c,userId:l,canvas:p,doNotClean:h,RGBA:g,zone:v,left:y,bottom:b,top:E,videoQuality:I})}}class m1 extends AI{addRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(Lr.ADD_RENDER_VIDEO,{userId:i,videodom:o})}stopRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(Lr.STOP_RENDER_VIDEO,{userId:i,videodom:o})}}class TR extends DI{addRender({width:i,height:o,userId:a,canvas:c,isFromMainSession:l}){var p;null===(p=this.getSDK())||void 0===p||p.Notify_MeidaSDK(Lr.START_SHARING,{width:i,height:o,canvas:c,ssrc:a,isFromMainSession:l})}zoomRender(){}stopRender({canvas:i}){var o;null===(o=this.getSDK())||void 0===o||o.Notify_MeidaSDK(Lr.STOP_SHARING,{canvas:i})}}class TI extends AI{addRender({userId:i,videodom:o}){var a,c;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(Lr.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[o]),null===(c=this.getSDK())||void 0===c||c.Notify_MeidaSDK(Lr.ADD_RENDER_VIDEO,{userId:i,videodom:o})}stopRender({userId:i,videodom:o}){var a;null===(a=this.getSDK())||void 0===a||a.Notify_MeidaSDK(Lr.STOP_RENDER_VIDEO,{userId:i,videodom:o})}}let sh=(()=>{class t{static VERTEX_SHADER="\n    attribute vec2 position;\n    varying vec2 texCoord;\n\n    void main() {\n      texCoord = (position + 1.0) * 0.5;\n      // gl_Position = vec4(position, 0.0, 1.0);\n      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);\n    }\n  ";static FRAGMENT_SHADER="\n    precision mediump float;\n    varying vec2 texCoord;\n    uniform sampler2D videoTexture;\n\n    void main() {\n      gl_FragColor = texture2D(videoTexture, texCoord);\n    }\n  ";constructor(){}preview(o,a,c){const l=a.getContext("webgl"),p=this.#e(l,t.VERTEX_SHADER,t.FRAGMENT_SHADER),h=l.getAttribLocation(p,"position"),g=l.getUniformLocation(p,"videoTexture");l.useProgram(p);const v=this.#n(l);l.bindBuffer(l.ARRAY_BUFFER,v),l.enableVertexAttribArray(h),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),this.frame({glContext:l,program:p,positionAttributeLocation:h,textureLocation:g,positionBuffer:v,viewport:c,source:o})}frame(o){const a=o.glContext;o.glContext.clearColor(0,0,0,1),o.glContext.clear(o.glContext.COLOR_BUFFER_BIT),o.glContext.viewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h),o.glContext.enable(o.glContext.DEPTH_TEST);const c=o.glContext.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.uniform1i(o.textureLocation,0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,o.source),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),o.glContext.drawArrays(o.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame(()=>this.frame(o))}#e(o,a,c){const l=this.#t(o,o.VERTEX_SHADER,a),p=this.#t(o,o.FRAGMENT_SHADER,c);let h=o.createProgram();return o.attachShader(h,l),o.attachShader(h,p),o.linkProgram(h),h}#t(o,a,c){const l=o.createShader(a);return o.shaderSource(l,c),o.compileShader(l),l}#n(o){const a=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,a),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),a}}return t})(),v1=(()=>{class t{static VERTEX_SHADER="#version 300 es\n    in vec2 position;\n    out vec2 texCoord;\n\n    void main() {\n      texCoord = (position + 1.0) * 0.5;\n      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);\n    }\n  ";static FRAGMENT_SHADER="#version 300 es\n    precision mediump float;\n    in vec2 texCoord;\n    uniform sampler2D videoTexture;\n    out vec4 fragColor;\n\n    void main() {\n      fragColor = texture(videoTexture, texCoord);\n    }\n  ";constructor(){}preview(o,a,c){const l=a.getContext("webgl2"),p=this.#e(l,t.VERTEX_SHADER,t.FRAGMENT_SHADER),h=l.getAttribLocation(p,"position"),g=l.getUniformLocation(p,"videoTexture");l.useProgram(p);const v=this.#n(l);l.bindBuffer(l.ARRAY_BUFFER,v),l.enableVertexAttribArray(h),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),this.frame({glContext:l,program:p,positionAttributeLocation:h,textureLocation:g,positionBuffer:v,viewport:c,source:o})}frame(o){const a=o.glContext;o.glContext.clearColor(0,0,0,1),o.glContext.clear(o.glContext.COLOR_BUFFER_BIT),o.glContext.viewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h),o.glContext.enable(o.glContext.DEPTH_TEST);const c=o.glContext.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.uniform1i(o.textureLocation,0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,o.source),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),o.glContext.drawArrays(o.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame(()=>this.frame(o))}#e(o,a,c){const l=this.#t(o,o.VERTEX_SHADER,a),p=this.#t(o,o.FRAGMENT_SHADER,c);let h=o.createProgram();return o.attachShader(h,l),o.attachShader(h,p),o.linkProgram(h),h}#t(o,a,c){const l=o.createShader(a);return o.shaderSource(l,c),o.compileShader(l),l}#n(o){const a=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,a),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),a}}return t})(),y1=(()=>{class t{static VERTEX_SHADER="\n    struct VertexOutput {\n      @builtin(position) Position: vec4<f32>,\n      @location(0) uv: vec2<f32>,\n    }\n\n    @vertex\n    fn vert_main(@builtin(vertex_index) VertexIndex: u32) -> VertexOutput {\n      var pos = array<vec2<f32>, 6>(\n        vec2<f32>( 1.0,  1.0),\n        vec2<f32>( 1.0, -1.0),\n        vec2<f32>(-1.0, -1.0),\n        vec2<f32>( 1.0,  1.0),\n        vec2<f32>(-1.0, -1.0),\n        vec2<f32>(-1.0,  1.0)\n      );\n\n      var uv = array<vec2<f32>, 6>(\n        vec2<f32>(1.0, 0.0),\n        vec2<f32>(1.0, 1.0),\n        vec2<f32>(0.0, 1.0),\n        vec2<f32>(1.0, 0.0),\n        vec2<f32>(0.0, 1.0),\n        vec2<f32>(0.0, 0.0)\n      );\n\n      var output : VertexOutput;\n      output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n      output.uv = uv[VertexIndex];\n      return output;\n    }\n  ";static FRAG_SHADER_VF="\n    @group(0) @binding(0) var mySampler: sampler;\n    @group(0) @binding(1) var vfTexture: texture_external;\n\n    @fragment\n    fn frag_main(@location(0) uv : vec2<f32>) -> @location(0) vec4<f32> {\n      var color0: vec4<f32> = textureSampleBaseClampToEdge(vfTexture, mySampler, uv);\n      return color0;\n    }\n  ";constructor(){}preview(o,a,c){var l=this;return Oe(function*(){if(!o||!a||!c)throw new Error("Invalid arguments: source, target, or viewport is missing");const p=yield navigator.gpu.requestAdapter(),h=yield p.requestDevice(),g=navigator.gpu.getPreferredCanvasFormat(),v=a.getContext("webgpu");v.configure({device:h,format:g,alphaMode:"opaque"});const y=h.createSampler({}),b=h.createRenderPipeline({layout:"auto",vertex:{module:h.createShaderModule({code:t.VERTEX_SHADER}),entryPoint:"vert_main"},fragment:{module:h.createShaderModule({code:t.FRAG_SHADER_VF}),entryPoint:"frag_main",targets:[{format:g}]},primitive:{topology:"triangle-list"}});l.frame({device:h,context:v,pipeline:b,sampler:y,source:o,viewport:c})})()}frame(o){const a=o.device.createCommandEncoder(),c={colorAttachments:[{view:o.context.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store"}]},l=a.beginRenderPass(c);l.setPipeline(o.pipeline);const p=o.device.createBindGroup({layout:o.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:o.sampler},{binding:1,resource:o.device.importExternalTexture({source:o.source})}]});l.setBindGroup(0,p),l.setViewport(o.viewport.x,o.viewport.y,o.viewport.w,o.viewport.h,0,1),l.draw(6),l.end(),o.device.queue.submit([a.finish()]),requestAnimationFrame(()=>this.frame(o))}}return t})();class _c{constructor(){}preview(i,o,a,c){let l=null;1==i?a.srcObject=o:2==i?(l=new sh,l.preview(o,a,c)):3==i?(l=new v1,l.preview(o,a,c)):4==i&&(l=new y1,l.preview(o,a,c))}static getInstance(){return _c.instance||(_c.instance=new _c),_c.instance}}class S1 extends DI{constructor(){super(...arguments),this.rendersProxy=_c.getInstance(),this.videoSource=null}createSource(i,o,a){return c=this,void 0,h=function*(){const c=document.createElement("video");return c.width=o,c.height=a,c.loop=!0,c.autoplay=!0,c.muted=!0,c.srcObject=i,yield c.play(),c},new((p=void 0)||(p=Promise))(function(g,v){function y(I){try{E(h.next(I))}catch(w){v(w)}}function b(I){try{E(h.throw(I))}catch(w){v(w)}}function E(I){var w;I.done?g(I.value):(w=I.value,w instanceof p?w:new p(function(_){_(w)})).then(y,b)}E((h=h.apply(c,[])).next())});var c,p,h}addRender(i){i.renderType&&i.srcObject&&!this.videoSource&&(this.videoSource&&(this.videoSource=null),this.createSource(i.srcObject,i.width,i.height).then(o=>{this.videoSource=o,this.rendersProxy.preview(i.renderType,this.videoSource,i.canvas,{x:i.x,y:i.renderType===ma.WebGPU?i.top:i.y,w:i.width,h:i.height})}))}zoomRender(i){i.renderType&&this.videoSource&&(this.videoSource.width!==i.width&&(this.videoSource.width=i.width),this.videoSource.height!==i.height&&(this.videoSource.height=i.height))}stopRender(i){i.renderType&&this.videoSource&&(this.videoSource.srcObject=null,this.videoSource=null)}}class RR extends AI{constructor(){super(...arguments),this.rendersProxy=_c.getInstance()}addRender(i){i.srcObject&&i.videodom&&this.rendersProxy.preview(ma.VideoTag,i.srcObject,i.videodom)}stopRender(i){i.videodom.srcObject=null}}const wc="node-id",ah="media-type",uh="video-quality",RI="share-source",OI="fill-mode",Os="stop-no-clean",MI="refresh-key";class ch extends HTMLElement{static get observedAttributes(){return[wc,ah,uh,MI]}constructor(){super(),this.container=null,this._srcObject=null,IR(this,ch.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.callback=(i,o)=>{i===Yg.MOBILE_CAPTURE_DEVICE_CHANGE&&o===this.getAttribute(wc)&&this.initRender()}}initRender(){var i,o,a,c,l;if(this.render&&this.render.destroy(),null===(i=this.getContainer())||void 0===i?void 0:i.useInsideRender()){const y=null===(o=this.getContainer())||void 0===o?void 0:o.getInsideRenderType();if(y===ma.VideoTag)this.render=new RR(this.getContainer());else{if(![ma.WebGL,ma.WebGL2,ma.WebGPU].includes(y))return void console.error("Inside render type error.");this.render=new S1(this.getContainer(),this.getRenderParams)}return this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init(),void(this.srcObject&&this.render.playVideo(this.srcObject))}const p=this.getAttribute(wc),h=p&&(null===(a=this.getCurrentMediaSDK())||void 0===a?void 0:a.isPreviewVideotag(p));let g=0;this.getAttribute(ah)===Xg.Share?(this.render=new TR(this.getContainer(),this.getRenderParams),g=2):null!==(c=this.getCurrentMediaSDK())&&void 0!==c&&c.getWebRTCFlag()?(this.render=new m1(this.getContainer()),g=4):h?(this.render=new TI(this.getContainer()),g=1):(this.render=new AR(this.getContainer(),this.getRenderParams),g=3),this.getCurrentMediaSDK()&&Ic(this.getCurrentMediaSDK(),`VPREN:${g}`),this.innerHTML="",this.appendChild(this.render.getElement()),this.render.init();const v=this.getAttribute(wc);rd(v)||null===(l=this.render)||void 0===l||l.playVideo(v)}get srcObject(){return this._srcObject}set srcObject(i){var o,a,c,l;!this._srcObject&&i?null===(o=this.render)||void 0===o||o.playVideo(i):this._srcObject&&i?(null===(a=this.render)||void 0===a||a.stopVideo(),null===(c=this.render)||void 0===c||c.playVideo(i)):this._srcObject&&(null===(l=this.render)||void 0===l||l.stopVideo()),this._srcObject=i}getContainer(){return this.container||(this.container=this.closest(`${kr.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var i,o;return Yo(null===(o=null===(i=this.getContainer())||void 0===i?void 0:i.getSessionId)||void 0===o?void 0:o.call(i))}getParsedParams(){var i,o;return{fillMode:jS(this,OI),doNotClean:jS(this,Os),isFromMainSession:"main"===this.getAttribute(RI),videoQuality:this.getAttribute(uh),renderType:null!==(o=null===(i=this.getContainer())||void 0===i?void 0:i.getInsideRenderType())&&void 0!==o?o:ma.Unknown}}connectedCallback(){var i;this.style.display="block",_R(this,ch.defaultValues),this.initRender(),null===(i=this.getCurrentMediaSDK())||void 0===i||i.addCallback(this.callback),this.removeSubscribe=kr.subscribe((o,a,c)=>{var l,p,h,g;"failover"===o&&c===((null===(p=null===(l=this.getContainer())||void 0===l?void 0:l.getSessionId)||void 0===p?void 0:p.call(l))||ih)&&(this.initRender(),rd(this.getAttribute(wc))||null===(h=this.render)||void 0===h||h.playVideo(this.getAttribute(wc)),this.srcObject&&(null===(g=this.render)||void 0===g||g.playVideo(this.srcObject)))})}disconnectedCallback(){var i,o,a;null===(i=this.removeSubscribe)||void 0===i||i.call(this),null===(o=this.render)||void 0===o||o.destroy(),this.callback&&(null===(a=this.getCurrentMediaSDK())||void 0===a||a.removeCallback(this.callback))}attributeChangedCallback(i,o,a){var c,l,p,h,g;if(this.render)switch(i){case wc:!(null===(c=this.getCurrentMediaSDK())||void 0===c)&&c.getWebRTCFlag()||!(null===(l=this.getCurrentMediaSDK())||void 0===l||!l.isPreviewVideotag(a))!=this.render instanceof TI&&this.initRender(),rd(o)&&!rd(a)?this.render.playVideo(a):rd(o)||rd(a)?rd(o)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(a));break;case ah:this.initRender();break;case uh:null===(p=this.render)||void 0===p||p.updateVideoQuality(a);break;case MI:rd(a)||null===(g=null===(h=this.render)||void 0===h?void 0:h.refresh)||void 0===g||g.call(h)}}}ch.customAttributes=[wc,ah,uh,RI,OI,Os,MI],ch.defaultValues={[wc]:"",[ah]:Xg.Video};const Ms="session-id",Xo="z-index",Lo="inside-render";class od extends HTMLElement{static get observedAttributes(){return[Ms,Xo,Lo]}constructor(){super(),this.canvasId="video-player-canvas-"+(this.getAttribute("label")?`${this.getAttribute("label")}-`:"")+tm(),this.needInitCanvas=!1,this.callback=null,IR(this,od.customAttributes);const i=this.attachShadow({mode:"open"}),o=document.createElement("slot");this.appendCanvas=a=>{i.insertBefore(a,o)},i.appendChild(o)}connectedCallback(){this.style.display="block",this.style.position||(this.style.position="relative"),_R(this,od.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.removeSubscribe=kr.subscribe((i,o,a)=>{"failover"===i&&a===(this.getSessionId()||ih)&&(this.replaceCanvas(),this.initCanvasEvents())})}disconnectedCallback(){var i,o,a,c;null===(i=this.removeListener)||void 0===i||i.call(this),null===(o=this.removeSubscribe)||void 0===o||o.call(this),this.canvas&&(null===(a=Yo(this.getSessionId()))||void 0===a||a.Notify_MeidaSDK(Lr.REMOVE_EXPIRED_CANVAS,{canvasId:this.canvasId}),this.canvas.remove(),this.canvas=void 0),this.callback&&(null===(c=Yo(this.getSessionId()))||void 0===c||c.removeCallback(this.callback))}attributeChangedCallback(i,o,a){i===Xo&&this.canvas&&a&&(this.canvas.style.zIndex=a)}adoptedCallback(){}createCanvas(){this.getCurrentMediaSDK()&&Ic(this.getCurrentMediaSDK(),"VPCC"),this.canvas=em(this.clientWidth,this.clientHeight,this.getAttribute(Xo)||"",this.canvasId,i=>Ic(this.getCurrentMediaSDK(),i)),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}initCanvasEvents(){var i;this.removeListener=su(this.canvas,this),this.callback=(o,a)=>{var c,l;o===Yg.WEBGL_LOST_IN_MULTI_VIEW&&a.replaceCanvas&&a.canvasId===(null===(c=this.canvas)||void 0===c?void 0:c.id)&&(this.replaceCanvas(),null===(l=Yo(this.getSessionId()))||void 0===l||l.Notify_MeidaSDK(Lr.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},null===(i=this.getCurrentMediaSDK())||void 0===i||i.addCallback(this.callback)}replaceCanvas(){var i;if(this.getCurrentMediaSDK()&&Ic(this.getCurrentMediaSDK(),"VPRC"),this.canvas){null===(i=this.removeListener)||void 0===i||i.call(this);const o=em(this.clientWidth,this.clientHeight,this.getAttribute(Xo)||"",this.canvasId,a=>Ic(this.getCurrentMediaSDK(),a));this.removeListener=su(o,this),this.shadowRoot&&this.shadowRoot.replaceChild(o,this.canvas),this.canvas=o}}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}useInsideRender(){return null!==this.getAttribute(Lo)&&void 0!==this.getAttribute(Lo)&&"false"!==this.getAttribute(Lo)&&"0"!==this.getAttribute(Lo)}getInsideRenderType(){return Number(this.getAttribute("inside-render-type"))}getSessionId(){return this.getAttribute(Ms)||void 0}getCurrentMediaSDK(){return Yo(this.getSessionId())}getRGBA(){return function(i){let o=0,a=0,c=0,l=0;if("r"===i[0])if("a"===i[3]){const p=i.slice(5,-1).split(",").map(h=>parseInt(h.trim(),10));o=p[0],a=p[1],c=p[2],l=p[3]}else{const p=i.slice(4,-1).split(",").map(h=>parseInt(h.trim(),10));o=p[0],a=p[1],c=p[2]}else if("#"===i[0]){let p=i.slice(1);3===p.length&&(p=p.split("").map(g=>g.repeat(2)).join(""));const h=parseInt(p,16);o=h>>16&255,a=h>>8&255,c=255&h}return{R:o/255,G:a/255,B:c/255,A:l}}(getComputedStyle(this).getPropertyValue("background-color"))}}function NI(t){const{audio:{isBackgroundNoiseSuppression:i,originalSound:o,highBitrate:a}}=t,c={currentSelect:Yv.Denoise},l={highfidelity:!1,stereo:!1};if(o){Object.assign(c,{currentSelect:Yv.OriginalSound});const p={};Object.assign(p,"boolean"==typeof o?l:{highfidelity:!!o.hifi,stereo:!!o.stereo}),Object.assign(c,{originalSound:p})}return Object.assign(c,{backgroundNoiseSuppression:i?Cf.Zoom:Cf.Browser,highBitrate:a}),c}function nm(t,i,o,a){const{meeting:{userId:c},audio:{localShareAudioUserMutedList:l},share:{isReceiveSharingFromMainSession:p}}=a;return l.filter(h=>h.userId!==i).forEach(h=>{t.setSharingAudioVolume(h.userId,!0,h.isFromMainSession)}),t.setSharingAudioVolume(i,o,!!p),i===c?Ry(o):HA({userId:i,muted:o})}function id(t,i,o){return kI.apply(this,arguments)}function kI(){return kI=Oe(function*(t,i,o){var a,c;const{audio:{audioSsrc:l,activeMicrophone:p,activeSpeaker:h,isAllowToTalk:g,customizeAudioOption:{speakerOnly:v,mute:y,microphoneId:b,speakerId:E},isUsingMediaPlayback:I,mediaPlaybackFile:w,isHIDEnabled:_,microphoneDevicesList:A,isVerifiedAudioPermissionOnIOSMobile:T,speakerDevicesList:M},meeting:{svcUrl:P,conId:N,reportDomain:$,isAudioBridgeEnabled:V,userId:L,supportLocalAB:Q,abToken:Y}}=i,z=Fe(i),j=!!v||Mr(z.userRole)&&!g,O=o??!j;mr()&&(V||console.warn("Cannot start audio due to the service is not ready."),yield ar(Ya(i,!O)).then(U=>{let[K,re]=U;return K&&re?Promise.resolve():Promise.reject()}));let k=p,H=h;if(void 0!==b||void 0!==E){let U=A,K=M;if(0===A.length){const{microphones:re,speakers:te}=yield ar(Yt());U=re,K=te}b&&U.findIndex(re=>re.deviceId===b)>-1&&(k=b),E&&K.findIndex(re=>re.deviceId===E)>-1&&(H=E)}if(I&&null!=w&&w.url){const U=ts.getInstance();yield U.setAudioElement(w),k=U.audioElement}else ts.getInstance().stopAudioElement();return j&&!T&&Re.isIOSMobile&&(yield Oe(function*(){yield navigator.mediaDevices.getUserMedia({audio:!0})})()),null===(a=t.joinComputerAudio(l,k,H,O,NI(i),mr()?{rwgHost:P,cid:N,nginxHost:$,abToken:Y,supportLocalAB:Q,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0,_?{microphoneLabel:null===(c=A.find(U=>U.deviceId===p))||void 0===c?void 0:c.label,defaultMuted:!(null==z||!z.muted)}:void 0))||void 0===a?void 0:a.then(()=>{y&&(Ot.createAgent().mute(L,!0),t.muteAudio()),null!=z&&z.muted?t.muteAudio():t.unmuteAudio()})}),kI.apply(this,arguments)}function rm(t,i,o){return sd.apply(this,arguments)}function sd(){return sd=Oe(function*(t,i,o){const a=[],{audio:{isJoinComputerAudioBeforeSharingAudio:c,mutedBeforeSharingAudio:l}}=o,p=Fe(o);return!0===c&&(yield id(t,o),a.push(kl(void 0)),!1===l&&(a.push(Yu(vf.SharingAudio)),i.mute(p.userId,!1)),a.push(Wa(void 0))),a}),sd.apply(this,arguments)}function OR(t,i,o){return BS.apply(this,arguments)}function BS(){return BS=Oe(function*(t,i,o){const{audio:{isSharingAudio:a},meeting:{userId:c}}=o,l=[];if(l.push(nm(t,c,!0,o)),a){yield t.leaveSharingAudio(!1),l.push(Ep(!1));const p=yield rm(t,i,o);l.push(...p),setTimeout(()=>{F(Er,{state:"off"})},0)}return l.push(Ty(!1)),l}),BS.apply(this,arguments)}function LI(t,i,o){return xI.apply(this,arguments)}function xI(){return xI=Oe(function*(t,i,o){const{audio:{audioSsrc:a,activeMicrophone:c,activeSpeaker:l},meeting:{svcUrl:p,conId:h,reportDomain:g,supportLocalAB:v,abToken:y}}=o,b=Fe(o),E=[];if(!Ai()){const I=yield(w=Oe(function*(_,A){const T=[],M=Fe(A),{audio:{isMicrophoneForbidden:P}}=A;return M?.audio===xt.Computer&&(T.push(kl(!0)),T.push(Wa(M.muted)),M.muted||_.muteAudio(),yield _.leaveComputerAudio(),T.push(Sp(0)),P&&T.push(Dy(!1))),T}),function(_,A){return w.apply(this,arguments)})(t,o);E.push(...I)}var w;return yield t.leaveSharingAudio(!0),yield t.joinSharingAudio({ssrc:a,microphoneDeviceId:c,speakerDeviceId:l,isCaptureAudio:Mr(b.userRole),audioBridge:mr()?{rwgHost:p,cid:h,nginxHost:g,abToken:y,supportLocalAB:v,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0}),E.push(Ty(!0)),E.push(Ep(!0)),E.push(nm(t,b.userId,!1,o)),E.findIndex(I=>I.type===`${kl}`&&!0===I.payload)>-1&&(E.push(Xi(yi.SharingAudio)),i.mute(o.meeting.userId,!0)),setTimeout(()=>{F(Er,{state:"on"})},0),E}),xI.apply(this,arguments)}od.customAttributes=[],od.defaultValues={};const lh=()=>{if(_N())return!0;{var t;let{browser:o}=Re;if(o=null===(t=o)||void 0===t?void 0:t.toLocaleLowerCase(),o.indexOf("safari")>-1&&-1===o.indexOf("ios-safari")){var i;const a=null===(i=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))||void 0===i?void 0:i[1];return uf(a||"","15.2")>=0&&uf(a||"","17.1")<0}return!1}};function FI(t,i,o){for(let a=0;a<o.length&&0!==i.length;a++){const{userId:c,displayName:l}=o[a];if(i.includes(c)){const p=t.find(h=>h.userId===c);p&&(p.displayName=l,i.splice(i.indexOf(c),1))}}}function Ai(){return Ye.isSupportOpenMicWhenShareAudio()}function MR(t){return Ye.isSupportAudioDenoise(t)}function VI(){return Ye.isSupportStereoAudio()}function PR(){var t;return"function"==typeof(null===(t=window.navigator.hid)||void 0===t?void 0:t.requestDevice)}function jI(t,i,o){const{audio:{isAllowToTalk:a,customizeAudioOption:c},media:{audioDecodeStatus:l,audioEncodeStatus:p}}=t;return{encodeInitStatus:Mr(i.userRole)&&!a||o||null!=c&&c.speakerOnly||mr()?"success":p,decodeInitStatus:mr()?"success":l}}function HS(t,i,o){mr()?Ya(i,o).subscribe(a=>{let[c,l]=a;c&&l&&t.joinOrLeaveVoip(!0)}):t.joinOrLeaveVoip(!0)}const au=Ot.createAgent(),ei=Ag(_o(Ye.getInstance())),NR=t=>!t.muted,om=Ot.createAgent(),ad=Ag(_o(Ye.getInstance())),UI=Ot.createAgent(),dh=Ag(_o(Ye.getInstance())),$S={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],crcDevice:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0}}},BI=gr({[`${J0}`]:B((t,i)=>{let{payload:o}=i;t.asnIds={...o}}),[`${qf}`]:B((t,i)=>{let{payload:o}=i;t.bCanUnmute=o}),[`${xA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,phoneNumber:c}=o;-1===t.dialout.findIndex(l=>l.sequence===a)&&t.dialout.push({sequence:a,phoneNumber:c,returnCode:-1,uuid:Rg()})}),[`${wy}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,code:c,nodeId:l}=o,p=t.dialout.find(h=>h.sequence===a);p&&(p.returnCode=c,l&&(p.phoneNodeId=l))}),[`${Z0}`]:B((t,i)=>{let{payload:o}=i;t.isAllowToTalk=o,t.isAllowToTalkAttendeeConnected=!1}),[`${Xi}`]:B((t,i)=>{let{payload:o}=i;t.mutedSource=o}),[`${Yu}`]:B((t,i)=>{let{payload:o}=i;t.unmutedSource=o}),[`${Ml}`]:B((t,i)=>{let{payload:o}=i;t.audioSsrc=o}),[`${FA}`]:B((t,i)=>{let{payload:o}=i;t.bMutedUponEntry=o}),[`${VA}`]:B((t,i)=>{let{payload:o}=i;t.isUserGrantCaptureAudio=o}),[`${Dy}`]:B((t,i)=>{let{payload:o}=i;t.isMicrophoneForbidden=o}),[`${Sp}`]:B((t,i)=>{let{payload:o}=i;t.webrtcRestartCount=o}),[`${jA}`]:B((t,i)=>{let{payload:o}=i;t.microphoneDevicesList=o}),[`${UA}`]:B((t,i)=>{let{payload:o}=i;t.speakerDevicesList=o}),[`${Kf}`]:B((t,i)=>{let{payload:o}=i;t.activeMicrophone=o}),[`${Ay}`]:B((t,i)=>{let{payload:o}=i;t.activeSpeaker=o}),[`${Pl}`]:B((t,i)=>{let{payload:o}=i;t.canPlayAudio=o}),[`${bp}`]:B((t,i)=>{let{payload:o}=i;t.isComputerAudioLoading=o}),[`${Qf}`]:B((t,i)=>{let{payload:o}=i;if(o){const{speakerOnly:a,mute:c,backgroundNoiseSuppression:l,originalSound:p,syncButtonsOnHeadset:h,mediaFile:g,microphoneId:v,speakerId:y,highBitrate:b}=o;t.customizeAudioOption.speakerOnly=a,t.customizeAudioOption.mute=c,t.customizeAudioOption.microphoneId=v,t.customizeAudioOption.speakerId=y,t.isBackgroundNoiseSuppression=!!l,t.isHIDEnabled=!!h,t.originalSound=p,t.highBitrate=!!b,Kd(t.mediaPlaybackFile,g)||(t.mediaPlaybackFile=g,t.isUsingMediaPlayback=!(null==g||!g.url)),c&&(t.mutedSource=yi.Inherited)}}),[`${Nl}`]:B((t,i)=>{let{payload:o}=i;t.isAllowToTalkAttendeeConnected=o}),[`${Wa}`]:B((t,i)=>{let{payload:o}=i;t.mutedBeforeSharingAudio=o}),[`${Ep}`]:B((t,i)=>{let{payload:o}=i;t.isSharingAudio=o}),[`${Ry}`]:B((t,i)=>{let{payload:o}=i;t.isShareAudioMuted=o}),[`${BA}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,isFromMainSession:c}=o;-1===t.localShareAudioUserMutedList.findIndex(l=>l.userId===a)&&t.localShareAudioUserMutedList.push({userId:a,isFromMainSession:c,muted:!1})}),[`${HA}`]:B((t,i)=>{let{payload:o}=i;const a=t.localShareAudioUserMutedList.find(c=>c.userId===o.userId);a&&(a.muted=o.muted)}),[`${kl}`]:B((t,i)=>{let{payload:o}=i;t.isJoinComputerAudioBeforeSharingAudio=o}),[`${Ty}`]:B((t,i)=>{let{payload:o}=i;t.isShareAudioEnabled=o}),[`${Oy}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${My}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${$A}`]:B((t,i)=>{let{payload:o}=i;-1===t.locallyMutedAudioList.findIndex(a=>a===o)&&t.locallyMutedAudioList.push(o)}),[`${Cp}`]:B((t,i)=>{let{payload:o}=i;const a=t.locallyMutedAudioList.findIndex(c=>c===o);-1!==a&&t.locallyMutedAudioList.splice(a,1)}),[`${rk}`]:B((t,i)=>{let{payload:o}=i;const a=t.localUserAudioVolumeList.find(c=>c.userId===o.userId);a?a.volume=o.volume:t.localUserAudioVolumeList.push(o)}),[`${ok}`]:B((t,i)=>{let{payload:o}=i;const a=t.localUserAudioVolumeList.findIndex(c=>c.userId===o.userId);-1!==a&&t.localUserAudioVolumeList.splice(a,1)}),[`${GA}`]:B((t,i)=>{let{payload:o}=i;t.isBackgroundNoiseSuppression=o}),[`${ik}`]:B((t,i)=>{let{payload:o}=i;t.isHIDEnabled=o}),[`${zA}`]:B((t,i)=>{let{payload:o}=i;t.mediaPlaybackFile=o,t.isUsingMediaPlayback=!(null==o||!o.url)}),[`${WA}`]:B((t,i)=>{let{payload:o}=i;t.isStopAllImcomingAudio=o}),[`${sk}`]:B((t,i)=>{let{payload:o}=i;t.isVerifiedAudioPermissionOnIOSMobile=o}),[`${Y0}`]:B((t,i)=>{let{payload:o}=i;t.isAudioBridgeSignalReconnecting=o}),[`${Jf}`]:B((t,i)=>{let{payload:o}=i;t.originalSound=o}),[`${Xu}`]:B((t,i)=>{let{payload:o}=i;t.leaveAudioSource=o}),[`${Zf}`]:B((t,i)=>{let{payload:o}=i;t.secondaryAudioMicrophoneId=o}),[`${qA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,ip:c,protocol:l}=o;-1===t.crcDevice.findIndex(p=>p.sequence===a)&&t.crcDevice.push({sequence:a,ip:c,protocol:l,transId:0,uuid:Rg()})}),[`${KA}`]:B((t,i)=>{let{payload:o}=i;const{sequence:a,transID:c,result:l}=o,p=t.crcDevice.find(h=>h.sequence===a);p&&Object.assign(p,{transId:c,returnCode:l})}),[`${nk}`]:(t,i)=>{let{dialout:o,crcDevice:a,locallyMutedAudioList:c,localUserAudioVolumeList:l,customizeAudioOption:p,originalSound:h,highBitrate:g,isHIDEnabled:v,isBackgroundNoiseSuppression:y,isStopAllImcomingAudio:b,mediaPlaybackFile:E,isUsingMediaPlayback:I,isVerifiedAudioPermissionOnIOSMobile:w,activeSpeaker:_,activeMicrophone:A}=t,{payload:T}=i;return T?{...$S,dialout:o,crcDevice:a,locallyMutedAudioList:c,localUserAudioVolumeList:l,customizeAudioOption:{...$S.customizeAudioOption,speakerOnly:p.speakerOnly},originalSound:h,highBitrate:g,isHIDEnabled:v,isBackgroundNoiseSuppression:y,isStopAllImcomingAudio:b,mediaPlaybackFile:E,isUsingMediaPlayback:I,isVerifiedAudioPermissionOnIOSMobile:w,activeSpeaker:_,activeMicrophone:A}:{...$S}}},$S),HI={epics0:(t,i)=>be(t,12033).pipe(Pe(i),ye(o=>{let[a,c]=o;const{participants:{allowTalkAttendeesList:l}}=c,p=a.payload.body;let h={};if(p){const g=Zt(c),v=Object.keys(p).map(b=>({key:b,userId:p[b]})),y=v.map(b=>b.userId);FI(v,y,g),l.length>0&&y.length>0&&FI(v,y,l),h=v.reduce((b,E)=>({...b,[`${E.key}`]:{userId:E.userId,displayName:E.displayName}}),{}),F(FN,Object.values(h))}return J0(h)})),epics1:(t,i)=>be(t,16135).pipe(Pe(i),Te(o=>{let[a,c]=o;const{payload:{body:{id:l,bLeadershipOn:p}}}=a,{audio:{bCanUnmute:h}}=c,g=Fe(c);if(g){const{isHost:v,bCoHost:y,userId:b,audio:E,muted:I}=g,w=v||y;p&&po(b,l)&&(null!==E&&""!==E&&!0!==I||!w&&!h||F(pp,Wv.Spotlight))}}),ze(Se)),epics2:(t,i)=>be(t,12037).pipe(Pe(i),Te(o=>{let[,a]=o;const c=Fe(a);null!==c?.audio&&""!==c?.audio&&1==c?.muted&&F(pp,Wv.Unmute)}),ze(Se)),epics3:(t,i)=>be(t,mi).pipe(ne(o=>o.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some(a=>void 0!==o.payload.body[a])),se(o=>{const{payload:{body:{bCanUnmute:a,bMutedAll:c,bMutedUponEntry:l}}}=o,p=[];if(void 0!==a&&p.push(qf(o.payload.body.bCanUnmute)),void 0!==c){const h=Fe(i.value);h?.audio!==xt.Computer&&h?.audio!==xt.Phone||0!=h.muted||o.payload.body.bMutedAll&&p.push(Xi(yi.PassiveByMuteAll))}return void 0!==l&&p.push(FA(o.payload.body.bMutedUponEntry)),ve(p)})),epics4:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Connected}),se(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a;if(null!=l&&l.some(p=>void 0!==p.audio||void 0!==p.muted)){const{meeting:{userId:p}}=c,h=l.filter(v=>v.id!==p),g=l.filter(v=>v.id===p);if(h&&h.forEach(v=>{F(E0,v)}),g.length>0)return $l(i).pipe(se(v=>{const{audio:{mutedSource:y,unmutedSource:b,isAllowToTalk:E,isShareAudioEnabled:I,isSharingAudio:w,isAudioBridgeSignalReconnecting:_,leaveAudioSource:A,customizeAudioOption:{speakerOnly:T}}}=i.value,M=v;return ve(g).pipe(ns(function(){var P=Oe(function*(N){const $=[];if(N.audio!==M.audio)if(""===N.audio)F(na,{source:A}),$.push(Xu(void 0));else if(N.audio===xt.Computer){const V=Mr(M.userRole)&&!E||!!T;w&&F(No),V&&(F(No),Re.isIOSMobile&&$.push(sk(!0))),_&&(F(No),$.push(Y0(!1)))}else N.audio===xt.Phone&&(M.audio===xt.Computer&&(yield ei.leaveComputerAudio(),$.push(Xu(lr.Pstn)),au.joinOrLeaveVoip(!1)),F(oy));return""!==M.audio&&N.muted!==M.muted&&(N.muted!==M.muted&&(!0===N.muted?(y!==yi.Inherited&&F(S0,{source:y??yi.PassiveByMuteOne}),M.audio!==xt.Computer||I&&!Ai()||ei.muteAudio()):!1===N.muted&&(b!==vf.Inherited&&F(b0,{source:b??vf.Passive}),M.audio===xt.Computer&&ei.unmuteAudio())),void 0!==N.muted&&$.push(Xi(void 0),Yu(void 0))),$});return function(N){return P.apply(this,arguments)}}()))}))}return Se})),epics5:(t,i)=>be(t,12036).pipe(Pe(i),se(o=>{let[a,c]=o;const l=Fe(c),{media:{audioEncodeStatus:p}}=c,{promoterID:h,bAllowTalk:g}=a.payload.body;if(l?.userId===h){if(F(iy,g),g)return"success"!==p&&ei.enableAudioEncode(),Gr("audio",p,"success").pipe(se(v=>(v&&F(pp,Wv.AllowToTalk),Se)),ds(Z0(!0)));if(au.mute(h,!0),l?.audio===xt.Computer)return ei.leaveComputerAudio(),Rn(300).pipe(Te(Oe(function*(){(lh()?ar(Ho(dn(document,"click").pipe(bt(1)),dn(document,"touchend").pipe(bt(1)))):Promise.resolve(!0)).then(()=>{id(ei,c,!1)})})),ze(Se),ds(Z0(!1),Xi(yi.Inherited)))}return Se})),epics6:t=>be(t,8205).pipe(Te(i=>{F("AUDIO_ALLOW_TO_TALK_RESPONSE",i.payload.body)}),ze(Se)),epics7:(t,i)=>co(t,24597).pipe(Pe(i),Te(o=>{let[a,c]=o;const l=Fe(c);l?.audio===xt.Phone&&au.audioDrop(l.userId)}),ze(Se)),epics8:(t,i)=>be(t,12035).pipe(Pe(i),it(o=>{let[a,c]=o;const{meeting:{currentUserAudioBeforeReset:l}}=c,{payload:{body:{ssrc:p}}}=a,h=$l(i).pipe(se(g=>{if(l===xt.Computer&&(null==g||!g.audio)){const{encodeInitStatus:v,decodeInitStatus:y}=jI(i.value,g);return Gr("audio",v,y).pipe(ne(b=>{let[E,I]=b;return E&&I}),Te(()=>{(lh()?ar(Ho(dn(document,"click").pipe(bt(1)),dn(document,"touchend").pipe(bt(1)))):Promise.resolve(!0)).then(()=>{HS(au,i.value),id(ei,i.value)});const{audio:{locallyMutedAudioList:b,localUserAudioVolumeList:E,isStopAllImcomingAudio:I}}=i.value;b.length>0&&b.forEach(w=>{ei.muteOrUnmuteOtherAudio(w,!0)}),E.length>0&&E.forEach(w=>{ei.adjustOtherAudioVolume(w.userId,w.volume)}),I&&ei.stopAllIncomingAudio(!0)}),hi(cl(void 0)))}return Se}));return F(sy,p),qn(Vt(Ml(p)),h)})),epics9:(t,i)=>be(t,7952).pipe(it(o=>Mt(oy,1).pipe(Pe(i),Te(a=>{let[,c]=a;const{BindStatus:l,nOperatorUserId:p}=o.payload.body,h=c.participants.attendeesList.find(g=>g.userId===p);!0===l&&F(sA,{operatorName:h?.displayName,operatorUserId:p,operatorRole:h?.userRole})}),ze(Se)))),epics10:(t,i)=>Ke(t,he.UserGrantCaptureAudio).pipe(Pe(i),se(o=>{let[a,c]=o;const l=Fe(c);var p;(p=l,p?.audio===xt.Computer?Promise.resolve():Ge({event:Br,operations:[ne(w=>void 0!==w.audio&&""!==w.audio),bt(1)]},w=>{let{audio:_}=w;return _===xt.Phone||_===xt.Computer})).then(()=>{F(No)});const{meeting:{isCurrentUserMutedBeforeReset:h},audio:{bMutedUponEntry:g,isUserGrantCaptureAudio:v,isAllowToTalk:y,activeMicrophone:b}}=c,{payload:{data:E}}=a,I=[VA(!0)];return l&&(!0===l.muted&&!1===y&&(I.push(Xi(yi.Inherited)),au.mute(l.userId,!0)),(!0===h||!(v||l.isHost||y)&&g)&&(I.push(Xi(yi.Inherited)),au.mute(l.userId,!0),h&&I.push(mn(void 0))),E&&b!==E&&I.push(Kf(E))),ve(I)})),epics11:t=>Ke(t,he.UserForbiddedCaptureAudio).pipe(Te(()=>{F(bl)}),hi(Dy(!0))),epics12:t=>Ke(t,he.AudioWebsocketBroken).pipe(Te(()=>{F(Ha)}),ze(Se)),epics13:(t,i)=>Ke(t,he.AudioZeroData).pipe(Pe(i),ua(o=>{let[,a]=o;const{audio:{webrtcRestartCount:c,activeMicrophone:l}}=a;if(c<3)return ei.restoreWebRTC(l),Sp(c+1)})),epics14:(t,i)=>t.pipe(Me(`${Pl}`),ne(o=>!1===o.payload),se(()=>(F(C0),Ho(dn(document,"click").pipe(bt(1)),dn(document,"touchend").pipe(bt(1))).pipe(Te(()=>{HS(au,i.value),id(ei,i.value)}),hi(Pl(!0)))))),epics15:t=>Ke(t,[he.JoinComputerAudioComplete,he.JoinSharingAudioComplete,he.LeaveComputerAudioComplete,he.LeaveSharingAudioComplete]).pipe(Te(()=>{fS.completeAudioAction()}),ze(Se)),epics16:(t,i)=>Ke(t,he.AudioQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{meeting:{isWebinar:p},media:{audioEncodeStatus:h,audioDecodeStatus:g},participants:{xmppAttendeeList:v,allowTalkAttendeesList:y}}=l,b=Fe(l),E=Q0(l);let I=E.length>0,w=E.some(NR);const _=mr();p&&(I=I||!!v.length,w=w||y.some(NR));const A=(b?.audio===xt.Computer||b?.audio===xt.Phone)&&("success"===h||_)&&!(null!=b&&b.muted)&&I,T=(b?.audio===xt.Computer||b?.audio===xt.Phone)&&("success"===g||_)&&I&&w;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?A?(F(I0,c.payload),Oy(c.payload)):Oy(u0):T?(F(I0,c.payload),My(c.payload)):My(u0)})),epics17:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{payload:{body:l}}=a,{audio:{locallyMutedAudioList:p,localUserAudioVolumeList:h}}=c;return(p.length>0||h.length>0)&&l?.remove&&l.remove.length>0}),se(o=>{let[a,c]=o;const{payload:{body:{remove:l}}}=a,{audio:{locallyMutedAudioList:p,localUserAudioVolumeList:h}}=c,g=p.concat(h.map(v=>v.userId)).filter(v=>-1!==l.indexOf(y=>y.id===v));return g.length>0?(g.forEach(v=>{ei.muteOrUnmuteOtherAudio(v,!1)}),ve(g.map(v=>[Cp(v),ok({userId:v})]).flat())):Se})),epics18:(t,i)=>Ke(t,he.HidStatusMute).pipe(se(o=>{const{payload:{data:a}}=o,c=i.value,{meeting:{userId:l},audio:{isShareAudioEnabled:p,bCanUnmute:h}}=c,g=[];if(a)p&&!Ai()&&g.push(Wa(!0)),g.push(Xi(yi.Active)),au.mute(l,!0);else if(!p||Ai()){p&&g.push(Wa(!1));const v=Fe(c);(h||null!=v&&v.isHost||null!=v&&v.bCoHost)&&(g.push(Yu(vf.Active)),au.mute(l,!1))}return ve(g)})),epics19:t=>be(t,12040).pipe(Te(i=>{const{payload:{body:{mode:o}}}=i;ei.setAudioCodecMode(o)}),ze(Se)),epics20:(t,i)=>Ke(t,[he.AudioSpeakerSetSuccess,he.JoinComputerAudioComplete,he.AudioSpeakerSetError]).pipe(se(o=>{const{payload:{data:a,type:c}}=o,{audio:{activeSpeaker:l,activeMicrophone:p}}=i.value,h=[];return c===he.AudioSpeakerSetSuccess&&l!==a?h.push(Ay(a)):c===he.JoinComputerAudioComplete&&null!==a&&p!==a&&h.push(Kf(a)),c===he.AudioSpeakerSetSuccess?F(El,!0):c===he.AudioSpeakerSetError&&F(El,!1),ve(h)})),epics21:(t,i)=>Ke(t,he.AudioLevelIndicator).pipe(ne(()=>{const o=Fe(i.value);return!!o&&o.audio===xt.Computer&&!o.muted}),Te(o=>{const{payload:{data:a}}=o;F(Tf,{level:a.value})}),se(()=>Se))},kR=qr(HI,{shareAudioEpics0:(t,i)=>ur(t,vn).pipe(ne(o=>{const a=o.payload.body.update;return a&&a.length>0&&a.findIndex(c=>void 0!==c.bShareOn)>-1}),Pe(i),se(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{audio:{localShareAudioUserMutedList:p}}=c,h=l.filter(v=>!0===v.bShareOn&&!0===v.bShareAudioOn),g=[];return h.length>0&&h.forEach(v=>{-1===p.findIndex(y=>y.userId===v.id)&&g.push(BA({userId:v.id,isFromMainSession:!!v.bShareToBORooms}))}),ve(g)})),shareAudioEpics1:(t,i)=>Ke(t,he.SharingDesktopStreamHaveAudio).pipe(ne(()=>!i.value.audio.secondaryAudioMicrophoneId),it(()=>be(t,vn).pipe(ne(o=>{var a;const{payload:{body:c}}=o,{meeting:{userId:l}}=i.value;return(null==c||null===(a=c.update)||void 0===a?void 0:a.findIndex(p=>p.id===l&&!0===p.bShareOn))>-1}),bt(1),ns(Oe(function*(){const o=i.value;return yield LI(ad,om,o)})),ds(Ty(!0))))),shareAudioEpics2:(t,i)=>Ke(t,he.SharingDesktopStreamHaveNoAudio).pipe(Pe(i),ne(o=>{var a;let[,c]=o;return!0===(null===(a=c.audio)||void 0===a?void 0:a.isShareAudioEnabled)}),ns(function(){var o=Oe(function*(a){let[,c]=a;return yield OR(ad,om,c)});return function(a){return o.apply(this,arguments)}}())),shareAudioEpics3:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[,a]=o;return a.socket.zoomSocketStatus===Wt.Connected&&!0===a.audio.isSharingAudio}),se(o=>{var a;let[c,l]=o;if(null!==(a=c.payload.body.update)&&void 0!==a&&a.some(p=>void 0!==p.audio||void 0!==p.muted)){const{meeting:{userId:p}}=l,h=c.payload.body.update.filter(g=>g.id===p);return $l(i).pipe(se(g=>{const v=[];return h.findIndex(y=>y.audio===xt.Computer)>-1&&g?.audio!==xt.Computer&&!Ai()&&(v.push(kl(!0)),v.push(Wa(!0))),ve(v)}))}return Se})),shareAudioEpics4:(t,i)=>t.pipe(Me(`${Ci}`),$t(Ui),Pe(i),ne(o=>{var a;let[,c]=o;return!0===(null===(a=c.audio)||void 0===a?void 0:a.isShareAudioEnabled)}),ns(function(){var o=Oe(function*(a){let[c,l]=a;const{payload:p}=c,{audio:{isShareAudioMuted:h,isSharingAudio:g}}=l,v=[];if(p===_t.End){const y=yield OR(ad,om,l);v.push(...y)}else if(p===_t.Paused){if(!1===h&&!0===g){yield ad.leaveSharingAudio(!0),v.push(Ep(!1));const y=yield rm(ad,om,l);v.push(...y),setTimeout(()=>{F(Er,{state:"off"})},0)}}else if(p===_t.Sharing&&!1===h&&!1===g){const y=yield LI(ad,om,l);v.push(...y)}return v});return function(a){return o.apply(this,arguments)}}())),shareAudioEpics5:(t,i)=>Ke(t,he.SharingDesktopStreamHaveAudio).pipe(ne(()=>!!i.value.audio.secondaryAudioMicrophoneId),Te(()=>{const{audio:{audioSsrc:o,secondaryAudioMicrophoneId:a},meeting:{svcUrl:c,conId:l,reportDomain:p,supportLocalAB:h,abToken:g}}=i.value;ad.joinSharingAudio({ssrc:o,microphoneDeviceId:a,speakerDeviceId:null,isCaptureAudio:!0,audioBridge:mr()?{rwgHost:c,cid:l,nginxHost:p,abToken:g,supportLocalAB:h,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser}:void 0}),F(uA)}),se(()=>Se))},{audioBridgEpics0:t=>be(t,4299).pipe(Te(i=>{const{payload:o}=i;dh.passThroughRWGMessage(o)}),ze(Se)),audioBridgEpics1:t=>Ke(t,he.AudioBridgeReconnectStart).pipe(se(()=>(UI.joinOrLeaveVoip(!1),ve([Y0(!0),Xu(lr.Failover)])))),audioBridgEpics2:(t,i)=>Ke(t,he.AudioBridgeReconnectEnd).pipe(Te(()=>{HS(UI,i.value)}),ze(Se)),audioBridgEpics3:t=>be(t,vn).pipe(ne(i=>{var o,a;return mr()&&((null===(o=i.payload.body.update)||void 0===o?void 0:o.some(c=>void 0!==c.muted))||(null===(a=i.payload.body.remove)||void 0===a?void 0:a.length)>0)}),Te(i=>{const{payload:{body:{update:o,remove:a}}}=i;dh.sendUserAudioStatus({update:(o||[]).filter(c=>void 0!==c.muted).map(c=>({userId:c.id,muted:c.muted})),remove:(a||[]).map(c=>({userId:c.id}))})}),ze(Se)),audioBridgEpics4:(t,i)=>Ke(t,he.NotifyUIFailover).pipe(ne(()=>!i.value.meeting.isMeetingReset&&i.value.meeting.meetingStatus===It.Joined),ye(()=>(F(So,{reason:nr.Failover}),er(zt.NotifyUiFailover)))),audioBridgEpics5:(t,i)=>nf(t,i).pipe(ne(()=>{const{meeting:{isAudioBridgeEnabled:o,abToken:a}}=i.value;return o&&mr()&&!!a}),Te(()=>{const{meeting:{abToken:o,svcUrl:a,reportDomain:c,conId:l,supportLocalAB:p}}=i.value;dh.preInitAudioBridge({abToken:o,rwgHost:a,cid:l,nginxHost:c,supportLocalAB:p,useWebRTCOnDesktop:!Re.isAndroidOrIOSBrowser})}),ze(Se)),audioBridgEpics6:(t,i)=>be(t,16129).pipe(ne(o=>{const{payload:{body:{bVideoOn:a}}}=o,{meeting:{isAudioBridgeEnabled:c}}=i.value;return c&&mr()&&!!a}),Te(o=>{const{payload:{body:{id:a}}}=o;dh.changeActiveVideoSsrc(a)}),ze(Se)),audioBridgEpics7:(t,i)=>Ke(t,[he.RecoverWebrtcAudio,he.AudioStreamFailed]).pipe(se(()=>{const o=Fe(i.value),a=[];return o?.audio===xt.Computer&&(dh.leaveComputerAudio(),lh()?(UI.joinOrLeaveVoip(!1),a.push(Xu(lr.EndedBySystem)),a.push(Sp(0))):id(dh,i.value)),ve(a)})),audioBridgEpics8:t=>Ke(t,[he.AudioBridgeFirstRecvData,he.AudioBridgeCanSendData]).pipe(ye(i=>{const{payload:{type:o}}=i;return o===he.AudioBridgeFirstRecvData?(F(zN),ol(!0)):(F(V0),pN(!0))})),audioBridgEpics9:(t,i)=>t.pipe(Me(`${fo}`),ne(()=>!!i.value.meeting.zlkJwtToken),Te(()=>{const{meeting:{zlkJwtToken:o}}=i.value;if(o){const{enforce_web_rtc_audio:a,audio_compatible_mode:c}=Qs(o);void 0===a&&void 0===c||rt.set(df.EnforceWebRTCAudio,1===Number(a)||1===Number(c),Tt.Memory)}}),ze(Se))},{dialEpics0:(t,i)=>be(t,8198).pipe(Pe(i),ne(o=>{let[a,c]=o;return c.audio.dialout.map(l=>l.sequence).includes(a.payload.seq)}),se(o=>{let[a,c]=o;const{payload:{seq:l,body:{phoneNodeID:p,result:h}}}=a,g=[wy({code:h,sequence:l,nodeId:p})],{audio:{dialout:v}}=c,y=v.find(I=>I.sequence===l),b={code:h};if(y&&(Object.assign(b,{phoneNumber:y.phoneNumber,uuid:y.uuid}),p&&Object.assign(b,{userId:p})),F(VN,b),h===jt.Success){if(F(jN),p&&Zt(c).findIndex(I=>I.userId===p)>-1){var E;const I=null===(E=c.audio.dialout.find(w=>w.sequence===l))||void 0===E?void 0:E.phoneNumber;I&&(g.push(mp({userId:p,key:"phoneNumber",value:I})),F(yo,[{userId:p,phoneNumber:I}]))}}else[jt.Canceling,jt.Canceled,jt.CancelFailed].includes(h)?h===jt.Canceled?F(BN):h===jt.CancelFailed&&F(HN):-1===[jt.Calling,jt.Ringing,jt.Accepted,jt.Success].indexOf(h)&&F(UN);return ve(g)})),dialEpics1:(t,i)=>be(t,4120).pipe(Pe(i),ne(o=>{let[a,c]=o;return c.audio.crcDevice.map(l=>l.sequence).includes(a.payload.seq)}),se(o=>{let[a,c]=o;const{payload:{seq:l,body:{result:p,transID:h}}}=a,{audio:{crcDevice:g}}=c,v=[],y=g.find(b=>b.sequence===l);return y&&(F(_0,{code:p,ip:y.ip,protocol:y.protocol,uuid:y.uuid}),v.push(KA({sequence:l,transID:h,result:p}))),p===up.Success?F(w0):[up.Success,up.Ringing].includes(p)||F(Af),ve(v)}))});var $I="object"==typeof global&&global&&global.Object===Object&&global,LR="object"==typeof self&&self&&self.Object===Object&&self,uu=$I||LR||Function("return this")(),ph=uu.Symbol,xR=Object.prototype,E1=xR.hasOwnProperty,C1=xR.toString,im=ph?ph.toStringTag:void 0,I1=Object.prototype.toString,_1="[object Null]",GI="[object Undefined]",FR=ph?ph.toStringTag:void 0;function sm(t){return null==t?void 0===t?GI:_1:FR&&FR in Object(t)?function(i){var o=E1.call(i,im),a=i[im];try{i[im]=void 0;var c=!0}catch{}var l=C1.call(i);return c&&(o?i[im]=a:delete i[im]),l}(t):I1.call(t)}function ud(t){return null!=t&&"object"==typeof t}var am=Array.isArray;function xo(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}var Ti="[object AsyncFunction]",hh="[object Function]",VR="[object GeneratorFunction]",w1="[object Proxy]";function jR(t){if(!xo(t))return!1;var i=sm(t);return i==hh||i==VR||i==Ti||i==w1}var UR,um=uu["__core-js_shared__"],GS=(UR=/[^.]+$/.exec(um&&um.keys&&um.keys.IE_PROTO||""))?"Symbol(src)_1."+UR:"",BR=Function.prototype.toString;function Dc(t){if(null!=t){try{return BR.call(t)}catch{}try{return t+""}catch{}}return""}var D1=/^\[object .+?Constructor\]$/,cd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fh(t,i){var a,c,o=(a=t,c=i,a?.[c]);return function(a){return!(!xo(a)||(c=a,GS&&GS in c))&&(jR(a)?cd:D1).test(Dc(a));var c}(o)?o:void 0}var zI=fh(uu,"WeakMap"),gh=9007199254740991,pV=/^(?:0|[1-9]\d*)$/;function Fo(t,i){var o=typeof t;return!!(i=i??gh)&&("number"==o||"symbol"!=o&&pV.test(t))&&t>-1&&t%1==0&&t<i}function R1(t,i){return t===i||t!=t&&i!=i}var GR=9007199254740991;function WI(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=GR}function O1(t){return null!=t&&WI(t.length)&&!jR(t)}var In=Object.prototype;function zR(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||In)}function WR(t){return ud(t)&&"[object Arguments]"==sm(t)}var qR=Object.prototype,mh=qR.hasOwnProperty,M1=qR.propertyIsEnumerable,cm=WR(function(){return arguments}())?WR:function(t){return ud(t)&&mh.call(t,"callee")&&!M1.call(t,"callee")},lm="object"==typeof $e&&$e&&!$e.nodeType&&$e,Vo=lm&&Ao&&!Ao.nodeType&&Ao,qI=Vo&&Vo.exports===lm?uu.Buffer:void 0,dm=(qI?qI.isBuffer:void 0)||function(){return!1},Nn={};Nn["[object Float32Array]"]=Nn["[object Float64Array]"]=Nn["[object Int8Array]"]=Nn["[object Int16Array]"]=Nn["[object Int32Array]"]=Nn["[object Uint8Array]"]=Nn["[object Uint8ClampedArray]"]=Nn["[object Uint16Array]"]=Nn["[object Uint32Array]"]=!0,Nn["[object Arguments]"]=Nn["[object Array]"]=Nn["[object ArrayBuffer]"]=Nn["[object Boolean]"]=Nn["[object DataView]"]=Nn["[object Date]"]=Nn["[object Error]"]=Nn["[object Function]"]=Nn["[object Map]"]=Nn["[object Number]"]=Nn["[object Object]"]=Nn["[object RegExp]"]=Nn["[object Set]"]=Nn["[object String]"]=Nn["[object WeakMap]"]=!1;var KI,QI="object"==typeof $e&&$e&&!$e.nodeType&&$e,vh=QI&&Ao&&!Ao.nodeType&&Ao,zS=vh&&vh.exports===QI&&$I.process,KR=function(){try{return vh&&vh.require&&vh.require("util").types||zS&&zS.binding&&zS.binding("util")}catch{}}(),QR=KR&&KR.isTypedArray,JI=QR?(KI=QR,function(t){return KI(t)}):function(t){return ud(t)&&WI(t.length)&&!!Nn[sm(t)]},pm=Object.prototype.hasOwnProperty,P1=function(t,i){return function(o){return t(i(o))}}(Object.keys,Object),N1=Object.prototype.hasOwnProperty;function JR(t){if(!zR(t))return P1(t);var i=[];for(var o in Object(t))N1.call(t,o)&&"constructor"!=o&&i.push(o);return i}var yh=fh(Object,"create"),ZR=Object.prototype.hasOwnProperty,YR=Object.prototype.hasOwnProperty;function ld(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}function Ac(t,i){for(var o=t.length;o--;)if(R1(t[o][0],i))return o;return-1}ld.prototype.clear=function(){this.__data__=yh?yh(null):{},this.size=0},ld.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},ld.prototype.get=function(t){var i=this.__data__;if(yh){var o=i[t];return"__lodash_hash_undefined__"===o?void 0:o}return ZR.call(i,t)?i[t]:void 0},ld.prototype.has=function(t){var i=this.__data__;return yh?void 0!==i[t]:YR.call(i,t)},ld.prototype.set=function(t,i){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=yh&&void 0===i?"__lodash_hash_undefined__":i,this};var hm=Array.prototype.splice;function cu(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}cu.prototype.clear=function(){this.__data__=[],this.size=0},cu.prototype.delete=function(t){var i=this.__data__,o=Ac(i,t);return!(o<0||(o==i.length-1?i.pop():hm.call(i,o,1),--this.size,0))},cu.prototype.get=function(t){var i=this.__data__,o=Ac(i,t);return o<0?void 0:i[o][1]},cu.prototype.has=function(t){return Ac(this.__data__,t)>-1},cu.prototype.set=function(t,i){var o=this.__data__,a=Ac(o,t);return a<0?(++this.size,o.push([t,i])):o[a][1]=i,this};var fm=fh(uu,"Map");function gm(t,i){var o,a,c=t.__data__;return("string"==(a=typeof(o=i))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==o:null===o)?c["string"==typeof i?"string":"hash"]:c.map}function Ps(t){var i=-1,o=null==t?0:t.length;for(this.clear();++i<o;){var a=t[i];this.set(a[0],a[1])}}function Tc(t){var i=this.__data__=new cu(t);this.size=i.size}Ps.prototype.clear=function(){this.size=0,this.__data__={hash:new ld,map:new(fm||cu),string:new ld}},Ps.prototype.delete=function(t){var i=gm(this,t).delete(t);return this.size-=i?1:0,i},Ps.prototype.get=function(t){return gm(this,t).get(t)},Ps.prototype.has=function(t){return gm(this,t).has(t)},Ps.prototype.set=function(t,i){var o=gm(this,t),a=o.size;return o.set(t,i),this.size+=o.size==a?0:1,this},Tc.prototype.clear=function(){this.__data__=new cu,this.size=0},Tc.prototype.delete=function(t){var i=this.__data__,o=i.delete(t);return this.size=i.size,o},Tc.prototype.get=function(t){return this.__data__.get(t)},Tc.prototype.has=function(t){return this.__data__.has(t)},Tc.prototype.set=function(t,i){var o=this.__data__;if(o instanceof cu){var a=o.__data__;if(!fm||a.length<199)return a.push([t,i]),this.size=++o.size,this;o=this.__data__=new Ps(a)}return o.set(t,i),this.size=o.size,this};var k1=Object.prototype.propertyIsEnumerable,XR=Object.getOwnPropertySymbols,eO=XR?function(t){return null==t?[]:(t=Object(t),function(i,o){for(var a=-1,c=null==i?0:i.length,l=0,p=[];++a<c;){var h=i[a];o(h)&&(p[l++]=h)}return p}(XR(t),function(i){return k1.call(t,i)}))}:function(){return[]};function ZI(t){return a=eO,c=function WS(t){return O1(t)?function(i,o){var a=am(i),c=!a&&cm(i),l=!a&&!c&&dm(i),p=!a&&!c&&!l&&JI(i),h=a||c||l||p,g=h?function(b,E){for(var I=-1,w=Array(b);++I<b;)w[I]=E(I);return w}(i.length,String):[],v=g.length;for(var y in i)!pm.call(i,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||Fo(y,v))||g.push(y);return g}(t):JR(t)}(i=t),am(i)?c:function(l,p){for(var h=-1,g=p.length,v=l.length;++h<g;)l[v+h]=p[h];return l}(c,a(i));var i,a,c}var qS=fh(uu,"DataView"),YI=fh(uu,"Promise"),KS=fh(uu,"Set"),tO="[object Map]",nO="[object Promise]",L1="[object Set]",x1="[object WeakMap]",F1="[object DataView]",hV=Dc(qS),rO=Dc(fm),QS=Dc(YI),V1=Dc(KS),j1=Dc(zI),Rc=sm;(qS&&Rc(new qS(new ArrayBuffer(1)))!=F1||fm&&Rc(new fm)!=tO||YI&&Rc(YI.resolve())!=nO||KS&&Rc(new KS)!=L1||zI&&Rc(new zI)!=x1)&&(Rc=function(t){var i=sm(t),o="[object Object]"==i?t.constructor:void 0,a=o?Dc(o):"";if(a)switch(a){case hV:return F1;case rO:return tO;case QS:return nO;case V1:return L1;case j1:return x1}return i});var dd=Rc,oO=uu.Uint8Array;function JS(t){var i=-1,o=null==t?0:t.length;for(this.__data__=new Ps;++i<o;)this.add(t[i])}function U1(t,i){for(var o=-1,a=null==t?0:t.length;++o<a;)if(i(t[o],o,t))return!0;return!1}JS.prototype.add=JS.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},JS.prototype.has=function(t){return this.__data__.has(t)};var B1=1,fV=2;function iO(t,i,o,a,c,l){var p=o&B1,h=t.length,g=i.length;if(h!=g&&!(p&&g>h))return!1;var v=l.get(t),y=l.get(i);if(v&&y)return v==i&&y==t;var b=-1,E=!0,I=o&fV?new JS:void 0;for(l.set(t,i),l.set(i,t);++b<h;){var w=t[b],_=i[b];if(a)var A=p?a(_,w,b,i,t,l):a(w,_,b,t,i,l);if(void 0!==A){if(A)continue;E=!1;break}if(I){if(!U1(i,function(T,M){if(!I.has(M)&&(w===T||c(w,T,o,a,l)))return I.push(M)})){E=!1;break}}else if(w!==_&&!c(w,_,o,a,l)){E=!1;break}}return l.delete(t),l.delete(i),E}function sO(t){var i=-1,o=Array(t.size);return t.forEach(function(a,c){o[++i]=[c,a]}),o}function H1(t){var i=-1,o=Array(t.size);return t.forEach(function(a){o[++i]=a}),o}var pO=ph?ph.prototype:void 0,e_=pO?pO.valueOf:void 0,t_=Object.prototype.hasOwnProperty,n_="[object Arguments]",hO="[object Array]",ZS="[object Object]",fO=Object.prototype.hasOwnProperty;function gO(t,i,o,a,c){return t===i||(null==t||null==i||!ud(t)&&!ud(i)?t!=t&&i!=i:function(l,p,h,g,v,y){var b=am(l),E=am(p),I=b?hO:dd(l),w=E?hO:dd(p),_=(I=I==n_?ZS:I)==ZS,A=(w=w==n_?ZS:w)==ZS,T=I==w;if(T&&dm(l)){if(!dm(p))return!1;b=!0,_=!1}if(T&&!_)return y||(y=new Tc),b||JI(l)?iO(l,p,h,g,v,y):function(V,L,Q,Y,z,j,O){switch(Q){case"[object DataView]":if(V.byteLength!=L.byteLength||V.byteOffset!=L.byteOffset)return!1;V=V.buffer,L=L.buffer;case"[object ArrayBuffer]":return!(V.byteLength!=L.byteLength||!j(new oO(V),new oO(L)));case"[object Boolean]":case"[object Date]":case"[object Number]":return R1(+V,+L);case"[object Error]":return V.name==L.name&&V.message==L.message;case"[object RegExp]":case"[object String]":return V==L+"";case"[object Map]":var k=sO;case"[object Set]":if(k||(k=H1),V.size!=L.size&&!(1&Y))return!1;var U=O.get(V);if(U)return U==L;Y|=2,O.set(V,L);var K=iO(k(V),k(L),Y,z,j,O);return O.delete(V),K;case"[object Symbol]":if(e_)return e_.call(V)==e_.call(L)}return!1}(l,p,I,h,g,v,y);if(!(1&h)){var M=_&&fO.call(l,"__wrapped__"),P=A&&fO.call(p,"__wrapped__");if(M||P){var N=M?l.value():l,$=P?p.value():p;return y||(y=new Tc),v(N,$,h,g,y)}}return!!T&&(y||(y=new Tc),function(V,L,Q,Y,z,j){var O=1&Q,k=ZI(V),H=k.length;if(H!=ZI(L).length&&!O)return!1;for(var U=H;U--;){var K=k[U];if(!(O?K in L:t_.call(L,K)))return!1}var re=j.get(V),te=j.get(L);if(re&&te)return re==L&&te==V;var me=!0;j.set(V,L),j.set(L,V);for(var Ne=O;++U<H;){var De=V[K=k[U]],Ue=L[K];if(Y)var Be=O?Y(Ue,De,K,L,V,j):Y(De,Ue,K,V,L,j);if(!(void 0===Be?De===Ue||z(De,Ue,Q,Y,j):Be)){me=!1;break}Ne||(Ne="constructor"==K)}if(me&&!Ne){var ke=V.constructor,xe=L.constructor;ke==xe||!("constructor"in V)||!("constructor"in L)||"function"==typeof ke&&ke instanceof ke&&"function"==typeof xe&&xe instanceof xe||(me=!1)}return j.delete(V),j.delete(L),me}(l,p,h,g,v,y))}(t,i,o,a,gO,c))}var Z1=Object.prototype.hasOwnProperty;const mO=t=>4294966272&t,r_=t=>{let i={R:0,G:0,B:0,A:0};if("string"==typeof t&&t.startsWith("#")){const h=t.slice(1);try{if(3===h.length){const g=Array.from(h).map(v=>v.repeat(2)).map(v=>parseInt(v,16));i={R:g[0]/255,G:g[1]/255,B:g[2]/255,A:1}}else if(6===h.length||8===h.length){var o,a,c,l,p;const g=null===(o=h.match(/\S{2}/g))||void 0===o?void 0:o.map(v=>parseInt(v,16));i={R:(null!==(a=g?.[0])&&void 0!==a?a:0)/255,G:(null!==(c=g?.[1])&&void 0!==c?c:0)/255,B:(null!==(l=g?.[2])&&void 0!==l?l:0)/255,A:null!=g&&g[3]?(null!==(p=g?.[3])&&void 0!==p?p:0)/255:1}}}catch{console.warn("error color representation:",t)}}else"object"==typeof t&&(i={R:t.R/255,G:t.G/255,B:t.B/255,A:t.A||1});return i};function o_(t){let{captureWidth:i=0,captureHeight:o=0}=t||{};const{hd:a}=t||{};var c,l;return 0!==i&&0!==o||(a&&Ye.isSupportSending720P()?(i=1280,o=720):(i=640,o=360)),{captureWidth:i,captureHeight:o,isCustomizedResolution:!(null==t||!t.captureWidth||!t.captureHeight||(c=i,l=o,Math.abs(Math.floor(c/l*10)-Math.floor(16/9*10))<=1))}}function i_(t,i){return"default"===t||i.some(o=>o.deviceId===t)||[Ua.Environment,Ua.User,Ua.Left,Ua.Right].includes(t)}function s_(t,i){if("function"==typeof DOMMatrixReadOnly){const o=new DOMMatrixReadOnly(getComputedStyle(t).transform).scale(-1,1).toString();t.style.transform=o,t.dataset.mirrored=i?"1":"0"}}function vO(t,i,o){const a=[],{video:{videoSsrc:c,activeCamera:l}}=i,{cameraId:p=l,videoElement:h,originalRatio:g,ptz:v,hd:y,fullHd:b,mediaFile:E,fps:I,mirrored:w}=o||{};let _;if(void 0!==h){let $=h instanceof HTMLVideoElement?h:null;if("string"==typeof h){let[V,L]=[document.body,h];if(h.indexOf(">")>-1){const[Q,Y]=h.split(">");V=document.querySelector(Q),L=Y}V&&($=V.querySelector(L))}if(!$)return[];_=$,$.id||($.id=Ma("__ZOOM_SDK_SELF_VIDEO_@__")),w&&"1"!==$.dataset.mirrored&&s_($,w)}let A=I??Ef.Default;A=Math.max(Ef.Min,A),A=Math.min(Ef.Max,A);const{captureWidth:T,captureHeight:M,isCustomizedResolution:P}=o_(o);if(P)t.updateVideoHDValue(!1);else{t.updateVideoHDValue(!!y||!!b);const $=!!b&&Ye.isSupportFullHDVideo();t.updateVideoFullhdValue($)}let N=Promise.resolve(p);if(E&&E.url){const $=ts.getInstance();N=$.setVideoElement(E).then(()=>$.videoElement)}else ts.getInstance().stopVideoElement();return N.then($=>{t.startCaptureVideo(c,$,T,M,_,Re.isAndroidOrIOSBrowser&&Sf.includes($),!g&&function(){var V,L;const{isAndroidOrIOSBrowser:Q,isFirefox:Y,isSafari:z}=Re;return Q||!(null!==(V=navigator.mediaDevices)&&void 0!==V&&null!==(L=V.getSupportedConstraints)&&void 0!==L&&L.call(V).aspectRatio)||Y||z||_N()}(),v,A)}),a.push(uC({cameraId:p,captureWidth:T,captureHeight:M,videoElement:"string"==typeof h?h:h instanceof HTMLVideoElement?Go(h):void 0,originalRatio:g,ptz:v,hd:y,fullHd:b,mediaFile:E,fps:A,mirrored:w})),a}function yO(t,i,o){const{max:a,min:c,step:l}=t;let p=o/100*(a-c);l&&(p=Math.min(Math.floor(p/l)*l,Math.floor(p)));let h=i+p;return h=Math.min(a,h),h=Math.max(c,h),h}function a_(t,i){let o="",a=i;switch(t){case zu.Down:a=-i,o="tilt";break;case zu.Up:o="tilt";break;case zu.Left:a=-i,o="pan";break;case zu.Right:o="pan";break;case zu.ZoomIn:o="zoom";break;case zu.ZoomOut:a=-i,o="zoom"}return{key:o,range:a}}function u_(t){const i=["pan","tilt","zoom"].reduce((o,a)=>t[a]&&0!==t[a].value?{...o,[a]:t[a].value}:o,{});return function(o){if(null==o)return!0;if(O1(o)&&(am(o)||"string"==typeof o||"function"==typeof o.splice||dm(o)||JI(o)||cm(o)))return!o.length;var a=dd(o);if("[object Map]"==a||"[object Set]"==a)return!o.size;if(zR(o))return!JR(o).length;for(var c in o)if(Z1.call(o,c))return!1;return!0}(i)?null:i}function SO(t){return{pan:(t&ta.Pan)===ta.Pan,tilt:(t&ta.Tilt)===ta.Tilt,zoom:(t&ta.Zoom)===ta.Zoom}}function lu(t){const{isAndroidBrowser:i,isIOSMobile:o,isFirefox:a,isSupportImageCapture:c,isSupportMediaStreamTrackProcessor:l,isSupportOffscreenCanvas:p}=Re,g="function"!=typeof window.SharedArrayBuffer&&i&&!a;return o&&"function"==typeof VideoFrame||g||!ZE()&&!t&&!kC()&&(c||l)&&p}function c_(){var t,i;return"orientation"in window.screen?null===(t=screen.orientation.type)||void 0===t?void 0:t.startsWith("landscape"):"orientation"in window?90===Math.abs(window.orientation):"matchMedia"in window?!(null===(i=window.matchMedia("(orientation: landscape)"))||void 0===i||!i.matches):screen.availWidth>screen.availHeight}function bO(t,i,o){const{meeting:{userId:a},video:{isSupportHDVideo:c,renderedVideoList:l,maximumNumbeOfHDSubscriptions:p,receivedVideoMaxQuality:h}}=o,g=t===a;let v=i;if(i>=qo.Video_720P)if(c){const b=l.filter(I=>I.videoQuality===qo.Video_720P).map(I=>I.userId),E=p??1;b.length>=E&&(b.includes(t)||g||(console.warn(`Warning: Web Video SDK currently only supports subscribing to ${E} 720p video stream, so quality has been downgraded to 360p`),v=qo.Video_360P))}else console.warn("Can not subscribe 720P video stream,will downgrade to 360P stream"),v=qo.Video_360P;const y=Math.max(h,qo.Video_360P);return[v,Math.min(v,y)]}const Oc=Ot.createAgent(),Ns=_o(Ye.getInstance());let ks,vm;function EO(t,i,o){return l_.apply(this,arguments)}function l_(){return l_=Oe(function*(t,i,o){const a=Ma(t),c=document.createElement("img");return c.src=i,c.id=a,c.style.display="none",gi(i)&&c.setAttribute("crossorigin",""),yield new Promise((l,p)=>{c.onload=()=>{o&&URL.revokeObjectURL(i),l("")},c.onerror=()=>{o&&URL.revokeObjectURL(i),p("Cannot load  image.")}}),{imageId:a,imgElement:c}}),l_.apply(this,arguments)}function ym(t,i,o){return d_.apply(this,arguments)}function d_(){return d_=Oe(function*(t,i,o){if(t===$u)return $u;{let a=t;if(i){const c=yield(l=t,new Promise((p,h)=>{try{ks&&vm||(ks=document.createElement("canvas"),vm=ks.getContext("2d"));const g=ks,v=vm;if(v){v.clearRect(0,0,ks.width,ks.height);const y=new Image;y.src=l,gi(l)&&(y.crossOrigin="");const b=16/9,E=1280,I=Math.floor(E/b);g.width=E,g.height=I,y.onload=()=>{const{width:w,height:_}=y,A=_*b;if(A>w){const T=w,M=Math.floor(w/b),P=0,N=(_-M)/2;v?.drawImage(y,P,N,T,M,0,0,E,I)}else v.drawImage(y,(w-A)/2,0,A,_,0,0,E,I);try{g.toBlob(T=>{p(T)})}catch(T){T instanceof DOMException&&T.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),h(T)}},y.onerror=w=>{h("Cannot load  image.")}}}catch(g){h(g)}}));a=URL.createObjectURL(c)}if(a){const{imageId:c,imgElement:l}=yield EO(s0,a,!!i);return(o??document.body).appendChild(l),c}}var l;return null}),d_.apply(this,arguments)}function p_(t,i,o){return Sm.apply(this,arguments)}function Sm(){return Sm=Oe(function*(t,i,o){var a;const c=null!==(a=o&&o.parentNode)&&void 0!==a?a:document.body,{imageUrl:l,cropped:p,rootWidth:h,rootHeight:g}=t;let v=t;!i.video.customizedVideoOption||t.captureWidth&&t.captureHeight||(v=i.video.customizedVideoOption);const{captureWidth:y,captureHeight:b}=o_(v),E=document.createElement("div");let I;E.style.display="none",I=l?yield ym(l,p,E):null;let w,_=Ma(kN);if(o){const A=Fp(o);A.id?_=A.id:A.id=_,w=A;try{h&&o.width!==h&&(o.width=h),g&&o.height!==g&&(o.height=g)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else{const A=document.createElement("canvas");A.width=h??380,A.height=g??214,A.id=_,w=A,E.appendChild(A)}return c?.appendChild(E),{captureWidth:y,captureHeight:b,imageId:I,canvas:w,divElement:E}}),Sm.apply(this,arguments)}function h_(t,i,o,a){return YS.apply(this,arguments)}function YS(){return YS=Oe(function*(t,i,o,a){const c=Array.isArray(t)?t:t&&[t];if(c?.length>0){ks&&vm||(ks=document.createElement("canvas"),vm=ks.getContext("2d"));const l=ks,p=vm;if(l.width=i,l.height=o,p)try{p.fillStyle="#fff",p.clearRect(0,0,i,o);for(let g=0;g<c.length;g++){const v=c[g],{type:y,x:b,y:E}=v;if("rectangle"===y){const{width:I,height:w}=v;p.fillRect(b,E,I,w)}else if("square"===y){const{length:I}=v;p.fillRect(b,E,I,I)}else if("circle"===y){const{radius:I}=v;p.beginPath(),p.arc(b,E,I,0,2*Math.PI),p.fill()}else if("svg"===y){const{svg:I,width:w,height:_}=v,A=new Image;A.src=I,gi(I)&&(A.crossOrigin=""),yield new Promise((P,N)=>{A.onload=()=>{P("")},A.onerror=()=>{N()}});const{width:T,height:M}=A;p.drawImage(A,0,0,T,M,b,E,w,_)}}const h=yield new Promise(g=>{l?.toBlob(v=>{g(v)})});if(h){const g=URL.createObjectURL(h),{imageId:v,imgElement:y}=yield EO(LN,g,!0);return(a??document.body).appendChild(y),v}}catch(h){h instanceof DOMException&&h.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}),YS.apply(this,arguments)}function f_(t,i){if(t===i||null==t&&null==i)return!0;const o=Array.isArray(t)?[...t]:[t],a=Array.isArray(i)?[...i]:[i];if(o.length!==a.length)return!1;const c=(l,p)=>l.type<p.type?-1:l.type===p.type?0:1;o.sort(c),a.sort(c);for(let l=0;l<o.length;l++)if(!Kd(o[l],a[l]))return!1;return!0}function bm(t,i,o,a){const{video:{isCurrentUserStartedVideo:c,virtualBackground:{isVBPreloadReady:l,isVBConfigured:p,imageSrc:h},backgroundMode:g},meeting:{isCurrentUserStartVideoBeforeReset:v}}=o;return ar((y=l,void 0!==y?ve([y]):Mt(If,1).pipe(ye(b=>b)))).then(y=>{return y?a||!p&&t.imageUrl!==$u&&t.imageUrl?(b=Oe(function*(E,I,w,_){const{canvas:A,imageId:T,captureHeight:M,captureWidth:P,divElement:N}=yield p_(E,w,_),{cameraId:$}=E,{video:{videoSsrc:V,activeCamera:L}}=w;return I.startVirtualBackgroundSetting(A,T,V,$??L,P,M),N}),function(E,I,w,_){return b.apply(this,arguments)})(t,i,o,a).then(b=>c?ag(!0):ar(Mt(_f,1)).then(E=>{var I;return a||i.stopVirtualBackgroundSetting(),E?(null==b||null===(I=b.parentNode)||void 0===I||I.removeChild(b),!0):Promise.reject("Cannot access the virtual background image.")})):h===t.imageUrl&&g===Ji.VirtualBackground&&!v||function(){var b=Oe(function*(E,I,w){const{imageUrl:_,cropped:A}=E;if(_){const T=yield ym(_,A);T&&(w.video.backgroundMode===Ji.Mask&&(I.stopMaskSetting(!0),yield Ks(()=>{I.stopVirtualBackgroundSetting()},0)),I.updateVirtualBackgroundImage(T),T!==$u&&setTimeout(()=>{uc(T)},0))}else I.updateVirtualBackgroundImage(null)});return function(E,I,w){return b.apply(this,arguments)}}()(t,i,o):Promise.reject("Cannot load virtual background model.");var b});var y}function Em(t,i,o,a){const{video:{mask:{isMaskConfigured:c,imageSrc:l,clip:p},backgroundMode:h,isCurrentUserStartedVideo:g},meeting:{isCurrentUserStartVideoBeforeReset:v}}=o;return a||!c&&t.imageUrl?(y=Oe(function*(b,E,I,w){const{canvas:_,imageId:A,captureHeight:T,captureWidth:M,divElement:P}=yield p_(b,I,w),{cameraId:N,clip:$,rootWidth:V=1280,rootHeight:L=720}=b,Q=$?yield h_($,V,L,P):null,{video:{videoSsrc:Y,activeCamera:z}}=I;return Q?(E.startMaskSetting(_,A,Q,Y,N??z,V,L,M,T),P):Promise.reject("Clip is empty")}),function(b,E,I,w){return y.apply(this,arguments)})(t,i,o,a).then(y=>g?dg(!0):ar(Mt(ry,1)).then(b=>{var E;return a||i.stopMaskSetting(),b?(null==y||null===(E=y.parentNode)||void 0===E||E.removeChild(y),!0):Promise.reject("Cannot set video mask")})):h===Ji.Mask&&t.imageUrl===l&&f_(t.clip,p)&&!v?Promise.resolve(!0):function(){var y=Oe(function*(b,E,I){const{imageUrl:w,cropped:_,clip:A,rootWidth:T,rootHeight:M}=b,{video:{mask:{imageSrc:P,cropped:N,clip:$},backgroundMode:V}}=I;if(w){if(V===Ji.VirtualBackground&&(E.stopVirtualBackgroundSetting(!0),yield Ks(()=>{E.stopMaskSetting()},0)),w!==P||_!==N){const L=yield ym(w,_);L&&(E.updateMaskBackgroundImage(L),setTimeout(()=>{uc(L)},0))}if((!f_(A,$)||!P)&&A&&T&&M){const L=yield h_(A,T,M);L&&(E.updateMaskClip(L,T,M),setTimeout(()=>{uc(L)},0))}}else E.updateMaskBackgroundImage(null),E.updateMaskClip(null,T,M)});return function(b,E,I){return y.apply(this,arguments)}}()(t,i,o);var y}const Cm=Ot.createAgent(),as=_o(Ye.getInstance()),CO=Ot.createAgent(),g_=_o(Ye.getInstance()),IO={videoSsrc:0,cameraDevicesList:[],activeCamera:Re.isAndroidOrIOSBrowser?Ua.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,isMirrored:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?qo.Video_1080P:qo.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,isFullHDVideoEnabled:!1,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Ji.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{},rendererType:l0.WebGL,selfPreviewVideoList:[]},_O=gr({[`${tT}`]:B((t,i)=>{let{payload:o}=i;t.videoSsrc=o}),[`${Dp}`]:B((t,i)=>{let{payload:o}=i;t.cameraDevicesList=o}),[`${tg}`]:B((t,i)=>{let{payload:o}=i;const a=t.activeCamera;if(a in t.ptz){const c=t.ptz[a];["pan","tilt","zoom"].forEach(l=>{c[l]&&(c[l].value=0)})}t.activeCamera=o}),[`${ck}`]:B((t,i)=>{let{payload:o}=i;t.activeVideoId=o.userId}),[`${iC}`]:B((t,i)=>{let{payload:o}=i;t.isCurrentUserStartedVideo=o}),[`${Fy}`]:B((t,i)=>{let{payload:o}=i;t.spotlightUserList=o}),[`${ng}`]:B((t,i)=>{let{payload:o}=i;t.isCaptureForbidden=o}),[`${Vy}`]:B((t,i)=>{let{payload:o}=i;t.receivedVideoMaxQuality=o}),[`${sC}`]:B((t,i)=>{let{payload:o}=i;t.isVideoMuted=o}),[`${tc}`]:B((t,i)=>{let{payload:o}=i;t.isCaptureCameraLoading=o}),[`${nc}`]:B((t,i)=>{let{payload:o}=i;t.isCameraTaken=o}),[`${rg}`]:B((t,i)=>{let{payload:o}=i;t.receivedVideoDimension=o}),[`${rc}`]:B((t,i)=>{let{payload:o}=i;t.subscribedVideoList.includes(o)||t.subscribedVideoList.push(o)}),[`${og}`]:B((t,i)=>{let{payload:o}=i;const a=t.subscribedVideoList.indexOf(o);a>=0&&t.subscribedVideoList.splice(a,1)}),[`${Ap}`]:B((t,i)=>{let{payload:o}=i;const a=t.renderedVideoList.find(c=>c.userId===o.userId&&c.key===o.key&&c.canvasId===o.canvasId);a?(void 0!==o.videoQuality&&(a.videoQuality=o.videoQuality),void 0!==o.aspectRatio&&(a.aspectRatio=o.aspectRatio)):t.renderedVideoList.push({...o})}),[`${sg}`]:B((t,i)=>{let{payload:o}=i;const a=t.renderedVideoList.findIndex(c=>c.userId===o.userId&&c.key===o.key&&c.canvasId===o.canvasId);a>=0&&t.renderedVideoList.splice(a,1)}),[`${jy}`]:B((t,i)=>{let{payload:o}=i;t.isFollowHostVideoLayout=o}),[`${ig}`]:B((t,i)=>{let{payload:o}=i;t.hostDragLayout=o}),[`${nT}`]:B((t,i)=>{let{payload:o}=i;t.isSupportHDVideo=o}),[`${rT}`]:B((t,i)=>{let{payload:o}=i;t.maximumNumbeOfHDSubscriptions=o}),[`${oT}`]:B((t,i)=>{let{payload:o}=i;t.bCanUnmuteVideo=o}),[`${Uy}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.isVBPreloadReady=o}),[`${ag}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.isVBConfigured=o}),[`${ft}`]:B((t,i)=>{let{payload:o}=i;t.virtualBackground.imageSrc=o.imageUrl,t.virtualBackground.cropped=o.cropped,t.backgroundMode=Ji.VirtualBackground}),[`${et}`]:B((t,i)=>{let{payload:o}=i;const{encode:a,decode:c}=o;void 0!==a&&(t.hardwareAcceleration.encode=a),void 0!==c&&(t.hardwareAcceleration.decode=c)}),[`${By}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.encode={bitrate:c,...l}}),[`${ug}`]:B((t,i)=>{let{payload:o}=i;const{data:{encoding:a,rate:c,...l}}=o;t.statistic.decode={bitrate:c,...l}}),[`${uC}`]:B((t,i)=>{let{payload:o}=i;const{cameraId:a,captureWidth:c,captureHeight:l,videoElement:p,originalRatio:h,ptz:g,hd:v,fullHd:y,mediaFile:b,fps:E,mirrored:I}=o;t.activeCamera=a,t.customizedVideoOption={captureWidth:c,captureHeight:l,videoElement:p,originalRatio:h,ptz:g,hd:v,fullHd:y,fps:E},Kd(t.mediaPlaybackFile,b)||(t.mediaPlaybackFile=b,t.isUsingMediaPlayback=!(null==b||!b.url)),void 0!==I&&(t.isMirrored=!!I)}),[`${Hy}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,level:c,bwLevel:l,type:p}=o;Object.prototype.hasOwnProperty.call(t.networkQuality,`${a}`)?t.networkQuality[`${a}`][`${p}`]={level:c,bwLevel:l}:Object.assign(t.networkQuality,{[`${a}`]:{[p]:{level:c,bwLevel:l}}})}),[`${iT}`]:B((t,i)=>{let{payload:o}=i;const{deviceId:a,ptzRange:c}=o;if(Object.prototype.hasOwnProperty.call(t.ptz,a)){const l=t.ptz[a];l&&["pan","tilt","zoom"].forEach(p=>{const h=c[p];if(h){var g;const v=null===(g=l[p])||void 0===g?void 0:g.capability;v?Object.assign(v,{...h}):l[p]={capability:{...h},value:0}}})}else Object.assign(t.ptz,{[a]:{pan:c.pan?{capability:{...c.pan},value:0}:null,tilt:c.tilt?{capability:{...c.tilt},value:0}:null,zoom:c.zoom?{capability:{...c.zoom},value:0}:null}})}),[`${Ul}`]:B((t,i)=>{let{payload:o}=i;t.currentCameraControlStatus.isRequested=o}),[`${Ja}`]:B((t,i)=>{let{payload:o}=i;const{isInControl:a,userId:c}=o;t.currentCameraControlStatus.isInControl=a,t.currentCameraControlStatus.controllingUserId=c}),[`${$y}`]:B((t,i)=>{let{payload:o}=i;t.farEndCameraControlStatus.controlledUserList.includes(o)||t.farEndCameraControlStatus.controlledUserList.push(o)}),[`${oc}`]:B((t,i)=>{let{payload:o}=i;const a=t.farEndCameraControlStatus.controlledUserList.indexOf(o);-1!==a&&t.farEndCameraControlStatus.controlledUserList.splice(a,1)}),[`${Gy}`]:B((t,i)=>{let{payload:o}=i;t.currentCameraControlStatus.isCameraMoving="start"===o.cmd}),[`${cg}`]:B((t,i)=>{let{payload:o}=i;const{constraints:a,deviceId:c}=o,l=t.ptz[c];["pan","tilt","zoom"].forEach(p=>{void 0!==a[p]&&(l[p].value=a[p])})}),[`${lg}`]:B((t,i)=>{let{payload:o}=i;t.farEndCameraControlStatus.isControlling=o}),[`${zy}`]:B((t,i)=>{let{payload:o}=i;t.networkQualityBroadcastTime=o}),[`${dg}`]:B((t,i)=>{let{payload:o}=i;t.mask.isMaskConfigured=o}),[`${Wy}`]:B((t,i)=>{let{payload:o}=i;const{imageUrl:a,cropped:c,rootHeight:l,rootWidth:p,clip:h}=o;t.mask.imageSrc=a,t.mask.cropped=c,t.mask.clip=h,t.mask.rootWidth=p,t.mask.rootHeight=l,t.backgroundMode=Ji.Mask}),[`${cC}`]:B((t,i)=>{let{payload:o}=i;t.backgroundMode=o}),[`${sT}`]:B((t,i)=>{let{payload:o}=i;t.capturedVideoDimension=o}),[`${aT}`]:B((t,i)=>{let{payload:o}=i;t.ensuredCanvas.includes(o)||t.ensuredCanvas.push(o)}),[`${qy}`]:B((t,i)=>{let{payload:o}=i;t.mediaPlaybackFile=o,t.isUsingMediaPlayback=!(null==o||!o.url)}),[`${Tp}`]:B((t,i)=>{let{payload:o}=i;if(o){const{lastCopy:a,...c}=o;t.prefetchedVideo=c}else t.prefetchedVideo=o}),[`${lC}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t.subscriptionStatus,o)}),[`${uT}`]:B((t,i)=>{let{payload:o}=i;t.isFullHDVideoEnabled=o}),[`${cT}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,element:c}=o,l=t.videoAttachments[`${a}`];if(l)-1===l.indexOf(c)&&l.push(c);else{const p=[];p.push(c),Object.assign(t.videoAttachments,{[`${a}`]:p})}}),[`${pg}`]:B((t,i)=>{let{payload:o}=i;const{userId:a,element:c}=o,l=t.videoAttachments[`${a}`];let p=c;Array.isArray(c)||(p=[c]),p.forEach(h=>{if(l){const g=l.indexOf(h);-1!==g&&l.splice(g,1)}})}),[`${dC}`]:B((t,i)=>{let{payload:o}=i;o&&(t.rendererType=l0.WebGL2)}),[`${lT}`]:B((t,i)=>{let{payload:o}=i;o&&(t.rendererType=l0.WebGPU)}),[`${dT}`]:B((t,i)=>{let{payload:o}=i;t.rendererType=o}),[`${ko}`]:B((t,i)=>{let{payload:o}=i;t.isMirrored=o}),[`${pT}`]:B((t,i)=>{let{payload:o}=i;t.selfPreviewVideoList.includes(o)||t.selfPreviewVideoList.push(o)}),[`${pC}`]:B((t,i)=>{let{payload:o}=i;if(o){const a=t.selfPreviewVideoList.indexOf(o);a>=0&&t.selfPreviewVideoList.splice(a,1)}else t.selfPreviewVideoList=[]}),[`${lk}`]:B((t,i)=>{let{payload:o}=i;t.leadershipUserId=o}),[`${aC}`]:(t,i)=>{let{payload:o}=i;const a={cameraDevicesList:t.cameraDevicesList};return o&&Object.assign(a,{activeCamera:t.activeCamera,customizedVideoOption:t.customizedVideoOption,virtualBackground:{imageSrc:t.virtualBackground.imageSrc,cropped:t.virtualBackground.cropped},mask:{imageSrc:t.mask.imageSrc,cropped:t.mask.cropped,rootWidth:t.mask.rootWidth,rootHeight:t.mask.rootHeight,clip:t.mask.clip},backgroundMode:t.backgroundMode,ptz:t.ptz,subscriptionStatus:t.subscriptionStatus}),{...IO,...a}}},IO),eL=qr({videoRenderEpics0:t=>be(t,16129).pipe(ye(i=>{const{payload:{body:{id:o,bVideoOn:a}}}=i,c=mO(o);return F(d0,{bVideoOn:a,userId:c}),ck({bVideoOn:a,userId:c})})),videoRenderEpics1:(t,i)=>Ke(t,he.VideoDecodeMaxSize).pipe(ne(o=>{var a;return null==o||null===(a=o.payload)||void 0===a?void 0:a.data}),ye(o=>{const{size:a}=o.payload.data,{video:{renderedVideoList:c,receivedVideoMaxQuality:l},meeting:{userId:p}}=i.value,h=c.filter(g=>g.videoQuality>=qo.Video_720P&&g.userId!==p);return l!==a&&h.length>0&&(a>=qo.Video_720P||l>=qo.Video_720P)&&h.forEach(g=>{Oc.subscribeVideo(g.userId,g.videoQuality,!1)}),Vy(a)})),videoRenderEpics2:t=>be(t,16135).pipe(se(i=>{const{payload:{body:{bLeadershipOn:o,id:a}}}=i,c=[],l=[],p=o?mO(a):0;return o&&l.push(p),c.push(Fy(l),lk(p)),Ho(Mt(Ku,1),Rn(2e3).pipe(ye(()=>({leadershipEventOnly:!0})))).subscribe(h=>{const{spotlightList:g,leadershipEventOnly:v}=h;o?1===g?.length&&l[0]===g?.[0]||F(Df,{spotlightList:g}):(v||0===g?.length)&&F(Df,{spotlightList:[]})}),ve(c)})),videoRenderEpics3:(t,i)=>be(t,7958).pipe(Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:l}}=a;let p=[];l&&l.group_list&&l.group_list[0]&&(p=l.group_list[0].map(g=>g.id));const h=Zt(c);return h.length>0&&(p=p.filter(g=>h.findIndex(v=>v.userId===g)>=0)),F(Ku,{spotlightList:p}),Fy(p)})),videoRenderEpics4:t=>Ke(t,he.CurrentVideoResolution).pipe(ua(i=>(F(cp,i.payload.data),rg(i.payload.data)))),videoRenderEpics5:t=>Ke(t,[he.CurrentVideoResolution,he.CurrentCaptureVideoWidthHeight]).pipe(ne(i=>!!i.payload.data),ye(i=>{const{payload:{data:o,type:a}}=i;return a===he.CurrentVideoResolution?(F(cp,o),rg(o)):(F(Wu,o),sT(o))})),videoRenderEpics6:t=>be(t,mi).pipe(ne(i=>{const{payload:{body:o}}=i;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some(a=>void 0!==o[a])}),ye(i=>{const{payload:{body:{bFollowHostVideo:o,VideoHd:a,bCanUnmuteVideo:c}}}=i;if(void 0!==o)return F(eA,{bOn:o}),jy(o);if(void 0!==c)return oT(c);{const l=1===a;return Ns.updateVideoHDValue(l),Ns.enableHardwareAccelerationForVideoEncode(!1),nT(l)}})),videoRenderEpics7:(t,i)=>be(t,7957).pipe(Pe(i),ye(o=>{let[a,c]=o;const{video:{isFollowHostVideoLayout:l}}=c,{payload:{body:p}}=a,h=p&&p.drag_list&&p.drag_list.map(g=>g.id);return l&&F(g0,{layout:h}),ig(h)})),videoRenderEpics8:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{userId:l},video:{subscribedVideoList:p}}=c,h=a.payload.body.update,g=a.payload.body.remove;return h&&h.length>0&&h.findIndex(v=>v.id!==l&&(void 0!==v.bVideoOn||v.bHold))>-1||g&&g.some(v=>p.includes(v.id))}),Te(o=>{let[a,c]=o;const{payload:{body:{remove:l,update:p}}}=a,{video:{subscribedVideoList:h}}=c,g=jF(c);if(l&&l.length>0&&l.filter(v=>h.includes(v.id)).forEach(v=>{F(ty,{userId:v.id})}),p&&p.length>0){const v=p.filter(b=>void 0!==b.bVideoOn).filter(b=>-1===g.findIndex(E=>E.userId===b.id)),y=p.filter(b=>!0===b.bHold);y.length>0&&y.filter(b=>h.includes(b.id)).forEach(b=>{F(ty,{userId:b.id})}),v.forEach(b=>{b.bVideoOn?F(lp,{userId:b.id}):h.includes(b.id)&&F(ty,{userId:b.id})})}}),ze(Se)),videoRenderEpics9:(t,i)=>Ke(t,he.VideoQosData).pipe(Pe(i),ye(o=>{var a;let[c,l]=o;const{video:{isCaptureForbidden:p,isCameraTaken:h},media:{videoEncodeStatus:g,videoDecodeStatus:v}}=l,y=Fe(l),b=Q0(l),E=b.length>0,I=y?.bVideoOn&&!p&&!h,w=b.some(T=>T.bVideoOn),A="success"===v&&E&&w;return null!==(a=c.payload.data)&&void 0!==a&&a.encoding?"success"===g&&I&&E?(F(dp,c.payload),By(c.payload)):By(ea):A?(F(dp,c.payload),ug(c.payload)):ug(ea)})),videoRenderEpics10:(t,i)=>Ke(t,[he.CurrentDecodeVideoQuality,he.CurrentDecodeVideoFps]).pipe(Te(o=>{const{payload:{type:a,data:c}}=o,{video:{subscriptionStatus:l}}=i.value;if(l.detailed)if(a===he.CurrentDecodeVideoQuality){const{ssrc:p,width:h,height:g,quality:v}=c;F(ny,{userId:p,width:h,height:g,quality:v})}else if(a===he.CurrentDecodeVideoFps){const{ssrc:p,fps:h}=c;F(ny,{userId:p,fps:h})}}),ze(Se)),videoRenderEpics11:(t,i)=>nf(t,i).pipe(se(Oe(function*(){return Re.isAndroidOrIOSBrowser?1:(yield Ye.isSupportVideoDecodeHardwareAcceleration())?4:1})),ye(o=>rT(o))),videoRenderEpics12:(t,i)=>Ke(t,he.NetworkQualityChange).pipe(ne(o=>!!o.payload.data),se(o=>{var a;const{payload:{data:{bwLevel:c,isUplink:l,networkLevel:p}}}=o,h=[],{meeting:{userId:g},video:{networkQuality:v,subscribedVideoList:y,networkQualityBroadcastTime:b}}=i.value,E=l?"uplink":"downlink";h.push(Hy({userId:g,level:p,bwLevel:c,type:E}));const I=Kd(null===(a=v[`${g}`])||void 0===a?void 0:a[E],{level:p,bwLevel:c});if(!I&&-1!==p&&(!l&&y.filter(w=>w!==g).length>0||l)&&F(m0,{userId:g,type:E,level:p}),l){const w=performance.now();(!I||w-(b??0)>3e4)&&(Oc.broadcastUserNetworkQuality({isUplink:l,level:p,bwLevel:c}),h.push(zy(w)))}return ve(h)})),videoRenderEpics13:(t,i)=>ur(t,8005).pipe(ne(o=>{var a;return!(null===(a=o.payload.body)||void 0===a||!a.nUserID)}),se(o=>{const{payload:{body:{nLevel:a,nUserID:c}}}=o,{video:{networkQuality:l}}=i.value,p=l[`${c}`],h=[];return p&&p.uplink.level===a||(F(m0,{userId:c,level:a,type:"uplink"}),h.push(Hy({userId:c,level:a,type:"uplink"}))),ve(h)})),videoRenderEpics14:(t,i)=>be(t,vn).pipe(ne(o=>{const{payload:{body:a}}=o,{video:{prefetchedVideo:c}}=i.value;return c?.userId&&(a.update||a.remove)}),se(o=>{const{payload:{body:a}}=o,c=[],{video:{prefetchedVideo:l}}=i.value;let p=!1;return a.remove&&(p=-1!==a.remove.findIndex(h=>h.id===l?.userId)),a.update&&(p=-1!==a.update.findIndex(h=>h.id===l?.userId&&!1===h.bVideoOn)),p&&l&&(l.loaded||Ns.cancelPrefetchVideoSsrc(l.userId),Oc.unsubscribeVideo(l.userId),c.push(Tp(void 0))),ve(c)})),videoRenderEpics15:(t,i)=>t.pipe(Me(`${Tp}`),ne(o=>!!o.payload),Te(o=>{const{payload:{lastCopy:a}}=o,{video:{prefetchedVideo:c}}=i.value;!c||a&&a.userId===c.userId||(null!=a&&a.userId&&(a.loaded&&Ns.cancelPrefetchVideoSsrc(a.userId),Oc.unsubscribeVideo(a.userId)),Oc.subscribeVideo(c.userId,qo.Video_360P,!1),Ns.prefetchVideoSsrc(c.userId))}),ze(Se)),videoRenderEpics16:(t,i)=>Ke(t,he.NewActiveSpeakerFirstFrameCallback).pipe(ne(()=>!!i.value.video.prefetchedVideo),se(o=>{const{payload:{data:{ssrc:a}}}=o,{video:{prefetchedVideo:c}}=i.value,l=[];return c&&(po(c.userId,a)?(l.push(Tp({userId:c.userId,loaded:!0,lastCopy:c})),F(oA,{userId:c.userId})):Oc.unsubscribeVideo(c.userId)),ve(l)})),videoRenderEpics17:(t,i)=>be(t,16131).pipe(ne(o=>void 0!==o.payload.body.ssrc),Te(()=>{const{media:{videoDecodeStatus:o,videoEncodeStatus:a}}=i.value;Gr("video",a,o).subscribe(c=>{let[l,p]=c;const{video:{subscriptionStatus:h}}=i.value;l&&h.encode&&Ns.subscribeToQos([Or.VideoEncode],Gu),p&&(h.decode&&Ns.subscribeToQos([Or.VideoDecode],Gu),h.detailed&&Ns.enableVideoObserver(!0))})}),ze(Se)),videoRenderEpics18:(t,i)=>t.pipe(Me(`${Ap}`,`${sg}`),ne(()=>[0,1].includes(i.value.video.renderedVideoList.length)),Te(()=>{const o=i.value.video.renderedVideoList.length;1===o?Ns.enableVideoObserver(!0,!0):0===o&&Ns.enableVideoObserver(!1)}),ze(Se)),videoRenderEpics19:(t,i)=>Ke(t,he.CurrentDecodeVideoQuality).pipe(se(o=>{const{payload:{data:a}}=o,{video:{renderedVideoList:c,videoAttachments:l}}=i.value,p=[],{ssrc:h,width:g,height:v}=a,y=v?g/v:0,b=c.filter(E=>po(E.userId,h));if(b.some(E=>E.aspectRatio&&Math.abs(E.aspectRatio-y)>.2)){const E=b.filter(I=>I.canvasId===bf);if(E.length>0){const I=l[`${h}`];I&&I.every(w=>{if(w){const{clientWidth:_,clientHeight:A}=w;return Math.abs((A?_/A:0)-y)<=.2}return!0})&&p.push(Ap({userId:h,key:Es,canvasId:bf,aspectRatio:y}))}E.length===b.length&&0!==p.length||F(y0,{userId:h,aspectRatio:y})}return ve(p)})),videoRenderEpics20:(t,i)=>Ke(t,he.SyncRendererTypeResponse).pipe(se(o=>{const{payload:{data:{rendererType:a}}}=o,{video:{rendererType:c}}=i.value,l=[];return c!==a&&l.push(dT(a)),ve(l)}))},{videoCaptureEpics0:(t,i)=>Ke(t,he.StartVideoCaptureSuccess).pipe($t(Ui),se(o=>{const{video:{cameraDevicesList:a,activeCamera:c,ptz:l,isCurrentUserStartedVideo:p,isUsingMediaPlayback:h},meeting:{userId:g}}=i.value,{payload:{data:{currentDeviceID:v,PTZRange:y}}}=o,b=[];if(a.length<1&&!h&&(F(h0,{reason:"Cannot detect camera devices"}),as.stopCaptureVideo()),i_(c,a)||h){if(p||Cm.muteAttendeeVideo(g,!1),F(rA),h)b.push(tg("default"));else if(v&&y&&b.push(iT({deviceId:v,ptzRange:y})),c!==v&&b.push(tg(v)),Object.prototype.hasOwnProperty.call(l,v)){const E=l[v];if(E){const I=u_(E);I&&as.movePTZCamera(I)}}}else F(Xv,{reason:"cannot find target camera"}),as.stopCaptureVideo();return ve(b)})),videoCaptureEpics1:(t,i)=>be(t,vn).pipe(ne(o=>{const{payload:{body:{update:a}}}=o,{meeting:{userId:c}}=i.value;return a?.some(l=>l.id===c&&void 0!==l.bVideoOn)}),ye(o=>{const{payload:{body:{update:a}}}=o,{meeting:{userId:c}}=i.value,l=a.find(p=>p.id===c);return F(!0===l.bVideoOn?f0:Ba),iC(!!l.bVideoOn)})),videoCaptureEpics2:t=>Ke(t,[he.UserForbiddedCaptureVideo,he.UserCameraIsTakenByOtherPrograms,he.VideoWebsocketBroken,he.StopVideoCaptureFailed]).pipe(se(i=>{const{payload:{type:o}}=i,a=[];switch(o){case he.UserForbiddedCaptureVideo:F(ey),a.push(ng(!0));break;case he.UserCameraIsTakenByOtherPrograms:F(qu,{reason:"User camera is taken by other programs."}),a.push(nc(!0));break;case he.VideoWebsocketBroken:F(br,{reason:"Video websocket broken."});break;case he.StopVideoCaptureFailed:F(Ba,{failed:!0,reason:"Unknown."})}return ve(a)})),videoCaptureEpics3:(t,i)=>Ke(t,he.StopVideoCaptureSuccess).pipe(Pe(i),ua(o=>{let[,a]=o;const{meeting:{userId:c},video:{isCurrentUserStartedVideo:l}}=a;l||F(Ba),Cm.muteAttendeeVideo(c,!0)})),videoCaptureEpics4:(t,i)=>be(t,16133).pipe(Pe(i),ne(o=>{var a,c;let[l,p]=o;return(null==l||null===(a=l.payload)||void 0===a||null===(c=a.body)||void 0===c?void 0:c.id)===p.meeting.userId}),ua(o=>{let[a]=o;const{id:c,bVideoMute:l}=a.payload.body;return F(p0,{id:c,isVideoMuted:l}),!0===l&&as.stopCaptureVideo(),!1===l&&F(XD,{id:c,isVideoMuted:l}),sC(l)})),videoCaptureEpics5:(t,i)=>be(t,16131).pipe(ne(o=>void 0!==o.payload.body.ssrc),it(o=>{const{payload:{body:{ssrc:a}}}=o;return F(xN,a),qn(Vt(tT(a)),$l(i).pipe(se(c=>{const{meeting:{isCurrentUserStartVideoBeforeReset:l},media:{videoEncodeStatus:p}}=i.value;return!0!==c?.bVideoOn&&!0===l?Gr("video",p,"success").pipe(ne(h=>{let[g,v]=h;return g&&v}),ye(()=>{const h=i.value,{video:{backgroundMode:g,mask:v,virtualBackground:y,activeCamera:b,customizedVideoOption:E}}=h;let I=Promise.resolve(!0);return g===Ji.VirtualBackground&&y.imageSrc?I=bm({imageUrl:y.imageSrc,cropped:y.cropped},as,h):g===Ji.Mask&&v.imageSrc&&v.clip&&(I=Em({imageUrl:v.imageSrc,cropped:v.cropped,clip:v.clip,rootHeight:v.rootHeight,rootWidth:v.rootWidth},as,h)),I.then(()=>{vO(as,h,{cameraId:b,...E})}),lt(void 0)})):Se})))})),videoCaptureEpics6:(t,i)=>t.pipe(Me(`${Dp}`),Te(o=>{const{payload:a}=o,c=i.value,{meeting:{userId:l}}=c,p=Fe(c);0===a.length?p&&!p.bVideoConnect||Cm.connectCamera(l,!1):null!=p&&p.bVideoConnect||Cm.connectCamera(l,!0)}),ze(Se)),videoCaptureEpics7:t=>Ke(t,he.InitSuccessVideo).pipe(ne(i=>!Re.isIPad&&Re.isAndroidOrIOSBrowser&&i.payload.data===Eo.EncodeSuccess),it(()=>"orientation"in window.screen?dn(screen.orientation,"change").pipe(se(()=>(as.setMobileRotateMode(c_()),Se))):dn(window,"orientationchange").pipe(se(i=>{var o,a,c;const l=null===(o=i.target)||void 0===o||null===(a=o.screen)||void 0===a||null===(c=a.orientation)||void 0===c?void 0:c.angle,p=90===Math.abs(l);return as.setMobileRotateMode(p),Se})))),videoCaptureEpics8:t=>Ke(t,he.StartVideoCaptureSuccess).pipe(ne(()=>!Re.isIPad&&Re.isAndroidOrIOSBrowser),Te(()=>{as.setMobileRotateMode(c_())}),ze(Se)),videoCaptureEpics9:(t,i)=>Ke(t,he.VideoStreamFailed).pipe(ne(()=>!!i.value.video.isCurrentUserStartedVideo&&Re.isIOSMobile),Te(()=>{as.stopCaptureVideo()}),ze(Se))},{vbEpics0:t=>Ke(t,[he.VbModelPreloadingOk,he.VbModelPreloading_3S,he.VbModelPreloading_10S,he.VbSettingParaError]).pipe(se(i=>{const{payload:{type:o,data:a}}=i,c=[];return[he.VbModelPreloadingOk,he.VbModelPreloading_3S,he.VbModelPreloading_10S].includes(o)?(c.push(Uy(!0)),F(If,!0),o===he.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):o===he.VbSettingParaError&&(a===yf.VBModelNotMatch?(F(If,!1),c.push(Uy(!1))):(F(_f,!1),c.push(ag(!1)))),ve(c)})),vbEpics1:t=>Ke(t,he.StartVideoStreamInVbSettingSuccess).pipe(ye(()=>(F(_f,!0),ag(!0)))),vbEpics2:t=>Ke(t,he.StartVideoStreamInMaskSettingSuccess).pipe(ye(()=>(F(ry,!0),dg(!0)))),vbEpics3:t=>Ke(t,he.MaskSettingParaError).pipe(ye(()=>(F(ry,!1),dg(!1))))},{cameraPtzEpics0:(t,i)=>be(t,8004).pipe(se(o=>{const{payload:{body:{nCmd:a,nUserID:c,nReason:l,nButtonID:p}}}=o,h=i.value,g=Zt(h),{video:{currentCameraControlStatus:{isInControl:v,controllingUserId:y},cameraDevicesList:b,activeCamera:E}}=h,I=g.find(_=>po(_.userId,c)),w=[];if(w.push(Ul(!0)),a===Sr.Request){const _={userId:I?.userId,displayName:I?.displayName};if(v){const A=g.find(T=>T.userId===y);Object.assign(_,{currentControllingUserId:A?.userId,currentControllingDisplayName:A?.displayName})}F(tA,_)}else if(a===Sr.Approve)w.push($y(I?.userId)),F(v0,{isApproved:!0,userId:I?.userId,displayName:I?.displayName});else if(a===Sr.Decline)w.push(oc(I?.userId)),F(v0,{isApproved:!1,userId:I?.userId,displayName:I?.displayName,reason:l});else if(a===Sr.GiveUp)w.push(Ja({isInControl:!1,userId:0})),F(wf,{isControlled:!1});else if(a===Sr.StartControl||a===Sr.StopControl)w.push(Gy({cmd:a===Sr.StartControl?"start":"stop",type:p}));else if(a===Sr.SwitchCamera){const _=b.findIndex(T=>T.deviceId===E),A=_+1===b.length?0:_+1;if(A!==_){const T=b[A].deviceId;g_.changeCamera(T,Sf.includes(T))}}return ve(w)})),cameraPtzEpics1:(t,i)=>be(t,vn).pipe(ne(o=>{var a;const{payload:{body:c}}=o;return null==c||null===(a=c.update)||void 0===a?void 0:a.some(l=>void 0!==l.nFECC||void 0!==l.nFECCExecutive)}),Te(o=>{const{payload:{body:{update:a}}}=o,c=a.find(l=>void 0!==l.nFECC||void 0!==l.nFECCExecutive);if(c){const{meeting:{userId:l}}=i.value;po(c.nFECCExecutive,l)&&F(nA,{userId:c.id,ptz:SO(c.nFECC)})}}),ze(Se)),cameraPtzEpics2:(t,i)=>be(t,vn).pipe(ne(o=>{var a;const{payload:{body:c}}=o,{video:{farEndCameraControlStatus:{controlledUserList:l}}}=i.value;return null==c||null===(a=c.remove)||void 0===a?void 0:a.some(p=>l.includes(p.id))}),se(o=>{var a;const{payload:{body:c}}=o,l=[],{video:{farEndCameraControlStatus:{controlledUserList:p}}}=i.value,h=null==c||null===(a=c.remove)||void 0===a?void 0:a.find(g=>p.includes(g.id));return h&&l.push(oc(h.id)),ve(l)})),cameraPtzEpics3:(t,i)=>t.pipe(Me(`${Gy}`),it(o=>{const{payload:{cmd:a,type:c}}=o;return"start"===a?Rn(0,200).pipe(xd(()=>!!i.value.video.currentCameraControlStatus.isCameraMoving),se(()=>{const{video:{ptz:l,activeCamera:p}}=i.value,h=l[p],g=u_(h)||{},{key:v,range:y}=a_(c,2);return h[v]?(Object.assign(g,{[v]:yO(h[v].capability,h[v].value,y)}),g_.movePTZCamera(g).then(()=>cg({deviceId:p,constraints:g}))):Promise.resolve(void 0)}),se(l=>"object"==typeof l&&void 0!==l.type?Vt(l):Se)):Se})),cameraPtzEpics4:(t,i)=>t.pipe(Me(`${tg}`),se(o=>{const{payload:a}=o,{video:{customizedVideoOption:c,ptz:l}}=i.value;if(null!=c&&c.ptz){const p=l?.[a];void 0!==p&&CO.sendCameraAblity({pan:!!p.pan,tilt:!!p.tilt,zoom:!!p.zoom})}return Se}))});let du=(()=>{class t{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new t),this.agentInstance}init(o,a){var c,l,p,h,g;!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance({ivObj:{[Rr.AUDIO_ENCODE]:void 0,[Rr.VIDEO_ENCODE]:void 0,[Rr.SHARING_ENCODE]:void 0}})),this.mediaWorkersPath=GD(o,!1),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=a,null===(c=this.instance)||void 0===c||c.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,a);const v=pf(null===(l=this.mediaOptions)||void 0===l?void 0:l.enableMultiDecodeVideoWithoutSAB);null===(p=this.instance)||void 0===p||p.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:null===(h=this.mediaWorkersPath)||void 0===h?void 0:h.audioWorkletPath,isEnableListenInitEvent:!0}),null===(g=this.instance)||void 0===g||g.initVideoEncode(this.mediaWorkersPath,"",0,!1,"",0,v,!1,!1,!0,!0,!1,!0),this.inProgress=!0}onMediaSDKCallback(o,a){this.callbackList.length>0&&this.callbackList.forEach(c=>c(o,a))}registerCallback(o){this.callbackList.push(o)}unregisterCallback(o){this.callbackList=this.callbackList.filter(a=>a!==o)}destroy(){var o=this;return Oe(function*(){var a;o.callbackList=[],yield null===(a=o.instance)||void 0===a?void 0:a.destroy(),o.instance=null,o.inProgress=!1})()}disconnect(){var o,a;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(17,{}),null===(a=this.instance)||void 0===a||a.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(o,a,c,l,p,h){var g;null===(g=this.instance)||void 0===g||g.Notify_MeidaSDK(91,{canvas:o,bgdom:a,width:p,height:h,ssid:0,VideoSelectValue:"default"===l?null:l,disableOriginalRatio:arguments.length>6&&void 0!==arguments[6]&&arguments[6],usingFacingMode:["user","environment"].includes(l)})}updateVirtualBackgroundImage(o){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(92,{bgdom:o})}stopVirtualBackgroundSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(93,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}startMaskSetting(o,a,c,l,p,h,g,v,y){var b;null===(b=this.instance)||void 0===b||b.Notify_MeidaSDK(62,{canvas:o,maskdom:null,bgdom:null,dx:0,dy:0,dWidth:170,dHeight:170,width:1280,height:720,ssid:0,originWidth:379,originHeight:213,VideoSelectValue:"default"===p?null:p,usingFacingMode:["user","environment"].includes(p)})}stopMaskSetting(){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(65,{isSwitch:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}}return t.agentInstance=void 0,t})();const DO="PREVIEW_VIDEO_ENCODE_SUCCESS",m_="PREVIEW_VIDEO_VB_MODEL_READY";function AO(t,i,o,a){return v_.apply(this,arguments)}function v_(){return v_=Oe(function*(t,i,o,a){const{imageUrl:c,cropped:l,deviceId:p}=o,h=Ma("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__");i.id||(i.id=h);let[g,v]=[640,360];if(Ye.isSupportSending720P()&&(g=1280,v=720),c&&Tg(a)){const y=yield ym(c,l);return t.startVirtualBackgroundSetting(i,y,0,p??"default",g,v),y&&y!==$u&&setTimeout(()=>{uc(y)},0),"vb"}return t.startMaskSetting(i,null,null,0,p??"default",0,0,0,0),"mask"}),v_.apply(this,arguments)}let TO=(()=>{class t{constructor(){this.previewMediaAgent=du.getInstance(),this.isInit=void 0,this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.state=void 0,this.eventHandler=(o,a)=>{switch(o){case he.InitSuccessVideo:a===Eo.EncodeSuccess&&(this.isVideoEncoded=!0,F(DO));break;case he.VbModelPreloadingOk:case he.VbModelPreloading_3S:case he.VbModelPreloading_10S:this.isVBModelReady=!0,F(m_,!0);break;case he.VbSettingParaError:a===yf.VBModelNotMatch&&(this.isVBModelReady=!1,F(m_,!1))}}}static setMediaOption(o){t.mediaOption=o}setup(){if(t.mediaOption){if(Ye.getInstance().inProgress)return Promise.resolve("");if(!du.getInstance().inProgress){this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler);const{assetsPath:o,enforceMultipleVideos:a,enforceVirtualBackground:c}=t.mediaOption,l={...VT(o,a,c)};this.previewMediaAgent.init(o,l),this.previewMediaAgent.registerCallback(this.eventHandler)}return Promise.resolve("")}return Promise.reject({type:oe,reason:"Cannot preview video with virtual background before `client.init` method."})}startPreview(o,a){var c=this;return Oe(function*(){var l;Ye.getInstance().inProgress?AO(Ye.getInstance(),o,a,null===(l=t.mediaOption)||void 0===l?void 0:l.enforceVirtualBackground):(void 0!==c.isVBModelReady?ve([c.isVBModelReady]):Mt(m_,1)).subscribe(p=>{p&&(c.isVideoEncoded?ve([!0]):Mt(DO,1)).subscribe(()=>{var h;AO(du.getInstance(),o,a,null===(h=t.mediaOption)||void 0===h?void 0:h.enforceVirtualBackground).then(g=>{c.state={mode:g,canvas:o,vb:a}})})})})()}stopPreview(){var o=this;return Oe(function*(){var a;Ye.getInstance().inProgress?Ye.getInstance().stopVirtualBackgroundSetting():"vb"===(null===(a=o.state)||void 0===a?void 0:a.mode)?du.getInstance().stopVirtualBackgroundSetting():du.getInstance().stopMaskSetting()})()}updatePreview(o,a){var c=this;return Oe(function*(){const l=Ye.getInstance().inProgress?Ye.getInstance():du.getInstance();var p;if(o)if("mask"===(null===(p=c.state)||void 0===p?void 0:p.mode)){var h;Re.isChrome?(yield c.stopPreview(),yield c.startPreview(c.state.canvas,{imageUrl:o,cropped:a,deviceId:null===(h=c.state.vb)||void 0===h?void 0:h.deviceId})):console.warn('use the `start` method with the virtual background image parameter instead of using `updateVirtualBackground` to preview the video." ')}else{const g=yield ym(o,a);g&&(l.updateVirtualBackgroundImage(g),g!==$u&&setTimeout(()=>{uc(g)},0))}else l.updateVirtualBackgroundImage(null)})()}}return t.mediaOption=void 0,t})();const{InitSuccessVideo:y_,InitSuccessAudio:S_,InitSuccessSharing:b_,InitFailedVideo:E_,InitFailedAudio:C_,InitFailedSharing:XS,SharingHealthCheckFailed:RO,VideoHealthCheckFailed:OO,AudioHealthCheckFailed:MO}=he,xr=_o(Ye.getInstance()),I_=Ii.getInstance(),__=I_.makeLogger(["Media Agent"]),PO=[Lp,Dg,xp].map(t=>PC(t,{hostname:!0})),Im=[],Ls={epics0:(t,i)=>t.pipe(Me(`${fo}`),it(()=>{const{meeting:{isMeetingReset:o}}=i.value;return t.pipe(We(t.pipe(Me(`${ps}`),bt(1))),Me(`${Gi}`),bt(1),ns(a=>{var c;const{logger:l,media:{mediaConstraints:p,assetsPath:h},meeting:{zlkJwtToken:g,cv:v}}=i.value,{payload:{disableAqos:y,disableVqos:b}}=a,E=null!=l&&null!==(c=l.options)&&void 0!==c&&c.enable?Ii.getInstance().makeLogger(["MEDIA SDK"]):void 0;return function(I){const{media:{patchedMediaSDKStatus:w}}=I;return w===ap.Loading?ar(Mt(F0,1)):Promise.resolve()}(i.value).then(()=>{const I=[];let w=!b;const _=!y;return g&&uf(v,"1.3.0")<0&&(w=!1),I.push(Cv({audioQos:_,videoQos:w})),xr.init((A=E)&&new Proxy(A,{get:(T,M)=>"string"==typeof M&&"error"===M?function(){try{var P;jg.report(arguments.length<=0?void 0:arguments[0],["MEDIA SDK",...null!==(P=arguments.length<=1?void 0:arguments[1])&&void 0!==P?P:[]],"error")}catch{}}:Reflect.get(T,M)})),I.push(Iv(!0)),o&&void 0!==p&&void 0!==h&&I.push(xE()),I;var A})}))})),epics1:(t,i)=>t.pipe(Me(`${fo}`),ne(o=>{const{payload:{mediaSDKPath:a}}=o,{media:{skipJsMedia:c,patchJsMedia:l,assetsPath:p},meeting:{isMeetingReset:h}}=i.value;return!c&&PO.some(g=>new RegExp(`^https://${g}`).test(p??""))&&!!l&&!!a&&!h}),it(o=>{const{payload:{mediaSDKPath:a}}=o,c=WE(a);return ve(new Promise((l,p)=>{const h=`${c}/${mo}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),kp(h,()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,__.info(`patched media sdk url:${h}`),l("")},()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),__.error(`cannot load patched media sdk :${h}`),p()})})).pipe(se(()=>(F(F0),ve([jE(ap.Done),$o(c)]))),jr(()=>(F(F0),ve([jE(ap.Done)]))),ds(jE(ap.Loading)))})),epics2:(t,i)=>nf(t,i).pipe(Te(()=>{const{media:{assetsPath:o,mediaConstraints:a,fileWithVersion:c,enforceMultipleVideos:l,enforceVirtualBackground:p,isEnableDecoderInWorklet:h},meeting:{isAudioBridgeEnabled:g}}=i.value;if(xr.notifySDKMeetingReady(),o&&a){const v={enableDecoderInWorklet:h,enableAudioBridge:g&&mr()};Object.assign(v,VT(o,l,p)),xr.setAssetsAndConstraint(o,a,c,v)}$l(i).pipe(it(v=>ve(LC.acquire().then(()=>v)))).subscribe(v=>{const{meeting:{svcUrl:y,meetingNumber:b,conId:E,e2eEncrypt:I,userId:w,isWebinar:_,enableWebtransport:A,webtransportPort:T},media:{enableAudioQos:M,enableVideoQos:P,alternativeNameForVideoPlayer:N,adaptedABOptionForMediaSDK:$},video:{rendererType:V}}=i.value;v&&(xr.connect({svcUrl:y,meetingNumber:b,conId:E,e2eEncrypt:I,isViewOnly:Mr(v.userRole),currentUserId:w,isWebinar:_,enableAudioQos:M,enableVideoQos:P,enableWebtransport:A,webtransportPort:T,rendererType:V,adaptedABOptionForMediaSDK:$}),function(L){var Q;let Y="video-player";L.tagName&&(Y=L.tagName,kr.dispatch("",{tagName:L.tagName}),Ic(null===(Q=L.mediaSDK)||void 0===Q?void 0:Q.call(L),`VPTN:${Y}`));const z=`${Y}-container`,j=L.sessionId||tm();kr.get("renderCountMap").clear(),L.mediaSDK&&(kr.get("mediaSDKInstanceMap").set(ih,L.mediaSDK),kr.get("mediaSDKInstanceMap").set(j,L.mediaSDK)),L.failover&&kr.dispatch("failover",void 0,L.sessionId||ih),customElements.get(z)||customElements.define(z,od),customElements.get(Y)||customElements.define(Y,ch)}({mediaSDK:()=>xr.instance,tagName:N,failover:"1"}))})}),it(()=>Ru(o=>xr.registerCallback(o),o=>xr.unregisterCallback(o),(o,a)=>({type:o,data:a})).pipe(ye(o=>Nu(o))))),epics3:t=>Ke(t,[y_,S_,b_,E_,C_,XS]).pipe(FC(i=>{const{payload:{type:o,data:a}}=i;if(o===S_||o===C_){if(a===Eo.EncodeSuccess)return F(L0),Vt(FE("success"));if(a===Eo.DecodeSuccess)return F(vA),Vt(uo("success"));if(a===Eo.EncodeFailed)return F(hy),Vt(FE("failed"));if(a===Eo.DecodeFailed)return F(bA),Vt(uo("failed"))}else if(o===y_||o===E_){if(a===Eo.EncodeSuccess)return F(yA),Vt(ku("success"));if(a===Eo.DecodeSuccess)return F(GN),Vt(Ev("success"));if(a===Eo.EncodeFailed)return F($a),Vt(ku("failed"));if(a===Eo.DecodeFailed)return F(Mf),Vt(Ev("failed"))}else if(o===b_||o===XS){if(a===Eo.EncodeSuccess)return F(SA),Vt(Gd("success"));if(a===Eo.DecodeSuccess)return F(py),Vt(rl("success"));if(a===Eo.EncodeFailed)return F(EA),Vt(Gd("failed"));if(a===Eo.DecodeFailed)return F(x0),Vt(rl("failed"));if(o===b_&&void 0===a)return F(py),Vt(rl("success"))}})),epics4:(t,i)=>Ke(t,[y_,S_]).pipe(it(()=>"object"==typeof navigator.mediaDevices?qn(Yt(),qn(Ke(t,he.StartVideoCaptureSuccess),dn(navigator.mediaDevices,"devicechange"),Ke(t,he.UserGrantCaptureAudio).pipe(ne(()=>!i.value.audio.isUserGrantCaptureAudio))).pipe(se(()=>Yt().pipe(Te(()=>{setTimeout(()=>{F(Ju)},50)}))))).pipe(Pe(i),se(o=>{let[a,c]=o;const l=[jA(a.microphones),UA(a.speakers),Dp(a.cameras)];if(c.audio){const{audio:{activeMicrophone:g,activeSpeaker:v,microphoneDevicesList:y,speakerDevicesList:b},video:{cameraDevicesList:E,activeCamera:I}}=c,_=Fe(c),{microphones:A,speakers:T,cameras:M}=a,P=y.filter(V=>-1===A.findIndex(L=>L.deviceId===V.deviceId)),N=b.filter(V=>-1===T.findIndex(L=>L.deviceId===V.deviceId)),$=E.filter(V=>-1===M.findIndex(L=>L.deviceId===V.deviceId));if(P.length>0){if(mS(P[0],g,y)){const V=zl(A);xr.changeMicrophone("default",V?.label,!(null==_||!_.muted)),l.push(Kf("default"))}}else if("default"===g){const V=zl(y),L=zl(A);y.length>0&&V?.label!==L?.label&&xr.changeMicrophone("default",L?.label,!(null==_||!_.muted))}var p,h;N.length>0?mS(N[0],v,b)&&(xr.changeSpeaker("default"),l.push(Ay("default"))):"default"===v&&b.length>0&&(null===(p=zl(b))||void 0===p?void 0:p.label)!==(null===(h=zl(T))||void 0===h?void 0:h.label)&&xr.changeSpeaker("default"),$.length>0&&mS($[0],I,E)&&(xr.stopCaptureVideo(),l.push(tg(Re.isAndroidOrIOSBrowser?Ua.User:"default")))}return ve(l)})):Se)),epics5:(t,i)=>ur(t,vn).pipe(Te(o=>{const{type:a,payload:{body:c}}=o,l=a===`${Ra}`;if(c.add){const p=c.add.map(h=>({userid:h.id,sn:h.zoomID&&Bi(h.zoomID)}));if(!l){const{meeting:{gcmSessinKey:h}}=i.value;xr.sendUserNodeList(p,h)}xr.updateUserMediaSN({added:p,isFromMainSession:l,iVType:Rr.SHARING_DECODE}),l&&xr.updateUserMediaSN({added:p,isFromMainSession:l,iVType:Rr.AUDIO_DECODE})}if(c.remove&&c.remove.length>0){if(!l){const{meeting:{gcmSessinKey:p}}=i.value;xr.sendUserNodeList(c.remove.map(h=>({userid:h.id,bremove:!0})),p)}xr.updateUserMediaSN({removed:c.remove.map(p=>p.id),isFromMainSession:l,iVType:Rr.SHARING_DECODE}),l&&xr.updateUserMediaSN({removed:c.remove.map(p=>p.id),isFromMainSession:l,iVType:Rr.AUDIO_DECODE})}}),ze(Se)),epics6:t=>Ke(t,he.AesGcmIvResponse).pipe(Te(i=>{const{payload:{data:{workerType:o,iv:a}}}=i,c=rt.get(Rt.WebclientIVState);if(c){const l={...c,[o]:a};rt.set(Rt.WebclientIVState,l,Tt.SessionStorage)}}),ze(Se)),epics7:t=>t.pipe(Me(`${Pu}`),ne(i=>[Vv,Vu,UD].includes(i.payload.evt)),ye(i=>{const{payload:{evt:o,body:{encryptKey:a,additionalType:c}}}=i;return dN({type:o===Vv?"audio":o===Vu?"video":"sharing",encryptKey:a,additionalType:c})})),epics8:t=>t.pipe(Me(`${tf}`),Te(i=>{const{payload:o}=i;TO.setMediaOption({assetsPath:o.assetsPath,enforceMultipleVideos:o.enforceMultipleVideos,enforceVirtualBackground:o.enforceVirtualBackground})}),ze(Se)),epics9:t=>t.pipe(Me(`${ul}`,`${$i}`),Te(()=>{du.getInstance().inProgress&&(du.getInstance().disconnect(),LC.watch(du.getInstance().destroy()))}),ze(Se)),epics10:t=>t.pipe(Me(`${ul}`,`${$i}`),it(()=>"permissions"in navigator?["microphone","camera"].map(i=>{navigator.permissions.query({name:i}).then(o=>{const a=()=>{F(CA,{name:i,state:o.state})};a(),o.addEventListener("change",a),Im.push(()=>{o.removeEventListener("change",a)})}).catch(()=>{})}):Se),ze(Se)),epics11:t=>t.pipe(Me(`${Tr}`),ne(i=>i.payload===It.Closed),Te(()=>{Im.length>0&&(Im.forEach(i=>i()),Im.length=0)}),ze(Se)),epics12:t=>Ke(t,[RO,OO,MO,E_,C_,XS]).pipe(Te(i=>{I_.report(`Media health check failed,refresh or restart the browser may recover,reason:${i.payload.type}`,"Media exception flow"),F(IA)}),se(()=>Se))},NO=qr(Ls),tL={meeting:o1,socket:ER,participants:nh,media:CR},nL=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qh;function w_(t){return function(i){for(var o=Object.keys(i),a={},c=0;c<o.length;c++){var l=o[c];"function"==typeof i[l]&&(a[l]=i[l])}var p,g,h=Object.keys(a);try{g=a,Object.keys(g).forEach(function(v){var y=g[v];if(void 0===y(void 0,{type:Wh.INIT}))throw new Error(Kn(12));if(void 0===y(void 0,{type:Wh.PROBE_UNKNOWN_ACTION()}))throw new Error(Kn(13))})}catch(g){p=g}return function(g,v){if(void 0===g&&(g={}),p)throw p;for(var y=!1,b={},E=0;E<h.length;E++){var I=h[E],_=g[I],A=(0,a[I])(_,v);if(void 0===A)throw new Error(Kn(14));b[I]=A,y=y||A!==_}return(y=y||h.length!==Object.keys(g).length)?b:g}}({...tL,...t})}function ce(t,i,o,a,c){var l={};return Object.keys(a).forEach(function(p){l[p]=a[p]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce(function(p,h){return h(t,i,p)||p},l),c&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(c):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,i,l),l=null),l}const hn=Symbol("store"),we=Symbol("getState"),_n=Symbol("dispatch"),_m=Symbol("additionFeatures"),ue=Symbol("mediaContext");function le(t,i,o){const a=o.value;o.value=function(){const c=this[hn];if(c){const{meeting:{isOnHold:g,isMeetingReset:v,meetingStatus:y}}=c.getState();if(y!==It.Joined)return Promise.reject({type:wl,reason:"closed"});if(v)return Promise.reject({type:wl,reason:"reconnecting"});if(g)return Promise.reject({type:wl,reason:"on hold"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function Hn(t,i,o){const a=o.value;o.value=function(){const c=this[hn];if(c){const g=c.getState();if(!Co(g))return Promise.reject({type:$r,reason:"only host or co-host can do the operation"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function hr(t,i,o){const a=o.value;o.value=function(){const c=this[hn];if(c){const g=c.getState();if(!Iy(g))return Promise.reject({type:$r,reason:"only host can do the operation"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}function Ie(t){return function(i,o,a){const c=a.value;a.value=function(){const l=this[hn];if(l&&void 0===l.getState()[t])return Promise.reject({type:oe,reason:`Module:${t} is not enabled`});for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return c.apply(this,h)}}}function kO(t){return function(i,o,a){const c=a.value;a.value=function(){const l=this[hn];if(l){const{meeting:{meetingOptions:v}}=l.getState();if(!0===v[t])return Promise.reject({type:"OPERATION_LOCKED",reason:`${t} is locked`})}for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return c.apply(this,h)}}}let pu=function(t){return t.Self="Self",t.Other="Other",t.Client="Client",t.Phone="Phone",t.Attendee="Attendee",t}({});function D_(t){return function(i,o,a){const c=a.value;a.value=function(l){const p=this[hn];if(p){const b=p.getState(),E=Array.isArray(t)?t:[t];let I=Zt(b).find(w=>w.userId===l);if(E.findIndex(w=>w===pu.Attendee)>-1&&(I=_y(b).find(w=>w.userId===l)),!I)return Promise.reject({type:Je,reason:"no matching user"});{const{meeting:{userId:w}}=p.getState();for(let _=0;_<E.length;_++){const A=E[_];if(A===pu.Other&&l===w)return Promise.reject({type:oe,reason:"operation is not applicable to self"});if(A===pu.Self&&l!==w)return Promise.reject({type:oe,reason:"operation is only applicable to self "});if(A===pu.Client&&vp(I.userType)||A===pu.Phone&&!vp(I.userType))return Promise.reject({types:oe,reason:"improper target client"})}}}for(var h=arguments.length,g=new Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];const y=[l,...g];return c.apply(this,y)}}}const wm=Ii.getInstance();function wo(t,i){return function(o,a,c){const l=c.value;c.value=function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];if(wm.checkLaplace())try{var v;const y=wm.makeLogger([t]),b=null===(v=i?h.map((E,I)=>i.includes(I+1)?Wr(E):E):h)||void 0===v?void 0:v.map(E=>Pa(E));return y.info(`${a},params:${JSON.stringify(b)}`),l.apply(this,h).then(E=>(y.info(`${a} success`),E)).catch(E=>{let I=`${a},params:${JSON.stringify(b)},return failed,`;return"object"==typeof E&&(I=`${I},${E.type?`type:${E.type},`:""}${E.reason?`reason:${E.reason}`:""}`),wm.report(I,`${t} exception flow`,"error"),Promise.reject(E)})}catch{}return l.apply(this,h)}}}function Dm(t,i,o){return function(a,c,l){const p=l.value;l.value=function(){for(var h,g,v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];const E=y[i];let I=t;return Array.isArray(I)||(I=[I]),!I.some(w=>E instanceof w)||o&&!o.every(w=>!!E[w])?Promise.reject({type:Je,reason:`Expected to accept ${null===(h=I)||void 0===h?void 0:h.map(w=>w.name).join(" or ")}, but actual it is ${"object"==typeof E&&null!==E?null===(g=Object.getPrototypeOf(E))||void 0===g?void 0:g.constructor.name:E}`}):p.apply(this,y)}}}class us{constructor(i){this[hn]=void 0,this[_n]=void 0,this[we]=void 0,this[_m]=void 0,this[hn]=i,this[_n]=i.dispatch,this[we]=i.getState}}const rL=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms","bid",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:t=>({isCoHost:!!t})},{from:"muted",to:(t,i)=>({muted:null!=i&&i.isSpeakerOnly||""===i?.audio?void 0:t})},{from:"userType",to:(t,i)=>{const o=vp(t),a={isPhoneUser:o};return o&&null!=i&&i.phoneNumber&&Object.assign(a,{phoneNumber:i.phoneNumber}),a}}];function pd(t){return rL.reduce((i,o)=>({...i,...function(l,p,h){if("string"==typeof l)return{[`${l}`]:p};if("object"==typeof l&&void 0!==l.from){const{to:g}=l;return"string"==typeof g?{[`${g}`]:p}:g(p,h)}}(o,t["string"==typeof o?o:o.from],t)}),{})}function eb(){const{isSupportAudioWorklet:t,isSupportEssentialAudioAndVideoAbility:i,isAndroidOrIOSBrowser:o,isSupportSendScreenSharing:a}=Re;return{audio:i&&t||o,video:i&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaCapabilities,screen:i&&a}}const A_=t=>{let{breakoutRoom:{mainSessionAttendeeList:i}}=t;return i},LO=t=>{let{meeting:{zoomId:i}}=t;return i},xO=t=>{let{breakoutRoom:{isHugeBO:i}}=t;return i},cs=bn([t=>{let{breakoutRoom:{controlStatus:i}}=t;return i},t=>{let{breakoutRoom:{currentRoom:{status:i}}}=t;return i},t=>{let{breakoutRoom:{currentRoom:{boId:i}}}=t;return i}],(t,i,o)=>!(t!==dt.InProgress&&t!==dt.Closing||i!==je.InRoom&&i!==je.TimeUp||!o)),T_=bn([t=>{let{breakoutRoom:{rooms:i}}=t;return i},Zu,LO,A_,cs,xO],(t,i,o,a,c,l)=>{const p=t.reduce((h,g)=>{const{attendeeGuidList:v}=g;return h.concat(v)},[]);return(c?a:i).filter(h=>!h.bHold&&!h.isHost&&h.zoomID!==o&&!h.bid&&!p.includes(h.userGUID)&&(!l||Rk(h.caps)))}),oL=bn([cs,A_,Zu,LO,xO],(t,i,o,a,c)=>(t?i:o).filter(l=>!l.bHold&&!l.isHost&&l.zoomID!==a&&!l.bid&&(!c||Rk(l.caps)))),va=bn([cs,A_,Zt],(t,i,o)=>t?i.find(a=>a.isHost):o.find(a=>a.isHost));var R_,FO,VO,Cr;const hd=Ot.createAgent();let iL=(R_=D_(pu.Other),FO=D_(pu.Other),VO=D_(pu.Other),ce((Cr=class extends us{constructor(t){super(t),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(t,i,o){return this.useSDK=!0,this.init(t,i,o)}init(t,i,o){const{audio:a,video:c}=eb();if(!a||!c)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:oe,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[_n]:l,[hn]:p}=this;let h=xp;const g=o?.fileWithVersion||!1;let v="en-US",y=`${xp}/${mo}`;if(o){const{dependentAssets:b,additionalFeatures:E,constraints:I,language:w,webEndpoint:_}=o;w&&(v=w),_&&(wg=PC(_,{hostname:!0})),b===ep.CDN||b===Lp?(h=Lp,y=`${Lp}/${mo}`):b===ep.Global||b===xp?(h=xp,y=`${xp}/${mo}`):b===ep.CN||b===Dg?(h=Dg,y=`${Dg}/${mo}`):b&&/^https?:\/\//.test(b)&&(h=WE(b),y=g?`${h}/1507_js_media.min.js`:`${h}/${mo}`),E&&Array.isArray(E)&&E.forEach(A=>{if(this[_m][A]&&void 0===p.getState()[A]){const{epic:T,reducer:M,Client:P}=this[_m][A];p.injectReducer(A,M),p.injectEpic(T);const N=new P(p);this.modules.set(A,N)}}),null!=I&&I.audio&&void 0===p.getState().audio&&(p.injectReducer("audio",BI),p.injectEpic(kR)),null!=I&&I.video&&void 0===p.getState().video&&(p.injectReducer("video",_O),p.injectEpic(eL)),null!=I&&I.screen&&void 0===p.getState().share&&(p.injectReducer("share",dR),p.injectEpic(dV))}return l(xD({apiKey:t,signature:i,language:v,useSDK:this.useSDK})),l(tf({mediaConstraints:o&&o.constraints||{},assetsPath:h,fileWithVersion:g,enforceMultipleVideos:o?.enforceMultipleVideos,enforceVirtualBackground:o?.enforceVirtualBackground,skipJsMedia:o?.skipJsMedia,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})),void 0!==o?.stayAwake&&l(Xd(o.stayAwake)),void 0!==o?.quicklyLeaveMeeting&&l(xu(o.quicklyLeaveMeeting)),new Promise((b,E)=>{null!=o&&o.skipJsMedia?b(""):kp(y,()=>{b("")},()=>{E({type:Je,reason:"dependent assets are not accessible"})})})}on(t,i){((o,a)=>{const c=fp[o];if(c){const l=oa.get(o);if(l)l.push(a),oa.set(o,l);else{oa.set(o,[a]);const h=qn(...c.map(g=>{const{event:v,payload:y}=g;return dn(za,v).pipe(ye(b=>y(b)),$t(Md))})).subscribe(g=>{const v=oa.get(o);v&&v.forEach(y=>{y(g)})});jf.push(h)}}})(t,i)}off(t,i){((o,a)=>{if(fp[o]){const c=oa.get(o);if(Array.isArray(c)){const l=c.filter(p=>p!==a);oa.set(o,l)}}})(t,i)}getFeatureModule(t){return this.modules.get(t)}leave(){const{[we]:t,[_n]:i}=this,{socket:{zoomSocketStatus:o}}=t();return i(o===Wt.Connected||o===Wt.Connecting?Jd():qE()),ar(Rn(500).pipe(hi("")))}end(){const{[we]:t,[_n]:i}=this;return"connected"===t().socket.zoomSocketStatus?(i(Vn()),ar(Rn(500).pipe(Te(()=>{gp()}),hi("")))):Promise.resolve("")}changeName(t,i){const o=this[hn].getState(),{meeting:{bAllowAttendeeRename:a}}=o,c=Fe(o),l=Mr(c.userRole),p=Co(o);if(l)return Promise.reject({type:$r});if(i&&i!==c?.userId){if(p){const{participants:{attendeesList:h}}=o,g=h.find(v=>v.userId===i);if(g)return hd.rename(i,On(t),On(g.displayName)),lc({userId:i,key:"displayName"},v=>v.displayName===t);{const v=_y(o).find(y=>y.userId===i);if(v){const y=Kp.getInstance();return hd.rename(v.userId,On(t),On(v.displayName)),y.rename(v.jid,t),Ge(Fa,b=>{const E=b.find(I=>I.jid===v.jid);return E&&E.displayName===t})}return Promise.reject({type:Je,reason:"no matching user"})}}return Promise.reject({type:$r})}return t===c.displayName?Promise.resolve():p||a?(hd.rename(c.userId,On(t),On(c.displayName)),Ge(Br,h=>h.displayName===t)):Promise.reject({type:$r,reason:"host disallow rename themselves"})}makeHost(t){return hd.assignHost(t,!1),lc({userId:t,key:"isHost"},i=>!0===i.isHost)}makeCoHost(t){const i=this[hn].getState(),o=Zt(i).find(a=>a.userId===t);return!0===o?.bCoHost?Promise.reject({type:Je,reason:`user:[${t}] is already co-host `}):(hd.assignHost(t,!0),lc({userId:t,key:"bCoHost"},a=>!0===a.bCoHost))}revokeCoHost(t){const i=this[hn].getState(),o=Zt(i).find(a=>a.userId===t);return!1===o?.bCoHost?Promise.reject({type:Je,reason:`user:[${t}] is not a co-host`}):(hd.revokeCoHost(t),lc({userId:t,key:"bCoHost"},a=>!1===a.bCoHost))}reclaimHost(){const t=this[we](),{meeting:{isOriginHost:i}}=t,o=Fe(t);return null!=o&&o.isHost?Promise.resolve(""):i?(hd.reclaimHost(o.userId,!1),Ge(Br,a=>!0===a.isHost)):Promise.reject({type:$r,reason:"You are not the origin host"})}isHost(){const t=this[hn].getState(),i=Fe(t);return!!i&&i.isHost}isCoHost(){const t=this[hn].getState(),i=Fe(t);return!!i&&!!i.bCoHost}isOriginHost(){const{meeting:{isOriginHost:t}}=this[we]();return t}getCurrentUserInfo(){const t=this[hn].getState(),i=Fe(t);if(i){const o=pd(i);if(t.meeting.isWebinar&&Mr(i.userRole)){const{audio:a}=t,c=a?.isAllowToTalk;Object.assign(o,{isAllowToTalk:c})}if(t.breakoutRoom&&cs(t)){const{breakoutRoom:{currentRoom:{boId:a}}}=t;Object.assign(o,{bid:a})}return o}return null}getParticipantsList(){const t=this[hn].getState(),{meeting:{meetingStatus:i}}=t,o=Fe(t);if(i===It.Joined&&o&&!o.bHold){var a,c;const l=t.breakoutRoom&&cs(t)?null===(a=t.breakoutRoom)||void 0===a||null===(c=a.currentRoom)||void 0===c?void 0:c.boId:"";return Zt(t).map(p=>{const h=pd(p);return l&&Object.assign(h,{bid:l}),h})}return[]}getAssistantsList(){const t=this[hn].getState(),{meeting:{meetingStatus:i}}=t,o=Fe(t);return i===It.Joined&&o?ek(t).map(a=>({userId:a.userId,displayName:a.displayName,isNewAst:!0})):[]}getMeetingHost(){var t;const i=this[we]();let o=K0(i);return o||(null===(t=i.breakoutRoom)||void 0===t?void 0:t.currentRoom.status)!==je.InRoom||(o=i.breakoutRoom.mainSessionAttendeeList.find(a=>a.isHost)),void 0!==o?pd(o):null}getMeetingInfo(){const{meeting:{meetingStatus:t,isOnHold:i,meetingNumber:o,passWord:a,userName:c,userEmail:l,meetingTopic:p,meetingOptions:h,encType:g,region:v,network:y,topic:b,zlkJwtToken:E,userId:I,lang:w,inviteEmail:_,meetingId:A,participantID:T,h323Password:M,recordingDisclaimer:P,recordingDisclaimerForRecorder:N,wrInfo:$,meetingInfo:V,isNewJoinFlow:L,chatModerationPolicy:Q}}=this[we](),Y=t===It.Joined&&!i;if(E)return{topic:b,password:a,userName:c,isInMeeting:Y,userId:I,meetingId:A};{let z="";return 0===g?z="None":1===g?z="AES ECB":2===g&&(z="AES GCM"),{meetingNumber:o,password:a,userName:c,userEmail:l,inviteEmail:_,meetingTopic:p,encryptionType:z,region:v,network:y,isInMeeting:Y,userId:I,lang:w,webEndpoint:ws(),meetingId:A,participantId:T,telPwd:M,recordingInfo:{recordingDisclaimer:P,recordingDisclaimerForRecorder:N,isUserEnableRecordingReminder:h?.isUserEnableRecordingReminder},wrInfo:Object.assign({},$,{isNew:L}),scheduleInfo:V,chatModerationPolicy:Q}}}}).prototype,"end",[hr,le],Object.getOwnPropertyDescriptor(Cr.prototype,"end"),Cr.prototype),ce(Cr.prototype,"changeName",[le],Object.getOwnPropertyDescriptor(Cr.prototype,"changeName"),Cr.prototype),ce(Cr.prototype,"makeHost",[R_,hr,le],Object.getOwnPropertyDescriptor(Cr.prototype,"makeHost"),Cr.prototype),ce(Cr.prototype,"makeCoHost",[FO,hr,le],Object.getOwnPropertyDescriptor(Cr.prototype,"makeCoHost"),Cr.prototype),ce(Cr.prototype,"revokeCoHost",[VO,hr,le],Object.getOwnPropertyDescriptor(Cr.prototype,"revokeCoHost"),Cr.prototype),ce(Cr.prototype,"reclaimHost",[le],Object.getOwnPropertyDescriptor(Cr.prototype,"reclaimHost"),Cr.prototype),Cr);const sL=Ot.createAgent(),aL=Kp.getInstance(),jO=(t,i,o)=>{const a=i?.userId;if(null==t||!t.zoomID||null==i||!i.displayName||a===t.userId)return{type:Je,reason:"invalid target user"};const{chat:{chatPrivilege:c,panelistChatPrivilege:l},meeting:{isWebinar:p}}=o,h=Co(o),g=i.isHost||i.bCoHost;let v=!1;if(!h){if(p)if(Mr(t.userRole))(c===yn.NoAttendee||c===yn.AllPanelist&&a!==nn.Panelist||c===yn.All&&a!==nn.All&&a!==nn.Panelist)&&(v=!0);else{const y=Mr(i?.userRole);(l===hl.Invalid||l===hl.AllPanelist&&(y||a===nn.All))&&(v=!0)}else(c===yn.NoAttendee||c===yn.Host&&!g||a===nn.SilentModeUsers||c===yn.EveryonePublicly&&a!==nn.All&&!g)&&(v=!0);if(v)return{type:$r,reason:"Insufficient chat privilege"}}return null};function UO(t,i){if(i===nn.All)return Hv;if(i===nn.Panelist)return Jt;if(i===nn.SilentModeUsers)return e0;{const{meeting:{isWebinar:o},participants:{xmppAttendeeList:a,attendeesList:c}}=t;return o?c.find(l=>l.userId===i)||a.find(l=>l.userId===i):c.find(l=>l.userId===i)}}function Am(t,i,o){if(null!=o&&o.host)return[K0(t),...kA(t)].filter(a=>a?.userId!==i).map(a=>({userId:a?.userId,displayName:a?.displayName,isHost:a?.isHost,isCoHost:a?.bCoHost}));{let a=[K0(t),...kA(t),...t.participants.attendeesList.filter(c=>!(c.bCoHost||c.isHost||c.bHold))];if(null!=o&&o.includeAttendee){const c=_y(t).filter(l=>!vp(l.userType));a=[...a,...c]}return a.filter(c=>void 0!==c&&c.userId!==i).map(c=>({userId:c?.userId,displayName:c?.displayName,isHost:c?.isHost,isCoHost:c?.bCoHost}))}}function Mc(t){const{text:i,destId:o,sn:a,attendeeId:c}=t;return Oo.beginEncrypt({text:i,type:Jr.RWG_CHAT}).then(l=>{sL.chat(l,o,a,c)})}function fd(t,i){const{chat:{chatHistory:o}}=i;return o.find(a=>{var c,l;return(null===(c=a.file)||void 0===c||null===(l=c.upload)||void 0===l?void 0:l.uniqueId)===t})}function O_(t,i){const{meeting:{isWebinar:o},participants:{attendeesList:a}}=i,{destNodeID:c,senderName:l,attendeeNodeID:p}=t,h=a.find(E=>E.userId===c),g=t.sn?t.sn:h?.zoomID,v=l?fi(l):h?.displayName;let y,b="";if(p===nn.SilentModeUsers)return{sender:{name:"Host",userId:c},receiver:{name:"Everyone (in Waiting Room)",userId:p},timestamp:(new Date).getTime()};if(p===nn.All)b=o?"All panelists and attendees":"Everyone";else if(p===nn.Panelist)b="All panelists";else{if(o){const E=_y(i).find(I=>I.userId===p);E&&(b=E.displayName)}if(!b){const E=a.find(I=>I.userId===p);E&&(b=E.displayName,y=E.userGUID)}}return{sn:g,sender:{name:v,userId:c,userGuid:h?.userGUID,avatar:h?.avatar},receiver:{name:b,userId:p,userGuid:y},timestamp:(new Date).getTime()}}function BO(t){var i;const[o]=t.split(".").reverse();return null!==(i=tp[o])&&void 0!==i?i:""}function M_(t,i){const o=[];for(let a=t.length-1;a>=0;a--){const c=t[a];if(!c.file&&(!c.id&&c.sender.userId===i.userId&&[nn.All,nn.Panelist,nn.IndividualCcPanelist,i.destNodeID].includes(c.receiver.userId)&&o.unshift(c),c.id))break}return o.length>0?o[0]:null}const P_=Ii.getInstance(),HO=P_.makeLogger(["File Transfer"]);function $O(t,i,o){const{name:a,size:c}=t,{meeting:{reportDomain:l,svcUrl:p,conId:h}}=o;return`https://${l}${i}?${new URLSearchParams({filename:a,filesize:c,rwg:p,cid:h}).toString()}`}function uL(t,i){return i.fileObj?`${t}/zoomfile/download?objkey=${i.fileObj}&business=meeting`:`${t}/file/${i.fileID}?business=meeting`}function Tm(t,i){return{fileName:t.name,fileSize:t.size,receiverId:i?.userId,receiverGuid:i?.userGuid}}function Pc(t,i,o){P_.report(`${t}. file name:${Wr(i.name)},file size:${i.size}, ${"type"in i?`file type:${i.type}`:""}, error:${o.name};${o.message}`,["File Transfer"])}function N_(t){var i,o,a;return{id:t.id,fileName:null===(i=t.file)||void 0===i?void 0:i.name,fileSize:null===(o=t.file)||void 0===o?void 0:o.size,fileUrl:null===(a=t.file)||void 0===a?void 0:a.fileUrl,senderId:t.sender.userId,senderGuid:t.sender.userGuid}}function GO(t,i,o){return new Promise((a,c)=>{const l=new FileReader;l.readAsArrayBuffer(t.slice(i,o)),l.onload=p=>{var h;return a(null===(h=p.target)||void 0===h?void 0:h.result)},l.onerror=p=>c(p)})}function zO(t,i){return k_.apply(this,arguments)}function k_(){return k_=Oe(function*(t,i){let[o,a]=[t.size,0];null!=i&&(o=Math.min(rn.ChunkSize,t.size-i),a=i);const c=t.size-a<=rn.ChunkSize,l=Math.ceil(o/rn.EncodeBlockSize);try{return function(p){const h=p.reduce((y,b)=>y+b.byteLength,0),g=new Uint8Array(h);let v=0;for(const y of p)g.set(new Uint8Array(y),v),v+=y.byteLength;return g}(yield Promise.all(Array.from({length:c?Math.max(l-1,1):l},(p,h)=>({start:h*rn.EncodeBlockSize+a,end:(c&&h===l-2?h+2:h+1)*rn.EncodeBlockSize+a})).map(function(){var p=Oe(function*(h){let{start:g,end:v}=h;try{const y=yield GO(t,g,v);return y?yield Oo.beginEncrypt({text:new Uint8Array(y),type:Jr.CHAT_FILE}):Promise.reject(null)}catch(y){return Pc(`encrypt file buffer error. offset:${i},`,t,y),Promise.reject(y)}});return function(h){return p.apply(this,arguments)}}())))}catch(p){console.warn(p)}return null}),k_.apply(this,arguments)}function Nc(t,i,o,a){return a.pipe(Me(`${Qy}`,`${ps}`),ne(c=>{if(c.type===`${ps}`)return!0;const{payload:{uniqueId:l,fileName:p,userId:h}}=c;return i===l&&t.name===p&&o.userId===h}),bt(1),Te(c=>{HO.info(`Cancel file upload. file name:${Wr(t.name)},file size:${t.size},receiver id:${o.userId}`),F(Va,{...Tm(t,o),progress:0,status:rr.Cancel,retryToken:c.type===`${Qy}`?i:void 0})}))}function tb(t,i){if(null!=t&&t.file){const{file:o,receiver:a}=t,{upload:{chunkIndex:c,totalChunks:l,uniqueId:p}}=o;return F(Va,{...Tm(i,a),progress:Math.floor((c??0)/(l??1)*100),status:rr.Fail,retryToken:p}),ve([dr({upload:{status:rr.Fail,progress:0,uniqueId:p}}),Jy({uniqueId:p,file:i})])}return Se}function nb(t,i){return F(Va,{...Tm(t),progress:0,status:rr.Fail}),Vt(dr({upload:{status:rr.Fail,progress:0,uniqueId:i}}))}function WO(t,i,o,a){return ro.apply(this,arguments)}function ro(){return ro=Oe(function*(t,i,o,a){const c=$O(t,"/wc/fileupload",a.value),l=new FormData;try{const p=yield zO(t),h=fd(i,a.value);if(p&&h){l.append("file",new File([p],t.name));const{meeting:{zmk:g}}=a.value,{receiver:v}=h;return no({url:c,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:g},crossDomain:gi(c),body:l,includeUploadProgress:!0}).pipe(We(Nc(t,i,v,o)),se(y=>{const{type:b,loaded:E,responseHeaders:I,total:w}=y;let _=0,A=rr.InProgress;const T={upload:{uniqueId:i}},M=[];if("upload_loadstart"===b)_=0;else if("upload_progress"===b)_=Math.floor(E/w*100*.9);else if("upload_load"===b)_=90;else if("download_load"===b){var P,N;_=100,A=rr.Success;const{chat:{fileServerDomain:$}}=a.value,V=null===(P=I["zoom-file-id"])||void 0===P?void 0:P.trim(),L=null===(N=I["zoom-file-obj"])||void 0===N?void 0:N.trim(),Q=uL($,{fileObj:L});Object.assign(T,{fileID:V,fileObj:L,fileUrl:Q})}return Object.assign(T.upload,{progress:_,status:A}),(_>0||"upload_loadstart"===b)&&(F(Va,{...Tm(t,v),progress:_,status:A}),M.push(dr(T))),ve(M)}),jr(y=>(console.warn(y),Pc("Upload small file error.",t,y),tb(h,t))))}}catch(p){console.warn(p)}return nb(t,i)}),ro.apply(this,arguments)}const Sh=(()=>{const t=new FT;return i=>Oe(function*(){yield t.acquire(),i(...arguments),setTimeout(()=>{t.release()},3e3)})})(),cL=function(t){const i=["chatFileTransfer"];return new Proxy(t,{get:(o,a)=>"string"==typeof a&&i.includes(a)?function(){return Sh(o[a].bind(o))(...arguments)}:Reflect.get(o,a)})}(Ot.createAgent()),qO={chatHistory:[],chatPrivilege:yn.All,panelistChatPrivilege:hl.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},gV=gr({[`${Jo}`]:B((t,i)=>{let{payload:o}=i;t.chatHistory.push(o)}),[`${hC}`]:B((t,i)=>{let{payload:o}=i;t.chatPrivilege=o}),[`${gT}`]:B((t,i)=>{let{payload:o}=i;t.panelistChatPrivilege=o}),[`${mT}`]:B((t,i)=>{let{payload:o}=i;t.isAllowAttendeeChat=o}),[`${vT}`]:B((t,i)=>{let{payload:o}=i;const{destNodeID:a,msgID:c,userId:l}=o,p=M_(t.chatHistory,{userId:l,destNodeID:a});p&&Object.assign(p,{id:c})}),[`${hg}`]:B((t,i)=>{let{payload:o}=i;const{msgId:a}=o,c=t.chatHistory.findIndex(l=>l.id===a);c>=0&&t.chatHistory.splice(c,1)}),[`${fC}`]:B((t,i)=>{let{payload:o}=i;Object.assign(t,o)}),[`${Rp}`]:B((t,i)=>{let{payload:o}=i;const{originFile:a,...c}=o;t.chatHistory.push(c)}),[`${dr}`]:B((t,i)=>{let{payload:o}=i;const{upload:a,download:c,originFile:l,...p}=o;if(a){var h;const{uniqueId:g,...v}=a,y=t.chatHistory.find(b=>{var E;return b.file&&(null===(E=b.file.upload)||void 0===E?void 0:E.uniqueId)===g});null!=y&&null!==(h=y.file)&&void 0!==h&&h.upload&&(Object.assign(y.file.upload,{...v}),Object.assign(y.file,{...p}),y.file.upload.status===rr.Success&&t.failedFileTransfer[y.file.upload.uniqueId]&&delete t.failedFileTransfer[y.file.upload.uniqueId])}else if(c){const{id:g,fileUrl:v}=p,y=t.chatHistory.find(b=>{var E;return b.id===g&&(null===(E=b.file)||void 0===E?void 0:E.fileUrl)===v});null!=y&&y.file&&(y.file.download?Object.assign(y.file.download,{...c}):Object.assign(y.file,{download:c}))}}),[`${Qy}`]:B((t,i)=>{let{payload:o}=i;const{uniqueId:a,fileName:c,userId:l}=o,p=t.chatHistory.find(g=>g.file&&g.file.name==c&&g.file.upload.uniqueId===a&&g.file.upload.status===rr.InProgress&&g.receiver.userId===l);var h;null!=p&&p.file&&Object.assign(null===(h=p.file)||void 0===h?void 0:h.upload,{status:rr.Cancel,progress:0})}),[`${Jy}`]:B((t,i)=>{let{payload:o}=i;const{uniqueId:a,file:c}=o;t.failedFileTransfer[`${a}`]||Object.assign(t.failedFileTransfer,{[`${a}`]:c})}),[`${gC}`]:B((t,i)=>{let{payload:o}=i;const{fileID:a,msgID:c,senderId:l}=o,p=t.chatHistory.find(h=>{var g;return(null===(g=h.file)||void 0===g?void 0:g.fileID)===a&&h.sender.userId===l});p&&Object.assign(p,{id:c})}),[`${Zy}`]:B((t,i)=>{let{payload:o}=i;const{id:a,fileUrl:c}=o,l=t.chatHistory.find(h=>{var g,v;return h.id===a&&(null===(g=h.file)||void 0===g?void 0:g.fileUrl)===c&&(null===(v=h.file)||void 0===v?void 0:v.download.status)===Wo.InProgress});var p;null!=l&&l.file&&Object.assign(null===(p=l.file)||void 0===p?void 0:p.download,{status:Wo.Cancel,progress:0})}),[`${Ky}`]:()=>({...qO})},qO);var ir;const hu=Ot.createAgent();let lL=(ce((ir=class extends us{send(t,i){if(!t)return Promise.reject({type:Je,reason:"Text is empty"});const{[we]:o,[_n]:a}=this,c=o(),l=Fe(c),p=UO(c,i),h=jO(l,p,c);if(h)return Promise.reject(h);const{meeting:{isWebinar:g,encType:v}}=c,y=v===xv.AES_GCM;let b=Promise.resolve(),E=!1;const I=g&&Mr(p.userRole);return i===nn.SilentModeUsers?hu.chat(On(t),i):g?I?8&~p.clientCap?(b=Mc({text:t,destId:nn.Panelist,sn:l?.zoomID,attendeeId:i}).then(()=>function(w){const{text:_,jid:A,isGCMEnabled:T}=w;return Oo.beginEncrypt({text:_,type:Jr.XMPP_CHAT}).then(M=>{aL.sendWebinarMseeage(M,A,nn.IndividualCcPanelist,T)})}({text:t,jid:p.jid,isGCMEnabled:y})),E=!0):b=Mc({text:t,destId:nn.IndividualCcPanelist,sn:l?.zoomID,attendeeId:i}):p&&(b=Mc({text:t,destId:p.userId,sn:l?.zoomID})):b=Mc({text:t,destId:p.userId,sn:l?.zoomID}),b.then(()=>{const w=function(_,A,T,M){const P=(new Date).getTime(),N=performance.now();return{message:_,sender:{name:A.displayName,userId:A.userId,userGuid:A.userGUID,avatar:A.avatar},receiver:{name:T?.displayName,userId:M?nn.IndividualCcPanelist:T?.userId,userGuid:T?.userGUID},timestamp:P,highResTimeStampForIdentification:N}}(t,l,p,I);return a(Jo(w)),E?(F(Hu,w),w):new Promise((_,A)=>{Mt(ys).pipe(eN(5e3),mD(T=>w.highResTimeStampForIdentification!==T.identification||!([T.receiverId,nn.All,nn.Panelist].includes(i)||T.receiverId===nn.IndividualCcPanelist)),bt(1)).subscribe(T=>{const{msgId:M}=T,{highResTimeStampForIdentification:P,...N}=w,$={id:M,...N,...I&&{receiver:{name:p?.displayName,userId:p?.userId}}};F(Hu,$),_($)},()=>{A({type:k0})})})})}setPrivilege(t){const i=this[we](),{meeting:{isWebinar:o},chat:{chatPrivilege:a},breakoutRoom:c}=i;return a===t?Promise.resolve(""):c?.controlStatus===dt.InProgress&&cs(i)?Promise.reject({type:oe,reason:"Cannot update chat privilege in a subsession"}):!o&&!BD.includes(t)||o&&!HD.includes(t)?Promise.reject({type:Je,reason:"invalid privilege value of parameter"}):(hu.setChatPriviledge(t),Ge(Xs,l=>l.chatPrivilege===t))}setPanelistPrivilege(t){const i=this[we](),{chat:{panelistChatPrivilege:o}}=i,a=wN[t];return o===a?Promise.resolve(""):Object.values(ff).includes(t)?(hu.setPanelistChatPrivilege(t),Ge(Xs,c=>c.panelistChatPrivilege===a)):Promise.reject({type:Je,reason:"Panelist privilege value is invalid"})}deleteMessage(t){const i=this[we](),{chat:{chatHistory:o},meeting:{meetingOptions:a,userId:c}}=i;if(null!=a&&a.isEnableDeleteChatMsg){const l=Co(i),p=o.find(h=>h.id===t);if(p){const{sender:h}=p;if(l)hu.chatCmdReq(t,Bv.Delete);else{if(h.userId!==c)return Promise.reject({type:$r,reason:"can not delete message"});hu.chatCmdReq(t,Bv.Delete)}return Ge(np,g=>g.id===t).then(()=>({id:t}))}return Promise.reject({type:Je,reason:"msgId is wrong"})}return Promise.reject({type:oe,reason:"can not delete messages"})}lockChat(t){const i=this[we](),{meeting:{meetingOptions:o}}=i;return this.setPrivilege(t?yn.NoOne:null!=o&&o.isPrivateChatEnabled?yn.All:yn.EveryonePublicly)}sendFile(t,i){if(!t)return Promise.reject({type:Je,reason:"File is empty"});const{[we]:o,[_n]:a}=this,c=o(),{chat:{isFileTransferEnable:l,fileTransferFileType:p,fileTransferSizeLimit:h,failedFileTransfer:g}}=c;if(!l)return Promise.reject({type:oe,reason:"Send files via in-session chat is not enabled"});if("string"==typeof t){const v=fd(t,c);if(null!=v&&v.file&&g[t]){const{file:{upload:y,...b}}=v,{file:{name:E,upload:{uniqueId:I}},receiver:{userId:w}}=v;return a(dr({originFile:g[t],...b,upload:{...y,status:rr.InProgress}})),Promise.resolve(()=>{a(Qy({uniqueId:I,fileName:E,userId:w}))})}return Promise.reject({type:Je,reason:"Retry token is not correct."})}{const{name:v}=t;if(p.length>0){const[w]=v.split(".").reverse();if(!p.some(_=>_===w))return Promise.reject({type:oe,reason:"File is not in the allow list"})}if(t.size>h)return Promise.reject({type:oe,reason:"File size exceeds the maximum limit."});const y=Fe(c),b=UO(c,i),E=jO(y,b,c);if(E)return Promise.reject(E);const I=qd();return a(Rp(function(w,_,A,T,M){const P=(new Date).getTime();return{file:{name:w.name,size:w.size,type:w.type,upload:{progress:0,uniqueId:_,totalChunks:0,chunkIndex:0}},originFile:w,sender:{name:A.displayName,userId:A.userId,userGuid:A.userGUID,avatar:A.avatar},receiver:{name:T?.displayName,userId:T?.userId,attendeeId:void 0,userGuid:T?.userGUID},timestamp:P}}(t,I,y,b))),Promise.resolve(()=>{a(Jy({uniqueId:I,file:t})),a(Qy({uniqueId:I,fileName:v,userId:b?.userId}))})}}downloadFile(t,i,o){const{[we]:a,[_n]:c}=this,{chat:{chatHistory:l}}=a();return t&&i&&l.find(h=>{var g;return h.id===t&&(null===(g=h.file)||void 0===g?void 0:g.fileUrl)===i})?(c(dr({id:t,fileUrl:i,download:{status:Wo.InProgress,progress:0,blob:o}})),Promise.resolve(()=>c(Zy({id:t,fileUrl:i})))):Promise.reject({type:Je,reason:"Invalid message id or file url!"})}getPrivilege(){const{chat:{chatPrivilege:t,isAllowAttendeeChat:i}}=this[we]();return i?t:yn.NoAttendee}getReceivers(){const t=this[we](),{chat:{chatPrivilege:i,panelistChatPrivilege:o,isAllowAttendeeChat:a},meeting:{isWebinar:c}}=t;if(!c&&!a)return[];const l=Fe(t),p=Co(t);if(l)if(c)if(Mr(l.userRole)){if(!a)return[];if(i===yn.All)return[Jt,Hv];if(i===yn.AllPanelist)return[Jt];if(i===yn.NoOne)return[]}else{if(p||o===hl.Everyone){const h=Am(t,l.userId,{includeAttendee:!0});return[Jt,Hv,...h]}if(o===hl.AllPanelist){const h=Am(t,l.userId);return[Jt,...h]}}else{const h=Co(t);if(i===yn.All||h){const g=Am(t,l.userId);return[Hv,...g]}if(i===yn.Host)return Am(t,l.userId,{host:!0});if(i===yn.EveryonePublicly){const g=Am(t,l.userId,{host:!0});return[Hv,...g]}if(i===yn.NoOne)return[]}return[]}getHistory(){return this[we]().chat.chatHistory.map(t=>{const{highResTimeStampForIdentification:i,...o}=t;if(o.file){const{name:a,size:c,type:l,fileUrl:p,upload:h,download:g}=o.file,v={name:a,size:c,type:l,fileUrl:p};return h&&Object.assign(v,{upload:{status:h.status,progress:h.progress}}),g&&Object.assign(v,{download:{status:g.status,progress:g.progress}}),{...o,file:v}}return o})}isAllowToDeleteMessages(){const t=this[we](),{meeting:{meetingOptions:i}}=t;return i?.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[we]().chat.isFileTransferEnable}getFileTransferSetting(){const t=this[we](),{chat:{fileTransferFileType:i,fileTransferSizeLimit:o}}=t;return{typeLimit:(i??[]).map(a=>`.${a}`).join(","),sizeLimit:o}}}).prototype,"send",[le],Object.getOwnPropertyDescriptor(ir.prototype,"send"),ir.prototype),ce(ir.prototype,"setPrivilege",[Hn,le],Object.getOwnPropertyDescriptor(ir.prototype,"setPrivilege"),ir.prototype),ce(ir.prototype,"setPanelistPrivilege",[Hn,le,function(t,i,o){const a=o.value;o.value=function(){const c=this[hn];if(c){const{meeting:{isWebinar:g}}=c.getState();if(!g)return Promise.reject({type:wl,reason:"non-webinar"})}for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return a.apply(this,p)}}],Object.getOwnPropertyDescriptor(ir.prototype,"setPanelistPrivilege"),ir.prototype),ce(ir.prototype,"deleteMessage",[le],Object.getOwnPropertyDescriptor(ir.prototype,"deleteMessage"),ir.prototype),ce(ir.prototype,"lockChat",[Hn,le],Object.getOwnPropertyDescriptor(ir.prototype,"lockChat"),ir.prototype),ce(ir.prototype,"sendFile",[le],Object.getOwnPropertyDescriptor(ir.prototype,"sendFile"),ir.prototype),ce(ir.prototype,"downloadFile",[le],Object.getOwnPropertyDescriptor(ir.prototype,"downloadFile"),ir.prototype),ir);const dL=qr({epics0:(t,i)=>co(t,24583).pipe(Pe(i),se(o=>{let[a,c]=o;if(c.meeting.zlkJwtToken)return Se;const{payload:{body:{sn:l,senderName:p,senderJid:h,receiver:g,text:v,type:y}}}=a,b=Fe(c),E=_y(c),{meeting:{jid:I,userId:w},participants:{xmppAttendeeList:_}}=c;return Oo.beginDecrypt({decryptedText:v,type:Jr.XMPP_CHAT,zoomId:l}).then(A=>{var T;let{message:M}=A,P=null,N=0,$="";b&&Mr(b.userRole)&&I===g?(P=_.find(L=>L.jid===h),N=w,$=b.displayName):y===nn.Panelist&&(P=E.find(L=>L.jid===h),N=nn.Panelist,$=Jt.displayName);const V={message:M,sender:{name:p,userId:(null===(T=P)||void 0===T?void 0:T.userId)||0,avatar:""},receiver:{name:$,userId:N},timestamp:(new Date).getTime()};return F(Hu,V),Jo(V)})})),epics1:(t,i)=>be(t,7944).pipe(Pe(i),se(o=>{let[a,c]=o;const{meeting:{bIbDisableChat:l}}=c,{payload:{body:{attendeeNodeID:p,sn:h,destNodeID:g,text:v,senderName:y,msgID:b}}}=a,E=Fe(c);if(E){const I=Mr(E?.userRole)&&p===E.userId&&!b;if(!l&&!I){const{sn:w,..._}=O_({destNodeID:g,attendeeNodeID:p,senderName:y,sn:h},c);return(p===nn.SilentModeUsers?Promise.resolve({id:b,message:fi(v),..._}):Oo.beginDecrypt({decryptedText:v,zoomId:w,type:Jr.RWG_CHAT}).then(A=>{let{message:T}=A;return{id:b,message:T,..._}})).then(A=>(F(Hu,A),Jo(A)))}}return Se})),epics2:(t,i)=>be(t,mi).pipe(ne(o=>{var a,c;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.chatPriviledge)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.bAllowAttendeeChat)}),Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:{chatPriviledge:l,bAllowAttendeeChat:p}}}=a,{chat:{chatPrivilege:h}}=c;return void 0!==p?(F(Xs,!0===p?{chatPrivilege:h}:{chatPrivilege:yn.NoAttendee}),mT(p)):(F(Xs,{chatPrivilege:l}),hC(l))})),epics3:t=>be(t,mi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.panelistChatPriviledge)}),ye(i=>{const{payload:{body:{panelistChatPriviledge:o}}}=i;return F(Xs,{panelistChatPrivilege:o}),gT(o)})),epics4:(t,i)=>be(t,4136).pipe(Pe(i),se(o=>{let[a,c]=o;const{payload:{body:{result:l,destNodeID:p,msgID:h,fileID:g}}}=a,{meeting:{userId:v},chat:{chatHistory:y}}=c,b=[];if(l===Ki.Success)if(g){const I=y.find(w=>{var _;return(null===(_=w.file)||void 0===_?void 0:_.fileID)===g});if(I){const{file:w,receiver:_,...A}=I,{name:T,size:M,type:P,fileUrl:N}=w??{},{attendeeId:$,...V}=_;F(Hu,{id:h,file:{name:T,size:M,type:P,fileUrl:N,upload:{status:rr.Complete,progress:100}},receiver:{...V},...A}),b.push(gC({fileID:g,msgID:h,senderId:v}))}}else{const I=M_(y,{userId:v,destNodeID:p});var E;I&&(F(ys,{msgId:h,receiverId:p,identification:null!==(E=I.highResTimeStampForIdentification)&&void 0!==E?E:0}),b.push(vT({destNodeID:p,msgID:h,userId:v})))}else l!==Ki.Delete&&l!==Ki.Block||b.push(hg({msgId:h}));return ve(b)})),epics5:t=>be(t,4238).pipe(se(i=>{const{payload:{body:{bSuccess:o,cmd:a,msgID:c}}}=i,l=[];return o&&a===Bv.Delete&&(l.push(hg({msgId:c})),F(np,{id:c})),ve(l)})),epics6:t=>be(t,7960).pipe(se(i=>{const{payload:{body:{cmd:o,msgID:a}}}=i,c=[];return o===Bv.Delete&&(c.push(hg({msgId:a})),F(np,{id:a})),ve(c)}))},{chatFileEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{var o,a,c;const{payload:{fileTransfer:l,fileServerDomain:p}}=i;return fC({isFileTransferEnable:l?.isEnable,isEnableFileTransferEncrypted:l?.isEnableFileTransferEncrypted,fileTransferFileType:(null!==(o=l?.fileType)&&void 0!==o?o:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*(null!==(a=l?.sizeLimit)&&void 0!==a?a:0)*1024||rn.MaxSize,fileDownloadPromptIgnoreList:(null!==(c=l?.fileDownloadPromptIgnoreList)&&void 0!==c?c:"").replace(/\./g,"").split(","),fileServerDomain:`https://${p}`})})),chatFileEpics1:(t,i)=>t.pipe(Me(`${Rp}`),se(function(){var o=Oe(function*(a){const{payload:{originFile:c,file:{upload:{uniqueId:l}}}}=a;return c.size>rn.ChunkSize?yield(p=Oe(function*(h,g,v,y){const b=$O(h,"/wc/multiupload/init",y.value),E=yield(A=Oe(function*(T){const M=Math.ceil(T.size/rn.ReaderChunkSize);return(yield Promise.all(Array.from({length:M},(P,N)=>({start:N*rn.ReaderChunkSize,end:(N+1)*rn.ReaderChunkSize})).map(function(){var P=Oe(function*(N){let{start:$,end:V}=N;try{const L=yield GO(T,$,V);return Mv(yield window.crypto.subtle.digest("SHA-256",L))}catch(L){return Pc("calculate file hash error.",T,L),Promise.reject(L)}});return function(N){return P.apply(this,arguments)}}()))).join("")}),function(T){return A.apply(this,arguments)})(h),{meeting:{zmk:I,meetingId:w}}=y.value,_=fd(g,y.value);var A;if(E&&_){const{receiver:A}=_,T={fileName:h.name,length:h.size,channelType:4,digest:E,shareJid:w};return no({url:b,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:I},crossDomain:gi(b),body:T}).pipe(We(Nc(h,g,A,v)),ye(M=>{var P;const{responseHeaders:N,response:$}=M,V=null===(P=N["x-zm-trackingid"])||void 0===P?void 0:P.trim(),{uploadid:L,path:Q,metadata:Y}=$,z=Math.ceil(h.size/rn.ChunkSize);return dr({originFile:h,upload:{uniqueId:g,status:rr.InProgress,progress:0,chunkIndex:0,totalChunks:z,uploadid:L,trackingId:V,path:Q,metadata:Y}})}),jr(M=>(console.warn(M),Pc("Upload file meta error.",h,M),tb(_,h))),ds(dr({upload:{uniqueId:g,status:rr.Init}})))}return nb(h,g)}),function(h,g,v,y){return p.apply(this,arguments)})(c,l,t,i):yield WO(c,l,t,i);var p});return function(a){return o.apply(this,arguments)}}()),se(o=>o)),chatFileEpics2:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{var a;return(null===(a=o.payload.upload)||void 0===a?void 0:a.status)===rr.Success}),ns(function(){var o=Oe(function*(a){const{payload:{upload:{uniqueId:c}}}=a,{chat:{isEnableFileTransferEncrypted:l,chatHistory:p}}=i.value,h=p.find(v=>{var y,b;return(null===(y=v.file)||void 0===y||null===(b=y.upload)||void 0===b?void 0:b.uniqueId)===c}),g=[];if(h&&h.file){const{file:{name:v,size:y,fileObj:b,fileID:E,type:I},receiver:{userId:w,attendeeId:_}}=h;let[A,T]=["",""];if(l){const[M,P]=yield Promise.all([v,`${y}`].map(N=>Oo.beginEncrypt({text:N,type:Jr.RWG_CHAT})));[A,T]=[M,P]}else[A,T]=[v,`${y}`].map(M=>On(M));yield cL.chatFileTransfer({fileID:E,fileSize:T,fileName:A,fileObj:b,type:I,destNodeID:w,attendeeNodeID:_}),g.push(dr({upload:{uniqueId:c,status:rr.Complete}}))}return g});return function(a){return o.apply(this,arguments)}}())),chatFileEpics3:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a,originFile:c}}=o;return!!a&&!!a.uniqueId&&a.status===rr.InProgress&&c?.size<=rn.ChunkSize&&0===a.totalChunks}),se(function(){var o=Oe(function*(a){const{payload:{originFile:c,upload:{uniqueId:l}}}=a;return yield WO(c,l,t,i)});return function(a){return o.apply(this,arguments)}}()),se(o=>o)),chatFileEpics4:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a}}=o;return!!a&&!!a.uniqueId&&a.totalChunks>0&&a.chunkIndex!==a.totalChunks}),se(function(){var o=Oe(function*(a){const{payload:{originFile:c,upload:{uniqueId:l}}}=a;return yield(p=Oe(function*(h,g,v,y){const b=fd(g,y.value);if(null!=b&&b.file){const{file:{upload:{chunkIndex:E,totalChunks:I,uploadid:w,path:_,trackingId:A,etags:T},size:M},receiver:P}=b,N=E*rn.ChunkSize,$=yield zO(h,N);if($){const{chat:{fileServerDomain:V},meeting:{zmk:L}}=y.value,Q=`${V}/upload/parts?${new URLSearchParams({uploadid:w,partNumber:E+1}).toString()}`,Y=new FormData,z=new File([$],h.name);return Y.append("file",z),no({url:Q,method:"POST",headers:{"Zoom-File-Size":z.size,"Zoom-File-Path":_,"x-zm-trackingid":A,"Zoom-File-Origin":"redirect=support_auth",zmk:L},crossDomain:gi(Q),body:Y,includeUploadProgress:!0}).pipe(We(Nc(h,g,P,v)),se(j=>{var O;const{type:k,loaded:H,total:U,responseHeaders:K}=j;let re=0;const te={upload:{uniqueId:g,status:rr.InProgress}},me=[],Ne=fd(g,y.value),De=null==Ne||null===(O=Ne.file)||void 0===O?void 0:O.upload.progress;if("upload_loadstart"===k)re=De||Math.floor(E/I*100);else if("upload_progress"===k)re=Math.floor((E*rn.ChunkSize+.9*H)/M*100);else if("upload_load"===k)re=Math.floor((E*rn.ChunkSize+.9*U)/M*100);else if("download_load"===k){re=De||Math.floor((E+1)/I*100);const Ue=K["x-zm-etag"].trim(),Be=T?{...T,[`${E+1}`]:Ue}:{[`${E+1}`]:Ue};Object.assign(te.upload,{etags:Be,chunkIndex:E+1,totalChunks:I}),Object.assign(te,{originFile:h})}return(re>0||"upload_loadstart"===k)&&(Object.assign(te.upload,{progress:re}),F(Va,{...Tm(h,P),progress:re,status:rr.InProgress}),me.push(dr(te))),ve(me)}),jr(j=>(console.warn(j),Pc(`Upload file chunk error. chunk:${E},total chunks:${I},uploadid:${w},trackingId:${A}`,h,j),tb(b,h))))}}return nb(h,g)}),function(h,g,v,y){return p.apply(this,arguments)})(c,l,t,i);var p});return function(a){return o.apply(this,arguments)}}()),se(o=>o)),chatFileEpics5:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{const{payload:{upload:a}}=o;return!!a&&!!a.uniqueId&&a.totalChunks>0&&a.chunkIndex==a.totalChunks}),se(o=>{const{payload:{originFile:a,upload:{uniqueId:c}}}=o;return function(l,p,h,g){const{chat:{fileServerDomain:v},meeting:{zmk:y}}=g.value,b=fd(p,g.value);if(null!=b&&b.file){const{file:{upload:{uploadid:E,metadata:I,etags:w,trackingId:_}},receiver:A}=b,T=`${v}/upload/complete?uploadid=${E}`;return no({url:T,method:"POST",headers:{"x-zm-trackingid":_,"Zoom-File-Origin":"redirect=support_auth",zmk:y},crossDomain:gi(T),body:{metadata:I,etags:w}}).pipe(We(Nc(l,p,A,h)),ye(M=>{var P,N;const{chat:{fileServerDomain:$}}=g.value,{responseHeaders:V}=M,L=null===(P=V["zoom-file-id"])||void 0===P?void 0:P.trim(),Q=null===(N=V["zoom-file-obj"])||void 0===N?void 0:N.trim(),Y=`${$}/zoomfile/download?objkey=${Q}&business=meeting`;return F(Va,{...Tm(l,A),progress:100,status:rr.Success}),dr({fileID:L,fileObj:Q,fileUrl:Y,upload:{uniqueId:p,progress:100,status:rr.Success}})}),jr(M=>(console.warn(M),Pc(`Upload chunks checksum error.uploadid${E},trackingId${_}`,l,M),tb(b,l))))}return nb(l,p)}(a,c,t,i)})),chatFileEpics6:(t,i)=>be(t,4308).pipe(ns(function(){var o=Oe(function*(a){const{payload:{body:{attendeeNodeID:c,destNodeID:l,fileID:p,fileName:h,fileObj:g,fileSize:v,fileType:y,msgID:b,senderName:E}}}=a,{meeting:{bIbDisableChat:I},chat:{fileServerDomain:w,isEnableFileTransferEncrypted:_}}=i.value,A=[];if(!I){const T=uL(w,{fileObj:g,fileID:p});if(y===gf.Local){const{sn:M,...P}=O_({destNodeID:l,attendeeNodeID:c,senderName:E},i.value);let[N,$]=["",0];if(_){const[L,Q]=yield Promise.all([h,v].map(Y=>Oo.beginDecrypt({decryptedText:Y,zoomId:M,type:Jr.RWG_CHAT})));N=L.message,$=Number(Q.message)}else N=fi(h),$=Number(fi(v));const V={id:b,file:{name:N,size:$,fileUrl:T},...P};A.push(Jo({...V,file:{...V.file,fileID:p,fileObj:g}})),setTimeout(()=>{F(Hu,V)},0)}}return A});return function(a){return o.apply(this,arguments)}}())),chatFileEpics7:(t,i)=>t.pipe(Me(`${dr}`),ne(o=>{var a,c;const{payload:l}=o;return l.id&&l.fileUrl&&(null===(a=l.download)||void 0===a?void 0:a.status)===Wo.InProgress&&0===(null===(c=l.download)||void 0===c?void 0:c.progress)}),se(o=>function(a,c,l){var p;const{chat:{chatHistory:h},meeting:{zmk:g},participants:{attendeesList:v}}=l.value,y=h.find(b=>b.id===a);if(null!=y&&null!==(p=y.file)&&void 0!==p&&p.fileUrl){const{file:{fileUrl:b}}=y;return no({url:b,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:g},crossDomain:gi(b),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(We((E=y,c.pipe(Me(`${Zy}`,`${ps}`),ne(w=>{if(w.type===`${ps}`)return!0;const{payload:{id:_}}=w;return E.id===_}),bt(1),Te(()=>{var w,_,A;HO.info(`Cancel file download. file name:${Wr(null===(w=E.file)||void 0===w?void 0:w.name)},file size:${null===(_=E.file)||void 0===_?void 0:_.size},sender id:${null===(A=E.sender)||void 0===A?void 0:A.userId}`),F(Gv,{...N_(E),progress:0,status:Wo.Cancel})})))),ns(function(){var E=Oe(function*(I){const{type:w,loaded:_,total:A}=I,T=[],M={...N_(y),progress:0,status:Wo.InProgress};if("download_loadstart"===w&&Object.assign(M,{progress:0}),"download_progress"===w){var P;const Y=Math.floor(_/A*100);T.push(dr({id:a,fileUrl:null===(P=y.file)||void 0===P?void 0:P.fileUrl,download:{progress:Y}})),Object.assign(M,{progress:Y})}else if("download_load"===w){var N,$,V;const z=Wo.Success;Object.assign(M,{progress:100,status:z}),T.push(dr({id:a,fileUrl:null===(N=y.file)||void 0===N?void 0:N.fileUrl,download:{progress:100,status:z}}));const j=null===($=v.find(k=>k.userId===y.sender.userId))||void 0===$?void 0:$.zoomID,O=yield(k=Oe(function*(H,U,K){const re=Math.ceil(H.byteLength/rn.DecodeBlockSize);try{const te=yield Promise.all(Array.from({length:Math.max(re-1,1)},(me,Ne)=>({start:Ne*rn.DecodeBlockSize,end:(Ne===re-2?Ne+2:Ne+1)*rn.DecodeBlockSize})).map(function(){var me=Oe(function*(Ne){let{start:De,end:Ue}=Ne;try{const Be=H.slice(De,Ue),{message:ke}=yield Oo.beginDecrypt({decryptedText:Be,zoomId:K,type:Jr.CHAT_FILE});return ke}catch(Be){return Pc("decrypt file buffer error.",{name:U,size:H.byteLength},Be),Promise.reject(Be)}});return function(Ne){return me.apply(this,arguments)}}()));return new Blob(te,{type:BO(U)})}catch{return null}}),function(H,U,K){return k.apply(this,arguments)})(I.response,null===(V=y.file)||void 0===V?void 0:V.name,j);var L,Q;O&&(null!==(L=y.file)&&void 0!==L&&L.download.blob?Object.assign(M,{fileBlob:O}):function(k,H){const U=document.createElement("a"),K=window.URL.createObjectURL(k);U.href=K,U.download=H,U.click(),window.URL.revokeObjectURL(K)}(O,null===(Q=y.file)||void 0===Q?void 0:Q.name))}var k;return(M.progress>0||"download_loadstart"===w)&&F(Gv,M),T});return function(I){return E.apply(this,arguments)}}()),jr(E=>(console.warn(E),Pc(`download file error. file url:${b}`,{name:void 0,size:void 0},E),F(Gv,{...N_(y),progress:0,status:Wo.Fail}),Vt(dr({id:a,fileUrl:b,download:{status:Wo.Fail,progress:0}})))))}var E;return Se}(o.payload.id,t,i)))});function gd(t,i){const{meeting:{isMeetingReset:o,meetingId:a,meetingNumber:c,userName:l,userEmail:p,tid:h,userId:g,userGUID:v},breakoutRoom:y}=t;let b="";var E;return b=o?null!=y&&null!==(E=y.currentRoom)&&void 0!==E&&E.boConfId?"join breakout room":"meeting failover":"join meeting",{label:b,payload:{meetingId:a,tid:h,userId:g||i?.userId,userGUID:v||i?.userGUID,meetingNumber:Wr(c),userName:Wr(l),userEmail:Wr(p)}}}function Ri(t,i,o){return Xc(it(a=>{let c=!1;try{var l,p;const{logger:{options:h},meeting:{logConfig:g}}=i.value;c=null!==(l=h?.enable)&&void 0!==l?l:null===(p=JSON.parse(g||"{}"))||void 0===p?void 0:p.enable}catch{}try{if(c){const{logger:{isLaplaceInitialized:h}}=i.value;if(!h)return t.pipe(Me(`${Za}`),bt(1),se(g=>(g.payload&&o(a),Se)));o(a)}}catch(h){console.warn(h)}return Se}))}function ya(t,i,o,a){return Ke(t,o).pipe(Ri(t,i,a))}function bh(t,i,o,a){return be(t,o).pipe(Ri(t,i,a))}function Rm(t){var i,o;const{audio:{activeMicrophone:a,activeSpeaker:c,microphoneDevicesList:l,speakerDevicesList:p}}=t;return`microphone: [${a} - ${null==l||null===(i=l.find(h=>h.deviceId===a))||void 0===i?void 0:i.label}]; speaker: [${c} - ${null==p||null===(o=p.find(h=>h.deviceId===c))||void 0===o?void 0:o.label}]`}function x_(t){var i;const{video:{activeCamera:o,cameraDevicesList:a}}=t;return`camera: [${o} - ${null==a||null===(i=a.find(c=>c.deviceId===o))||void 0===i?void 0:i.label}]`}function Om(t,i){return i?` ,${t}:${i}`:""}const{InitSuccessAudio:rb,InitFailedAudio:F_,InitSuccessVideo:mV,InitFailedVideo:KO,InitSuccessSharing:pL,InitFailedSharing:QO}=he,{DecodeSuccess:md,DecodeFailed:JO,EncodeSuccess:V_,EncodeFailed:ob}=Eo,vV={[`${rb}`]:{name:"Audio",isException:!1},[`${F_}`]:{name:"Audio",isException:!0},[`${mV}`]:{name:"Video",isException:!1},[`${KO}`]:{name:"Video",isException:!0},[`${pL}`]:{name:"Sharing",isException:!1},[`${QO}`]:{name:"Sharing",isException:!0}};function hL(t){const i=(t??"").split("-");return[...new Set(i)].map(o=>({reason:o,count:i.filter(a=>o===a).length}))}const ti=Ii.getInstance(),j_=()=>{if("connection"in navigator){const{effectiveType:t,rtt:i,downlink:o}=navigator.connection;ti.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${t},rtt:${i},downlink:${o}`)}},fu=Ii.getInstance().makeLogger(["Remote Control"]),U_=_o(Ye.getInstance()),ZO=[{event:he.StartVideoCaptureSuccess,message:t=>`${Hp.StartCaptureVideoSuccess}, ${x_(t)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:he.StopVideoCaptureSuccess,message:Hp.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:he.StartVideoStreamInVbSettingSuccess,message:Hp.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloadingOk,message:Hp.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloading_3S,message:Hp.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:he.VbModelPreloading_10S,message:Hp.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:he.VbSettingParaError,message:Hp.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],B_=[{event:he.AudioBridgeReconnectStart,message:pc.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.AudioBridgeReconnectEnd,message:pc.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.UserGrantCaptureAudio,message:t=>`${pc.DeviceAudioStreamCaptured},${Rm(t)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:he.JoinComputerAudioComplete,message:pc.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.LeaveComputerAudioComplete,message:pc.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:he.JoinSharingAudioComplete,message:pc.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:he.LeaveSharingAudioComplete,message:pc.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}].map(t=>({...t,tag:"Audio"})).concat(ZO.map(t=>({...t,tag:"Video"}))),Oi=Ii.getInstance(),{InitSuccessVideo:gL,InitSuccessAudio:YO,InitSuccessSharing:mL,InitFailedVideo:XO,InitFailedAudio:eM,InitFailedSharing:tM,RecoverWebrtcAudio:nM,AudioBridgeFirstRecvData:rM,AudioBridgeCanSendData:vL,UserForbiddedCaptureAudio:yL,AudioWebsocketBroken:oM,AudioZeroData:SL,UserForbiddedCaptureVideo:bL,UserCameraIsTakenByOtherPrograms:EL,VideoWebsocketBroken:yV,StopVideoCaptureFailed:SV,DesktopSharingPermissionDenied:bV,DesktopSharingSystemError:CL,AudioSpeakerSetError:IL,VbSettingParaError:ib,MaskSettingParaError:EV,WebglLostInMultiView:iM,VideoStreamFailed:sM,AudioStreamFailed:Eh,NotifyUIFailover:sb}=he,vd=Ii.getInstance(),H_={options:void 0,isLaplaceInitialized:!1},_L=gr({[`${MC}`]:B((t,i)=>{let{payload:o}=i;t.options=o}),[`${Za}`]:B((t,i)=>{let{payload:o}=i;t.isLaplaceInitialized=o}),[`${lS}`]:(t,i)=>{let{options:o}=t,{payload:a}=i;return a?{...H_,options:o}:{...H_}}},H_),AL={epics0:(t,i)=>t.pipe(Me(`${fo}`),se(function(){var o=Oe(function*(a){const{meeting:{logConfig:c,logEncryptionPubKey:l,zlkJwtToken:p,accountId:h,enableAutoLog:g,collectionToggleEnable:v,zsk:y},logger:{options:b}}=i.value;let E=b||{};if(c)try{const{enable:I,enableReport:w}=JSON.parse(c);E={...E,enable:I,enableReport:w}}catch{}if(p){const{telemetry_tracking_id:I}=Qs(p),{payload:{meetingId:w}}=a;E={...E,enable:!0,enableReport:!0,trackingId:I??w}}else{let I=!1;I=y&&void 0!==v?!(g&&v):!g,rt.set(df.DisableAutoReportLogs,I,Tt.Memory)}return ti.init({...E,logConfig:c,logEncryptionPubKey:l,accountId:h}).then(()=>[Za(!0),MC(E)]).catch(()=>[Za(!1)])});return function(a){return o.apply(this,arguments)}}()),se(o=>ve(o))),epics1:(t,i)=>bh(t,i,4098,o=>{var a,c,l,p;const{payload:{body:h}}=o;if(h&&h.res===ho.Success){ti.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!window.crossOriginIsolated}, browser:${Re.browser} ${Re.browserVersion}, OS:${Re.os} ${Re.osVersion}${Om("wow64",Re.wow64)}${Om("GPU",Re.gpu)}${Om("architecture",Re.architecture)}${Om("bitness",Re.bitness)}${Om("model",Re.model)}${rt.get(df.EnforceWebRTCAudio)?"; Enforce WebTRC audio":""}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:Y,enforceVirtualBackground:z,assetsPath:j,disableRenderLimits:O},meeting:{stayAwake:k,quicklyLeave:H}}=i.value;ti.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:Y,disableRenderLimits:O,enforceVirtualBackground:z,assetsPath:j,stayAwake:k,leaveOnPageUnload:H})}`),"connection"in navigator&&(j_(),navigator.connection.addEventListener("change",j_))}else ti.report(`join meeting failed, error:${JSON.stringify(Js(h?.res))}, rwg error code:${h?.res}, rwg conID:${h?.conID}, error message:${h?.error_desc}, rwg url:${h?.svcUrl},mid:${i.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:g,pingRWCTimestamp:v,tid:y,meetingId:b,topic:E,accountId:I,cv:w},socket:{rwgServerList:_,retryCount:A},video:{rendererType:T},media:{patchJsMedia:M,assetsPath:P}}=i.value;let N=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID"].reduce((Y,z)=>void 0!==h[z]?{...Y,[`${z}`]:h[z]}:Y,{});N=["jid","mn","participantID","zoomID"].reduce((Y,z)=>void 0!==h[z]?{...Y,[`${z}`]:Wr(h[z])}:Y,N),N.response=N.res,delete N.res;const $=["connection_info_map"];let V;if(h.res===ho.Success&&$.push("Command Socket Event","User Info Map"),y){const Y=y.match(/clid=(\S+);/);Y&&Y.length>1&&(V=Y[1])}const L=Math.floor(performance.now()-g),Q=Math.floor(performance.now()-v);ti.report(JSON.stringify({...N,tid:y,mid:b,userRegion:V,rwgUrl:_.length>0?null===(a=_[A])||void 0===a?void 0:a.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:!!window.crossOriginIsolated,browserVersion:`${Re.browser} ${Re.browserVersion}`,osVersion:`${Re.os} ${Re.osVersion}`,gpu:Re.gpu,architecture:Re.architecture,model:Re.model,bitness:Re.bitness,totalDurationOfJoining:L,durationOfRWG:Q,rendererType:T,sdkVersion:w,mediaSdkVersion:null===(c=window.JsMediaSDK_Instance)||void 0===c?void 0:c.version,topic:E?Wr(E):void 0,accountId:I?Wr(I):void 0,patchJSMediaSDK:M,dependentAssets:P,webRtcAudio:mr()}),$,"info"),Ot.createAgent().sendRWGConnectionPerformance(`WCL_M, conId: ${h?.conID}, trackingId: ${null===(l=i.value.logger)||void 0===l||null===(p=l.options)||void 0===p?void 0:p.trackingId}, JOINFS(${L}), JOINFRWC(${Q})`)}),epics2:(t,i)=>t.pipe(Me(`${Qd}`),Pe(i),ne(o=>{let[,a]=o;return void 0===a.meeting.encryptedRWC&&(void 0===a.meeting.encryptedGEORWC||0===a.meeting.encryptedGEORWC.length)}),Ri(t,i,()=>{const{label:o,payload:a}=gd(i.value);ti.report(`${o} ${JSON.stringify(a)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")})),epics3:(t,i)=>t.pipe(Me(`${er}`),ne(o=>o.payload===zt.OnError||o.payload===zt.Disconnect||o.payload===zt.NoHeartbeat),Ri(t,i,o=>{const{payload:a}=o,{socket:{rwgServerList:c,retryCount:l}}=i.value,{payload:p}=gd(i.value);ti.report(`websocket unexpected disconnected,${JSON.stringify({code:a,rwgHost:c[l],...p})}`,["Join Meeting Flow","RWG Disconnect"])})),epics4:(t,i)=>t.pipe(Me(`${dl}`),Ri(t,i,o=>{const{payload:{reason:a,count:c,interval:l,sequence:p,userId:h,userGUID:g}}=o,{payload:v}=gd(i.value,{userId:h,userGUID:g});ti.report(`meeting failover,${JSON.stringify({reason:a,count:c,interval:l,sequence:p,detailed:hL(p),...v})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",j_)})),epics5:(t,i)=>t.pipe(Me(`${$d}`),ne(o=>o.payload.status===Wt.Connecting),Ri(t,i,o=>{const{payload:{rwgUrl:a}}=o;let c=a.replace(/(\d+)\?/,`${Wr("$1")}?`);c=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce((p,h)=>p.indexOf(h)>-1?p.replace(new RegExp(`${h}=([^&]+)`,"g"),`${h}=${Wr("$1")}`):p,c);const{payload:l}=gd(i.value);ti.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:c,...l})}`,["RWG Url"])})),epics6:(t,i)=>t.pipe(Me(`${ps}`),ne(o=>{const{payload:a}=o;return a?a.retry:i.value.meeting.meetingStatus===It.Initial}),Ri(t,i,()=>{const{meeting:{meetingStatus:o},socket:{rwgServerList:a,retryCount:c}}=i.value;if(o!==It.Joined){const{payload:l}=gd(i.value),p=a?.length>0?a[c]:void 0;ti.report(JSON.stringify({...l,rwc:p?.rwc,rwg:p?.rwg}),["UNAVAILABLE_RWG"])}})),epics7:(t,i)=>bh(t,i,1,o=>{const{payload:{body:a}}=o;ti.report(`join meeting failed, version blocked. Current version:${i.value.meeting.cv},upgrade version:${a?.upgradeVersion}`,"JOIN_MEETING_FAILED","error")}),epics8:(t,i)=>bh(t,i,2,()=>{ti.report(`join meeting with low version of SDK. Current version:${i.value.meeting.cv}.`,"Join Meeting Flow","warn")}),epics9:(t,i)=>t.pipe(Me(`${$i}`,`${ul}`),it(()=>Mt(Mn,1).pipe(Te(o=>{try{const{payload:a}=gd(i.value);ti.report(`Connection change with join meeting failed. payload:${JSON.stringify(o)}. meeting info:${JSON.stringify(a)}`,"JOIN_MEETING_FAILED","error")}catch{}}),se(()=>Se))))},TL=qr(AL,{rmclEpics0:(t,i)=>t.pipe(Me(`${xy}`),Ri(t,i,o=>{const{payload:{isRemoteControlEnabled:a,isEnableAutoDeleteRcApp:c}}=o;fu.log(`isRemoteControlEnabled:${a},auto delete:${c}`)})),rmclEpics1:(t,i)=>t.pipe(Me(`${es}`),ne(o=>!!o.payload),Ri(t,i,o=>{fu.log(`Launch Remote control app, scheme:${o.payload}`)})),rmclEpics2:(t,i)=>t.pipe(Me(`${_p}`),ne(o=>!!o.payload),Ri(t,i,o=>{fu.log(`Remote control session starts, controlling ssrc:${o.payload}`)})),rmclEpics3:(t,i)=>bh(t,i,16430,()=>{fu.log("Remote control app connected to rwg.")}),rmclEpics4:(t,i)=>bh(t,i,16428,()=>{fu.log("Remote control app disconnected to rwg.")}),rmclEpics5:(t,i)=>bh(t,i,16428,o=>{const{share:{status:a,isRemoteControlEnabled:c}}=i.value;c&&a!==_t.End&&o.payload.body.bOn&&fu.log(`Remote control sharing device info.${JSON.stringify(U_.getShareStreamInfo())}`)}),rmclEpics6:(t,i)=>ya(t,i,he.CurrentDesktopSharingWidthHeight,()=>{const{share:{isRemoteControlEnabled:o}}=i.value;o&&fu.log(`Remote control sharing device info changes.${JSON.stringify(U_.getShareStreamInfo())}`)}),rmclEpics7:(t,i)=>ya(t,i,he.SendRemoteControlQrCode,o=>{const{share:{status:a}}=i.value,{payload:{data:c}}=o;fu.log(`Remote control QR code result. sharing status:${a}, result${JSON.stringify(c)}`)})},{mlEpics0:(t,i)=>Ke(t,[gL,YO,mL,XO,eM,tM]).pipe(Ri(t,i,o=>{const{payload:{type:a,data:c}}=o,{meeting:{userId:l}}=i.value,p=function(h,g){const v=vV[`${h}`];if(v){const{name:y,isException:b}=v,E=[y,`${y} Init Flow`];b&&E.push(`${y} exception flow`);let I="";return[md,JO].includes(g)&&(I=`${I} decode`.trim()),[V_,ob].includes(g)&&(I=`${I} encode`.trim()),[V_,md].includes(g)&&(I=`${I} success`.trim()),[JO,ob].includes(g)&&(I=`${I} failed`.trim()),{message:`init ${y.toLowerCase()} ${I}`,tags:E,isException:b}}return null}(a,c);if(p){const{message:h,tags:g,isException:v}=p;v?Oi.report(`${h}. userId:${l}`,g):Oi.makeLogger(g).info(h)}})),mlEpics1:(t,i)=>ya(t,i,B_.map(o=>o.event),o=>{const{payload:{type:a}}=o,c=B_.find(l=>l.event===a);if(c){const{message:l,logType:p,additionalTags:h,tag:g}=c;let v=l;"function"==typeof l&&(v=l(i.value)),v&&Oi.makeLogger([g])[p](v,h)}}),mlEpics2:(t,i)=>t.pipe(Me(`${Pl}`),ne(o=>!o.payload),Ri(t,i,()=>{Oi.makeLogger(["Audio"]).warn(`Auto play audio failed,${Rm(i.value)}`)})),mlEpics3:(t,i)=>ya(t,i,nM,()=>{Oi.report("Audio bridge, recover audio failed, need to rejoin the audio",["Audio exception flow"])}),mlEpics4:(t,i)=>ya(t,i,[rM,vL],o=>{const{payload:{type:a}}=o;Oi.makeLogger(["Audio"]).log("Audio bridge connection: "+(a===rM?"first receive data":"can send data"))}),mlEpics5:(t,i)=>ya(t,i,sb,o=>{Oi.report(`Audio bridge, notify ui failover, subreason:${o.payload.data}`,["Audio exception flow"])}),mlEpics6:(t,i)=>ya(t,i,[yL,oM,SL,IL,Eh],o=>{const{payload:{type:a}}=o;let c=`Audio error case:${a}`;a===yL?c="Audio capture is forbidden by the user":a===SL?i.value.audio.webrtcRestartCount<3&&(c="audio capture zero data, auto failover"):a===IL?c="audio change speaker error":a===Eh&&(c="audio stream ended or muted, stop capture audio"),Oi.report(`${c},${Rm(i.value)}`,["Audio exception flow"])}),mlEpics7:(t,i)=>ya(t,i,[bL,EL,yV,SV,sM],o=>{const{payload:{type:a,data:c}}=o;let l=`Video error case:${a}`;if(a===bL)l="Video capture is forbidden by the user"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(a===EL)l="Camera is taken by other programs"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(a===ib){var p;l=`VB setting error, param:${JSON.stringify(null!==(p=i.value.video.virtualBackground)&&void 0!==p?p:{})}`}else if(a===EV){var h;l=`Mask setting error, param:${JSON.stringify(null!==(h=i.value.video.mask)&&void 0!==h?h:{})}`}else a===sM&&(l=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Re.browser}`);Oi.report(`${l},${x_(i.value)}`,["Video exception flow"])}),mlEpics8:(t,i)=>ya(t,i,[bV,CL],o=>{const{payload:{type:a}}=o;let c="";a===CL?Re.isMacOS&&(c="Need to allow screen recording access in system setting on MacOS"):c="Need to allow the permission request",Oi.report(`${c}`,["Sharing exception flow"])}),mlEpics9:(t,i)=>ya(t,i,iM,o=>{const{payload:{data:a}}=o,{video:{renderedVideoList:c}}=i.value;if(null!=a&&a.canvasId){const l=c.filter(p=>p.canvasId===a.canvasId);Oi.report(`WebGl Context lost, canvas ID:${a.canvasId}, affected video node Ids:${l.map(p=>p.userId).join(",")}`,["Video exception flow"])}}),mlEpics10:(t,i)=>dn(document,"visibilitychange").pipe(Ri(t,i,()=>{Oi.makeLogger(["Video"]).log(`Page visibility ${document.visibilityState} `),setTimeout(()=>{const o="visible"!==document.visibilityState,{video:{subscribedVideoList:a},meeting:{userId:c}}=i.value,l=a.filter(p=>p!==c).length>0;o&&l&&(Ot.createAgent().sendRWGConnectionPerformance("VCSV"),Oi.makeLogger(["Video"]).warn("Still subscribing videos after switching to background"))},1e3)}))}),aM=Ot.createAgent(),uM={cmrStatus:yr.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:rp.Stop,supportLocalRecording:Mo.None,localGrantPermissionOption:ON.None,localPermissionUserList:[]},RL=gr({[`${Sk}`]:B((t,i)=>{let{payload:o}=i;t.cmrStatus=o}),[`${bk}`]:B((t,i)=>{let{payload:o}=i;t.recordingEnable=o}),[`${_T}`]:B((t,i)=>{let{payload:o}=i;t.recordingIsoEnable=o}),[`${wT}`]:B((t,i)=>{let{payload:o}=i;t.allowStopAutoRecording=o}),[`${Ek}`]:B((t,i)=>{let{payload:o}=i;t.automaticCloudRecordingEnable=o}),[`${IC}`]:B((t,i)=>{let{payload:o}=i;t.isZoomIQ=o}),[`${DT}`]:B((t,i)=>{let{payload:o}=i;t.zoomIQChanging=o}),[`${_C}`]:B((t,i)=>{let{payload:o}=i;t.localStatus=o}),[`${wC}`]:B((t,i)=>{let{payload:o}=i;t.supportLocalRecording=o}),[`${AT}`]:B((t,i)=>{let{payload:o}=i;t.localGrantPermissionOption=o}),[`${ac}`]:B((t,i)=>{let{payload:o}=i;t.localPermissionUserList=o}),[`${Mp}`]:()=>({...uM})},uM);var cM,lM,dM,pM,hM,fM,gM,mM,wn;const xs=Ot.createAgent(),Mm=wo("Recording");let vM=(cM=Ie("recording"),lM=Ie("recording"),dM=Ie("recording"),pM=Ie("recording"),hM=Ie("recording"),fM=Ie("recording"),gM=Ie("recording"),mM=Ie("recording"),ce((wn=class extends us{startRecording(){const t=this[we](),{meeting:{bIbDisableRecording:i,recordingEnable:o},recording:{cmrStatus:a}}=t;return i?Promise.reject({type:oe,reason:"Rejected by Information Barrier"}):o?a===yr.Start?Promise.resolve(""):(xs.recordMeeting(!0,!1),Ge(fl,c=>c.cmrServerStatus===yr.Start)):Promise.reject({type:oe,reason:"The account of the meeting disabled the cloud recording"})}pauseRecording(){const t=this[we](),{recording:{cmrStatus:i,allowStopAutoRecording:o}}=t;return i===yr.Pause?Promise.resolve(""):i!==yr.Start?Promise.reject({type:oe,reason:"Recording is not started"}):o?(xs.recordMeeting(!1,!0),Ge(fl,a=>a.cmrServerStatus===yr.Pause)):Promise.reject({type:oe,reason:"Cannot pause cloud recording due to web setting config"})}stopRecording(){const t=this[we](),{recording:{cmrStatus:i,allowStopAutoRecording:o}}=t;return i===yr.Stop?Promise.resolve(""):o?(xs.recordMeeting(!1,!1),Ge(fl,a=>a.cmrServerStatus===yr.Stop)):Promise.reject({type:oe,reason:"Cannot stop cloud recording due to web setting config"})}accept(){const t=this[we](),{recording:{cmrStatus:i,recordingIsoEnable:o}}=t,a=Fe(t);return o?i!==yr.Start&&i!==yr.Pause?Promise.reject({type:oe,reason:"Recording is not started"}):null!=a&&a.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(xs.allowSelfRecord(!0),Ge(op,c=>c?.userId===a?.userId&&c?.status===vr.Accept)):Promise.reject({type:oe,reason:"ISO Recording is not enabled"})}decline(){const t=this[we](),{recording:{cmrStatus:i,recordingIsoEnable:o}}=t,a=Fe(t);return o?i!==yr.Start&&i!==yr.Pause?Promise.reject({type:oe,reason:"Recording is not started"}):!0===a?.bAllowISORecord?Promise.reject({type:oe,reason:"You had accept ISO recording, cant change it"}):(xs.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:oe,reason:"ISO Recording is not enabled"})}getRecordingStatus(){const t=this[we](),{recording:{cmrStatus:i}}=t,o=tk(t);return i===yr.Start?vr.Recording:i===yr.Pause?vr.Paused:o?vr.Recording:vr.Stopped}isRecordingEnabled(){const t=this[we](),{recording:{recordingEnable:i}}=t;return i}isAllowedToStopAutoRecording(){const t=this[we](),{recording:{allowStopAutoRecording:i}}=t;return i}isAutomaticCloudRecordingEnabled(){const t=this[we](),{recording:{automaticCloudRecordingEnable:i}}=t;return i}enableRecordingWithIQ(t){const{[we]:i,[_n]:o}=this,a=i(),{recording:{isZoomIQ:c,zoomIQChanging:l},meeting:{meetingOptions:p}}=i();return p.isEnableKiwiRecording?Co(a)?l?Promise.reject({type:oe,reason:"We are changing, please wait"}):t===c?Promise.reject({type:oe,reason:`You have ${t?"enable":"disable"} Zoom IQ, don't need change`}):(o(DT(!l)),o(IC(!c)),xs.enableZoomIQRecord(t),Ge(o0,h=>h?.success)):Promise.reject({type:oe,reason:"Only Host or co-host can enable/disable Zoom IQ"}):Promise.reject({type:oe,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry"})}isSupportLocalRecording(){const t=this[we](),{meeting:{meetingOptions:i,isWebinar:o},breakoutRoom:a}=t;if(a?.currentRoom.status===je.InRoom)return!1;const c=Fe(t);return(!o||!Mr(c.userRole))&&i?.isLocalRecordingEnabled}isSupportLocalRecordingPermission(){const t=this[we](),{recording:{supportLocalRecording:i}}=t;if(!this.isSupportLocalRecording())return!1;const o=Fe(t);return!(null==o||!o.isHost)||i===Mo.Allow}askLocalRecordingPermission(){const{[we]:t}=this,{recording:{supportLocalRecording:i}}=t();return this.isSupportLocalRecording()?i===Mo.None?(xs.localRecordingRequestPermission(),Promise.resolve("")):i===Mo.Allow?Promise.resolve(""):Promise.reject("permission is denied"):Promise.reject("not support")}startLocalRecording(t){const{[we]:i,[_n]:o}=this,a=i(),{recording:{localStatus:c,supportLocalRecording:l},meeting:{userId:p}}=a;if(!(t in rp))return Promise.reject({type:oe,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause)."});if(!this.isSupportLocalRecording())return Promise.reject({type:oe,reason:"not support local recording"});if(t===c)return Promise.resolve(`you currently status is ${c}, do nothing`);const h=Fe(a);return l===Mo.Allow||null!=h&&h.isHost?(xs.localRecordingMeeting(t),Ge(ip,g=>g?.userId===p&&(o(_C(g.bLocalRecord)),g.bLocalRecord===t),1e3)):Promise.reject({type:oe,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first"})}isSupportLocalRecordingGrantPermission(){const t=this[we]();if(!this.isSupportLocalRecording())return!1;const i=Fe(t);return!(null==i||!i.isHost||!Wl(i.caps))}grantLocalRecordingPermission(t,i,o){const{[we]:a,[_n]:c}=this,l=a(),{recording:{localPermissionUserList:p}}=l;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const h=Fe(l);if(!Wl(h.caps))return Promise.reject({type:oe,reason:"you can not grant permission"});let g=!1;if(o&&(g=!0),p.filter(v=>v===t).length>0){if(i===Mo.Allow)xs.localRecordingGrantPermission(t,!0,g);else{if(i!==Mo.Deny)return Promise.reject({type:oe,reason:"only support DENY(1)/ALLOW(2)"});xs.localRecordingGrantPermission(t,!1,g)}return c(ac(p.filter(v=>v!==t))),F(vi,{type:"answer",value:i===Mo.Allow}),Promise.resolve(!1)}return i!==Mo.Deny?Promise.reject({type:oe,reason:"Direct grant only support DENY(1)"}):(xs.hostGrantPermission(t,!1),Ge(vi,v=>v?.value===t&&(i===Mo.Allow?(c(ac([...p,t])),!0===v?.canRecord):(c(ac(p.filter(y=>y!==t))),!1===v?.canRecord)),1e3))}getLocalRecordingPermissionUserList(){const t=this[we](),{recording:{localPermissionUserList:i}}=t;if(!this.isSupportLocalRecording())return[];const o=Fe(t);return Wl(o.caps)?i:Promise.reject({type:oe,reason:"you can not grant permission"})}getLocalRecordingPermissionOperation(){const t=this[we](),{recording:{localGrantPermissionOption:i}}=t;if(!this.isSupportLocalRecording())return null;const o=Fe(t);return Wl(o.caps)?i:null}}).prototype,"startRecording",[Hn,le,cM,Mm],Object.getOwnPropertyDescriptor(wn.prototype,"startRecording"),wn.prototype),ce(wn.prototype,"pauseRecording",[Hn,le,lM,Mm],Object.getOwnPropertyDescriptor(wn.prototype,"pauseRecording"),wn.prototype),ce(wn.prototype,"stopRecording",[Hn,le,dM,Mm],Object.getOwnPropertyDescriptor(wn.prototype,"stopRecording"),wn.prototype),ce(wn.prototype,"accept",[le,pM,Mm],Object.getOwnPropertyDescriptor(wn.prototype,"accept"),wn.prototype),ce(wn.prototype,"decline",[le,hM,Mm],Object.getOwnPropertyDescriptor(wn.prototype,"decline"),wn.prototype),ce(wn.prototype,"askLocalRecordingPermission",[le,fM],Object.getOwnPropertyDescriptor(wn.prototype,"askLocalRecordingPermission"),wn.prototype),ce(wn.prototype,"startLocalRecording",[le,gM],Object.getOwnPropertyDescriptor(wn.prototype,"startLocalRecording"),wn.prototype),ce(wn.prototype,"grantLocalRecordingPermission",[le,hr,mM],Object.getOwnPropertyDescriptor(wn.prototype,"grantLocalRecordingPermission"),wn.prototype),wn);const OL=qr({moduleEpics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{recordingEnable:o}}=i;return bk(o)})),moduleEpics1:(t,i)=>be(t,mi).pipe(ne(o=>{var a,c,l;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.cmrServerStatus)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.disAllowClientStopAutoCmr)||void 0!==(null===(l=o.payload.body)||void 0===l?void 0:l.enableAutomicRecordingCloud)}),Pe(i),se(o=>{let[a,c]=o;const{cmrServerStatus:l,disAllowClientStopAutoCmr:p,enableAutomicRecordingCloud:h}=a.payload.body,g=[];return void 0!==l&&(l!==yr.Init&&(F(fl,{cmrServerStatus:l}),c.recording.recordingIsoEnable&&l===yr.Start&&F(op,{status:vr.Ask})),g.push(Sk(l))),void 0!==p&&g.push(wT(!p)),void 0!==h&&g.push(Ek(h)),ve(g)})),moduleEpics2:t=>be(t,mi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.bCmrIsoEnble)}),ye(i=>{const{bCmrIsoEnble:o}=i.payload.body;return _T(o)})),moduleEpics3:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[a]=o;const{payload:{body:{update:c,add:l}}}=a;return c?.some(p=>void 0!==p.bLocalRecordStatus||void 0!==p.canRecord)||l?.some(p=>void 0!==p.bLocalRecordStatus||void 0!==p.canRecord)}),se(o=>{let[a,c]=o;const{payload:{body:{update:l,add:p}}}=a,{meeting:{userId:h,isHost:g},recording:{supportLocalRecording:v},participants:{attendeesList:y}}=c,b=[];return l?.concat(p||[]).filter(E=>void 0!==E.bLocalRecordStatus||void 0!==E.canRecord).forEach(E=>{if(void 0!==E.canRecord){const I=!!E.canRecord;if(h===E.id||g){const w=y.find(_=>_.userId===h);!I&&null!=w&&w.bLocalRecord&&(F(vi,{type:"revoke",value:E.id,canRecord:I}),aM.localRecordingMeeting(rp.Stop)),!I||null!=w&&w.bLocalRecord||F(vi,{type:"grant",value:E.id,canRecord:I})}h===E.id&&((v!==Mo.None||I)&&b.push(wC(I?Mo.Allow:Mo.Deny)),I||b.push(_C(rp.Stop)))}else F(ip,{userId:E.id,bLocalRecord:E.bLocalRecordStatus})}),ve(b)})),moduleEpics4:(t,i)=>be(t,vn).pipe(ye(o=>ga(o.payload.body)),Pe(i),se(o=>{let[a,c]=o;const l=[],{recording:{localPermissionUserList:p}}=c;return a.remove&&a.remove.forEach(h=>{p.filter(g=>g===h?.userId)&&(l.push(ac(p.filter(g=>g!==h?.userId))),F(vi,{type:"remove",value:h?.userId}))}),ve(l)})),moduleEpics5:t=>be(t,vn).pipe(ne(i=>{const{payload:{body:{update:o}}}=i;return o?.some(a=>void 0!==a.bAllowISORecord)}),Te(i=>{const{payload:{body:{update:o}}}=i;o.filter(a=>void 0!==a.bAllowISORecord).forEach(a=>{F(op,{userId:a.id,status:a.bAllowISORecord?vr.Accept:vr.Decline})})}),ze(Se)),moduleEpics6:t=>be(t,mi).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.SalesRecordingAnalytics)}),ye(i=>{const{SalesRecordingAnalytics:o}=i.payload.body;return F(QD,{isZoomIQ:o}),IC(o)})),moduleEpics7:(t,i)=>be(t,4319).pipe(Pe(i),ne(o=>{var a;let[c]=o;return void 0!==(null===(a=c.payload.body)||void 0===a?void 0:a.success)}),se(o=>{let[a,c]=o;const l=[],{success:p}=a.payload.body,{recording:{zoomIQChanging:h}}=c;return F(o0,{success:p}),p&&l.push(DT(!h)),ve(l)})),moduleEpics8:(t,i)=>be(t,4344).pipe(Pe(i),ne(o=>{var a;let[c]=o;return void 0!==(null===(a=c.payload.body)||void 0===a?void 0:a.cmdType)}),se(o=>{var a;let[c,l]=o;const p=[],{cmdType:h}=c.payload.body,{recording:{localPermissionUserList:g},meeting:{isHost:v}}=l;var y,b,E,I;return"permission_req_option"===h&&(F(vi,{type:"option",value:null===(y=c.payload.body)||void 0===y?void 0:y.option}),p.push(AT(null===(b=c.payload.body)||void 0===b?void 0:b.option))),"request_permission"===h&&null!==(a=c.payload.body)&&void 0!==a&&a.userId&&(v&&F(vi,{type:"request",value:null===(I=c.payload.body)||void 0===I?void 0:I.userId}),p.push(ac([...g,null===(E=c.payload.body)||void 0===E?void 0:E.userId]))),"permission_request_answer"===h&&(F(vi,{type:"answer",value:c.payload.body.agreed}),p.push(wC(c.payload.body.agreed?Mo.Allow:Mo.Deny))),ve(p)}))});let ab=function(t){return t[t.All=1]="All",t[t.Private=2]="Private",t}({}),G_=function(t){return t.SUCCESS="success",t}({}),ub=function(t){return t.CustomizedKey="__zoom_internal_message_customized_key__@@",t.SpeakerOnly="__zoom_internal_message_speaker_only__@@",t}({});const z_=Kp.getInstance(),W_=(t,i,o)=>{const{meeting:{encType:a}}=o,c=i,l=zE(t),p=c?ab.Private:ab.All;return a===xv.AES_GCM?Oo.beginEncrypt({text:l,type:Jr.XMPP_CHAT}).then(h=>{z_.sendWebinarMseeage(h,c,p,!0)}):z_.sendWebinarMseeage(l,c,p,!1)};function yM(t,i){const{cmd:{jids:o}}=i;return Object.prototype.hasOwnProperty.call(o,t)?Promise.resolve():ar(Mt(Fa).pipe(mD(a=>-1===a.findIndex(c=>Number(c.userId)===t)),bt(1),$t(Ui)))}function q_(t){const{cmd:{connectionStatus:i}}=t;return i===G_.SUCCESS?Promise.resolve(!0):ar(Mt(Ss,1)).then(o=>o===Wi.Connected||Promise.reject({type:oe,reason:"Cannot establish the command channel"}))}function Ch(t,i){for(const[o,a]of Object.entries(t))if(a.jid===i)return o}const cb={connectionStatus:"initial",jids:{}},K_=gr({[`${Pp}`]:()=>({...cb}),[`${sS}`]:B((t,i)=>{let{payload:o}=i;const{data:a,attendees:c}=o;a.forEach(l=>{const{jid:p,node:h}=l;if(!t.jids[h]||t.jids[h].jid!==p){const g=c.find(v=>v.userId===Number(h));t.jids[h]={jid:p,userGuid:g?.userGUID}}})}),[`${bg}`]:B((t,i)=>{let{payload:o}=i;o.forEach(a=>{const{jid:c}=a,l=Ch(t.jids,c);l&&delete t.jids[l]})}),[`${DC}`]:B((t,i)=>{let{payload:o}=i;t.connectionStatus=o})},cb);var Pm;let Q_=(ce((Pm=class extends us{send(t,i){if(!t)return Promise.reject({type:Je,reason:"Text is empty"});if("string"!=typeof t)return Promise.reject({type:Je,reason:"Text is not a string"});if(t.length>512)return Promise.reject({type:Je,reason:"Text exceeds the max length(512)."});const{[we]:o}=this,a=o(),{socket:{xmppSocketStatus:c},meeting:{userId:l}}=a;return c!==Wt.Connected?Promise.reject({type:wl,reason:"Command channel is not ready"}):q_(a).then(()=>i?-1!==Zt(o()).findIndex(p=>p.userId===i)?yM(i,a).then(()=>{const{cmd:{jids:p}}=o();return p[i]?(W_(t,p[i].jid,o()),{timestamp:(new Date).getTime(),text:t,receiverId:i,senderId:l}):Promise.reject({type:Cs})}):Promise.reject({type:Je,reason:"Cannot find the user"}):(W_(t,"",a),{timestamp:(new Date).getTime(),text:t,receiverId:0,senderId:l}))}getJids(){const{[we]:t}=this,i=t(),{cmd:{jids:o}}=i;return o}}).prototype,"send",[le],Object.getOwnPropertyDescriptor(Pm.prototype,"send"),Pm.prototype),Pm);const lb={extraEpics0:(t,i)=>t.pipe(Me(`${Qf}`),it(o=>{const{payload:{speakerOnly:a}}=o,c=Fe(i.value);return(void 0!==c?.audio?ve([c.audio]):Mt(Br).pipe(ne(l=>void 0!==l.audio),bt(1))).pipe(Te(()=>{q_(i.value).then(()=>{W_(`${ub.SpeakerOnly}${a?1:0}`,"",i.value)})}),ze(Se))})),extraEpics1:(t,i)=>be(t,vn).pipe(ne(o=>{var a,c;const{payload:{body:l}}=o;return!!l.add&&!(null===(a=i.value.audio)||void 0===a||null===(c=a.customizeAudioOption)||void 0===c||!c.speakerOnly)}),$t(Ui),Te(function(){var o=Oe(function*(a){const{payload:{body:{add:c}}}=a,l=i.value,{meeting:{userId:p}}=l;for(let h=0;h<c.length;h++){const{id:g}=c[h];if(g!==p){yield yM(g,i.value);const{cmd:{jids:v},participants:{attendeesList:y}}=i.value;v[g]&&setTimeout(()=>{W_(`${ub.SpeakerOnly}1`,v[g].jid,i.value)},Math.floor(Math.random()*Math.log10(y.length)*1e3))}}});return function(a){return o.apply(this,arguments)}}()),ze(Se))},J_=qr({epics0:(t,i)=>co(t,24577).pipe(Pe(i),ye(o=>{let[a]=o;const{payload:{body:{status:c}}}=a;return c===G_.SUCCESS&&F(Ss,Wi.Connected),DC(c)})),epics1:(t,i)=>co(t,24583).pipe(Pe(i),se(o=>{let[a,c]=o;const{meeting:{userId:l,encType:p},cmd:{jids:h}}=c,{payload:{body:{senderName:g,senderJid:v,text:y,type:b,receiver:E,msgid:I,sn:w}}}=a,_=Ch(h,E),A=p===xv.AES_GCM,T=Ch(h,v),M=(new Date).getTime();let P=Promise.resolve({message:y});return A&&(P=Oo.beginDecrypt({decryptedText:y,type:Jr.XMPP_CHAT,zoomId:w})),P.then(N=>{let{message:$}=N;if(b===ab.Private&&Number(_)===l||b===ab.All){const L=fi($);if(null!=L&&L.startsWith(ub.SpeakerOnly)){const Q=L.substring(ub.SpeakerOnly.length),Y=1===Number(Q);return mp({userId:Number(T),key:"isSpeakerOnly",value:Y})}{var V;const Q=T&&(null===(V=h[T])||void 0===V?void 0:V.userGuid);F(bo,{senderId:T,senderName:g,senderGuid:Q,text:L,timestamp:M,msgid:I})}}return""})}),ne(o=>"object"==typeof o&&null!==o&&void 0!==o.type),Te(o=>{const{payload:{userId:a,key:c,value:l}}=o;F(yo,[{userId:a,[`${c}`]:l}])})),epics2:(t,i)=>co(t,24595).pipe(se(o=>{const{payload:{body:{action:a,data:c}}}=o,l=[];if([Di.List,Di.Add,Di.update].includes(a)&&c){const{breakoutRoom:p,participants:{attendeesList:h}}=i.value,g=p?.currentRoom.status===je.InRoom?h.concat(p.mainSessionAttendeeList):h;l.push(sS({data:c,attendees:g}))}return a===Di.Remove&&c&&l.push(bg(c)),ve(l)}))},lb),db=(t,i,o,a)=>{const{getState:c,dispatch:l}=o,p=c(),{participants:{attendeesList:h},audio:{localShareAudioUserMutedList:g},share:{isReceiveSharingFromMainSession:v},breakoutRoom:y}=p,b=(v?y?.mainSessionAttendeeList:h).find(E=>E.userId==t);if(b){if(b.bShareAudioOn){const E=g.find(I=>I.userId===t);return E&&E.muted===!i&&l(nm(a,t,i,p)),Promise.resolve("")}return Promise.reject({type:oe,reason:`Cannot ${i?"mute":"unmute"} share audio when the user's share audio is not enable.`})}return Promise.reject({type:Je,reason:"Cannot find the user"})},pb=(t,i)=>{const{store:{getState:o},rwgAgent:a}=t,{share:{sharePrivilege:c}}=o();return c===i?Promise.resolve(""):Object.values(Si).includes(i)?(a.lockSharing(i),vS("lockShare",i)):Promise.reject({type:Je})},hb=bn([Zt],t=>t.filter(i=>i.bVideoOn)),fb=bn([hb],t=>t.filter(i=>!(262144&~i.caps))),bM=(t,i)=>{const o=t.store.getState(),a=ca(o).find(c=>c.userId===i);if(a){const{caps:c}=a;return!(512&~c)}return!1};var ML,Z_,Y_,gu,Nm,km,EM,CM,gb,IM,_M,X_,wM,PL,DM,ew,AM,NL,tw,TM,RM,nw,OM,MM,Sa,PM,kL,LL,NM,mb,rw,mu,ow,kM,iw,sw,LM,vb,xL,xM,aw,FL,VL,jL,UL,uw,Lm,FM,VM,BL,HL,$L,GL,zL,cw,xm,jM,UM,lw,kc,dw,yb,Sb,BM,bb,Eb,Fm,WL,qL,KL,pw,HM,$M,GM,zM,hw,fw,gw,WM,qM,mw,q;const Mi=wo("Audio"),$n=wo("Video"),Ir=wo("Sharing"),Ih=wo("CameraControl"),vu=wo("Remote Control"),KM=Dm(HTMLCanvasElement,0),CV=Dm([HTMLCanvasElement,HTMLVideoElement],0),QM=Dm(HTMLCanvasElement,0,["id"]),JM=Dm([HTMLCanvasElement,HTMLVideoElement],0,["id"]);let IV=(ML=Ie("audio"),Z_=Ie("audio"),Y_=Ie("audio"),gu=Ie("audio"),Nm=Ie("audio"),km=wo("Audio",[1,2,3]),EM=Ie("audio"),CM=wo("Audio",[1,2]),gb=Ie("audio"),IM=Ie("audio"),_M=Ie("audio"),X_=Ie("audio"),wM=Ie("share"),PL=Ie("audio"),DM=Ie("share"),ew=Ie("audio"),AM=Ie("audio"),NL=Ie("audio"),tw=Ie("audio"),TM=Ie("audio"),RM=Ie("audio"),nw=wo("Audio",[1,2]),OM=Ie("audio"),MM=wo("Audio",[1,2]),Sa=Ie("audio"),PM=Ie("audio"),kL=Ie("video"),LL=Ie("video"),NM=Ie("video"),mb=Ie("video"),rw=Ie("video"),mu=Ie("video"),ow=Ie("video"),kM=Ie("video"),iw=Ie("video"),sw=Ie("video"),LM=Ie("video"),vb=Ie("video"),xL=Ie("video"),xM=Ie("video"),aw=Ie("video"),FL=Ie("video"),VL=Ie("video"),jL=Ie("video"),UL=Ie("video"),uw=Ie("video"),Lm=Ie("video"),FM=Ie("video"),VM=Ie("video"),BL=Ie("video"),HL=Ie("video"),$L=Ie("video"),GL=Ie("video"),zL=Ie("video"),cw=Ie("video"),xm=Ie("share"),jM=Ie("share"),UM=Ie("share"),lw=Ie("share"),kc=Ie("share"),dw=Ie("share"),yb=Ie("share"),Sb=Ie("share"),BM=kO("isShareOptionLocked"),bb=kO("isShareOptionLocked"),Eb=Ie("share"),Fm=Ie("share"),WL=Ie("share"),qL=Ie("share"),KL=Ie("share"),pw=Ie("share"),HM=Ie("share"),$M=Ie("share"),GM=Ie("share"),zM=Ie("share"),hw=Ie("share"),fw=Ie("share"),gw=Ie("share"),WM=Ie("share"),qM=Ie("share"),mw=Ie("share"),q=class extends us{constructor(t){super(t),this[ue]=void 0,this[hn].dispatch(xE()),this[ue]={store:t,mediaAgent:Ag(_o(Ye.getInstance())),rwgAgent:Ot.createAgent()}}startAudio(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),g=Fe(h);if(g?.audio===xt.Computer)return Promise.resolve("");if(g?.audio===xt.Phone)return Promise.reject({type:oe,reason:"joined by phone"});{const{audio:{isAllowToTalk:v,isComputerAudioLoading:y,canPlayAudio:b,customizeAudioOption:{speakerOnly:E}},media:{audioDecodeStatus:I,audioEncodeStatus:w}}=h;if(y)return Promise.reject({type:oe,reason:"Computer audio has been loading, please wait."});const _=function(M){const P=M?{...M}:void 0;if(MR(mr())||!0!==P?.backgroundNoiseSuppression||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),Object.assign(P,{backgroundNoiseSuppression:void 0})),void 0!==P?.originalSound){P.backgroundNoiseSuppression&&P.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(P,{backgroundNoiseSuppression:!1}));const{originalSound:N}=P;"object"==typeof N&&N.stereo&&!VI()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(N,{stereo:!1}))}return PR()||!0!==P?.syncButtonsOnHeadset||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(P,{syncButtonsOnHeadset:void 0})),null!=P&&P.mediaFile&&!Ye.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(P,{mediaFile:void 0})),P}(o);c(Qf(_??{}));const{speakerOnly:A,autoStartAudioInSafari:T}=_||{};if(!!E!=!!A&&c(mp({userId:h.meeting.userId,key:"isSpeakerOnly",value:!!A})),!g)return Promise.reject({type:oe,reason:"Please call `startAudio` method after the `join` has been resolved"});{const M=Mr(g.userRole)&&!v||A,{encodeInitStatus:P,decodeInitStatus:N}=jI(h,g,A);if(lh()&&("success"!==N||"success"!==P))return Promise.reject({type:oe,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method"});c(bp(!0)),Gr("audio",P,N).subscribe($=>{let[V,L]=$;if(V&&L){let Q=b||(lh()||Re.isIOSMobile)&&!T?Promise.resolve():function(){const Y=URL.createObjectURL(MN),z=new Audio(Y);z.muted=!1;const j=Ks(()=>Promise.reject(),3e3),O=Re.isIOSMobile?new Promise((k,H)=>{var U;z.addEventListener("canplaythrough",()=>{z.play().then(()=>{k(!0)}).catch(K=>{H(K)})}),null===(U=z.load)||void 0===U||U.call(z)}):z.play();return Promise.race([O,j]).finally(()=>{URL.revokeObjectURL(Y)})}();void 0===Q&&(Q=Promise.resolve()),Q.then(()=>Ak("audio",a())).then(()=>{const Y=a(),{audio:{isSharingAudio:z}}=Y;HS(l,Y,M),z&&!Ai()||id(p,Y,!M),Mr(g.userRole)&&v&&c(Nl(!0)),c(Pl(!0))}).catch(()=>{c(Pl(!1)),c(bp(!1))})}else c(bp(!1))})}return"failed"===w||"failed"===I?(c(bp(!1)),Promise.reject({type:Cs,reason:"audio encode or decode error"})):new Promise((M,P)=>{Ho(Mt(Cl.JoinComputerAudio.success,1),qn(...Cl.JoinComputerAudio.fail.map(N=>Mt(N,1).pipe(se(()=>Ee({type:$r,reason:N}))))),Rn(45e3).pipe(se(()=>Ee({type:k0})))).subscribe({next:()=>{c(bp(!1)),M("")},error:N=>{Ye.getInstance().leaveComputerAudio();const $=Fe(a());$?.audio!==xt.Phone&&(c(Xu(lr.MicrophoneError)),l.joinOrLeaveVoip(!1)),c(bp(!1)),P(N)}})})}})(this[ue],t)}stopAudio(){return function(){var t=Oe(function*(i){const{store:{getState:o,dispatch:a},mediaAgent:c,rwgAgent:l}=i,p=o(),{audio:{isComputerAudioLoading:h,isShareAudioEnabled:g,isSharingAudio:v,isUsingMediaPlayback:y,customizeAudioOption:{speakerOnly:b}}}=p,E=Fe(p);if(h)return Promise.reject({type:oe,reason:"Computer audio has not finished joining, please wait."});if(g){if(v&&!Ai())return Promise.reject({type:oe,reason:"Cannot stop audio during sharing with audio"});a(kl(void 0)),a(Wa(void 0))}return E?.audio===xt.Computer?(a(Xu(lr.Active)),yield c.leaveComputerAudio(),l.joinOrLeaveVoip(!1),b&&a(mp({userId:p.meeting.userId,key:"isSpeakerOnly",value:void 0})),y&&ts.getInstance().stopAudioElement(),a(Sp(0)),Ge(na)):Promise.resolve("")});return function(i){return t.apply(this,arguments)}}()(this[ue])}muteAudio(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),g=Fe(h);if(null==o||o===g?.userId)return""===g?.audio||null===g?.audio?Promise.reject({type:oe,reason:"no audio joined"}):!0===g?.muted?Promise.resolve(""):(c(Xi(yi.Active)),l.mute(g.userId,!0),p.muteAudio(),h.audio.isShareAudioEnabled&&!Ai()&&c(Wa(!0)),Ge(S0).then(()=>""));if(Co(h)){const{participants:{allowTalkAttendeesList:v,attendeesList:y}}=h,b=v.concat(y).find(E=>E.userId===o);return b?""===b.audio||null===b?Promise.reject({type:oe,reason:"no audio joined"}):!1===b.muted?(l.mute(o,!0),Ge(E0,E=>E.id===o&&1==E.muted)):Promise.resolve(""):Promise.reject({type:Je,reason:"no matching user"})}return Promise.reject({type:$r})})(this[ue],t)}unmuteAudio(t){return(i=Oe(function*(o,a){const{store:{getState:c,dispatch:l},rwgAgent:p,mediaAgent:h}=o,g=c(),v=Fe(g);if(void 0===a||a===v?.userId){if(""===v?.audio||null===v?.audio)return Promise.reject({type:oe,reason:"no audio joined"});if(!1===v?.muted)return Promise.resolve("");if(g.audio.isShareAudioEnabled&&!Ai()){if(g.audio.isSharingAudio)return Promise.reject({type:oe,reason:"Cannot unmute audio during sharing with audio"});l(Wa(!1))}if(g.audio.bCanUnmute||null!=v&&v.isHost||null!=v&&v.bCoHost){if(Mr(v.userRole)){const{audio:{isAllowToTalk:y,isAllowToTalkAttendeeConnected:b}}=g;y?b||(yield h.leaveComputerAudio(),yield id(h,g,!0),l(Nl(!0))):Promise.reject({type:oe,reason:"Webinar attendee cannot unmute self audio."})}return l(Yu(vf.Active)),p.mute(v.userId,!1),h.unmuteAudio(),Ge(b0).then(()=>"")}return Promise.reject({type:$r,reason:"host not allow unmute themselves"})}if(Co(g)){const{participants:{allowTalkAttendeesList:y,attendeesList:b}}=g,E=y.concat(b).find(I=>I.userId===a);return E?""===E.audio||null===E?Promise.reject({type:oe,reason:"no audio joined"}):(!0===E.muted&&p.mute(a,!1),Promise.resolve("")):Promise.reject({type:Je,reason:"no matching user"})}return Promise.reject({type:$r})}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}dialOut(t,i,o,a){return((c,l,p,h,g)=>{const{store:{getState:v,dispatch:y},rwgAgent:b}=c,E=v(),{meeting:{callOutCountry:I,isSupportCallOut:w}}=E;if(w&&Array.isArray(I)&&I.findIndex(_=>_.code===l)>-1){const{seq:_}=b.audioDialout(l+p,h,!(null==g||!g.callMe),!(null==g||!g.pressingOne),!(null==g||!g.greeting));return y(xA({sequence:_,phoneNumber:l+p})),ia(Cl.JoinAudioByCallMe)}return Promise.reject({type:Je,reason:"no matching country code"})})(this[ue],t,i,o,a)}cancelDialOut(t,i,o){return((a,c,l,p)=>{const{rwgAgent:h}=a;return h.audioCancelDialout(c+l,!(null==p||!p.callMe)),ia(Cl.cancelDialOut)})(this[ue],t,i,o)}hangup(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,a=i(),c=Fe(a);return c?.audio===xt.Phone&&null!==c.userId?(o.audioDrop(c.userId),ia(Cl.hangup)):Promise.reject({type:oe,reason:"not joined audio by phone"})})(this[ue])}switchMicrophone(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{audio:{microphoneDevicesList:h,activeMicrophone:g,mediaPlaybackFile:v,isUsingMediaPlayback:y}}=p,b=h.find(E=>E.deviceId===o);if("default"===o||"string"!=typeof o||b){const E=Fe(p);if(E?.audio===xt.Computer){let I=!1;if("string"==typeof o)o!==g&&(l.changeMicrophone(o,b?.label,!(null==E||!E.muted)),c(zA(void 0)),ts.getInstance().stopAudioElement(),I=!0);else if(o&&(!y||v?.url!==o.url)){const w=ts.getInstance();w.setAudioElement(o).then(()=>{l.changeMicrophone(w.audioElement,void 0,!(null==E||!E.muted)),c(zA(o))}),I=!0}if(I)return ia(Cl.JoinComputerAudio)}else"string"==typeof o&&c(Kf(o));return Promise.resolve("")}return Promise.reject({type:aA})})(this[ue],t)}switchSpeaker(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{audio:{speakerDevicesList:p,activeSpeaker:h}}=a();if("default"!==o&&-1==p.findIndex(v=>v.deviceId===o))return Promise.reject({type:aA});var g;if((null===(g=Fe(a()))||void 0===g?void 0:g.audio)===xt.Computer){if(o!==h)return l.changeSpeaker(o),Ge(El,v=>v)}else c(Ay(o));return Promise.resolve("")})(this[ue],t)}muteShareAudio(t){return((i,o)=>{const{mediaAgent:a,rwgAgent:c,store:{getState:l,dispatch:p}}=i,h=l(),{meeting:{userId:g}}=h;if(o&&o!==g)return db(o,!0,i.store,a);{const{audio:{isSharingAudio:y,isShareAudioEnabled:b,isShareAudioMuted:E}}=h;if(!b)return Promise.reject({type:oe,reason:"Cannot mute sharing audio when sharing audio is not enable"});if(E)return Promise.resolve("");{c.muteShareAudio(!0);let I=Promise.resolve();var v;return y&&(I=null===(v=a.leaveSharingAudio(!0))||void 0===v?void 0:v.then(()=>rm(a,c,h).then(w=>{w.forEach(_=>p(_))}))),nm(a,g,!0,h),Promise.all([Ge({event:Br,operations:[ne(w=>void 0!==w.bShareAudioOn),bt(1)]},w=>!1===w.bShareAudioOn),I]).then(()=>(p(Ry(!0)),y&&(p(Ep(!1)),F(Er,{state:"off"})),""))}}})(this[ue],t)}unmuteShareAudio(t){return((i,o)=>{const{mediaAgent:a,rwgAgent:c,store:{getState:l,dispatch:p}}=i,h=l(),{meeting:{userId:g}}=h;if(o&&o!==g)return db(o,!1,i.store,a);{const{audio:{isSharingAudio:v,isShareAudioEnabled:y,isShareAudioMuted:b},share:{status:E}}=h;if(!y)return Promise.reject({type:oe,reason:"Cannot unmute sharing audio when sharing audio is not enable"});if(!1===b)return Promise.resolve("");{c.muteShareAudio(!1);let I=Promise.resolve();return!1===v&&E===_t.Sharing&&(I=LI(a,c,h).then(w=>{w.forEach(_=>p(_))})),nm(a,g,!1,h),Promise.all([Ge({event:Br,operations:[ne(w=>void 0!==w.bShareAudioOn),bt(1)]},w=>!0===w.bShareAudioOn),I]).then(()=>(p(Ry(!1)),!1===v&&E===_t.Sharing&&(p(Ep(!0)),F(Er,{state:"on"})),""))}}})(this[ue],t)}subscribeAudioStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l}}=o,p=l(),h=Fe(p),g=!a||a.decode,v=!a||a.encode;if(!h)return Promise.reject({type:oe,reason:"Call this function after the 'join' method resolved."});{var y;const{encodeInitStatus:b,decodeInitStatus:E}=jI(p,h);(mr()?Ya(p,!(null!==(y=p.audio.customizeAudioOption)&&void 0!==y&&y.speakerOnly)):Gr("audio",b,E)).subscribe(I=>{let[w,_]=I;w&&_&&(g&&c.subscribeToQos([Or.AudioDecode],Gu),v&&c.subscribeToQos([Or.AudioEncode],Gu))})}return""}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}unsubscribeAudioStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode;return(!a||a.decode)&&(c.unsubscribeFromQos([Or.AudioDecode]),l(Oy(u0))),h&&(c.unsubscribeFromQos([Or.AudioEncode]),l(My(u0))),null}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}enableBackgroundNoiseSuppression(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{isBackgroundNoiseSuppression:p,originalSound:h}}=c();let g=o;return g===!!p||(g&&!MR(mr())?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),g=!1):(g&&h&&(console.warn("Enabling noise suppression will disable original sound."),l(Jf(!1))),l(GA(g)),a.changeAudioProfile(NI(c())))),Promise.resolve("")})(this[ue],t)}enableSyncButtonsOnHeadset(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{isHIDEnabled:h,microphoneDevicesList:g,activeMicrophone:v}}=p;if(o===!!h)return Promise.resolve("");{const b=Fe(p);var y;return b?(o&&!PR()?console.warn("Sync buttons on headset is not supported on the current platform"):(a.enableSyncButtonsOnHeadset(o,null===(y=g.find(E=>E.deviceId===v))||void 0===y?void 0:y.label,b.muted),l(ik(o))),Promise.resolve("")):Promise.reject({type:oe,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved"})}})(this[ue],t)}enableOriginalSound(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{isBackgroundNoiseSuppression:p,originalSound:h}}=c(),g=o;return g===h||"object"==typeof o&&Kd(o,h)||("object"!=typeof g||!0!==g?.stereo||VI()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),g.stereo=!1),p&&g&&(console.warn("Enabling original sound will disable background noise suppression."),l(GA(!1))),l(Jf(g)),a.changeAudioProfile(NI(c()))),Promise.resolve("")})(this[ue],t)}callCRCDevice(t,i){return((o,a,c)=>{const{rwgAgent:l,store:{dispatch:p,getState:h}}=o,{seq:g}=l.inviteCRCDevice(a,c);return p(qA({sequence:g,ip:a,protocol:c})),ia(Cl.crcCallOut).then(()=>{var v;const{audio:{crcDevice:y}}=h();return null===(v=y.find(b=>b.ip===a&&b.protocol===c&&b.sequence===g))||void 0===v?void 0:v.uuid})})(this[ue],t,i)}cancelCallCRCDevice(t,i){return((o,a,c)=>{const{rwgAgent:l,store:{getState:p}}=o,{audio:{crcDevice:h}}=p(),g=h.find(v=>v.ip===a&&v.protocol===c);return g&&g.returnCode===up.Ringing?(l.cancelInviteCRCDevice(g.transId),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot cancel call out "})})(this[ue],t,i)}muteAllAudio(){return(t=>{const{rwgAgent:i}=t;return i.audioMuteAll(!0),vS("bMutedAll",!0)})(this[ue])}unmuteAllAudio(){return(t=>{const{rwgAgent:i}=t;return i.audioMuteAll(!1),vS("bMutedAll",!1)})(this[ue])}getMicList(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?[...o.audio.microphoneDevicesList]:[]})(this[ue])}getSpeakerList(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?[...o.audio.speakerDevicesList]:[]})(this[ue])}getAudioState(t){return((i,o)=>{let{store:{getState:a}}=i;const c=a(),{meeting:{isWebinar:l}}=c;let p=null;return null==o?p=Fe(c):(p=c.participants.attendeesList.find(h=>h.userId===o),l&&!p&&(p=c.participants.xmppAttendeeList.find(h=>h.userId===o))),p?p.audio:null})(this[ue],t)}isAudioMuted(t){return((i,o)=>{let{store:{getState:a}}=i;const c=a(),{meeting:{isWebinar:l}}=c;let p=null;return void 0===o?p=Fe(c):(p=c.participants.attendeesList.find(h=>h.userId===o),l&&!p&&(p=c.participants.xmppAttendeeList.find(h=>h.userId===o))),!!p&&!!p.muted})(this[ue],t)}getActiveMicrophone(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?o.audio.activeMicrophone:null})(this[ue])}getActiveSpeaker(){return(t=>{let{store:{getState:i}}=t;const o=i();return o.audio?o.audio.activeSpeaker:null})(this[ue])}isSupportCallOut(){return(t=>{let{store:{getState:i}}=t;const{meeting:{isSupportCallOut:o,callOutCountry:a}}=i();return o&&Array.isArray(a)&&a?.length>0})(this[ue])}getDialOutStatus(){return(t=>{let{store:{getState:i}}=t;const{audio:o}=i();return o?.dialout[o.dialout.length-1].returnCode})(this[ue])}getDialOutCountries(){return(t=>{let{store:{getState:i}}=t;const{meeting:{callOutCountry:o}}=i();return Array.isArray(o)?o:[]})(this[ue])}getShareAudioStatus(){return(t=>{let{store:{getState:i}}=t;const{audio:{isShareAudioEnabled:o,isShareAudioMuted:a,isSharingAudio:c}}=i();return{isShareAudioEnabled:o,isShareAudioMuted:a,isSharingAudio:c}})(this[ue])}isOthersShareAudioMutedLocally(t){return((i,o)=>{var a;let{store:{getState:c}}=i;const{audio:{localShareAudioUserMutedList:l}}=c();return null===(a=l.find(p=>p.userId===o))||void 0===a?void 0:a.muted})(this[ue],t)}getAudioStatisticData(){return(t=>{let{store:{getState:i}}=t;const{audio:{statistic:o}}=i();return{...o}})(this[ue])}getDialInInfo(){return(t=>{let{store:{getState:i}}=t;const{meeting:{meetingNumber:o,tollNumbers:a,participantID:c,h323Password:l}}=i();return void 0===a?null:{meetingId:o,participantId:c,password:l||"",tollNumbers:a.map(p=>({...p}))}})(this[ue])}isSupportMicrophoneAndShareAudioSimultaneously(){return Ai()}startVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{media:{videoDecodeStatus:h,videoEncodeStatus:g,enforceVirtualBackground:v},video:{isCaptureCameraLoading:y,isCurrentUserStartedVideo:b,isVideoMuted:E}}=p,I=o?{...o}:void 0;if(b)return Promise.reject({type:oe,reason:"Video is started"});if(y)return Promise.reject({type:oe,reason:"Camera is starting,please wait."});if(E&&!Co(p))return Promise.reject({type:oe,reason:"Video is muted by the host"});if(lu(v)&&!(I?.videoElement instanceof HTMLVideoElement)){console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please pass a video element instead of a canvas element in the "renderVideo" method');let w=document.body.querySelector(`#${ZD}`);w||(w=document.createElement("video"),w.setAttribute("style",Re.isSafari||Re.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none"),w.muted=!0,w.playsInline=!0,w.autoplay=!0,w.id=ZD,document.body.appendChild(w)),I&&Object.assign(I,{videoElement:w})}return!Tg(v)&&null!=I&&I.virtualBackground?Promise.reject({type:Je,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled."}):(c(tc(!0)),Gr("video",g,h).subscribe(w=>{let[_]=w;if(_){const A=a(),{video:{activeCamera:T,isSupportHDVideo:M,virtualBackground:{imageSrc:P},mask:{imageSrc:N}}}=A,{cameraId:$=T,captureWidth:V=0,captureHeight:L=0,mirrored:Q,hd:Y,fullHd:z,virtualBackground:j,mask:O}=I||{};Q&&l.mirrorVideo(Q),(Y||z)&&(console.log("HD support is currently limited, and comes with a number of restrictions and limitations. Please visit https://developers.zoom.us/docs/video-sdk/web/video/#720p-video for more details"),M&&Ye.isCompatibleHardwareForEncode()&&Ye.isSupportVideoEncodeHardwareAcceleration().then(K=>{K&&(l.enableHardwareAccelerationForVideoEncode(!0),c(et({encode:K})))}),M||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const k=j||void 0===j&&!!P&&void 0===O,H=O||void 0===O&&!!N;let U=Promise.resolve({});if(k){const K=j||{imageUrl:void 0,cropped:void 0};U=bm({...K,captureWidth:V,captureHeight:L,cameraId:$,hd:Y},l,A).then(()=>K)}else if(H){const K=O||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};K.rootWidth||Object.assign(K,{rootWidth:1280}),K.rootHeight||Object.assign(K,{rootHeight:720}),U=Em({...K,captureWidth:V,captureHeight:L,cameraId:$,hd:Y},l,A).then(()=>K)}null!=I&&I.mediaFile&&!Ye.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(I,{mediaFile:void 0})),U.then(K=>Ak("video",a()).then(()=>K)).then(K=>{vO(l,A,I).forEach(re=>{c(re)}),k?c(ft(K)):H&&c(Wy(K))}).catch(K=>{c(tc(!1)),F(Sl,{reason:K})})}else c(tc(!1))}),ia(Po.startCaptureVideo).then(()=>{c(nc(!1)),c(ng(!1))}).finally(()=>{c(tc(!1))}))})(this[ue],t)}stopVideo(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{isCaptureCameraLoading:a,isCurrentUserStartedVideo:c,isUsingMediaPlayback:l}}=i();return a?Promise.reject({type:oe,reason:"Camera is starting,please wait."}):c?(o.stopCaptureVideo(),l&&ts.getInstance().stopVideoElement(),Ge(Ba,p=>!0!==p?.failed)):Promise.reject({type:oe,reason:"camera is closed"})})(this[ue])}switchCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{cameraDevicesList:h,isCurrentUserStartedVideo:g,virtualBackground:v,mask:y,mediaPlaybackFile:b,isUsingMediaPlayback:E,customizedVideoOption:I}}=p;if("string"==typeof o&&!i_(o,h))return Promise.reject({type:Je,reason:"Cannot find cameraDeviceId in camera devices list."});if(g||null!=v&&v.isVBConfigured||y.isMaskConfigured){if("string"==typeof o){const{captureWidth:w,captureHeight:_}=o_(I);l.changeCamera(o,Sf.includes(o),{width:w,height:_}),c(qy(void 0)),ts.getInstance().stopVideoElement()}else if(o&&(!E||b?.url!==o.url)){const w=ts.getInstance();w.setVideoElement(o).then(()=>{l.changeCamera(w.videoElement),c(qy(o))})}return ia(Po.switchCameraVideo).then(()=>{c(nc(!1)),c(ng(!1))})}return Promise.resolve()})(this[ue],t)}renderVideo(t,i,o,a,c,l,p,h,g){return((v,y,b,E,I,w,_,A,T,M)=>{const{store:{getState:P,dispatch:N},mediaAgent:$,rwgAgent:V}=v,L=P(),{meeting:{userId:Q},media:{enforceMultipleVideos:Y,enforceVirtualBackground:z,disableRenderLimits:j},video:{subscribedVideoList:O,renderedVideoList:k}}=L,H=pf(!!Y,j),U=lu(z)&&b===Q;if(y instanceof HTMLCanvasElement&&!O.includes(b)&&O.length>=H&&new Set(k.map(te=>te.canvasId)).has(y.id))return Promise.reject({type:oe,reason:`subscribe video counts greater than maximum size (${H})`});if(-1===hb(L).findIndex(te=>te.userId===b))return Promise.reject({type:Je,reason:"user is not send video"});if(y.id||(y.id=Ma("__ZOOM_SDK_VIDEO_CANVAS_@__")),U){if(y instanceof HTMLVideoElement){y.playsInline=!0,y.muted=!0,y.autoplay=!0,Re.isIOSMobile&&($.switchCanvasForVideoCapture(y),N(pC())),$.renderVideo(y,b,T||Es,E,I,w,_,A,!0,M||"",!1),N(rc(b)),N(pT(y.id));const te=document.querySelector(`#${ZD}`);return te&&te.remove(),Promise.resolve("")}return Promise.reject({type:Je,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser "})}const K=!!M,{media:{videoDecodeStatus:re}}=L;return Gr("video","success",re).subscribe(function(){var te=Oe(function*(me){let[Ne,De]=me;if(De){const{video:{ensuredCanvas:Ue,renderedVideoList:Be}}=P();let ke=y;Ue.includes(y.id)||(ke=Fp(y),N(aT(y.id)));const xe=b===Q,[tt,Nt]=bO(b,A,P()),mt=T||Es,X=yield(Z=Oe(function*(W,ae){const{video:{prefetchedVideo:Ce}}=ae;return Ce?.userId!==W||Ce.loaded?"":ar(Ho(Mt(oA,1),Rn(1e3).pipe(hi(""))))}),function(W,ae){return Z.apply(this,arguments)})(b,P());Be.some(Z=>Z.userId===b&&Z.key===mt&&Z.canvasId===ke.id)||$.renderVideo(ke,b,mt,E,I,w,_,Nt,xe,M||"",K),b!==Q&&V.subscribeVideo(b,Nt,!1),O.includes(b)||N(rc(b)),X&&N(Tp(void 0)),N(Ap({userId:b,key:mt,canvasId:ke.id,videoQuality:tt,aspectRatio:I?E/I:0}))}var Z});return function(me){return te.apply(this,arguments)}}()),"failed"===re?Promise.reject({type:Cs,reason:"Video  decode status is failed"}):Promise.resolve("")})(this[ue],t,i,o,a,c,l,p,h,g)}stopRenderVideo(t,i,o,a){return function(p,h,g,v,y){let b=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6?arguments[6]:void 0;const{store:{getState:I,dispatch:w},mediaAgent:_,rwgAgent:A}=p,T=I(),{video:{subscribedVideoList:M,renderedVideoList:P},meeting:{userId:N},media:{enforceVirtualBackground:$}}=T;if(M.includes(g)){const V=v||Es;if(lu($)&&g===N&&h instanceof HTMLVideoElement)return h.pause(),w(og(g)),w(pC(h.id)),Promise.resolve("");if(P.find(L=>L.userId===g&&L.key===V&&L.canvasId===h.id)&&(_.stopRenderVideo(h.id,g,V,r_(y),b),1==P.filter(L=>L.userId===g).length&&(g!==N&&A.unsubscribeVideo(g),w(og(g))),w(sg({userId:g,key:V,canvasId:h.id}))),E&&N!==E){const{video:{subscribedVideoList:L,prefetchedVideo:Q}}=I();hb(T).find(Y=>Y.userId===E)&&!L.includes(E)&&Q?.userId!==E&&w(Tp({userId:E,lastCopy:Q}))}}return Promise.resolve("")}(this[ue],t,i,o,a,arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}updateVideoCanvasDimension(t,i,o){return((a,c,l,p)=>{const{mediaAgent:h}=a;return l>=0&&p>=0&&h.updateRenderedVideoCanvasDimension(c,l,p),Promise.resolve("")})(this[ue],t,i,o)}adjustRenderedVideoPosition(t,i,o,a,c,l,p){return((h,g,v,y,b,E,I,w)=>{const{store:{getState:_,dispatch:A},mediaAgent:T}=h,{video:{subscribedVideoList:M}}=_();if(M.includes(v)){if(g instanceof HTMLVideoElement)return Promise.resolve("");const P=w||Es;T.adjustRenderedVideoPosition(g.id,v,P,E,I,y,b,r_("#000")),A(Ap({userId:v,key:P,canvasId:g.id,aspectRatio:b?y/b:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[ue],t,i,o,a,c,l,p)}clearVideoCanvas(t,i){return((o,a,c)=>{const{mediaAgent:l}=o;return l.clearVideoCanvas(a.id,r_(c)),Promise.resolve("")})(this[ue],t,i)}mirrorVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{media:{enforceVirtualBackground:p},video:{isCurrentUserStartedVideo:h,virtualBackground:g,selfPreviewVideoList:v,customizedVideoOption:y,videoAttachments:b,isMirrored:E},meeting:{userId:I}}=a();if(E===o)return Promise.resolve("");if(h||null!=g&&g.isVBConfigured){if(lu(p)){const w=[];v.length>0&&v.forEach(_=>{w.push(document.getElementById(_))}),null!=y&&y.videoElement&&w.push(document.querySelector(y?.videoElement)),b&&b[`${I}`]&&b[`${I}`].forEach(_=>{w.push(_.render.el)}),w.filter(_=>!!_).forEach(_=>{_&&s_(_,o)})}else l.mirrorVideo(o);c(ko(o))}return Promise.resolve("")})(this[ue],t)}enableHardwareAcceleration(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{video:{isSupportHDVideo:p}}=a();if("boolean"==typeof o||void 0!==o.decode){const h="boolean"==typeof o?o:!!o.decode;return h?Ye.isSupportVideoDecodeHardwareAcceleration().then(g=>(g&&l.enableHardwareAccelerationForVideoDecode(g),c(et({decode:g})),g)):(l.enableHardwareAccelerationForVideoDecode(h),c(et({decode:h})),Promise.resolve(!0))}if("boolean"==typeof o||void 0!==o.encode)if(p){if(!("boolean"==typeof o?o:o.encode))return l.enableHardwareAccelerationForVideoEncode(!1),c(et({encode:!1})),Promise.resolve(!0);if(Ye.isCompatibleHardwareForEncode())return Ye.isSupportVideoEncodeHardwareAcceleration().then(g=>(g&&l.enableHardwareAccelerationForVideoEncode(g),c(et({encode:g})),g));console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation")}else"boolean"!=typeof o&&null!=o&&o.encode&&console.warn("Can not use the hardware acceleration for video encoding due to the account restriction");return Promise.resolve(!1)})(this[ue],t)}subscribeVideoStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l,dispatch:p}}=o,{media:{videoDecodeStatus:h,videoEncodeStatus:g},video:{subscriptionStatus:v}}=l(),y=!a||a.decode,b=!a||a.encode;return Gr("video",g,h).subscribe(E=>{let[I,w]=E;const _={};y&&w&&!v.decode&&(c.subscribeToQos([Or.VideoDecode],Gu),Object.assign(_,{decode:!0})),b&&I&&!v.encode&&(c.subscribeToQos([Or.VideoEncode],Gu),Object.assign(_,{encode:!0})),null!=a&&a.detailed&&w&&!v.detailed&&(c.enableVideoObserver(!0),Object.assign(_,{detailed:!0})),p(lC(_))}),null}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}unsubscribeVideoStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode,g={};return(!a||a.decode)&&(c.unsubscribeFromQos([Or.VideoDecode]),l(By(ea)),Object.assign(g,{decode:!1})),h&&(c.unsubscribeFromQos([Or.VideoEncode]),l(ug(ea)),Object.assign(g,{encode:!1})),null!=a&&a.detailed&&(c.enableVideoObserver(!1),Object.assign(g,{detailed:!1})),l(lC(g)),null}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}previewVirtualBackground(t,i,o,a){return((c,l,p,h,g)=>{const{store:{getState:v,dispatch:y},mediaAgent:b}=c,E=v();return bm({imageUrl:p,cropped:h,cameraId:g},b,E,l).then(I=>("object"==typeof I&&null!=I&&I.type&&y(I),y(ft({imageUrl:p,cropped:h})),!0)).catch(I=>Promise.reject({type:oe,reason:I}))})(this[ue],t,i,o,a)}updateVirtualBackgroundImage(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},mediaAgent:h}=o,g=l(),{video:{virtualBackground:{imageSrc:v,cropped:y},backgroundMode:b}}=g;return a===v&&c===y?Promise.resolve(!0):b===Ji.Mask?Promise.reject({type:oe,reason:"Cannot update virtual background in the mask mode"}):bm({imageUrl:a,cropped:c},h,g).then(E=>("object"==typeof E&&null!=E&&E.type&&p(E),p(ft({imageUrl:a,cropped:c})),!0)).catch(E=>Promise.reject({type:oe,reason:E}))})(this[ue],t,i)}stopPreviewVirtualBackground(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{virtualBackground:{isVBConfigured:a}}}=i();return a?(o.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:oe,reason:"Cannot stop preview virtual background before start"})})(this[ue])}previewVideoMask(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},mediaAgent:h}=o,g=l();return c.rootWidth&&c.rootHeight||Object.assign(c,{rootWidth:a.width,rootHeight:a.height}),Em(c,h,g,a).then(v=>("object"==typeof v&&null!=v&&v.type&&p(v),p(Wy(c)),!0)).catch(v=>Promise.reject({type:oe,reason:v}))})(this[ue],t,i)}updateVideoMask(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{mask:h,backgroundMode:g}}=p,{isMaskConfigured:v}=h;if(g===Ji.VirtualBackground)return Promise.reject({type:oe,reason:"Cannot update mask in the virtual background mode"});if(v){const y={...o};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach(b=>{void 0===o?.[b]&&Object.assign(y,"imageUrl"===b?{imageUrl:h.imageSrc}:{[`${b}`]:h[b]})}),Em(y,l,p).then(b=>("object"==typeof b&&null!=b&&b.type&&c(b),c(Wy(y)),!0)).catch(b=>Promise.reject({type:oe,reason:b}))}return Promise.reject({type:oe,reason:"Cannot update mask"})})(this[ue],t)}stopPreviewVideoMask(){return(t=>{const{store:{getState:i},mediaAgent:o}=t,{video:{mask:{isMaskConfigured:a}}}=i();return a?(o.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:oe,reason:"Cannot stop preview mask before start"})})(this[ue])}requestFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p},video:{farEndCameraControlStatus:{controlledUserList:h}}}=l;return p===o?Promise.reject({type:oe,reason:'Using "stream.controlCamera" method to control self camera'}):-1!==fb(l).findIndex(g=>g.userId===o)?(h.includes(o)||c.sendFarEndCameraControl(Sr.Request,o),Promise.resolve("")):Promise.reject({type:Je,reason:"Cannot request control camera with video off"})})(this[ue],t)}approveFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{currentCameraControlStatus:{isRequested:p,isInControl:h,controllingUserId:g},ptz:v,activeCamera:y}}=a();if(p){if(h&&(!g||o===g))return Promise.resolve("");l.sendFarEndCameraControl(Sr.Approve,o);const b=v?.[y];return void 0!==b&&l.sendCameraAblity({pan:!!b.pan,tilt:!!b.tilt,zoom:!!b.zoom}),c(Ul(!1)),c(Ja({isInControl:!0,userId:o})),F(wf,{isControlled:!0,userId:o}),Promise.resolve("")}return Promise.reject({type:oe,reason:"Cannot approve before request"})})(this[ue],t)}declineFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{currentCameraControlStatus:{isInControl:p,isRequested:h}}}=a();return h||p?(l.sendFarEndCameraControl(Sr.Decline,o),c(Ul(!1)),c(Ja({isInControl:!1,userId:0})),F(wf,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot decline before request"})})(this[ue],t)}giveUpFarEndCameraControl(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,{video:{farEndCameraControlStatus:{controlledUserList:p}}}=a();return p.includes(o)?(l.sendFarEndCameraControl(Sr.GiveUp,o),c(oc(o)),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot give up control befire aquired"})})(this[ue],t)}controlCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,{video:{isCurrentUserStartedVideo:p,ptz:h,activeCamera:g}}=a();if(p){const{cmd:v,range:y,reset:b}=o,E=h[g];if(E){const I=u_(E)||{},{key:w,range:_}=a_(v,y);if(E[w])return Object.assign(I,{[w]:b?0:yO(E[w].capability,E[w].value,_)}),l.movePTZCamera(I).then(()=>{c(cg({constraints:I,deviceId:g}))}).catch(A=>Promise.reject({type:oe,reason:A}))}return Promise.resolve("")}return Promise.reject({type:oe,reason:"Cannot control the camera before it's started"})})(this[ue],t)}controlFarEndCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,p=a(),{video:{farEndCameraControlStatus:{controlledUserList:h,isControlling:g}}}=p,{userId:v,cmd:y,range:b}=o;if(g)return Promise.reject({type:oe,reason:"Cannot send new command while the previous control is not done"});if(h.includes(v)){if(y===zu.SwitchCamera)return l.sendFarEndCameraControl(Sr.SwitchCamera,v,zu.SwitchCamera),Promise.resolve("");{const E=fb(p).find(I=>I.userId===v);if(null==E||!E.nFECC)return Promise.reject({type:oe,reason:"The far end camera does not support PTZ"});if(b&&b>0){const I=b/100*1e4;return l.sendFarEndCameraControl(Sr.StartControl,v,y),c(lg(!0)),ot(200).pipe(We(Rn(I-100).pipe(bt(1)))).subscribe(()=>{l.sendFarEndCameraControl(Sr.ContinueControl,v,y)}),ar(Rn(I).pipe(Te(()=>{l.sendFarEndCameraControl(Sr.StopControl,v,y),c(lg(!1))}))).then(()=>"")}return Promise.reject({type:Je,reason:"Range cannot be negative or 0"})}}return Promise.reject({type:oe,reason:"Cannot control before request granted"})})(this[ue],t)}attachVideo(t,i,o){return((a,c,l,p)=>{const{store:{getState:h,dispatch:g},rwgAgent:v}=a,y=h(),{meeting:{userId:b},media:{enforceMultipleVideos:E,alternativeNameForVideoPlayer:I,enforceVirtualBackground:w,disableRenderLimits:_},video:{videoAttachments:A,subscribedVideoList:T}}=y,M=pf(!!E,_);if(M>1&&T.length>M)throw Promise.reject({type:oe,reason:`subscribe video counts greater than maximum size (${M})`});if(-1===hb(y).findIndex(z=>z.userId===c))return Promise.reject({type:Je,reason:"user is not send video"});const{media:{videoDecodeStatus:P}}=y;let N;const $=I??"video-player";if(p){var V,L,Q;if("string"==typeof p){if(N=document.querySelector(p),!N)return Promise.reject({type:"INVALID_PARAMETERS",reason:"Cannot find the element"})}else N=p;if((null===(V=N)||void 0===V||null===(L=V.tagName)||void 0===L?void 0:L.toUpperCase())!==$.toUpperCase())return Promise.reject({type:"INVALID_PARAMETERS",reason:"Invalid element type"});const z=Number(null!==(Q=N.getAttribute("node-id"))&&void 0!==Q?Q:"0");if(z!==c&&lu(w)&&[z,c].includes(b)){var Y;const j=document.createElement($);for(const O of N.attributes)j.setAttribute(O.name,O.value);z&&(N.setAttribute("node-id","0"),g(pg({userId:z,element:N}))),null===(Y=N.parentElement)||void 0===Y||Y.replaceChild(j,N),N=j}}else N=document.createElement($);return Gr("video","success",P).subscribe(function(){var z=Oe(function*(j){let[O,k]=j;if(k){const[U,K]=bO(c,l,h()),re=A[`${c}`];var H;N&&re&&-1!==re.findIndex(te=>te===N)?N.setAttribute("video-quality",`${K}`):null===(H=N)||void 0===H||H.setAttribute("node-id",`${c}`),g(cT({userId:c,element:N})),c!==b&&v.subscribeVideo(c,K,!1),T.includes(c)||g(rc(c)),g(Ap({userId:c,key:Es,canvasId:bf,videoQuality:U,aspectRatio:1.7777777777777777}))}});return function(j){return z.apply(this,arguments)}}()),Promise.resolve(N)})(this[ue],t,i,o)}detachVideo(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},rwgAgent:h}=o,g=l(),{video:{subscribedVideoList:v,videoAttachments:y},meeting:{userId:b},media:{alternativeNameForVideoPlayer:E}}=g;if(v.includes(a)){let A;const T=E??"video-player";var I,w;c&&(A="string"==typeof c?document.querySelector(c):c,(null===(I=A)||void 0===I||null===(w=I.tagName)||void 0===w?void 0:w.toUpperCase())!==T.toUpperCase()&&(A=void 0));const M=y[`${a}`];let P;if(M&&0!==M.length){var _;A?-1!==M.findIndex(V=>V===A)?(P=A,P.setAttribute("node-id","0"),p(pg({userId:a,element:P}))):console.warn(`${c} has not been attached with userID:${a}`):(P=[...M],P.forEach(V=>{V.setAttribute("node-id","0")}),p(pg({userId:a,element:P})));const{video:{videoAttachments:N,renderedVideoList:$}}=l();0===(null===(_=N[`${a}`])||void 0===_?void 0:_.length)&&(0===$.filter(V=>V.userId===a&&V.canvasId!==bf).length&&(a!==b&&h.unsubscribeVideo(a),p(og(a))),p(sg({userId:a,key:Es,canvasId:bf})))}else console.warn(`UserId:${a} has not been attached.`);return Promise.resolve(P)}return Promise.resolve(void 0)})(this[ue],t,i)}spotlight(t,i){return((o,a,c)=>{const{store:{getState:l},rwgAgent:p}=o,h=l(),{video:{spotlightUserList:g}}=h;return g.includes(a)?Promise.reject({type:Je,reason:`userId:${a} has already spotlighted`}):-1===hb(h).findIndex(v=>v.userId===a)?Promise.reject({type:Je,reason:`userId:${a} has not started video`}):(p.spotlightVideo(a,{bReplace:c,bSpotlight:!0,bUnSpotlightAll:!1}),Ge(Ku,v=>{const{spotlightList:y}=v;return y.includes(a)}))})(this[ue],t,i)}removeSpotlight(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p},video:{spotlightUserList:h}}=l,g=o||p,v=Zt(l);if(!h.includes(g)||-1===v.findIndex(E=>E.userId===g))return Promise.reject({type:Je,reason:`userId:${o} is not spotlighted`});const y=Co(l);return h.length>1&&g===p&&!y?Promise.reject({type:oe,reason:"Cannot remove spotlight for self when the host has multiple spotlighted videos"}):g===p||y?(c.spotlightVideo(g,{bReplace:!1,bSpotlight:!1,bUnSpotlightAll:!1}),Ge(g===p&&1===h.length?Df:Ku,E=>{const{spotlightList:I}=E;return!I.includes(g)})):Promise.reject({type:$r,reason:"only host or co-host can cancel others spotlight"})})(this[ue],t)}removeAllSpotlights(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{video:{spotlightUserList:a}}=i();return 0===a.length?Promise.resolve(""):(o.spotlightVideo(null,{bUnSpotlightAll:!0}),Ge(Ku,c=>{const{spotlightList:l}=c;return 0===l.length}))})(this[ue])}isCapturingVideo(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCurrentUserStartedVideo})(this[ue])}isCameraTaken(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCameraTaken})(this[ue])}isCaptureForbidden(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.video&&o.video.isCaptureForbidden})(this[ue])}getCameraList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.video)return[];const{video:{cameraDevicesList:a}}=o;return a.map(c=>Object.assign({},c))})(this[ue])}getActiveCamera(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.activeCamera:""})(this[ue])}getActiveVideoId(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.activeVideoId:0})(this[ue])}getVideoMaxQuality(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.receivedVideoMaxQuality:qo.Video_90P})(this[ue])}getReceivedVideoDimension(){return(t=>{const{store:{getState:i}}=t,o=i();return o.video?o.video.receivedVideoDimension:null})(this[ue])}getCapturedVideoResolution(){return(t=>{const{store:{getState:i}}=t;return{...i().video.capturedVideoDimension}})(this[ue])}isSupportMultipleVideos(){return(t=>{const{store:{getState:i}}=t,{media:{enforceMultipleVideos:o}}=i();return ZE()||!!o&&!window.crossOriginIsolated&&pf(o)>1})(this[ue])}isSupportHDVideo(){return(t=>{var i;const{store:{getState:o}}=t;return null===(i=o().video)||void 0===i?void 0:i.isSupportHDVideo})(this[ue])}getHardwareAccelerationStatus(){return(t=>{var i;const{store:{getState:o}}=t;return null===(i=o().video)||void 0===i?void 0:i.hardwareAcceleration})(this[ue])}getVideoStatisticData(){return(t=>{let{store:{getState:i}}=t;const{video:{statistic:o}}=i();return{...o}})(this[ue])}isSupportVirtualBackground(){return(t=>{const{store:{getState:i}}=t;return Tg(i().media.enforceVirtualBackground)})(this[ue])}getVirtualbackgroundStatus(){return(t=>{const{store:{getState:i}}=t;return{...i().video.virtualBackground}})(this[ue])}isRenderSelfViewWithVideoElement(){return lu(this[hn].getState().media.enforceVirtualBackground)}getNetworkQuality(t){return((i,o)=>{var a;const{store:{getState:c}}=i,l=c(),{video:p,meeting:{userId:h}}=l,v=null==p||null===(a=p.networkQuality)||void 0===a?void 0:a[`${o??h}`];if(v){const y={};return v.uplink&&Object.assign(y,{uplink:v.uplink.level}),v.downlink&&Object.assign(y,{downlink:v.downlink.level}),y}return null})(this[ue],t)}getFarEndCameraPTZCapability(t){return((i,o)=>{const{store:{getState:a}}=i,c=fb(a()).find(l=>l.userId===o);return void 0!==c?.nFECC?SO(c?.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[ue],t)}getCameraPTZCapability(t){return((i,o)=>{const{store:{getState:a}}=i,{video:{ptz:c,activeCamera:l}}=a(),p=c[o??l];return{pan:!(null==p||!p.pan),tilt:!(null==p||!p.tilt),zoom:!(null==p||!p.zoom)}})(this[ue],t)}isBrowserSupportPTZ(){const{pan:t,tilt:i,zoom:o}=Ye.getPTZCapability();return t||i||o}getVideoMaskStatus(){return(t=>{var i;const{store:{getState:o}}=t,a=o(),{isMaskConfigured:c,imageSrc:l,...p}=(null===(i=a.video)||void 0===i?void 0:i.mask)||{};return{...p,imageUrl:l}})(this[ue])}isVideoMirrored(){return(t=>{const{store:{getState:i}}=t,{video:{isMirrored:o}}=i();return o})(this[ue])}getSpotlightedUserList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.video)return[];const{video:{spotlightUserList:a}}=o;return Zt(o).filter(c=>a.includes(c.userId)).map(c=>pd(c))})(this[ue])}startShareView(t,i,o){return((a,c,l,p)=>{const{store:{getState:h,dispatch:g},mediaAgent:v,rwgAgent:y}=a,{share:{isReceiveSharing:b,isRemoteSharingActive:E,activeNodeId:I,activeSsrc:w,status:_,renderedEnsuredCanvas:A,isReceiveSharingFromMainSession:T},media:{sharingDecodeStatus:M}}=h();if(!c||l!==I)return Promise.reject({type:Je,reason:""});if(!E||b||_!==_t.End)return Promise.reject({type:oe,reason:""});c.id||(c.id=Ma("__ZOOM_SDK_SHARE_CANVAS_@__"));const P=!!p;return Gr("sharing","success",M).subscribe(N=>{let[,$]=N;if($){let V=c;A.includes(c.id)||(V=Fp(c),g(YA(c.id))),g(Io(!0)),Gp(y,h(),l),v.renderSharing(w,V,P,p,T);const{audio:L}=h();if(null!=L&&L.localShareAudioUserMutedList){const Q=L.localShareAudioUserMutedList.find(Y=>Y.userId===l);Q&&v.setSharingAudioVolume(l,Q.muted,Q.isFromMainSession)}}}),"failed"===M?Promise.reject({type:Cs,reason:""}):Ge(Yr,N=>!!N,6e4)})(this[ue],t,i,o)}stopShareView(){return(t=>{const{store:{dispatch:i,getState:o},rwgAgent:a,mediaAgent:c}=t,{share:{isReceiveSharing:l,activeNodeId:p},breakoutRoom:h}=o();if(!l)return Promise.resolve("");let g=!1;return h?.currentRoom.status===je.InRoom&&h.mainSessionAttendeeList.length>0&&(g=h.mainSessionAttendeeList.findIndex(v=>v.userId===p)>-1),c.stopRenderSharing(),a.unsubscribeSharing(p,g),i(Io(!1)),Promise.resolve("")})(this[ue])}switchShareView(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l,mediaAgent:p}=i,h=a(),{share:{isReceiveSharing:g,activeNodeId:v,isReceiveSharingFromMainSession:y,remoteControlledUserList:b,isGrabRemoteControl:E},audio:I,breakoutRoom:w}=h;if(!g)return Promise.reject({type:oe});if(o===v)return Promise.resolve("");let _=[];return _=y?w.mainSessionAttendeeList.filter(A=>A.bShareToBORooms&&A.sharerOn):ca(h),_.findIndex(A=>A.userId===v)>-1?(b.includes(v)&&(E&&l.subscribeGrabRemoteControl(v,!1),p.updateRemoteControlProperties({isControllerNow:!1})),l.unsubscribeSharing(v,y),Gp(l,a(),o),p.switchSharingSource(o,y),b.includes(o)&&hc(o,void 0,h,l,p),I?.localShareAudioUserMutedList.forEach(A=>{p.setSharingAudioVolume(o,A.userId!==o||A.muted,A.isFromMainSession)}),c(qa({bStatus:1,activeNodeID:o,ssrc:o})),F(ly,{userId:o}),Promise.resolve("")):Promise.reject({type:Je,reason:"no matching user id"})})(this[ue],t)}updateSharingCanvasDimension(t,i){return((o,a,c)=>{const{store:{getState:l},mediaAgent:p}=o,h=l(),{share:{isReceiveSharing:g,isGrabRemoteControl:v,remoteControlViewportDomSelector:y}}=h;if(g&&(p.updateRenderedSharingDimension(a,c),v&&y)){const b=document.querySelector(y);p.updateRemoteControlProperties({dimension:b&&NC(b)})}return Promise.resolve("")})(this[ue],t,i)}startShareScreen(t,i){return((o,a,c)=>{var l;const{store:{getState:p,dispatch:h},mediaAgent:g}=o,v=p(),{meeting:{bIbDisableShare:y,meetingOptions:b},share:{sharePrivilege:E,ssrc:I,isChromeExtensionInstalled:w,capturedEnsuredCanvas:_,isReceiveSharingFromMainSession:A},media:{sharingEncodeStatus:T},breakoutRoom:M}=v,{isSupportMediaStreamTrackProcessor:P,isLegacyChrome:N}=Re;if(y)return Promise.reject({type:oe,reason:"information barrier"});if("function"!=typeof(null===(l=navigator.mediaDevices)||void 0===l?void 0:l.getDisplayMedia))return Promise.reject({type:oe,reason:"Unable to share your screen due to the technical limitation"});if(A)return Promise.reject({type:oe,reason:"Unable to share your screen while someone is sharing from the main session"});var $;if(P){if(!(a instanceof HTMLVideoElement))return Promise.reject({type:Je,reason:"Use Video element instead of Canvas element when WebCodecs enabled"})}else if(!(a instanceof HTMLCanvasElement))return Promise.reject({type:Je,reason:`Expected to accept HTMLCanvasElement, but actual it is ${"object"==typeof a&&null!==a?null===($=Object.getPrototypeOf(a))||void 0===$?void 0:$.constructor.name:a}`});const V=Co(v);if(null!=c&&c.broadcastToBreakoutRoom){if(!V||M?.currentRoom.status===je.InRoom)return Promise.reject(V?{type:oe,reason:"Unable to share screen to breakout room when in the room"}:{type:$r});h(Ll(!0))}else h(Ll(!1));void 0!==c?.requestReadReceipt&&h(xl(c?.requestReadReceipt)),void 0!==c?.optimizedForSharedVideo&&E!==Si.MultipleShare&&h(Ip(c?.optimizedForSharedVideo&&Ye.isSupportVideoShareSend()));const L=ca(v);if(E===Si.OnlyHost&&!V)return Promise.reject({type:$r,reason:"only host can start screen share"});if(E===Si.HostGrab&&!V&&L.length>0)return Promise.reject({type:$r,reason:"only host can grab screen share"});const Q=Fe(v);if(!0===Q?.sharerOn)return Promise.reject({type:oe,reason:"you have already started screen share."});let Y=Vt(!0);return N&&!w&&(g.checkChromeSharingExtension(),Y=Mt(ay,1)),a.id||(a.id=Ma("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),TE([Gr("sharing",T,"success"),Y]).subscribe(z=>{let[j,O]=z;const[k]=j;if(k&&O){_.includes(a.id)||(Fp(a),h(Xf(a.id)));let H=document.querySelector(`#${vl}`);H&&"VIDEO"===H.tagName||(H=document.createElement("video"),H.id=vl,H.style.display="none",document.body.appendChild(H));const U=null!=c&&c.secondaryCameraId?{cameraId:c.secondaryCameraId,width:c.captureWidth,height:c.captureHeight}:void 0,K=!(null!=c&&c.hideShareAudioOption);g.startDesktopSharing(I,a,H,U,null!=b&&b.isDisableShareAudioIntoBo?K&&!(null!=c&&c.broadcastToBreakoutRoom):K,c?.displaySurface,c?.sourceId,c?.controls),h(Zf(void 0)),h(ky(!!U))}}),new Promise((z,j)=>{Ho(Mt(Br).pipe(ne(O=>void 0!==O.sharerOn),bt(1)),Mt(ay).pipe(ne(O=>!O),bt(1),ze(Ee({reason:"required extension",extensionUrl:"https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle"}))),Mt(cA,1).pipe(se(O=>Ee({reason:O.reason||"user deny screen share"})))).subscribe(O=>{if(!0===O.sharerOn){const{share:{isSharingToBreakoutRoom:k},meeting:{meetingOptions:H}}=p();g.enableShareAudioToBreakoutRoom(!(null!=H&&H.isDisableShareAudioIntoBo||!k)),z("")}else j({type:Cs})},O=>{j({type:oe,...O})})})})(this[ue],t,i)}stopShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l},meeting:{userId:p}}=i();return l===_t.End?Promise.resolve(""):(o(Ci(_t.End)),a.stopSharing(p),c.stopDesktopSharing(),Ge(Br,h=>!1===h.sharerOn))})(this[ue])}pauseShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l}}=i();return l===_t.Sharing?(a.pauseSharing(),c.pauseDesktopSharing(),Ge(Br,p=>!0===p.sharerPause).then(()=>(o(Ci(_t.Paused)),""))):Promise.reject({type:oe})})(this[ue])}resumeShareScreen(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{share:{status:l}}=i();return l===_t.Paused?(a.resumeSharing(),c.resumeDesktopSharing(),Ge(Br,p=>!0===p.sharerOn&&!1===p.sharerPause).then(()=>(o(Ci(_t.Sharing)),""))):Promise.reject({type:oe})})(this[ue])}setSharePrivilege(t){return pb(this[ue],t)}lockShare(t){return pb(this[ue],t?Si.OnlyHost:Si.HostGrab)}shareToBreakoutRoom(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{meeting:{userId:l},breakoutRoom:p,share:{isSharingToBreakoutRoom:h,status:g}}=i();return g===_t.End?Promise.reject({type:oe,reason:"Invalid sharing status"}):h?Promise.resolve(""):p.currentRoom.status===je.InRoom?Promise.reject({type:oe,reason:"Unable to share screen to breakout room when in the room"}):(a.startShareToBreakoutRoom(l),o(Ll(!0)),c.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[ue])}stopShareToBreakoutRoom(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a,mediaAgent:c}=t,{meeting:{userId:l},share:{isSharingToBreakoutRoom:p}}=i();return p&&(a.stopShareToBreakoutRoom(l),o(Ll(!1)),c.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[ue])}muteOthersScreenShare(t){return((i,o)=>{const{store:{getState:a},rwgAgent:c}=i,l=a(),{meeting:{userId:p}}=l,h=ca(l);return o===p?Promise.reject({type:oe,reason:"Cannot mute self share, use 'stopScreenShare' instead"}):-1===h.findIndex(g=>g.userId===o)?Promise.reject({type:Je,reason:"Target user is not sharing"}):(c.stopSharing(o),Ge(yo,g=>g.some(v=>v.userId===o&&!1===v.sharerOn)))})(this[ue],t)}enableOptimizeForSharedVideo(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l,rwgAgent:p}=i,{share:{status:h,isOptimizedForSharedVideo:g,isSharingToBreakoutRoom:v,sharePrivilege:y},audio:{isSharingAudio:b},meeting:{userId:E}}=a();return h!==_t.End?g===o?Promise.resolve(""):y!==Si.MultipleShare?o&&!Ye.isSupportVideoShareSend()?Promise.reject({type:oe,reason:"Cannot enable optimize for shared video due to the platform is not supported "}):(p.startSharing(E,{bShareAudio:b,bShareToBO:v,bShareVideo:o}),l.switchSharingMode(o?Qv.VideoMode:Qv.Normal),Ge({event:Br,operations:[ne(I=>void 0!==I.bVideoShare),bt(1)]},I=>I.bVideoShare===o).then(()=>(c(Ip(o)),""))):Promise.reject({type:oe,reason:"Cannot enable optimize for shared video when enabling multiple screen shares"}):Promise.reject({type:oe,reason:"Cannot enable optimize for shared video when screen share is not started"})})(this[ue],t)}updateSharedVideoQuality(t){return((i,o)=>{const{store:{getState:a,dispatch:c},rwgAgent:l}=i,p=a(),{share:{shareQuality:h,activeNodeId:g,isReceiveSharing:v}}=p,y=jp(p);return v&&0!==g?(y&&h!==o&&(Gp(l,p,g,o),c(QA(o))),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot update shared video quality when screen share is not started"})})(this[ue],t)}subscribeShareStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{getState:l}}=o,p=l(),{media:{sharingEncodeStatus:h,sharingDecodeStatus:g}}=l(),v=Fe(p),y=!a||a.decode,b=!a||a.encode;if(!v)return Promise.reject({type:oe,reason:"Call this function after the 'join' method resolved."});{const E=Mr(v.userRole)||!Re.isSupportSendScreenSharing?"failed":h;Gr("sharing",E,g).subscribe(I=>{let[w,_]=I;y&&_&&c.subscribeToQos([Or.SharingDecode],Gu),b&&w&&c.subscribeToQos([Or.SharingEncode],Gu)})}return""}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}unsubscribeShareStatisticData(t){return(i=Oe(function*(o,a){const{mediaAgent:c,store:{dispatch:l}}=o,h=!a||a.encode;return(!a||a.decode)&&(c.unsubscribeFromQos([Or.SharingDecode]),l(Fl(ea))),h&&(c.unsubscribeFromQos([Or.SharingEncode]),l(Fl(ea))),null}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}getShareUserList(){return(t=>{const{store:{getState:i}}=t,o=i();if(!o.share)return[];const{share:{isReceiveSharingFromMainSession:a}}=o;if(a){const{breakoutRoom:{mainSessionAttendeeList:c}}=o;return c.filter(l=>l.bShareToBORooms&&(l.sharerOn||l.sharerPause)).map(l=>pd(l))}return ca(o).map(c=>pd(c))})(this[ue])}getActiveShareUserId(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share&&o.share.isRemoteSharingActive?o.share.activeNodeId:0})(this[ue])}isReceiveSharing(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isReceiveSharing})(this[ue])}getShareViewDimension(){return(t=>{const{store:{getState:i}}=t,o=i();if(o.share){if(o.share.status!==_t.End)return{...o.share.shareDimension};{const{share:{receivedShareDimension:a}}=o;return{width:a.width,height:a.height}}}return null})(this[ue])}getShareStatus(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.status:null})(this[ue])}isShareLocked(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.sharePrivilege===Si.OnlyHost})(this[ue])}isReceiveSharingFromMainSession(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isReceiveSharingFromMainSession})(this[ue])}getSharePrivilege(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.sharePrivilege:null})(this[ue])}isStartShareScreenWithVideoElement(){return Re.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isOptimizedForSharedVideo})(this[ue])}isSupportOptimizedForSharedVideo(){return Ye.isSupportVideoShareSend()}getShareStatisticData(){return(t=>{let{store:{getState:i}}=t;const{share:{statistic:o}}=i();return{...o}})(this[ue])}requestRemoteControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isReceiveSharing:a,activeNodeId:c,isRemoteControlEnabled:l}}=i();return l?bM(t,c)?a?ql(i())?Promise.reject({type:oe,reason:"Already get the approval"}):(o.sharingRequestRemoteControl(c,!0),new Promise(p=>{Mt(Rf,1).subscribe(h=>{p(h)})})):Promise.reject({type:oe,reason:"Cannot request control due to no sharing available"}):Promise.reject({type:Je}):Promise.reject({type:oe,reason:"Cannot request control due to the feature is not enabled."})})(this[ue])}giveUpRemoteControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isGrabRemoteControl:a,activeNodeId:c}}=i();return ql(i())?(a&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1),Ge(Rf,l=>!1===l)):Promise.reject({type:oe})})(this[ue])}startRemoteControl(t){return(i=Oe(function*(o,a){const{store:{getState:c,dispatch:l},mediaAgent:p,rwgAgent:h}=o,{share:{isSDKGrabControl:g,activeNodeId:v}}=c();return ql(c())?(yield hc(v,a,c(),h,p),a.dataset.zmrvId||a.setAttribute("data-zmrv-id",Ma("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),l(ec(`${a.tagName}[data-zmrv-id="${a.dataset.zmrvId}"]`)),g?Ge(_l,y=>!!y):ia({success:dA,fail:[O0]})):Promise.reject({type:oe,reason:"required to be approved"})}),function(o,a){return i.apply(this,arguments)})(this[ue],t);var i}grabRemotoControl(){return(t=>{const{store:{getState:i},rwgAgent:o}=t,{share:{isGrabRemoteControl:a,activeNodeId:c}}=i();return ql(i())?a?Promise.resolve(""):(o.subscribeGrabRemoteControl(c,!0),Ge(_l,l=>!!l)):Promise.reject({type:oe,reason:"should be approved before grab"})})(this[ue])}updateRemoteControlViewportDimension(t){return((i,o)=>{const{store:{getState:a},mediaAgent:c}=i;return ql(a())&&c.updateRemoteControlProperties({dimension:{scaleWidth:o.width,scaleHeight:o.height,srcOffsetX:o.left,srcOffsetY:o.top}}),Promise.resolve("")})(this[ue],t)}approveRemoteControl(t,i){return((o,a,c)=>{const{store:{getState:l,dispatch:p},rwgAgent:h,mediaAgent:g}=o,v=l(),{share:{status:y,isEnableAutoDeleteRcApp:b,remoteControllingSsrc:E,userSsrcMapping:I},meeting:{userId:w}}=v;if(y===_t.End)return Promise.reject({type:oe,reason:"Cannot approve remote control when sharing is not ongoing."});if(y===_t.Paused&&(h.resumeSharing(),g.resumeDesktopSharing(),p(Ci(_t.Sharing))),g.isSharingEntireScreen()){var _,A;E&&!po(E,a)&&(Ug(v,h),p(es("")));const T=null!==(_=I[`${a}`])&&void 0!==_?_:a,{isMacOS:M}=Re,P=null===(A=Zt(v).find(N=>po(N.userId,T)))||void 0===A?void 0:A.displayName;return h.remoteControlConsent(Jv.Approve,T,w,{...g.getShareStreamInfo(),platform:Re.isMacOS?"mac":"win",controllerName:P?On(P):""},b,M?void 0:c?1:0),p(wp(T)),Ge(P0)}return Promise.reject({type:oe,reason:"Cannot approve remote control when not sharing entire screen."})})(this[ue],t,i)}declineRemoteControl(t){return((i,o)=>{var a;const{store:{getState:c},rwgAgent:l,mediaAgent:p}=i,h=c(),{meeting:{userId:g},share:{isEnableAutoDeleteRcApp:v,userSsrcMapping:y}}=h,b=null!==(a=y[`${o}`])&&void 0!==a?a:o;return l.remoteControlConsent(Jv.Decline,b,g,{...p.getShareStreamInfo(),platform:Re.isMacOS?"mac":"win"},v),Promise.resolve("")})(this[ue],t)}stopRemoteControl(){return(t=>{const{store:{getState:i,dispatch:o},rwgAgent:a}=t;return Ug(i(),a),o(es("")),o(wp(0)),Promise.resolve("")})(this[ue])}launchRemoteControlApp(t){return((i,o)=>{const{store:{getState:a,dispatch:c}}=i,l=a(),{share:{remoteControlAppLaunchSheme:p}}=l;return p?(c(es(o?`${p}&bAutoDelete=1`:p)),c(Vl(Sn.Unknown)),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot launch app due to no permission"})})(this[ue],t)}isRemoteControlEnabled(){return(t=>{var i;const{store:{getState:o}}=t;return!(null===(i=o().share)||void 0===i||!i.isRemoteControlEnabled)})(this[ue])}getRemoteControlAppDownloadUrl(){return(t=>{const{store:{getState:i}}=t,o=i();return o.share?o.share.remoteControlAppDownloadUrl:null})(this[ue])}isTargetShareSupportRemoteControl(t){return bM(this[ue],t)}isRemotelyControlApproved(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&ql(o)})(this[ue])}isControllingUserRemotely(){return(t=>{const{store:{getState:i}}=t,o=i();return!!o.share&&o.share.isGrabRemoteControl})(this[ue])}getRemotelyControllingUser(){return(t=>{const{store:{getState:i}}=t,o=i();if(o.share){const{remoteControllingSsrc:a}=o.share;if(a)return Zt(o).find(c=>po(c.userId,a))}return null})(this[ue])}},ce(q.prototype,"startAudio",[le,ML,Mi],Object.getOwnPropertyDescriptor(q.prototype,"startAudio"),q.prototype),ce(q.prototype,"stopAudio",[le,Z_,Mi],Object.getOwnPropertyDescriptor(q.prototype,"stopAudio"),q.prototype),ce(q.prototype,"muteAudio",[le,Y_,Mi],Object.getOwnPropertyDescriptor(q.prototype,"muteAudio"),q.prototype),ce(q.prototype,"unmuteAudio",[le,gu,Mi],Object.getOwnPropertyDescriptor(q.prototype,"unmuteAudio"),q.prototype),ce(q.prototype,"dialOut",[le,Nm,km],Object.getOwnPropertyDescriptor(q.prototype,"dialOut"),q.prototype),ce(q.prototype,"cancelDialOut",[le,EM,CM],Object.getOwnPropertyDescriptor(q.prototype,"cancelDialOut"),q.prototype),ce(q.prototype,"hangup",[le,gb,Mi],Object.getOwnPropertyDescriptor(q.prototype,"hangup"),q.prototype),ce(q.prototype,"switchMicrophone",[le,IM,Mi],Object.getOwnPropertyDescriptor(q.prototype,"switchMicrophone"),q.prototype),ce(q.prototype,"switchSpeaker",[le,_M,Mi],Object.getOwnPropertyDescriptor(q.prototype,"switchSpeaker"),q.prototype),ce(q.prototype,"muteShareAudio",[le,X_,wM,Mi],Object.getOwnPropertyDescriptor(q.prototype,"muteShareAudio"),q.prototype),ce(q.prototype,"unmuteShareAudio",[le,PL,DM,Mi],Object.getOwnPropertyDescriptor(q.prototype,"unmuteShareAudio"),q.prototype),ce(q.prototype,"subscribeAudioStatisticData",[le,ew,Mi],Object.getOwnPropertyDescriptor(q.prototype,"subscribeAudioStatisticData"),q.prototype),ce(q.prototype,"unsubscribeAudioStatisticData",[le,AM,Mi],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeAudioStatisticData"),q.prototype),ce(q.prototype,"enableBackgroundNoiseSuppression",[le,NL,Mi],Object.getOwnPropertyDescriptor(q.prototype,"enableBackgroundNoiseSuppression"),q.prototype),ce(q.prototype,"enableSyncButtonsOnHeadset",[le,tw,Mi],Object.getOwnPropertyDescriptor(q.prototype,"enableSyncButtonsOnHeadset"),q.prototype),ce(q.prototype,"enableOriginalSound",[le,TM,Mi],Object.getOwnPropertyDescriptor(q.prototype,"enableOriginalSound"),q.prototype),ce(q.prototype,"callCRCDevice",[le,RM,nw],Object.getOwnPropertyDescriptor(q.prototype,"callCRCDevice"),q.prototype),ce(q.prototype,"cancelCallCRCDevice",[le,OM,MM],Object.getOwnPropertyDescriptor(q.prototype,"cancelCallCRCDevice"),q.prototype),ce(q.prototype,"muteAllAudio",[Hn,le,Sa],Object.getOwnPropertyDescriptor(q.prototype,"muteAllAudio"),q.prototype),ce(q.prototype,"unmuteAllAudio",[Hn,le,PM],Object.getOwnPropertyDescriptor(q.prototype,"unmuteAllAudio"),q.prototype),ce(q.prototype,"startVideo",[le,kL,$n],Object.getOwnPropertyDescriptor(q.prototype,"startVideo"),q.prototype),ce(q.prototype,"stopVideo",[le,LL,$n],Object.getOwnPropertyDescriptor(q.prototype,"stopVideo"),q.prototype),ce(q.prototype,"switchCamera",[le,NM,$n],Object.getOwnPropertyDescriptor(q.prototype,"switchCamera"),q.prototype),ce(q.prototype,"renderVideo",[CV,le,mb,$n],Object.getOwnPropertyDescriptor(q.prototype,"renderVideo"),q.prototype),ce(q.prototype,"stopRenderVideo",[JM,le,rw,$n],Object.getOwnPropertyDescriptor(q.prototype,"stopRenderVideo"),q.prototype),ce(q.prototype,"updateVideoCanvasDimension",[QM,le,mu,$n],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoCanvasDimension"),q.prototype),ce(q.prototype,"adjustRenderedVideoPosition",[JM,le,ow,$n],Object.getOwnPropertyDescriptor(q.prototype,"adjustRenderedVideoPosition"),q.prototype),ce(q.prototype,"clearVideoCanvas",[QM,le,kM,$n],Object.getOwnPropertyDescriptor(q.prototype,"clearVideoCanvas"),q.prototype),ce(q.prototype,"mirrorVideo",[le,iw,$n],Object.getOwnPropertyDescriptor(q.prototype,"mirrorVideo"),q.prototype),ce(q.prototype,"enableHardwareAcceleration",[le,sw,$n],Object.getOwnPropertyDescriptor(q.prototype,"enableHardwareAcceleration"),q.prototype),ce(q.prototype,"subscribeVideoStatisticData",[le,LM,$n],Object.getOwnPropertyDescriptor(q.prototype,"subscribeVideoStatisticData"),q.prototype),ce(q.prototype,"unsubscribeVideoStatisticData",[le,vb,$n],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeVideoStatisticData"),q.prototype),ce(q.prototype,"previewVirtualBackground",[KM,le,xL,$n],Object.getOwnPropertyDescriptor(q.prototype,"previewVirtualBackground"),q.prototype),ce(q.prototype,"updateVirtualBackgroundImage",[le,xM,$n],Object.getOwnPropertyDescriptor(q.prototype,"updateVirtualBackgroundImage"),q.prototype),ce(q.prototype,"stopPreviewVirtualBackground",[le,aw,$n],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVirtualBackground"),q.prototype),ce(q.prototype,"previewVideoMask",[KM,le,FL,$n],Object.getOwnPropertyDescriptor(q.prototype,"previewVideoMask"),q.prototype),ce(q.prototype,"updateVideoMask",[le,VL,$n],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoMask"),q.prototype),ce(q.prototype,"stopPreviewVideoMask",[le,jL,$n],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVideoMask"),q.prototype),ce(q.prototype,"requestFarEndCameraControl",[le,UL,Ih],Object.getOwnPropertyDescriptor(q.prototype,"requestFarEndCameraControl"),q.prototype),ce(q.prototype,"approveFarEndCameraControl",[le,uw,Ih],Object.getOwnPropertyDescriptor(q.prototype,"approveFarEndCameraControl"),q.prototype),ce(q.prototype,"declineFarEndCameraControl",[le,Lm,Ih],Object.getOwnPropertyDescriptor(q.prototype,"declineFarEndCameraControl"),q.prototype),ce(q.prototype,"giveUpFarEndCameraControl",[le,FM,Ih],Object.getOwnPropertyDescriptor(q.prototype,"giveUpFarEndCameraControl"),q.prototype),ce(q.prototype,"controlCamera",[le,VM,Ih],Object.getOwnPropertyDescriptor(q.prototype,"controlCamera"),q.prototype),ce(q.prototype,"controlFarEndCamera",[le,BL,Ih],Object.getOwnPropertyDescriptor(q.prototype,"controlFarEndCamera"),q.prototype),ce(q.prototype,"attachVideo",[le,HL,$n],Object.getOwnPropertyDescriptor(q.prototype,"attachVideo"),q.prototype),ce(q.prototype,"detachVideo",[le,$L,$n],Object.getOwnPropertyDescriptor(q.prototype,"detachVideo"),q.prototype),ce(q.prototype,"spotlight",[Hn,le,GL,$n],Object.getOwnPropertyDescriptor(q.prototype,"spotlight"),q.prototype),ce(q.prototype,"removeSpotlight",[le,zL,$n],Object.getOwnPropertyDescriptor(q.prototype,"removeSpotlight"),q.prototype),ce(q.prototype,"removeAllSpotlights",[hr,le,cw,$n],Object.getOwnPropertyDescriptor(q.prototype,"removeAllSpotlights"),q.prototype),ce(q.prototype,"startShareView",[KM,le,xm,Ir],Object.getOwnPropertyDescriptor(q.prototype,"startShareView"),q.prototype),ce(q.prototype,"stopShareView",[le,jM,Ir],Object.getOwnPropertyDescriptor(q.prototype,"stopShareView"),q.prototype),ce(q.prototype,"switchShareView",[le,UM,Ir],Object.getOwnPropertyDescriptor(q.prototype,"switchShareView"),q.prototype),ce(q.prototype,"updateSharingCanvasDimension",[le,lw,Ir],Object.getOwnPropertyDescriptor(q.prototype,"updateSharingCanvasDimension"),q.prototype),ce(q.prototype,"startShareScreen",[le,kc,Ir],Object.getOwnPropertyDescriptor(q.prototype,"startShareScreen"),q.prototype),ce(q.prototype,"stopShareScreen",[le,dw,Ir],Object.getOwnPropertyDescriptor(q.prototype,"stopShareScreen"),q.prototype),ce(q.prototype,"pauseShareScreen",[le,yb,Ir],Object.getOwnPropertyDescriptor(q.prototype,"pauseShareScreen"),q.prototype),ce(q.prototype,"resumeShareScreen",[le,Sb,Ir],Object.getOwnPropertyDescriptor(q.prototype,"resumeShareScreen"),q.prototype),ce(q.prototype,"setSharePrivilege",[Hn,BM,le,Ir],Object.getOwnPropertyDescriptor(q.prototype,"setSharePrivilege"),q.prototype),ce(q.prototype,"lockShare",[Hn,bb,le,Ir],Object.getOwnPropertyDescriptor(q.prototype,"lockShare"),q.prototype),ce(q.prototype,"shareToBreakoutRoom",[le,Hn,Eb,Ir],Object.getOwnPropertyDescriptor(q.prototype,"shareToBreakoutRoom"),q.prototype),ce(q.prototype,"stopShareToBreakoutRoom",[le,Hn,Fm,Ir],Object.getOwnPropertyDescriptor(q.prototype,"stopShareToBreakoutRoom"),q.prototype),ce(q.prototype,"muteOthersScreenShare",[le,Hn,WL,Ir],Object.getOwnPropertyDescriptor(q.prototype,"muteOthersScreenShare"),q.prototype),ce(q.prototype,"enableOptimizeForSharedVideo",[le,qL,Ir],Object.getOwnPropertyDescriptor(q.prototype,"enableOptimizeForSharedVideo"),q.prototype),ce(q.prototype,"updateSharedVideoQuality",[le,KL,Ir],Object.getOwnPropertyDescriptor(q.prototype,"updateSharedVideoQuality"),q.prototype),ce(q.prototype,"subscribeShareStatisticData",[le,pw,Ir],Object.getOwnPropertyDescriptor(q.prototype,"subscribeShareStatisticData"),q.prototype),ce(q.prototype,"unsubscribeShareStatisticData",[le,HM,Ir],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeShareStatisticData"),q.prototype),ce(q.prototype,"requestRemoteControl",[le,$M,vu],Object.getOwnPropertyDescriptor(q.prototype,"requestRemoteControl"),q.prototype),ce(q.prototype,"giveUpRemoteControl",[le,GM,vu],Object.getOwnPropertyDescriptor(q.prototype,"giveUpRemoteControl"),q.prototype),ce(q.prototype,"startRemoteControl",[le,zM,vu],Object.getOwnPropertyDescriptor(q.prototype,"startRemoteControl"),q.prototype),ce(q.prototype,"grabRemotoControl",[le,hw,vu],Object.getOwnPropertyDescriptor(q.prototype,"grabRemotoControl"),q.prototype),ce(q.prototype,"updateRemoteControlViewportDimension",[le,fw,vu],Object.getOwnPropertyDescriptor(q.prototype,"updateRemoteControlViewportDimension"),q.prototype),ce(q.prototype,"approveRemoteControl",[le,gw,vu],Object.getOwnPropertyDescriptor(q.prototype,"approveRemoteControl"),q.prototype),ce(q.prototype,"declineRemoteControl",[le,WM,vu],Object.getOwnPropertyDescriptor(q.prototype,"declineRemoteControl"),q.prototype),ce(q.prototype,"stopRemoteControl",[le,qM,vu],Object.getOwnPropertyDescriptor(q.prototype,"stopRemoteControl"),q.prototype),ce(q.prototype,"launchRemoteControlApp",[le,mw,vu],Object.getOwnPropertyDescriptor(q.prototype,"launchRemoteControlApp"),q.prototype),q);var _r,_h,Vm,jm,vw,QL,ZM,JL,kn;const yu=wo("Audio"),ZL=wo("Sharing");let YM=(_r=Ie("share"),_h=Ie("audio"),Vm=Ie("audio"),jm=Ie("audio"),vw=Ie("audio"),QL=Ie("audio"),ZM=Ie("audio"),JL=Ie("audio"),kn=class extends IV{switchSharingSecondaryCamera(t){return((i,o)=>{const{store:{getState:a,dispatch:c},mediaAgent:l}=i,p=a(),{video:{cameraDevicesList:h},share:{status:g,isSharingWithSecondCamera:v}}=p;return"default"!==o&&-1===h.map(y=>y.deviceId).indexOf(o)?Promise.reject({type:Je,reason:"Cannot find cameraDeviceId in camera devices list."}):(g===_t.Sharing&&v&&l.changeSharingSecondCamera(o),c(ZA(o)),Promise.resolve())})(this[ue],t)}muteUserAudioLocally(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{locallyMutedAudioList:h}}=p,g=Zt(p).filter(v=>v.audio===xt.Computer);return h.includes(o)||-1===g.findIndex(v=>v.userId===o)||(a.muteOrUnmuteOtherAudio(o,!0),l($A(o))),Promise.resolve("")})(this[ue],t)}unmuteUserAudioLocally(t){return((i,o)=>{const{mediaAgent:a,store:{getState:c,dispatch:l}}=i,{audio:{locallyMutedAudioList:p}}=c();return p.includes(o)&&(a.muteOrUnmuteOtherAudio(o,!1),l(Cp(o))),Promise.resolve("")})(this[ue],t)}adjustUserAudioVolumeLocally(t,i){return((o,a,c)=>{const{mediaAgent:l,store:{getState:p,dispatch:h}}=o,g=p();return-1!==Zt(g).findIndex(v=>v.userId===a)&&(l.adjustOtherAudioVolume(a,c),h(rk({userId:a,volume:c}))),Promise.resolve("")})(this[ue],t,i)}muteAllUserAudioLocally(){return(t=>{const{mediaAgent:i,store:{getState:o,dispatch:a}}=t,{audio:{isStopAllImcomingAudio:c}}=o();return c||(i.stopAllIncomingAudio(!0),a(WA(!0))),Promise.resolve("")})(this[ue])}unmuteAllUserAudioLocally(){return(t=>{const{mediaAgent:i,store:{getState:o,dispatch:a}}=t,{audio:{isStopAllImcomingAudio:c,locallyMutedAudioList:l}}=o();return c&&(i.stopAllIncomingAudio(!1),a(WA(!1)),l.length>0&&l.forEach(p=>{i.muteOrUnmuteOtherAudio(p,!1),a(Cp(p))})),Promise.resolve("")})(this[ue])}startSecondaryAudio(t,i){return(o=Oe(function*(a,c,l){const{mediaAgent:p,rwgAgent:h,store:{getState:g,dispatch:v}}=a,y=g(),{audio:{microphoneDevicesList:b,activeMicrophone:E},share:{status:I}}=y,w=Fe(y);if(!Ye.isSupportShare2ndAudioDevice(mr()))return Promise.reject({type:oe,reason:"Cannot start secondary audio due to platform is not supported"});if(w?.audio===xt.Computer&&E===c)return Promise.reject({type:oe,reason:"Cannot start secondary audio with the same microphone"});if(I!==_t.End)return Promise.reject({type:oe,reason:"Cannot start secondary audio while screen sharing is in progress"});let _=b;if(0===b.length){const{microphones:A}=yield ar(Yt());_=A}return c&&-1===_.findIndex(A=>A.deviceId===c)?Promise.reject({type:Je,reason:"Cannot find the microphone"}):(h.muteShareAudio(!1,!0),p.share2ndAudio(c,l),v(Zf(c)),Ge(uA))}),function(a,c,l){return o.apply(this,arguments)})(this[ue],t,i);var o}stopSecondaryAudio(){return function(){var t=Oe(function*(i){const{mediaAgent:o,rwgAgent:a,store:{getState:c,dispatch:l}}=i,p=c(),{audio:{secondaryAudioMicrophoneId:h}}=p;if(!h)return Promise.reject({type:oe,reason:"Cannot stop secondary audio due to not started "});a.muteShareAudio(!0,!0),o.leaveSharingAudio(!1),l(Zf(void 0))});return function(i){return t.apply(this,arguments)}}()(this[ue])}isUserAudioMutedLocally(t){return((i,o)=>{let{store:{getState:a}}=i;const{audio:{locallyMutedAudioList:c}}=a();return c.includes(o)})(this[ue],t)}getUserVolumeLocally(t){return((i,o)=>{var a,c;let{store:{getState:l}}=i;const{audio:{localUserAudioVolumeList:p,locallyMutedAudioList:h}}=l();return null!==(a=null===(c=p.find(g=>g.userId===o))||void 0===c?void 0:c.volume)&&void 0!==a?a:h.includes(o)?0:100})(this[ue],t)}},ce(kn.prototype,"switchSharingSecondaryCamera",[le,_r,ZL],Object.getOwnPropertyDescriptor(kn.prototype,"switchSharingSecondaryCamera"),kn.prototype),ce(kn.prototype,"muteUserAudioLocally",[le,_h,yu],Object.getOwnPropertyDescriptor(kn.prototype,"muteUserAudioLocally"),kn.prototype),ce(kn.prototype,"unmuteUserAudioLocally",[le,Vm,yu],Object.getOwnPropertyDescriptor(kn.prototype,"unmuteUserAudioLocally"),kn.prototype),ce(kn.prototype,"adjustUserAudioVolumeLocally",[le,jm,yu],Object.getOwnPropertyDescriptor(kn.prototype,"adjustUserAudioVolumeLocally"),kn.prototype),ce(kn.prototype,"muteAllUserAudioLocally",[le,vw,yu],Object.getOwnPropertyDescriptor(kn.prototype,"muteAllUserAudioLocally"),kn.prototype),ce(kn.prototype,"unmuteAllUserAudioLocally",[le,QL,yu],Object.getOwnPropertyDescriptor(kn.prototype,"unmuteAllUserAudioLocally"),kn.prototype),ce(kn.prototype,"startSecondaryAudio",[le,ZM,yu],Object.getOwnPropertyDescriptor(kn.prototype,"startSecondaryAudio"),kn.prototype),ce(kn.prototype,"stopSecondaryAudio",[le,JL,yu],Object.getOwnPropertyDescriptor(kn.prototype,"stopSecondaryAudio"),kn.prototype),kn);const Um={controlStatus:dt.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:yp.Automatically,currentRoom:{status:je.Initial,boStatus:PA.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMovetoMainSession:!1,isRoomSelectionEnabled:!1},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1,isEnableBOViewActivityStatus:!1,inRoomUserActivityStatusMap:{},isEnableBOBroadcastVoice:!1,isBroadcastVoice:!1},XM=gr({[`${ET}`]:B((t,i)=>{let{payload:o}=i;Array.isArray(o)?t.rooms.push(...o):t.rooms.push(o)}),[`${mC}`]:B((t,i)=>{let{payload:o}=i;t.allocationPattern=o}),[`${tS}`]:B((t,i)=>{let{payload:o}=i;t.sequenceId=o}),[`${nS}`]:B((t,i)=>{let{payload:o}=i;t.meetingElapsedTime=o}),[`${mg}`]:B((t,i)=>{let{payload:o}=i;t.startRoomElapsedTime=o}),[`${CT}`]:B((t,i)=>{let{payload:o}=i;const{options:a}=t;Object.assign(a,o)}),[`${yk}`]:B((t,i)=>{let{payload:o}=i;t.controlStatus=o}),[`${vg}`]:B((t,i)=>{let{payload:o}=i;t.rooms=o}),[`${rS}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;Object.assign(a,o)}),[`${sc}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.status=o}),[`${vC}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.boConfId=o}),[`${yC}`]:B((t,i)=>{let{payload:o}=i;const{currentRoom:a}=t;a.boToken=o}),[`${yg}`]:B((t,i)=>{let{payload:o}=i;t.closingRoomTime=o}),[`${bC}`]:B((t,i)=>{let{payload:o}=i;t.broadcastMessage=o}),[`${Bl}`]:B((t,i)=>{let{payload:o}=i;t.hostReplyToQuestionerType=o}),[`${Op}`]:B((t,i)=>{let{payload:o}=i;t.hostReplyToRequestId=o}),[`${aa}`]:B((t,i)=>{let{payload:o}=i;void 0!==o.add&&o.add.length>0&&o.add.forEach(a=>{const c=t.mainSessionAttendeeList.find(l=>l.userId===a.userId);void 0!==c?Object.assign(c,a):z0(a.userRole)||t.mainSessionAttendeeList.push(a)}),void 0!==o.update&&o.update.length>0&&o.update.forEach(a=>{const c=t.mainSessionAttendeeList.find(l=>l.userId===a.userId);void 0!==c&&Object.assign(c,a)}),void 0!==o.remove&&o.remove.length>0&&o.remove.forEach(a=>{const c=t.mainSessionAttendeeList.findIndex(l=>l.userId===a.userId);-1!==c&&t.mainSessionAttendeeList.splice(c,1)})}),[`${IT}`]:B((t,i)=>{let{payload:o}=i;t.isHugeBO=o}),[`${CC}`]:B((t,i)=>{let{payload:o}=i;t.isUserRoleUpdated=o}),[`${EC}`]:B((t,i)=>{let{payload:o}=i;t.preAssignedRooms=o}),[`${Sg}`]:B((t,i)=>{let{payload:o}=i;t.isEnableBreakoutRoom=o.isEnableBreakoutRoom,t.isEnableBOBroadcast=o.isEnableBOBroadcast,t.isEnableBOViewActivityStatus=o.isEnableBOViewActivityStatus,t.isEnableBOBroadcastVoice=o.isEnableBOBroadcastVoice}),[`${oS}`]:B((t,i)=>{let{payload:o}=i;const{userGuid:a,status:c}=o,{inRoomUserActivityStatusMap:l}=t;l[`${a}`]=c}),[`${iS}`]:B((t,i)=>{let{payload:o}=i;t.isBroadcastVoice=o}),[`${SC}`]:t=>{const{currentRoom:{status:i}}=t;return i===je.Joining?{...Um,preAssignedRooms:t.preAssignedRooms,currentRoom:t.currentRoom,closingRoomTime:t.closingRoomTime}:i===je.Leaving?{...Um,preAssignedRooms:t.preAssignedRooms,closingRoomTime:t.closingRoomTime}:{...Um,preAssignedRooms:t.preAssignedRooms}}},Um);var Fr=Uint8Array,ni=Uint16Array,Cb=Uint32Array,Bm=new Fr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ib=new Fr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_b=new Fr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hm=function(t,i){for(var o=new ni(31),a=0;a<31;++a)o[a]=i+=1<<t[a-1];var c=new Cb(o[30]);for(a=1;a<30;++a)for(var l=o[a];l<o[a+1];++l)c[l]=l-o[a]<<5|a;return[o,c]},wh=Hm(Bm,2),yd=wh[0],wb=wh[1];yd[28]=258,wb[258]=28;for(var YL=Hm(Ib,0),_V=YL[0],XL=YL[1],yw=new ni(32768),Ln=0;Ln<32768;++Ln){var Dh=(43690&Ln)>>>1|(21845&Ln)<<1;Dh=(61680&(Dh=(52428&Dh)>>>2|(13107&Dh)<<2))>>>4|(3855&Dh)<<4,yw[Ln]=((65280&Dh)>>>8|(255&Dh)<<8)>>>1}var Fs=function(t,i,o){for(var a=t.length,c=0,l=new ni(i);c<a;++c)t[c]&&++l[t[c]-1];var p,h=new ni(i);for(c=0;c<i;++c)h[c]=h[c-1]+l[c-1]<<1;if(o){p=new ni(1<<i);var g=15-i;for(c=0;c<a;++c)if(t[c])for(var v=c<<4|t[c],y=i-t[c],b=h[t[c]-1]++<<y,E=b|(1<<y)-1;b<=E;++b)p[yw[b]>>>g]=v}else for(p=new ni(a),c=0;c<a;++c)t[c]&&(p[c]=yw[h[t[c]-1]++]>>>15-t[c]);return p},Su=new Fr(288);for(Ln=0;Ln<144;++Ln)Su[Ln]=8;for(Ln=144;Ln<256;++Ln)Su[Ln]=9;for(Ln=256;Ln<280;++Ln)Su[Ln]=7;for(Ln=280;Ln<288;++Ln)Su[Ln]=8;var Db=new Fr(32);for(Ln=0;Ln<32;++Ln)Db[Ln]=5;var Sw=Fs(Su,9,0),wV=Fs(Su,9,1),DV=Fs(Db,5,0),AV=Fs(Db,5,1),bw=function(t){for(var i=t[0],o=1;o<t.length;++o)t[o]>i&&(i=t[o]);return i},ba=function(t,i,o){var a=i/8|0;return(t[a]|t[a+1]<<8)>>(7&i)&o},Ew=function(t,i){var o=i/8|0;return(t[o]|t[o+1]<<8|t[o+2]<<16)>>(7&i)},Cw=function(t){return(t+7)/8|0},Iw=function(t,i,o){(null==i||i<0)&&(i=0),(null==o||o>t.length)&&(o=t.length);var a=new(2==t.BYTES_PER_ELEMENT?ni:4==t.BYTES_PER_ELEMENT?Cb:Fr)(o-i);return a.set(t.subarray(i,o)),a},eP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ea=function(t,i,o){var a=new Error(i||eP[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,Ea),!o)throw a;return a},Lc=function(t,i,o){var a=i/8|0;t[a]|=o<<=7&i,t[a+1]|=o>>>8},$m=function(t,i,o){var a=i/8|0;t[a]|=o<<=7&i,t[a+1]|=o>>>8,t[a+2]|=o>>>16},Ab=function(t,i){for(var o=[],a=0;a<t.length;++a)t[a]&&o.push({s:a,f:t[a]});var c=o.length,l=o.slice();if(!c)return[Tb,0];if(1==c){var p=new Fr(o[0].s+1);return p[o[0].s]=1,[p,1]}o.sort(function($,V){return $.f-V.f}),o.push({s:-1,f:25001});var h=o[0],g=o[1],v=0,y=1,b=2;for(o[0]={s:-1,f:h.f+g.f,l:h,r:g};y!=c-1;)h=o[o[v].f<o[b].f?v++:b++],g=o[v!=y&&o[v].f<o[b].f?v++:b++],o[y++]={s:-1,f:h.f+g.f,l:h,r:g};var E=l[0].s;for(a=1;a<c;++a)l[a].s>E&&(E=l[a].s);var I=new ni(E+1),w=tP(o[y-1],I,0);if(w>i){a=0;var _=0,A=w-i,T=1<<A;for(l.sort(function($,V){return I[V.s]-I[$.s]||$.f-V.f});a<c;++a){var M=l[a].s;if(!(I[M]>i))break;_+=T-(1<<w-I[M]),I[M]=i}for(_>>>=A;_>0;){var P=l[a].s;I[P]<i?_-=1<<i-I[P]++-1:++a}for(;a>=0&&_;--a){var N=l[a].s;I[N]==i&&(--I[N],++_)}w=i}return[new Fr(I),w]},tP=function(t,i,o){return-1==t.s?Math.max(tP(t.l,i,o+1),tP(t.r,i,o+1)):i[t.s]=o},nP=function(t){for(var i=t.length;i&&!t[--i];);for(var o=new ni(++i),a=0,c=t[0],l=1,p=function(g){o[a++]=g},h=1;h<=i;++h)if(t[h]==c&&h!=i)++l;else{if(!c&&l>2){for(;l>138;l-=138)p(32754);l>2&&(p(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(p(c),--l;l>6;l-=6)p(8304);l>2&&(p(l-3<<5|8208),l=0)}for(;l--;)p(c);l=1,c=t[h]}return[o.subarray(0,a),i]},Gm=function(t,i){for(var o=0,a=0;a<i.length;++a)o+=t[a]*i[a];return o},rP=function(t,i,o){var a=o.length,c=Cw(i+2);t[c]=255&a,t[c+1]=a>>>8,t[c+2]=255^t[c],t[c+3]=255^t[c+1];for(var l=0;l<a;++l)t[c+l+4]=o[l];return 8*(c+4+a)},oP=function(t,i,o,a,c,l,p,h,g,v,y){Lc(i,y++,o),++c[256];for(var b=Ab(c,15),E=b[0],I=b[1],w=Ab(l,15),_=w[0],A=w[1],T=nP(E),M=T[0],P=T[1],N=nP(_),$=N[0],V=N[1],L=new ni(19),Q=0;Q<M.length;++Q)L[31&M[Q]]++;for(Q=0;Q<$.length;++Q)L[31&$[Q]]++;for(var Y=Ab(L,7),z=Y[0],j=Y[1],O=19;O>4&&!z[_b[O-1]];--O);var k,H,U,K,re=v+5<<3,te=Gm(c,Su)+Gm(l,Db)+p,me=Gm(c,E)+Gm(l,_)+p+14+3*O+Gm(L,z)+(2*L[16]+3*L[17]+7*L[18]);if(re<=te&&re<=me)return rP(i,y,t.subarray(g,g+v));if(Lc(i,y,1+(me<te)),y+=2,me<te){k=Fs(E,I,0),H=E,U=Fs(_,A,0),K=_;var Ne=Fs(z,j,0);for(Lc(i,y,P-257),Lc(i,y+5,V-1),Lc(i,y+10,O-4),y+=14,Q=0;Q<O;++Q)Lc(i,y+3*Q,z[_b[Q]]);y+=3*O;for(var De=[M,$],Ue=0;Ue<2;++Ue){var Be=De[Ue];for(Q=0;Q<Be.length;++Q){var ke=31&Be[Q];Lc(i,y,Ne[ke]),y+=z[ke],ke>15&&(Lc(i,y,Be[Q]>>>5&127),y+=Be[Q]>>>12)}}}else k=Sw,H=Su,U=DV,K=Db;for(Q=0;Q<h;++Q)if(a[Q]>255){$m(i,y,k[257+(ke=a[Q]>>>18&31)]),y+=H[ke+257],ke>7&&(Lc(i,y,a[Q]>>>23&31),y+=Bm[ke]);var xe=31&a[Q];$m(i,y,U[xe]),y+=K[xe],xe>3&&($m(i,y,a[Q]>>>5&8191),y+=Ib[xe])}else $m(i,y,k[a[Q]]),y+=H[a[Q]];return $m(i,y,k[256]),y+H[256]},TV=new Cb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tb=new Fr(0),iP=function(){for(var t=new Int32Array(256),i=0;i<256;++i){for(var o=i,a=9;--a;)o=(1&o&&-306674912)^o>>>1;t[i]=o}return t}(),Rb=function(t,i,o){for(;o;++i)t[i]=o,o>>>=8};var sP=typeof TextEncoder<"u"&&new TextEncoder,aP=typeof TextDecoder<"u"&&new TextDecoder;try{aP.decode(Tb,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:_w,WebclientBreakoutRoomCommand:OV}=Rt,uP=_o(Ye.getInstance());function Vs(t,i){let o=0;for(;o<t.length;o++){const a=t[o],{attendeeGuidList:c}=a;if(null!=c&&c.includes(i))break}return o<t.length?t[o]:void 0}function zm(){rt.remove(_w),rt.remove(OV)}function ww(){return Ot.createAgent().leaveBO(1),F(So,{reason:nr.BackToMainSession}),zm(),[sc(je.Leaving),er(zt.NormalCase)]}function Dw(t,i){return F(So,{reason:nr.JoinBreakoutRoom,roomName:t}),i===je.InRoom&&Ot.createAgent().leaveBO(1),[sc(je.Joining),er(zt.NormalCase)]}function cP(t){return F(So,{reason:nr.MoveToBreakoutRoom,roomName:t}),Ot.createAgent().leaveBO(1),[sc(je.Joining),er(zt.NormalCase)]}function Ob(t){return t!==je.InRoom&&t!==je.Joining&&t!==je.Leaving}function Wm(t){const i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?je.InRoom:je.Invited;return rt.set(_w,JSON.stringify({status:i,boId:t.boId}),Tt.SessionStorage),rS({status:i,boId:t.boId,name:t.name,boStatus:t.boStatus})}function Aw(t){const{breakoutRoom:{isUserRoleUpdated:i,currentRoom:{boConfId:o}}}=t.value,a=Fe(t.value);return a&&(!o||o&&i)?Vt(a.isHost):(o?Mt(xf,1):Mt(xa,1).pipe(se(l=>Ey(l.userRole)?ve([1]):Ho(Mt(Br).pipe(ne(p=>void 0!==p.userRole||void 0!==p.bVideoConnect),bt(1)),Mt(mf).pipe(ne(p=>p.some(h=>Ey(h.userRole))),bt(1)),Rn(3e3))))).pipe($t(Md),Pe(t),ye(l=>{let[,p]=l;return Fe(p).isHost}))}function Mb(t){return TE({boIdList:Mt(Pf).pipe(OF((i,o)=>[...i,o],[]),bt(t))}).pipe(eN(1e4))}const lP=[{mask:Cy.Connect,key:"audio",value:""},{mask:Cy.Voip,key:"audio",value:"computer"},{mask:Cy.Muted,key:"muted",value:!0},{mask:W0.Connect,key:"bVideoOn",value:!1},{mask:W0.On,key:"bVideoOn",value:!0},{mask:q0.Share,key:"sharerOn",value:!0},{mask:q0.ShareAudio,key:"bShareAudioOn",value:!0}];function ex(t,i){const o=(cs(i)?i.breakoutRoom.mainSessionAttendeeList:i.participants.attendeesList).find(a=>a.userId===Number(t));return o?{inviterId:o.userId,inviterGuid:o.userGUID,inviterName:o.displayName}:{}}const js=Ot.createAgent(),qm=["userRole","bCoHost","bCCEditor","bHold"],dP=Ot.createAgent(),pP=_o(Ye.getInstance());var gt;const sr=Ot.createAgent(),Km=_o(Ye.getInstance()),ri=wo("Breakout Room");let tx=(ce((gt=class extends us{createRooms(t,i){const o=this[we](),a=this[_n],{breakoutRoom:{isHugeBO:c,sequenceId:l,rooms:p,controlStatus:h,isEnableBreakoutRoom:g}}=o;if(!g)return Promise.reject({type:oe,reason:"Breakout room feature is not enabled."});if(h===dt.InProgress||h===dt.Closing)return Promise.resolve({type:oe,reason:"breakout room has started!"});let v;return v="string"==typeof t?[t]:"number"==typeof t?Array.from({length:t}).map((b,E)=>`${NA} ${E+l}`):t,v.length<1||p.length+v.length>(c?100:50)?Promise.reject({type:Je,reason:"exceed maximum size"}):(sr.batchCreateBOToken(v),new Promise((b,E)=>{Mb(v.length).subscribe(I=>{let{boIdList:w}=I,_=w.map((T,M)=>({boId:T,name:v[M]}));if(i===yp.Automatically){const T=T_(o),M=_.length,P=T.length;_=_.map((N,$)=>{const V=[];let L=$;for(;L<P;)V.push(T[L]),L+=M;return{...N,attendeeList:V}})}const A=_.map(T=>{let{boId:M,name:P,attendeeList:N}=T;return{boId:M,name:P,attendeeGuidList:N&&N.map($=>$.userGUID)}});if(a(ET(A)),a(mC(i)),a(tS(l+_.length)),i===yp.Automatically){const T=_.map(M=>({roomId:M.boId,name:M.name,attendeeList:M.attendeeList.map(P=>({userId:P.userId,avatar:P.avatar,displayName:P.displayName}))}));b(T)}else b(_.map(T=>({roomId:T.boId,name:T.name,attendeeList:[]})))},()=>{E({type:Cs})})}))}recreateRooms(t,i){const o=this[we](),a=this[_n],{breakoutRoom:{isHugeBO:c,sequenceId:l,rooms:p,controlStatus:h,isEnableBreakoutRoom:g}}=o;if(!g)return Promise.reject({type:oe,reason:"Breakout room feature is not enabled."});if(h===dt.InProgress||h===dt.Closing)return Promise.resolve({type:oe,reason:"breakout room has started!"});let v;return v="string"==typeof t?[t]:"number"==typeof t?Array.from({length:t}).map((b,E)=>`${NA} ${E+l}`):t,v.length<1||p.length+v.length>(c?100:50)?Promise.reject({type:Je,reason:"exceed maximum size"}):(sr.batchCreateBOToken(v),new Promise((b,E)=>{Mb(v.length).subscribe(I=>{let{boIdList:w}=I,_=w.map((T,M)=>({boId:T,name:v[M]}));if(i===yp.Automatically){const T=_.length,M=oL(o),P=M.length;_=_.map((N,$)=>{const V=[];let L=$;for(;L<P;)V.push(M[L]),L+=T;return{...N,attendeeList:V}})}const A=_.map(T=>{let{boId:M,name:P,attendeeList:N}=T;return{boId:M,name:P,attendeeGuidList:N&&N.map($=>$.userGUID)}});if(a(vg(A)),a(mC(i)),a(tS(l+_.length)),i===yp.Automatically){const T=_.map(M=>({roomId:M.boId,name:M.name,attendeeList:M.attendeeList.map(P=>({userId:P.userId,avatar:P.avatar,displayName:P.displayName}))}));b(T)}else b(_.map(T=>({roomId:T.boId,name:T.name,attendeeList:[]})))},()=>{E({type:Cs})})}))}openRooms(t,i){var o;const a=this[we](),c={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},{breakoutRoom:{controlStatus:l,rooms:p,sequenceId:h,isHugeBO:g}}=a;if(l===dt.InProgress||l===dt.Closing)return Promise.resolve({type:oe,reason:"breakout room has started!"});if(t.some(w=>-1===p.findIndex(_=>_.boId===w.roomId)))return Promise.reject({type:Je,reason:"roomId is wrong"});const v=Zt(a);if(t.reduce((w,_)=>w.concat(_.attendeeList),[]).some(w=>-1===v.findIndex(_=>_.userId===w.userId)))return Promise.reject({type:Je,reason:"bad user"});const y=t.map(w=>{const{attendeeList:_}=w,A=_.map(T=>{const M=v.find(P=>P.userId===T.userId);return M?.userGUID});return{BID:w.roomId,MeetingTitle:w.name,MeetingToken:void 0,Status:PA.Started,HostID:"",ParticipantList:A}}),b=i?{...c,...i}:c;let I=zE(JSON.stringify({ControlStatus:dt.InProgress,NameIndex:h,IsAutoJoinEnabled:+b.isAutoJoinRoom,IsBackToMainSessionEnabled:+b.isBackToMainSessionEnabled,IsTimerEnabled:+b.isTimerEnabled,TimerDuration:b.timerDuration,IsTimerAutoEndEnabled:+b.isTimerAutoEnabled,WaitSeconds:b.waitSeconds<0?0:b.waitSeconds,StartTimeOnMMR:void 0,ItemList:y,IsAutoMovetoMainSessionEnabled:b.isAutoMoveBackToMainSession,IsParticipantsChooseRoomEnabled:+b.isRoomSelectionEnabled}));if(g&&(I=al.fromUint8Array(function RV(t,i){i||(i={});var o=function(){var p=-1;return{p:function(h){for(var g=p,v=0;v<h.length;++v)g=iP[255&g^h[v]]^g>>>8;p=g},d:function(){return~p}}}(),a=t.length;o.p(t);var p,c=function(p,h,g,v,y){return function(b,E,I,w,_,A){var T=b.length,M=new Fr(w+T+5*(1+Math.ceil(T/7e3))+8),P=M.subarray(w,M.length-8),N=0;if(!E||T<8)for(var $=0;$<=T;$+=65535){var V=$+65535;V>=T&&(P[N>>3]=A),N=rP(P,N+1,b.subarray($,V))}else{for(var L=TV[E-1],Q=L>>>13,Y=8191&L,z=(1<<I)-1,j=new ni(32768),O=new ni(z+1),k=Math.ceil(I/3),H=2*k,U=function(Bt){return(b[Bt]^b[Bt+1]<<k^b[Bt+2]<<H)&z},K=new Cb(25e3),re=new ni(288),te=new ni(32),me=0,Ne=0,De=($=0,0),Ue=0,Be=0;$<T;++$){var ke=U($),xe=32767&$,tt=O[ke];if(j[xe]=tt,O[ke]=xe,Ue<=$){var Nt=T-$;if((me>7e3||De>24576)&&Nt>423){N=oP(b,P,0,K,re,te,Ne,De,Be,$-Be,N),De=me=Ne=0,Be=$;for(var mt=0;mt<286;++mt)re[mt]=0;for(mt=0;mt<30;++mt)te[mt]=0}var X=2,Z=0,W=Y,ae=xe-tt&32767;if(Nt>2&&ke==U($-ae))for(var Ce=Math.min(Q,Nt)-1,Le=Math.min(32767,$),He=Math.min(258,Nt);ae<=Le&&--W&&xe!=tt;){if(b[$+X]==b[$+X-ae]){for(var nt=0;nt<He&&b[$+nt]==b[$+nt-ae];++nt);if(nt>X){if(X=nt,Z=ae,nt>Ce)break;var st=Math.min(ae,nt-2),vt=0;for(mt=0;mt<st;++mt){var ct=$-ae+mt+32768&32767,pt=ct-j[ct]+32768&32767;pt>vt&&(vt=pt,tt=ct)}}}ae+=(xe=tt)-(tt=j[xe])+32768&32767}if(Z){K[De++]=268435456|wb[X]<<18|XL[Z];var Xt=31&wb[X],en=31&XL[Z];Ne+=Bm[Xt]+Ib[en],++re[257+Xt],++te[en],Ue=$+X,++me}else K[De++]=b[$],++re[b[$]]}}N=oP(b,P,A,K,re,te,Ne,De,Be,$-Be,N)}return Iw(M,0,w+Cw(N)+8)}(p,null==h.level?6:h.level,null==h.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(p.length)))):12+h.mem,g,0,!0)}(t,i,10+((p=i).filename&&p.filename.length+1||0)),l=c.length;return function(p,h){var g=h.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=h.level<2?4:9==h.level?2:0,p[9]=3,0!=h.mtime&&Rb(p,4,Math.floor(new Date(h.mtime||Date.now())/1e3)),g){p[3]=8;for(var v=0;v<=g.length;++v)p[v+10]=g.charCodeAt(v)}}(c,i),Rb(c,l-8,o.d()),Rb(c,l-4,a),c}(function(_,A){var T;if(sP)return sP.encode(_);var M=_.length,P=new Fr(_.length+(_.length>>1)),N=0,$=function(Q){P[N++]=Q};for(T=0;T<M;++T){if(N+5>P.length){var V=new Fr(N+8+(M-T<<1));V.set(P),P=V}var L=_.charCodeAt(T);L<128?$(L):L<2048?($(192|L>>6),$(128|63&L)):L>55295&&L<57344?($(240|(L=65536+(1047552&L)|1023&_.charCodeAt(++T))>>18),$(128|L>>12&63),$(128|L>>6&63),$(128|63&L)):($(224|L>>12),$(128|L>>6&63),$(128|63&L))}return Iw(P,0,N)}(I)))),null!==(o=Fe(a))&&void 0!==o&&o.isHost)sr.startBO(I);else{const w=va(a);w&&sr.coHostStartBO(I,w.userId)}return Ge(Is,w=>w.controlStatus===dt.InProgress)}joinRoom(t){const i=this[we](),o=Fe(i),{breakoutRoom:{controlStatus:a,rooms:c,options:{isRoomSelectionEnabled:p},currentRoom:{status:h,boId:g}},meeting:{userGUID:v}}=i;if(a!==dt.InProgress)return Promise.reject({type:wl,reason:"Breakout room is not started"});if(null!=o&&o.isHost){const y=c.find(b=>b.boId===t);if(!y)return Promise.reject({type:Je,reason:"Room ID is not correct"});sr.joinBO(y.boId)}else if(null!=o&&o.bCoHost){if(!c.find(b=>b.boId===t))return Promise.reject({type:Je,reason:"Room ID is not correct"});{const b=va(i);b&&sr.wantJoinBO(b?.userId,t)}}else{if(h===je.InRoom&&g===t)return Promise.resolve("");{let y=!1;const b=Vs(c,v);if(b&&b.boId===t)sr.joinBO(b.boId);else if(p)if(-1!==c.findIndex(E=>E.boId===t)){const E=va(i);E&&sr.wantJoinBO(E.userId,t)}else y=!0;else y=!0;if(y)return Promise.reject({type:Je,reason:"Room ID is not correct"})}}return Ge(Al,y=>y.boId===t)}leaveRoom(){const t=this[we](),i=this[_n],{breakoutRoom:{controlStatus:o,options:a,currentRoom:{status:c}}}=t;if(o!==dt.InProgress&&o!==dt.Closing||c!==je.InRoom)return Promise.reject({type:oe});{const l=Co(t);if(!a.isBackToMainSessionEnabled&&!l)return Promise.reject({type:$r,reason:"Can not return main session during the breakout room"});ww().forEach(p=>i(p))}return Promise.resolve("")}askForHelp(){const t=this[we](),{breakoutRoom:{controlStatus:i,mainSessionAttendeeList:o,currentRoom:{status:a}},participants:{attendeesList:c}}=t,l=Co(t);if(i!==dt.InProgress||a!==je.InRoom)return Promise.reject({type:oe,reason:"you are not in breakout room"});if(l)return Promise.reject({type:oe,reason:"host or co-host can not ask for help"});{const p=o.find(h=>h.isHost);if(p){if(c.findIndex(h=>h.zoomID===p.zoomID)>-1)return Promise.reject({type:oe,reason:"host is in room"});sr.askForHelpBO(p.userId)}}return Ge(Lf,p=>p.result===_s.Received)}postponeHelping(t){const i=this[we](),o=this[_n],{breakoutRoom:{mainSessionAttendeeList:a,currentRoom:{status:c}},participants:{attendeesList:l}}=i;let p=l;return c===je.InRoom&&(p=a),p.findIndex(h=>h.userId===t)>-1?(sr.askForHelpResultBO(t,_s.Ignore),o(Bl(_s.Ignore)),Promise.resolve("")):Promise.reject({type:Je,reason:"user id is not correct"})}broadcast(t){const{breakoutRoom:{isEnableBOBroadcast:i}}=this[we]();return i?t?Oo.beginEncrypt({text:t,type:Jr.BO_BROADCAST}).then(o=>(sr.broadcastBO(o),Promise.resolve(""))):Promise.reject({type:Je,reason:"content empty"}):Promise.reject({type:oe,reason:"Cannot broadcast message due to the feature is not enable"})}startBroadcastVoice(){const t=this[we](),i=this[_n],{breakoutRoom:{isEnableBOBroadcast:o,isEnableBOBroadcastVoice:a,isBroadcastVoice:c}}=t;if(o&&a){if(cs(t))return Promise.reject({type:oe,reason:"Cannot broadcast voice in the room"});{if(c)return Promise.resolve("");const l=Fe(t);return l?.audio===xt.Computer&&!1===l.muted?(sr.broadcastVoiceReq(!0),Km.broadcastVoiceToBreakoutRoom(!0),i(iS(!0)),Promise.resolve("")):Promise.reject({type:oe,reason:"Start audio and unmute to broadcast"})}}return Promise.reject({type:oe,reason:"Cannot broadcast voice due to the feature is not enable"})}stopBroadcastVoice(){const t=this[we](),i=this[_n],{breakoutRoom:{isBroadcastVoice:o}}=t;return o?(sr.broadcastVoiceReq(!1),Km.broadcastVoiceToBreakoutRoom(!1),i(iS(!1)),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot stop broadcast voice due to it is not started"})}assignUserToRoom(t,i){const o=this[we](),{breakoutRoom:{rooms:a}}=o,c=T_(o).find(p=>p.userId===t);if(!(c&&a.findIndex(p=>p.boId===i)>-1))return Promise.reject({type:Je,reason:""});var l;if(null!==(l=Fe(o))&&void 0!==l&&l.isHost)sr.assignToBO(t,i);else{const p=va(o);p&&sr.coHostAssignToBO(c.userGUID,i,p.userId)}return Ge(Is,p=>{const{controlStatus:h,roomList:g}=p,v=g.find(y=>y.boId===i);return h===dt.InProgress&&v&&v.attendeeGuidList.includes(c.userGUID)})}moveUserToRoom(t,i){const o=this[we](),{breakoutRoom:{rooms:a,mainSessionAttendeeList:c},participants:{attendeesList:l}}=o,p=(cs(o)?c:l).find(g=>g.userId===t);if(!p)return Promise.reject({type:Je,reason:"user id not correct"});{const g=Vs(a,p.userGUID);if(!g)return Promise.reject({type:oe,reason:"user not in a room"});if(g.boId===i)return Promise.reject({type:oe,reason:"user already in the target room"});{const v=a.find(y=>y.boId===i);if(!v)return Promise.reject({type:Je,reason:"invalid room id"});var h;if(null!==(h=Fe(o))&&void 0!==h&&h.isHost)sr.switchBO(t,v.boId);else{const y=va(o);y&&sr.coHostAssignToBO(p.userGUID,v.boId,y.userId)}}}return Ge(Is,g=>{const{controlStatus:v,roomList:y}=g,b=y.find(E=>E.boId===i);return v===dt.InProgress&&b&&b.attendeeGuidList.includes(p.userGUID)})}moveBackToMainSession(t){const i=this[we](),{breakoutRoom:{rooms:o,mainSessionAttendeeList:a},participants:{attendeesList:c}}=i,l=(cs(i)?a:c).find(h=>h.userId===t);if(!l)return Promise.reject({type:Je,reason:"user id not correct"});if(!Vs(o,l.userGUID))return Promise.reject({type:oe,reason:"user not in a room"});var p;if(null!==(p=Fe(i))&&void 0!==p&&p.isHost)sr.moveToMainSession(l.userGUID);else{const h=va(i);h&&sr.coHostMoveToMainSession(l.userGUID,h.userId)}return Ge(Is,h=>{const{controlStatus:g,roomList:v}=h;return g===dt.InProgress&&v.some(y=>{const{attendeeGuidList:b}=y;return b.includes(l.userGUID)})})}closeRoom(){const t=this[we](),{breakoutRoom:{controlStatus:i}}=t;if(i!==dt.InProgress)return Promise.reject({type:oe,reason:"room is not started"});var o;if(null!==(o=Fe(t))&&void 0!==o&&o.isHost)sr.stopBO(dt.Closing);else{const a=va(t);a&&sr.coHostStopBO(dt.Closing,a.userId)}return Ge(Is,a=>a.controlStatus===dt.Closing)}loadPreAssignedRooms(){const t=this[we](),{meeting:{meetingOptions:i},breakoutRoom:{controlStatus:o}}=t;return!i.isAllowBreakoutRoomPreAssign||o!==dt.NotStarted&&o!==dt.Closed?Promise.reject({type:oe}):(sr.preAssignBreakoutRoom(),Ge(my))}getUnassignedAttendeeList(){const t=this[we](),i=Fe(t);return null!=i&&i.isHost||null!=i&&i.bCoHost?T_(t).map(o=>pd(o)):[]}getRoomList(){const t=this[we](),{breakoutRoom:{rooms:i,currentRoom:{status:o,boId:a},mainSessionAttendeeList:c,inRoomUserActivityStatusMap:l,options:{isRoomSelectionEnabled:p}},participants:{attendeesList:h}}=t,g=Fe(t);if(g&&(g.isHost||g.bCoHost||p)){const v=o===je.InRoom,y=v?c:h;return i.map(b=>{const{attendeeGuidList:E,boId:I,name:w}=b,_=(E||[]).map(A=>y.find(T=>T.userGUID===A)).filter(A=>!(null!=A&&A.isHost)).filter(Boolean);return v&&g.isHost&&I===a&&_.unshift(g),{roomId:I,name:w,attendeeList:_.filter(A=>!!A).map(A=>{var T;const M=null!==(T=l[A.userGUID])&&void 0!==T?T:{};return{userId:A.userId,displayName:A.displayName,avatar:A.avatar,isInRoom:A.bid===I,userGuid:A.userGUID,...M}})}})}return t.breakoutRoom.rooms.map(v=>{const{boId:y,name:b}=v;return{roomId:y,name:b,attendeeList:[]}})}getAttendeeStatus(){return this[we]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[we]().breakoutRoom.controlStatus}getCurrentRoom(){const t=this[we](),{breakoutRoom:{currentRoom:{status:i,name:o,boId:a}}}=t;return{attendeeStatus:i,name:o,roomId:a}}getRoomOptions(){const t=this[we](),{breakoutRoom:{options:i}}=t,{whoStart:o,whoStop:a,...c}=i;return{...c}}}).prototype,"createRooms",[le,Hn,ri],Object.getOwnPropertyDescriptor(gt.prototype,"createRooms"),gt.prototype),ce(gt.prototype,"recreateRooms",[le,Hn,ri],Object.getOwnPropertyDescriptor(gt.prototype,"recreateRooms"),gt.prototype),ce(gt.prototype,"openRooms",[le,Hn,ri],Object.getOwnPropertyDescriptor(gt.prototype,"openRooms"),gt.prototype),ce(gt.prototype,"joinRoom",[le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"joinRoom"),gt.prototype),ce(gt.prototype,"leaveRoom",[le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"leaveRoom"),gt.prototype),ce(gt.prototype,"askForHelp",[le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"askForHelp"),gt.prototype),ce(gt.prototype,"postponeHelping",[hr,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"postponeHelping"),gt.prototype),ce(gt.prototype,"broadcast",[Hn,le],Object.getOwnPropertyDescriptor(gt.prototype,"broadcast"),gt.prototype),ce(gt.prototype,"startBroadcastVoice",[hr,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"startBroadcastVoice"),gt.prototype),ce(gt.prototype,"stopBroadcastVoice",[hr,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"stopBroadcastVoice"),gt.prototype),ce(gt.prototype,"assignUserToRoom",[Hn,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"assignUserToRoom"),gt.prototype),ce(gt.prototype,"moveUserToRoom",[Hn,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"moveUserToRoom"),gt.prototype),ce(gt.prototype,"moveBackToMainSession",[Hn,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"moveBackToMainSession"),gt.prototype),ce(gt.prototype,"closeRoom",[Hn,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"closeRoom"),gt.prototype),ce(gt.prototype,"loadPreAssignedRooms",[hr,le,ri],Object.getOwnPropertyDescriptor(gt.prototype,"loadPreAssignedRooms"),gt.prototype),gt);const MV=qr({epics0:(t,i)=>t.pipe(Me(`${Gi}`),it(o=>{const{breakoutRoom:a,meeting:{meetingOptions:c}}=i.value,{payload:{hugeBO:l,elapsed:p}}=o,h=[];return a&&(c&&(h.push(IT(l&&!0===c.isBO100Enabled)),h.push(Sg({isEnableBreakoutRoom:c.isEnableBreakoutRoom,isEnableBOBroadcast:c.isEnableBOBroadcast,isEnableBOViewActivityStatus:c.isEnableBOViewActivityStatus,isEnableBOBroadcastVoice:c.isEnableBOBroadcastVoice}))),a.currentRoom.boConfId&&h.push(Xh()),void 0!==p&&h.push(nS(p))),ve(h)})),epics1:t=>be(t,4174).pipe(Te(i=>{F(Pf,i.payload.body.bid)}),ze(Se)),epics2:(t,i)=>ur(t,7950).pipe(Pe(i),it(o=>{let[a,c]=o;const{payload:{body:{proto:l}}}=a,{breakoutRoom:{isHugeBO:p,currentRoom:{status:h,boId:g}},meeting:{userGUID:v}}=c;let y=l;var I,_,A;p&&(y=function(I,w){if(aP)return aP.decode(I);var T=function(P){for(var N="",$=0;;){var V=P[$++],L=(V>127)+(V>223)+(V>239);if($+L>P.length)return[N,Iw(P,$-1)];L?3==L?(V=((15&V)<<18|(63&P[$++])<<12|(63&P[$++])<<6|63&P[$++])-65536,N+=String.fromCharCode(55296|V>>10,56320|1023&V)):N+=String.fromCharCode(1&L?(31&V)<<6|63&P[$++]:(15&V)<<12|(63&P[$++])<<6|63&P[$++]):N+=String.fromCharCode(V)}}(I),M=T[0];return T[1].length&&Ea(8),M}(function(_,A,T){var M=_.length;if(!M||T&&T.f&&!T.l)return A||new Fr(0);var P=!A||T,N=!T||T.i;T||(T={}),A||(A=new Fr(3*M));var $=function(Xt){var en=A.length;if(Xt>en){var Bt=new Fr(Math.max(2*en,Xt));Bt.set(A),A=Bt}},V=T.f||0,L=T.p||0,Q=T.b||0,Y=T.l,z=T.d,j=T.m,O=T.n,k=8*M;do{if(!Y){V=ba(_,L,1);var H=ba(_,L+1,3);if(L+=3,!H){var U=_[(tt=Cw(L)+4)-4]|_[tt-3]<<8,K=tt+U;if(K>M){N&&Ea(0);break}P&&$(Q+U),A.set(_.subarray(tt,K),Q),T.b=Q+=U,T.p=L=8*K,T.f=V;continue}if(1==H)Y=wV,z=AV,j=9,O=5;else if(2==H){var re=ba(_,L,31)+257,te=ba(_,L+10,15)+4,me=re+ba(_,L+5,31)+1;L+=14;for(var Ne=new Fr(me),De=new Fr(19),Ue=0;Ue<te;++Ue)De[_b[Ue]]=ba(_,L+3*Ue,7);L+=3*te;var Be=bw(De),ke=(1<<Be)-1,xe=Fs(De,Be,1);for(Ue=0;Ue<me;){var tt,Nt=xe[ba(_,L,ke)];if(L+=15&Nt,(tt=Nt>>>4)<16)Ne[Ue++]=tt;else{var mt=0,X=0;for(16==tt?(X=3+ba(_,L,3),L+=2,mt=Ne[Ue-1]):17==tt?(X=3+ba(_,L,7),L+=3):18==tt&&(X=11+ba(_,L,127),L+=7);X--;)Ne[Ue++]=mt}}var Z=Ne.subarray(0,re),W=Ne.subarray(re);j=bw(Z),O=bw(W),Y=Fs(Z,j,1),z=Fs(W,O,1)}else Ea(1);if(L>k){N&&Ea(0);break}}P&&$(Q+131072);for(var ae=(1<<j)-1,Ce=(1<<O)-1,Le=L;;Le=L){var He=(mt=Y[Ew(_,L)&ae])>>>4;if((L+=15&mt)>k){N&&Ea(0);break}if(mt||Ea(2),He<256)A[Q++]=He;else{if(256==He){Le=L,Y=null;break}var nt=He-254;if(He>264){var st=Bm[Ue=He-257];nt=ba(_,L,(1<<st)-1)+yd[Ue],L+=st}var vt=z[Ew(_,L)&Ce],ct=vt>>>4;if(vt||Ea(3),L+=15&vt,W=_V[ct],ct>3&&(st=Ib[ct],W+=Ew(_,L)&(1<<st)-1,L+=st),L>k){N&&Ea(0);break}P&&$(Q+131072);for(var pt=Q+nt;Q<pt;Q+=4)A[Q]=A[Q-W],A[Q+1]=A[Q+1-W],A[Q+2]=A[Q+2-W],A[Q+3]=A[Q+3-W];Q=pt}}T.l=Y,T.p=Le,T.b=Q,T.f=V,Y&&(V=1,T.m=j,T.d=z,T.n=O)}while(!V);return Q==A.length?A:Iw(A,0,Q)}((I=Bi(l)).subarray(function(_){31==_[0]&&139==_[1]&&8==_[2]||Ea(6,"invalid gzip data");var A=_[3],T=10;4&A&&(T+=_[10]|2+(_[11]<<8));for(var M=(A>>3&1)+(A>>4&1);M>0;M-=!_[T++]);return T+(2&A)}(I),-8),new Fr(((_=I)[(A=_.length)-4]|_[A-3]<<8|_[A-2]<<16|_[A-1]<<24)>>>0))));const b=[];let E;try{const I=JSON.parse(fi(y)),{ControlStatus:w,NameIndex:_,IsAutoJoinEnabled:A,IsBackToMainSessionEnabled:T,IsParticipantsChooseRoomEnabled:M,IsTimerEnabled:P,TimerDuration:N,IsTimerAutoEndEnabled:$,WaitSeconds:V,StartTimeOnMMR:L,ItemList:Q,WhoStart:Y,WhoStop:z,IsAutoMovetoMainSessionEnabled:j}=I,O={isAutoJoinRoom:A,isBackToMainSessionEnabled:T,isTimerEnabled:P,timerDuration:N,isTimerAutoEnabled:$,waitSeconds:V,isAutoMoveBackToMainSession:j,isRoomSelectionEnabled:M,whoStart:Y,whoStop:z};b.push(CT(O)),b.push(mg(L)),b.push(tS(_)),b.push(yk(w));const k=Q&&Q.map(H=>({boId:H.BID,name:H.MeetingTitle,boStatus:H.Status,hostId:H.HostID,attendeeGuidList:H.ParticipantList||[]}))||[];switch(b.push(vg(k)),F(Is,{controlStatus:w,roomList:k}),w){case dt.InProgress:if(h!==je.InRoom&&h!==je.Joining){const H=function(U,K){const{meeting:{isHost:re,userGUID:te},breakoutRoom:{currentRoom:{status:me,boId:Ne}}}=K.value,De=rt.get(_w),Ue=[];if(De)try{const{status:Be,boId:ke}=JSON.parse(De);if(Be===je.Invited)if(re)zm();else{const xe=Vs(U,te);xe&&(Ue.push(Wm(xe)),me!==je.Initial&&Ne===xe.boId||F(fy,{roomId:xe.boId,name:xe.name}))}else if(Be===je.InRoom){let xe;if(xe=re?U.find(tt=>tt.boId===ke):Vs(U,te),xe){Ue.push(Wm(xe));const tt=xe.boId;$l(K).subscribe(()=>{Ot.createAgent().joinBO(tt)})}zm()}}catch(Be){console.error(Be)}return Ue}(k,i);if(0===H.length){const U=Vs(k,v);U&&b.push(Wm(U))}else b.push(...H)}else if(h===je.InRoom&&a.type===`${Ra}`){const H=Vs(k,v);H&&Aw(i).subscribe(U=>{g===H.boId||U||js.joinBO(H.boId)})}O.isTimerEnabled&&O.timerDuration>0&&(U=O.timerDuration,K=L,E=Aw(H=i).pipe(Pe(H),it(re=>{let[te,me]=re;const{breakoutRoom:{currentRoom:{status:Ne},meetingElapsedTime:De},meeting:{joinMeetingTimeStamp:Ue}}=me,Be=Ue-1e3*De+1e3*K+1e3*U;if(performance.now()<Be){if(te)return ot(1e3).pipe(ye(()=>Math.floor((Be-performance.now())/1e3)),Pe(H),xd(ke=>{let[xe,tt]=ke;const{breakoutRoom:{controlStatus:Nt,currentRoom:{status:mt}},socket:{zoomSocketStatus:X},meeting:{isHost:Z}}=tt;return xe>=0&&Z&&Nt===dt.InProgress&&(mt===je.InRoom||mt===je.MainSession||mt===je.Initial)&&X===Wt.Connected}),Te(ke=>{let[xe]=ke;F(kf,{countdown:xe})}),ne(ke=>{let[xe]=ke;return 0===xe}),Te(ke=>{let[,xe]=ke;const{breakoutRoom:{options:tt}}=xe;tt.isTimerAutoEnabled?Ot.createAgent().stopBO(dt.Closing):F(Tl)}),se(()=>Se));if(Ne===je.InRoom)return ot(1e3).pipe(ye(()=>Math.floor((Be-performance.now())/1e3)),Pe(H),xd(ke=>{let[xe,tt]=ke;const{breakoutRoom:{currentRoom:{status:Nt}},meeting:{isHost:mt},socket:{zoomSocketStatus:X}}=tt;return xe>=0&&Nt===je.InRoom&&!mt&&X===Wt.Connected}),Te(ke=>{let[xe]=ke;F(kf,{countdown:xe})}),se(()=>Se))}return Se})));break;case dt.Closing:E=Aw(i).pipe(ne(H=>H),se(()=>{const H=[],{breakoutRoom:{closingRoomTime:U,currentRoom:{status:K}},participants:{attendeesList:re}}=i.value;let te=O.waitSeconds;if(0!==U&&O.waitSeconds>0){const me=Math.floor((performance.now()-U)/1e3);te=Math.max(O.waitSeconds-me,0)}if(0===te)return js.stopBO(dt.Closed),Se;{if(K!==je.InRoom&&re.length>1&&re.every(Ne=>!Ne.bid))return js.stopBO(dt.Closed),Se;U||H.push(yg(performance.now()));const me=performance.now()+1e3*te;return qn(ve(H),Rn(0,1e3).pipe(ye(()=>Math.floor((me-performance.now())/1e3)),Pe(i),xd(Ne=>{let[,De]=Ne;const{breakoutRoom:{controlStatus:Ue},meeting:{isHost:Be},socket:{zoomSocketStatus:ke}}=De;return Ue===dt.Closing&&ke===Wt.Connected&&Be}),Te(Ne=>{let[De]=Ne;De>=0&&F(Nf,{countdown:De})}),ne(Ne=>{let[De]=Ne;return De<=0}),Te(()=>{js.stopBO(dt.Closed)}),se(()=>Se)))}}));break;case dt.Closed:b.push(yg(0)),h===je.Leaving?b.push(sc(je.MainSession)):h===je.Invited?b.push(sc(je.Initial)):h!==je.InRoom&&h!==je.Joining||b.push(...ww()),zm()}}catch(I){console.error(I)}var H,U,K;return E?qn(ve(b),E):ve(b)})),epics3:(t,i)=>ur(t,4194).pipe(Pe(i),it(o=>{let[a,c]=o;const{payload:{body:{bid:l,botoken:p,confID:h}}}=a,{meeting:{isHost:g},breakoutRoom:{rooms:v,currentRoom:{status:y}}}=c,b=[],E=v.find(I=>I.boId===l);return E&&(b.push(Wm(E,g)),b.push(vC(h)),b.push(yC(p)),g||y!==je.InRoom?b.push(...Dw(E.name,y)):b.push(...cP(E.name))),F(Al,{boId:l}),ve(b)})),epics4:(t,i)=>t.pipe(Me(`${Pu}`,`${Ra}`),ne(o=>7949===o.payload.evt),Pe(i),se(o=>{var a;let[c,l]=o;const{payload:{body:p}}=c,{meeting:{userGUID:h},breakoutRoom:{rooms:g,options:{isAutoJoinRoom:v,isAutoMovetoMainSession:y},currentRoom:{status:b},mainSessionAttendeeList:E},participants:{attendeesList:I}}=l,{commandType:w}=p,_=[];let A;const T=null===(a=(Ob(b)?I:E).find(V=>V.userGUID===h))||void 0===a?void 0:a.userId;switch(w){case Ol.Join:{const{targetBID:V,botoken:L,confID:Q,joinReason:Y,requestSourceID:z}=p,j=Vs(g,h);if(j&&j.boId===V){_.push(vC(Q)),_.push(yC(L));const O=Number(Y)===Wf.Active&&T===Number(z);v||O?(O&&F(Al,{boId:V}),_.push(...Dw(j.name))):(rt.set(Rt.WebclientBreakoutRoomCommand,w,Tt.SessionStorage),F(fy,{roomId:V,name:j.name,...ex(z,l)}))}break}case Ol.Switch:{const{targetBID:V,botoken:L,confID:Q,joinMethod:Y,requestSourceID:z}=p,j=Vs(g,h);if(j&&j.boId===V){_.push(rS({boId:j.boId,boToken:L,boConfId:Q,name:j.name}));const O=T===Number(z)&&Number(Y)===sa.AskToLeave;b===je.Invited?(rt.set(Rt.WebclientBreakoutRoomCommand,w,Tt.SessionStorage),v||T===Number(z)?_.push(...Dw(j.name)):F(fy,{roomId:V,name:j.name,...ex(z,l)})):_.push(...cP(j.name)),O&&F(Al,{boId:V})}break}case Ol.Leave:{const{waitTime:V,joinMethod:L}=p;if(Ob(b))_.push(rS({boId:"",boToken:"",boConfId:"",status:je.Initial}));else{const Q=Number(V);if(Q>0){const Y=performance.now()+1e3*Q;A=Rn(0,1e3).pipe(ye(()=>Math.floor((Y-performance.now())/1e3)),Pe(i),xd(z=>{let[j,O]=z;const{breakoutRoom:{controlStatus:k,currentRoom:{status:H}},meeting:{isHost:U},socket:{zoomSocketStatus:K}}=O;return j>=0&&K===Wt.Connected&&k===dt.Closing&&H===je.InRoom&&!U}),Te(z=>{let[j]=z;j>=0&&F(Nf,{countdown:j})}),ze(Se))}else if(Number(L)!==sa.AskToLeave||y)_.push(...ww());else{var M,P,N;const{requestSourceID:Y}=p,z=Number(Y),{participants:{attendeesList:j}}=l;let O=j.find(k=>k.userId===z);if(!O){const{breakoutRoom:{mainSessionAttendeeList:k}}=l;O=k.find(H=>H.userId===z)}F(WN,{inviterId:null===(M=O)||void 0===M?void 0:M.userId,inviterGuid:null===(P=O)||void 0===P?void 0:P.userGUID,inviterName:null===(N=O)||void 0===N?void 0:N.displayName})}zm()}break}case Ol.Broadcast:{const{textContent:V,requestID:L}=p;if(V){const{meeting:{encType:Q},participants:{attendeesList:Y},breakoutRoom:{mainSessionAttendeeList:z}}=l;let j="";if(Q===xv.AES_GCM){const O=(Ob(b)?Y:z).find(k=>k.userId===Number(L));O&&(j=O.zoomID)}A=ve(Oo.beginDecrypt({decryptedText:V,type:Jr.BO_BROADCAST,zoomId:j}).then(O=>{let{message:k}=O;return F(Dl,{message:k}),bC(k)}))}break}case Ol.HelpReq:{const{requestID:V}=p,{breakoutRoom:{mainSessionAttendeeList:L,rooms:Q,currentRoom:{boId:Y},hostReplyToQuestionerType:z,hostReplyToRequestId:j},participants:{attendeesList:O}}=l;if(V){if(b===je.InRoom){const k=L.find(H=>H.userId===V);if(k&&k.bid===Y){js.askForHelpResultBO(V,_s.AlreadyInRoom);break}}if(z===_s.Received&&j!==V)js.askForHelpResultBO(V,_s.Busy);else{js.askForHelpResultBO(V,_s.Received),_.push(Bl(_s.Received),Op(V));const k=(b===je.InRoom?L:O).find(H=>H.userId===V);if(k){const H=k.bid,U=Q.find(K=>K.boId===H);U&&F(gy,{userId:V,userGuid:k.userGUID,displayName:k.displayName,roomName:U.name,roomId:U.boId})}}}break}case Ol.HelpRes:{const{helpResult:V}=p;F(Lf,{result:Number(V)});break}case Ol.BOActivity:{var $;const{activityRoster:V,activityTalking:L,requestID:Q}=p,Y=null===($=(cs(l)?l.breakoutRoom.mainSessionAttendeeList:l.participants.attendeesList).find(z=>z.userId===Q))||void 0===$?void 0:$.userGUID;if(Y){const{breakoutRoom:{rooms:z}}=l,j=Vs(z,Y),O=function(k,H){const U={isTalking:1===H};return lP.forEach(K=>{const{mask:re,key:te,value:me}=K;return(re&k)===re&&Object.assign(U,{[`${te}`]:me}),U}),U}(Number(V),Number(L));_.push(oS({userGuid:Y,status:O})),F(vy,{...O,userId:Q,userGuid:Y,roomId:j?.boId,roomName:j?.name})}break}}return A?qn(ve(_),A):ve(_)})),epics5:(t,i)=>fs(t,4098).pipe(Pe(i),it(o=>{let[a,c]=o;const{payload:{body:{res:l,elapsed:p}}}=a,h=[];return l===ho.MeetingHasClosed||l===ho.UserHasBeenRemoved?(zm(),h.push(...cc(c,!1))):l===ho.Success&&(h.push(nS(p)),h.push(sc(je.InRoom)),rt.set(Rt.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:je.InRoom,boId:c.breakoutRoom.currentRoom.boId}),Tt.SessionStorage)),ve(h)})),epics6:t=>fs(t,vn).pipe(ye(i=>ga(i.payload.body)),se(i=>{const o=[aa(i)];return F(Ff),ve(o)})),epics7:(t,i)=>fs(t,vn).pipe(ye(o=>ga(o.payload.body)),ye(o=>{const a=[];return["add","update"].forEach(c=>o[c]&&a.push(...o[c])),a.filter(c=>[...qm,"bAudioUnencrytped"].some(l=>void 0!==c[l]))}),ne(o=>o.length>0),$t(Md),se(o=>{const a=[],{participants:{attendeesList:c},breakoutRoom:{mainSessionAttendeeList:l,isUserRoleUpdated:p},meeting:{userId:h}}=i.value,g=o.map(v=>{const y=l.find(E=>E.userId===v.userId),b=c.find(E=>E.userGUID===y?.userGUID);if(b){if(void 0!==v.bCCEditor&&a.push(fg({editorId:v.bCCEditor?b.userId:"",isEditor:!!v.bCCEditor,editorZoomId:v.bCCEditor?b.zoomID:""})),delete v.bRaiseHand,delete v.bCapsPinMultiVideo,!p&&b.userId===h){const E={};Ey(v.userRole)?Object.assign(E,v):(l.some(I=>I.isHost)||void 0!==v.bAudioUnencrytped)&&Object.assign(E,y),void 0!==E.userId&&(a.push(CC(!0)),F(xf,v))}return{...v,userId:b.userId}}}).filter(v=>!!v);return g.length>0&&(F(yo,g),a.push(Uf({update:g}))),ve(a)})),epics8:t=>fs(t,mi).pipe(ne(i=>{const{payload:{body:o}}=i;return void 0!==o?.bAllowAttendeeRename||void 0!==o?.chatPriviledge||void 0!==o?.lockShare}),ye(i=>{const{payload:{body:o}}=i;return void 0!==o.bAllowAttendeeRename?gn(i.payload.body):void 0!==o.chatPriviledge?hC(o.chatPriviledge):void 0!==o.lockShare?Py(o.lockShare):void 0})),epics9:(t,i)=>be(t,vn).pipe(Pe(i),ne(o=>{let[,a]=o;const{meeting:{isHost:c},breakoutRoom:{controlStatus:l,currentRoom:{status:p}}}=a;return c&&l===dt.Closing&&p!==je.InRoom}),$t(Md),Te(()=>{const{participants:{attendeesList:o}}=i.value;o.every(a=>!a.bid)&&o.length>1&&js.stopBO(dt.Closed)}),ze(Se)),epics10:(t,i)=>be(t,4214).pipe(Pe(i),it(o=>{let[a,c]=o;const{payload:{body:{proto:l}}}=a,{breakoutRoom:{rooms:p,isHugeBO:h}}=c;try{const g=JSON.parse(fi(l)),v=[];if(g&&g.PreAssignBoList&&Array.isArray(g.PreAssignBoList)){const y=g.PreAssignBoList.map(E=>({name:E.BoName,emails:E.email}));if(v.push(EC(y)),p.length+y.length<(h?100:50)){const E=y.map(I=>I.name);return js.batchCreateBOToken(E),qn(ve(v),Mb(E.length).pipe(Pe(i),se(I=>{let[{boIdList:w},_]=I;const A=Zt(_),T=y.map((P,N)=>{const{emails:$,name:V}=P;let L=[];return $&&Array.isArray($)&&(L=$.map(Q=>A.filter(Y=>Y.userEmail===Q).map(Y=>Y.userGUID)).reduce((Q,Y)=>[...Q,...Y],[])),{boId:w[N],name:V,attendeeGuidList:L}}),M=T.map((P,N)=>({roomId:P.boId,name:P.name,emails:y[N].emails}));return F(my,{rooms:M}),ve([vg(T),EC(M)])})))}return ve(v)}}catch{console.error("pre assign proto is not valid")}return Se})),epics11:(t,i)=>ur(t,vn).pipe(Pe(i),ne(o=>{let[a,c]=o;const{meeting:{isHost:l,meetingStatus:p,meetingOptions:h},breakoutRoom:{controlStatus:g}}=c,{payload:{body:v}}=a;return p===It.Joined&&h?.isAllowBreakoutRoomPreAssign&&l&&(g===dt.NotStarted||g===dt.InProgress)&&Array.isArray(v.add)}),se(o=>{let[a,c]=o;const{breakoutRoom:{controlStatus:l,rooms:p,preAssignedRooms:h,currentRoom:{status:g}},participants:{failoverAttendeesList:v}}=c,y=h?.filter(I=>p.findIndex(w=>w.boId===I.roomId)>-1),{payload:{body:{add:b}}}=a,E=[];return y.length>0&&b.filter(I=>I.userEmail&&I.userGUID).filter(I=>-1===v.findIndex(w=>w.zoomID===I.zoomID)).forEach(I=>{if(!Vs(p,I.userGUID))for(let w=0;w<y?.length;w++){const _=y[w];if(_.emails.includes(I.userEmail)){if(l===dt.NotStarted){const A=B(p,T=>{const M=T.find(P=>P.boId===_.roomId);M?.attendeeGuidList.push(I.userGUID)});E.push(vg(A))}else l===dt.InProgress&&(g===je.InRoom&&a.type===`${Ra}`?js.assignToBO(I.id,String(_.roomId)):g!==je.Initial&&g!==je.MainSession||js.assignToBO(I.id,String(_.roomId)));break}}}),ve(E)})),epics12:(t,i)=>be(t,vn).pipe(ne(o=>{const{breakoutRoom:{mainSessionAttendeeList:a}}=i.value,{payload:{body:c}}=o;return a.length>0&&(void 0!==c.add||void 0!==c.update)}),$t(Ui),ye(o=>ga(o.payload.body)),se(o=>{const{breakoutRoom:{mainSessionAttendeeList:a,isUserRoleUpdated:c},participants:{attendeesList:l}}=i.value;let p=[];const h=[];["add","update"].forEach(y=>o[y]&&p.push(...o[y]));const g=[...qm,"isHost"];p=p.filter(y=>g.some(b=>void 0!==y[b]));const v=p.filter(y=>void 0!==y.zoomID);return p=p.map(y=>{var b,E,I,w;const _=null!==(b=null!==(E=y.zoomID)&&void 0!==E?E:null===(I=v.find(A=>A.userId===y.userId))||void 0===I?void 0:I.zoomID)&&void 0!==b?b:null===(w=l.find(A=>A.userId===y.userId))||void 0===w?void 0:w.zoomID;if(_){const A=a.find(T=>T.zoomID===_);if(A)return c||(h.push(CC(!0)),F(xf,A)),Object.keys(y).filter(T=>Object.prototype.hasOwnProperty.call(y,T)).filter(T=>g.includes(T)).reduce((T,M)=>{const P=A[M];return void 0===P&&"bCoHost"!==M||Object.assign(T,{[M]:"boolean"==typeof y[M]?!!P:P}),T},{userId:y.userId})}}).filter(Boolean),p.length>0&&(F(yo,p),h.push(Uf({update:p}))),ve(h)})),epics13:t=>fs(t,7999).pipe(Te(i=>{const{payload:{body:{bStatus:o}}}=i;F(hp,{status:!!o})}),se(()=>Se)),epics14:(t,i)=>be(t,7940).pipe(se(o=>{const{payload:{body:{bHost:a}}}=o,{breakoutRoom:{isBroadcastVoice:c}}=i.value,l=[];return!a&&c&&(Ye.getInstance().broadcastVoiceToBreakoutRoom(!1),l.push(iS(!1))),ve(l)}))},{breakoutRoomSharingEpics0:(t,i)=>fs(t,vn).pipe(ne(o=>{var a;const{payload:{body:c}}=o;return null==c||null===(a=c.update)||void 0===a?void 0:a.some(l=>void 0!==l.bShareToBORooms||void 0!==l.bShareOn)}),Pe(i),ye(o=>{let[a,c]=o;const{payload:{body:{update:l}}}=a,{breakoutRoom:{mainSessionAttendeeList:p}}=c,h=l.filter(y=>y.bShareOn&&y.bShareToBORooms),g=l.filter(y=>!y.bShareOn||!y.bShareToBORooms),v=p.filter(y=>y.sharerOn&&y.bShareToBORooms);return h.length>0&&h.forEach(y=>{-1===v.findIndex(b=>b.userId===y.id)&&F(Hr,{...y,isFromMainSession:!0})}),g.length>0&&g.forEach(y=>{F(Il,{...y,isFromMainSession:!0})}),l.map(y=>{if(y.bShareOn&&y.bShareToBORooms){if(0===p.filter(b=>b.sharerOn&&b.bShareToBORooms&&b.userId!==y.id).length)return{activeNodeID:y.id,bStatus:1,ssrc:y.shareSsrc};{const b=p.find(E=>E.userId===y.id);if(null!=b&&b.isHost)return{activeNodeID:y.id,bStatus:1,ssrc:y.shareSsrc}}}else if(!y.bShareOn||!y.bShareToBORooms){const b=p.filter(E=>E.bShareToBORooms&&E.sharerOn);if(1===b.length&&b[0].userId===y.id)return{activeNodeID:y.id,bStatus:0,ssrc:0};{const E=b.filter(w=>w.userId!==y.id),I=E.find(w=>w.isHost);if(I)return{activeNodeID:I.userId,bStatus:1,ssrc:I.shareSsrc};{const w=E[0];if(w)return{activeNodeID:w.userId,bStatus:1,ssrc:w.shareSsrc}}}}}).filter(Boolean)}),se(o=>{const{share:{status:a},meeting:{userId:c}}=i.value,l=[];return o.map(p=>{const{activeNodeID:h,bStatus:g,ssrc:v}=p,y=1===g;l.push(Qa(y)),y&&a!==_t.End&&(dP.stopSharing(c),pP.stopDesktopSharing(),l.push(Ci(_t.End)),F(cy));let b={activeNodeID:h,bStatus:g,ssrc:v,fromMainSession:!0};if(!y){const{participants:{attendeesList:E}}=i.value,I=E.filter(w=>w.sharerOn);if(I.length>0){const w=I[0];b={activeNodeID:w.userId,bStatus:1,ssrc:w.shareSsrc||0}}}l.push(Pu({evt:20225,body:b}))}),ve(l)})),breakoutRoomSharingEpics1:(t,i)=>fs(t,4098).pipe(it(o=>{const{payload:{body:{userID:a,confID:c}}}=o;return qn(...["sharing","audio"].map(l=>{return g=i,v=a,y=c,fs(t,"audio"===(p=l)?Vv:UD).pipe(bt(1),Te(b=>{const{payload:{body:{encryptKey:E,additionalType:I}}}=b,{media:{sharingDecodeStatus:w,audioDecodeStatus:_},meeting:{svcUrl:A,meetingNumber:T,conId:M,zoomId:P,meetingId:N}}=g.value;Gr(p,"success","audio"===p?_:w).subscribe($=>{let[,V]=$;if(V){uP.createMainSessionChannel(p,`wss://${A}/wc/media/${T}?type=${"audio"===p?"ma":"ms"}&cid=${M}&mode=1`),uP.updateMediaParams({iVType:"audio"===p?Rr.AUDIO_DECODE:Rr.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:v,sn:Bi(P),confId:y,encryptType:I,encryptKey:Bi(E),meetingId:N,meetingNumber:T}});const{breakoutRoom:{mainSessionAttendeeList:Q}}=g.value;if(Q?.length>0){const Y=Q.map(z=>({userid:z.userId,sn:z.zoomID&&Bi(z.zoomID)}));uP.updateUserMediaSN({added:Y,isFromMainSession:!0,iVType:"audio"===p?Rr.AUDIO_DECODE:Rr.SHARING_DECODE})}}})}),se(()=>Se));var p,g,v,y}))}))});let Rw=function(t){return t[t.Ready=0]="Ready",t[t.UserSub=1]="UserSub",t[t.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",t[t.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",t}({}),Us=function(t){return t[t.Unspecified=-1]="Unspecified",t[t.English=0]="English",t[t["Chinese (Simplified)"]=1]="Chinese (Simplified)",t[t.Japanese=2]="Japanese",t[t.German=3]="German",t[t.French=4]="French",t[t.Russian=5]="Russian",t[t.Portuguese=6]="Portuguese",t[t.Spanish=7]="Spanish",t[t.Korean=8]="Korean",t[t.Italian=9]="Italian",t[t.Reserved=10]="Reserved",t[t.Vietnamese=11]="Vietnamese",t[t.Dutch=12]="Dutch",t[t.Ukrainian=13]="Ukrainian",t[t.Arabic=14]="Arabic",t[t["Chinese (Traditional)"]=16]="Chinese (Traditional)",t[t.Czech=17]="Czech",t[t.Estonian=18]="Estonian",t[t.Finnish=19]="Finnish",t[t.Hebrew=21]="Hebrew",t[t.Hindi=22]="Hindi",t[t.Hungarian=23]="Hungarian",t[t.Indonesian=24]="Indonesian",t[t.Malay=25]="Malay",t[t.Persian=26]="Persian",t[t.Polish=27]="Polish",t[t.Romanian=28]="Romanian",t[t.Swedish=29]="Swedish",t[t.Tamil=30]="Tamil",t[t.Telugu=31]="Telugu",t[t.Tagalog=32]="Tagalog",t[t.Turkish=33]="Turkish",t[t["French (Canada)"]=34]="French (Canada)",t[t.Danish=35]="Danish",t[t.Thai=37]="Thai",t[t.Cantonese=44]="Cantonese",t[t.NoTranslation=400]="NoTranslation",t[t.DefaultManualInput=401]="DefaultManualInput",t[t.Customized=500]="Customized",t}({}),Sd=function(t){return t[t.Unknown=0]="Unknown",t[t.Close=1]="Close",t[t.New=2]="New",t[t.Insert=3]="Insert",t[t.Delete=4]="Delete",t[t.Reset=5]="Reset",t[t.Audiodesc=6]="Audiodesc",t[t.Speaker=7]="Speaker",t[t.Error=8]="Error",t}({}),rx=function(t){return t[t.TranslateNotSupport=1]="TranslateNotSupport",t}({}),bu=function(t){return t[t.Unspecified=0]="Unspecified",t[t.InMeetingManual=1]="InMeetingManual",t[t.ExternalCaptioner=2]="ExternalCaptioner",t[t.ASR=4]="ASR",t}({});const Pb={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,"zh-hant":16,cs:17,et:18,fi:19,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33,"fr-ca":34,da:35,th:37,"zh-yue":44},Nb=Object.keys(Us).filter(t=>/\d+/.test(Us[t])).reduce((t,i)=>({...t,[`${Us[i]}`]:i}),{}),ox=Object.keys(Pb).reduce((t,i)=>(Object.assign(t,{[`${Pb[`${i}`]}`]:i}),t),{}),Ow="zoom-sdk-live-trasncription",xc="live-trasncription";let hP=function(t){return t[t.English=0]="English",t[t.Chinese=1]="Chinese",t[t.Japanese=2]="Japanese",t[t.German=3]="German",t[t.French=4]="French",t[t.Russian=5]="Russian",t[t.Portuguese=6]="Portuguese",t[t.Spanish=7]="Spanish",t[t.Korean=8]="Korean",t[t.Italian=9]="Italian",t[t.Reserved=10]="Reserved",t[t.Vietnamese=11]="Vietnamese",t[t.Dutch=12]="Dutch",t[t.Ukrainian=13]="Ukrainian",t[t.Arabic=14]="Arabic",t[t["Chinese (Traditional)"]=16]="Chinese (Traditional)",t[t.Czech=17]="Czech",t[t.Estonian=18]="Estonian",t[t.Finnish=19]="Finnish",t[t.Hebrew=21]="Hebrew",t[t.Hindi=22]="Hindi",t[t.Hungarian=23]="Hungarian",t[t.Indonesian=24]="Indonesian",t[t.Malay=25]="Malay",t[t.Persian=26]="Persian",t[t.Polish=27]="Polish",t[t.Romanian=28]="Romanian",t[t.Swedish=29]="Swedish",t[t.Tamil=30]="Tamil",t[t.Telugu=31]="Telugu",t[t.Tagalog=32]="Tagalog",t[t.Turkish=33]="Turkish",t[t["French (Canada)"]=34]="French (Canada)",t[t.Danish=35]="Danish",t[t.Thai=37]="Thai",t[t.Cantonese=44]="Cantonese",t[t.NoTranslation=400]="NoTranslation",t[t.DefaultManualInput=401]="DefaultManualInput",t}({}),ix=function(t){return t.English="en",t["Chinese (Simplified)"]="zh",t.Japanese="ja",t.German="de",t.French="fr",t.Russian="ru",t.Portuguese="pt",t.Spanish="es",t.Korean="ko",t.Italian="it",t.Reserved="en1",t.Vietnamese="vi",t.Dutch="nl",t.Ukrainian="uk",t.Arabic="ar",t["Chinese (Traditional)"]="zh-hant",t.Czech="cs",t.Estonian="et",t.Finnish="fi",t.Hebrew="he",t.Hindi="hi",t.Hungarian="hu",t.Indonesian="id",t.Malay="ms",t.Persian="fa",t.Polish="pl",t.Romanian="ro",t.Swedish="sv",t.Tamil="ta",t.Telugu="te",t.Tagalog="tl",t.Turkish="tr",t["French (Canada)"]="fr-ca",t.Danish="da",t.Thai="th",t.Cantonese="zh-yue",t}({});function Qm(t){const i=t===Us.Unspecified?Us.Reserved:t;Ye.getInstance().selectLanguageChannelForNewLTT(i)}const sx=OA(H0,function(t,i){return gO(t,i)})([Zt,t=>{let{meeting:{gatewayUserList:i}}=t;return i}],(t,i)=>{const o={};return t.forEach(a=>{Object.assign(o,{[`${a.userId}`]:a.zoomID})}),i?.forEach(a=>{Object.assign(o,{[`${a.userId}`]:a.sn})}),o}),fP=bn([Zt],t=>t.find(i=>!0===i.bCCEditor)),ax=bn([Zt,MA],(t,i)=>t.some(o=>!0===o.bCCEditor&&o.userId===i)),ux=Ot.createAgent(),Mw={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0},PV=gr({[`${RT}`]:B((t,i)=>{let{payload:o}=i;t.isLiveTranscriptionEnabled=o}),[`${AC}`]:B((t,i)=>{let{payload:o}=i;const{transcriptionLang:a,translatedSetting:c,...l}=o;a&&(t.transcriptionLang=a.split(";").map(p=>{const h=p&&Pb[p];return void 0!==h?{lang:p,code:h}:null}).filter(Boolean)),c&&(t.translatedSetting=Object.keys(c).map(p=>{const h=c[p];if(h){const g=h.split(";").map(v=>{const y=v&&Pb[v];return void 0!==y?{lang:v,code:y}:null}).filter(Boolean);return{lang:p,code:Pb[p],translatedToLanguage:g}}return null}).filter(Boolean)),Object.assign(t,l)}),[`${TC}`]:B((t,i)=>{let{payload:o}=i;t.isManualCaptionerEnabled=o}),[`${Eg}`]:B((t,i)=>{let{payload:o}=i;t.gatewayId=o}),[`${PT}`]:B((t,i)=>{let{payload:o}=i;t.isHostDisableCaptions=o}),[`${OT}`]:B((t,i)=>{let{payload:o}=i;t.supportedTranscriptionLanguage=o}),[`${Hl}`]:B((t,i)=>{let{payload:o}=i;t.currentTranscriptionLang=o}),[`${uS}`]:B((t,i)=>{let{payload:o}=i;t.currentTranslationLang=o}),[`${OC}`]:B((t,i)=>{let{payload:o}=i;t.messageRecords.push(o)}),[`${cS}`]:B((t,i)=>{let{payload:o}=i;const a=t.messageRecords.find(c=>c.msgId===o.msgId);a&&Object.assign(a,o)}),[`${Np}`]:B((t,i)=>{let{payload:o}=i;const{remains:a,reducedRecordsCount:c}=o,l=t.messageRecords.length-a;t.isRecordsReduced=!0,t.reducedRecordsCount=c,t.messageRecords.splice(0,l)}),[`${RC}`]:B((t,i)=>{let{payload:o}=i;t.isLiveTranscriptionSubscribed=o}),[`${MT}`]:B((t,i)=>{let{payload:o}=i;t.liveTransEngineType=o}),[`${Cg}`]:B(t=>{t.stateBeforeFailover=void 0}),[`${Ig}`]:B((t,i)=>{let{payload:o}=i;t.lastManualCaption=o}),[`${Ik}`]:(t,i)=>{let{payload:o}=i;return o?{...Mw,stateBeforeFailover:{currentTranscriptionLang:t.currentTranscriptionLang,currentTranslationLang:t.currentTranslationLang,isLiveTranscriptionSubscribed:t.isLiveTranscriptionSubscribed},messageRecords:t.messageRecords,isRecordsReduced:t.isRecordsReduced,reducedRecordsCount:t.reducedRecordsCount}:{...Mw}}},Mw);var En;const oo=Ot.createAgent(),Fc=wo("Live transcription");let cx=(ce((En=class extends us{startLiveTranscription(){const{[we]:t,[_n]:i}=this,{liveTranscription:{isLiveTranscriptionEnabled:o,isEnableTranslatedCaptions:a,isLiveTranscriptionSubscribed:c,isHostLockSpeakingLanguage:l,isHostDisableCaptions:p}}=t();return c?Promise.resolve(""):p?Promise.reject({type:oe,reason:"Captions has been disabled by host."}):o?(oo.enableNewLLT(),Ge(ht).then(()=>(l?oo.setSpokenLanguage(Us.English):Qm(Us.Unspecified),i(Hl(Us.English)),a&&oo.setTranslationLanguage(),Ge({event:ht,operations:[ne(h=>!0===h.autoCaption&&void 0!==h.lang)]})))):Promise.reject({type:oe,reason:"Live transcription is not enabled."})}disableCaptions(t){const{[we]:i}=this,{liveTranscription:{isHostDisableCaptions:o}}=i();return t?o?Promise.resolve():(oo.disableCaptions(!0),Ge($v)):o?(oo.disableCaptions(!1),Ge($v)):Promise.resolve()}setSpeakingLanguage(t){const{[we]:i,[_n]:o}=this,{liveTranscription:{isLiveTranscriptionSubscribed:a,isHostLockSpeakingLanguage:c,transcriptionLang:l}}=i(),p=l.find(h=>h.lang===t);if(p){const{code:h}=p;return a?(c?oo.setSpokenLanguage(h):Qm(h),o(Hl(h)),Promise.resolve("")):Promise.reject({type:oe,reason:"Cannot set speaking language before starting live transcription"})}return Promise.reject({type:Je,reason:"Unsupported transcription language"})}setTranslationLanguage(t){const{[we]:i,[_n]:o}=this,a=i(),{liveTranscription:{isEnableTranslatedCaptions:c,isLiveTranscriptionSubscribed:l,translatedSetting:p,currentTranscriptionLang:h}}=a;if(!c)return Promise.reject({type:oe,reason:"Live translation is not enabled."});if(!l)return Promise.reject({type:oe,reason:"Cannot set translation language before starting live transcription"});if(t){const g=p?.find(v=>v.code===h);if(g){const{translatedToLanguage:v}=g,y=v.find(b=>b.lang===t);if(y)return oo.setTranslationLanguage(y.code),Ge({event:ht,operations:[ne(b=>!0===b.autoCaption&&b.lang===y.code),bt(1)]},b=>{let{lang:E}=b;return E===y.code})}return Promise.reject({type:oe,reason:`Cannot support translating ${Nb[h||0]} to ${t}`})}return oo.setTranslationLanguage(),o(uS(void 0)),Promise.resolve("")}enableManualCaptioner(){const{[we]:t}=this,{meeting:{meetingOptions:i},liveTranscription:{isManualCaptionerEnabled:o,isHostDisableCaptions:a}}=t();if(a)return Promise.reject({type:oe,reason:"Captions has been disabled by host."});const{isEnableManualCaptions:c,isEnableClosedCaption:l}=i;return c??l?o?Promise.resolve():(oo.enableManualCaption(!0),Ge(ht,p=>{let{autoCaption:h}=p;return!1===h})):Promise.reject({type:oe,reason:"Manual caption is not enabled."})}disableManualCaptioner(){const{[we]:t}=this,{liveTranscription:{isManualCaptionerEnabled:i}}=t();return i?(oo.enableManualCaption(!1),Ge(ht,o=>{let{autoCaption:a}=o;return!0===a})):Promise.resolve()}assignManualCaption(t){var i;const{[we]:o}=this,a=o(),{liveTranscription:{isManualCaptionerEnabled:c},participants:{attendeesList:l},meeting:{userId:p}}=a;return c?(null===(i=fP(a))||void 0===i?void 0:i.userId)===t?Promise.resolve(""):l.find(g=>g.userId===t)?(oo.assignCC(t,!0),Ge({event:p===t?Br:yo,operations:[ne(g=>g.userId===t),bt(1)]},g=>!0===g.bCCEditor)):Promise.reject({type:Je,reason:"Cannot find the user"}):Promise.reject({type:oe,reason:"Cannot assign caption editor due to the manual captioner is not enabled."})}sendCaptionTextManually(t,i){var o;const{[we]:a,[_n]:c}=this,l=a(),{liveTranscription:{lastManualCaption:p},meeting:{userId:h}}=l,g=Fe(l);let v=Promise.resolve();const y=null===(o=fP(l))||void 0===o?void 0:o.userId;return null!=g&&g.isHost&&y!==h&&(v=this.assignManualCaption(h)),v.then(()=>ax(a())?function(b,E,I){const w=b.length,_=[];var A;if(I)_.push({op:"close",text:b,msgId:null!==(A=E?.msgId)&&void 0!==A?A:qd()});else if(E&&null!=E&&E.text){const T=E.text.length;let M=0,P=0;for(;b[M]===E.text[M]&&M<w;)P+=Ov(b[M]),M+=1;M===T&&M===w?_.push({op:"same"}):M===T&&M<w?_.push({op:"insert",text:b.slice(M),size:0,pos:P,msgId:E.msgId}):M<T&&M===w?_.push({op:"delete",size:0,pos:P,msgId:E.msgId}):(_.push({op:"delete",size:0,pos:P,msgId:E.msgId}),_.push({op:"insert",text:b.slice(M),pos:P,msgId:E.msgId}))}else w>0&&_.push({op:"start",text:b,pos:0,size:0,msgId:qd()});return _.filter(T=>"same"!==T.op)}(t,p,i):Promise.reject({type:$r,reason:"Cannot type caption "})).then(b=>Array.isArray(b)?(b.forEach(E=>{const{text:I,...w}=E;Oo.beginEncrypt({text:I??"",type:Jr.CC_MESSAGE}).then(_=>{oo.sendManualCaption({text:_,...w}),c(Ig(i?void 0:{text:I,msgId:E.msgId}))})}),Ge(pe,E=>E.source===bu.InMeetingManual)):"")}getLiveTranscriptionStatus(){const{[we]:t}=this,{liveTranscription:{isLiveTranscriptionEnabled:i,isEnableTranslatedCaptions:o,isManualCaptionerEnabled:a,transcriptionLang:c,translatedSetting:l,isHostDisableCaptions:p}}=t();return{isLiveTranscriptionEnabled:i,isLiveTranslationEnabled:o,isHostDisableCaptions:p,isManualCaptionerEnabled:a,transcriptionLanguage:c.map(h=>h.lang).join(";"),translationLanguage:l?.map(h=>({speakingLanguage:h.lang,translatedToLanguage:h.translatedToLanguage.map(g=>g.lang).join(";")}))}}getLiveTranscriptionSetting(){const{[we]:t}=this,{meeting:{meetingOptions:i}}=t(),{isEnableManualCaptions:o,isEnableLiveTranscription:a,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:l,isEnableViewFullTranscript:p,isEnableSaveCaptions:h}=i||{};return{isEnableManualCaptions:o,isEnableLiveTranscription:a,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:l,isEnableViewFullTranscript:p,isEnableSaveCaptions:h}}getCurrentTranscriptionLanguage(){const{[we]:t}=this,{liveTranscription:{currentTranscriptionLang:i}}=t();return void 0!==i?{code:ox[i],name:Nb[i]}:null}getCurrentTranslationLanguage(){const{[we]:t}=this,{liveTranscription:{currentTranslationLang:i}}=t();return void 0!==i?{code:ox[i],name:Nb[i]}:null}getLatestTranscription(){const{[we]:t}=this,{liveTranscription:{messageRecords:i,isManualCaptionerEnabled:o}}=t(),a=o?Us.DefaultManualInput:Us.NoTranslation,c=i.filter(l=>l.language===a);return c.length?c[c.length-1].text:""}getLatestTranslation(){const{[we]:t}=this,{liveTranscription:{messageRecords:i,currentTranslationLang:o,isEnableTranslatedCaptions:a}}=t();if(a||void 0!==o){const c=i.filter(l=>l.language===o);return c.length?c[c.length-1].text:""}return""}getFullTranscriptionHistory(){const{[we]:t}=this,i=t(),{liveTranscription:{messageRecords:o,isRecordsReduced:a}}=i;return a?(c=i,void 0!==window.indexedDB?new Promise(l=>{const p=window.indexedDB.open(Ow,1);p.addEventListener("success",()=>{const h=p.result;if(h.objectStoreNames.contains(xc)){const g=h.transaction([xc],"readonly").objectStore(xc),v=[],y=c.meeting.meetingId,b=g.openCursor();b.onsuccess=()=>{const E=b.result;E?(E.value.mid===y&&v.push(...E.value.records),E.continue()):(l(v),h.close())}}else l("")})}):Promise.resolve("")).then(c=>Array.isArray(c)?c.concat(o):[...o]):[...o];var c}getManualCaptionEditor(){const{[we]:t}=this,i=t(),{closedCaption:{editorId:o}}=i;let a;if(!o)return{};if(a=Zt(i).find(y=>y.userId===o),!a)return{};const{userId:c,isHost:l,displayName:p,avatar:h,bCoHost:g,zoomID:v}=a;return{userId:c,isHost:l,displayName:p,avatar:h,bCoHost:g,zoomID:v}}getManualCaptionUrl(){const{[we]:t}=this,{meeting:{meetingOptions:i,ccUrl:o}}=t(),{isEnableManualCaptions:a}=i||{};return a?o:(console.warn("you not enable manual caption"),"")}}).prototype,"startLiveTranscription",[le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"startLiveTranscription"),En.prototype),ce(En.prototype,"disableCaptions",[hr,le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"disableCaptions"),En.prototype),ce(En.prototype,"setSpeakingLanguage",[le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"setSpeakingLanguage"),En.prototype),ce(En.prototype,"setTranslationLanguage",[le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"setTranslationLanguage"),En.prototype),ce(En.prototype,"enableManualCaptioner",[hr,le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"enableManualCaptioner"),En.prototype),ce(En.prototype,"disableManualCaptioner",[hr,le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"disableManualCaptioner"),En.prototype),ce(En.prototype,"assignManualCaption",[le,hr,Fc],Object.getOwnPropertyDescriptor(En.prototype,"assignManualCaption"),En.prototype),ce(En.prototype,"sendCaptionTextManually",[le,Fc],Object.getOwnPropertyDescriptor(En.prototype,"sendCaptionTextManually"),En.prototype),En);const Pi=qr({epics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{liveTranscription:o}}=i;return AC(o)})),epics1:(t,i)=>be(t,mi).pipe(ne(o=>{var a,c;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.NewLttAvaliable)||void 0!==(null===(c=o.payload.body)||void 0===c?void 0:c.LiveTransEngineType)}),ye(o=>{const{payload:{body:{NewLttAvaliable:a,LiveTransEngineType:c}}}=o,{liveTranscription:{isEnableAutomatedCaptions:l}}=i.value;return void 0!==a?(F(qD,!!a),RT(l&&!!a)):MT(c)})),epics2:(t,i)=>be(t,7982).pipe(se(o=>{const{payload:{body:{status:a,gwId:c}}}=o,l=[];switch(a){case Rw.Ready:l.push(Eg(c));break;case Rw.ManualCaptionerEnabled:F(ht,{autoCaption:!1}),l.push(TC(!0));break;case Rw.ManualCaptionerDisabled:F(ht,{autoCaption:!0}),l.push(fg({editorId:"",isEditor:!1,editorZoomId:""})),l.push(TC(!1));break;case Rw.UserSub:{F(ht,{autoCaption:i.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:h}}=i.value;if(null!=h&&h.isLiveTranscriptionSubscribed){var p;ux.enableNewLLT();const g=null!==(p=h.currentTranscriptionLang)&&void 0!==p?p:Us.Unspecified;Qm(g),l.push(Hl(g)),void 0!==h.currentTranslationLang&&ux.setTranslationLanguage(h.currentTranslationLang),l.push(Cg())}break}}return ve(l)})),epics3:t=>be(t,7984).pipe(ye(i=>{const{payload:{body:{langs:o}}}=i;return OT(o)})),epics4:t=>be(t,8011).pipe(se(i=>{const{payload:{body:{disabled:o}}}=i,a=[];return F($v,o),a.push(PT(o)),o&&a.push(RC(!1)),ve(a)})),epics5:t=>be(t,7985).pipe(ne(i=>{var o;return!0===(null===(o=i.payload.body)||void 0===o?void 0:o.success)}),se(i=>{const{payload:{body:{src:o,lang:a,success:c}}}=i,l=[];return c&&l.push(RC(!0)),o===bu.ASR?(l.push(uS(a===Us.NoTranslation?void 0:a)),F(ht,{autoCaption:!0,lang:a})):[bu.InMeetingManual,bu.ExternalCaptioner].includes(o)&&F(ht,{autoCaption:!1}),ve(l)})),epics6:(t,i)=>be(t,7986).pipe(Pe(i),se(o=>{let[a,c]=o;const l=Fe(c),{liveTranscription:{currentTranscriptionLang:p}}=c,{payload:{body:h}}=a,g=[];if(void 0!==h?.lang){const{lang:v}=h;"computer"===l?.audio&&p!==v&&Qm(v),g.push(Hl(v))}return ve(g)})),epics7:(t,i)=>Ke(t,he.JoinComputerAudioComplete).pipe(ne(()=>i.value.liveTranscription.isLiveTranscriptionSubscribed),Te(()=>{const{liveTranscription:{currentTranscriptionLang:o}}=i.value;o&&Qm(o)}),ze(Se)),epics8:(t,i)=>be(t,7983).pipe(ne(o=>void 0!==o.payload.body),se(o=>{const{payload:{body:{msgType:a,errorCode:c,language:l,source:p,content:h,keyNodeId:g,msgId:v,nodeId:y,pos:b,size:E,audioLanguage:I}}}=o;if(a===Sd.Error){if(c===rx.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:w}}=i.value;w&&F(pe,{error:rx.TranslateNotSupport,errorMessage:`${Nb[I]} to ${Nb[w]} translation is not supported!`,audioLanguage:I,translationLang:w})}}else{const w=i.value,_=Zt(w),{liveTranscription:{isManualCaptionerEnabled:A}}=w;if(A&&p===bu.ASR)return Promise.resolve();if(function(T,M){const{liveTranscription:{isEnableTranslatedCaptions:P,isLiveTranscriptionEnabled:N},meeting:{meetingOptions:$}}=M,{isEnableManualCaptions:V,isEnableAllowHostAssignTypeCC:L,isEnableClosedCaption:Q,isEnableAllowThirdPartyCCToken:Y}=$;return T===bu.ASR?P||N:T===bu.InMeetingManual?V&&L||void 0===V&&Q:T===bu.ExternalCaptioner?Y:void 0}(p,w)&&h&&g){const T=sx(w)[g];if(T)return Oo.beginDecrypt({decryptedText:h,type:Jr.CC_MESSAGE,zoomId:T}).then(M=>{let{message:P}=M;const{liveTranscription:{messageRecords:N}}=i.value,$=[],V=N.find(L=>L.msgId===v);if(V){const{text:L}=V,Q=((z,j)=>{if(!z||0===j)return"";let O=0;for(let k=0;k<z.length;k++)if(O+=Ov(z[k]),O===j)return z.slice(0,k+1);return z})(L,b);let Y;a===Sd.Insert&&0===E||a===Sd.Delete&&0===E?Y={...V,text:Q+P,msgType:a}:a===Sd.Close&&(Y={...V,text:P,msgType:a,done:!0}),Y&&($.push(cS(Y)),F(pe,Y))}else if([Sd.New,Sd.Close].includes(a)||A&&a===Sd.Insert){const L=_.find(Y=>Y.userId===y),Q={msgId:v,userId:y,displayName:L?.displayName,avatar:L?.avatar,text:P,source:p,language:l,timestamp:(new Date).getTime(),done:a===Sd.Close};$.push(OC({...Q,msgType:a})),F(pe,Q)}return $})}}return Promise.resolve()}),se(o=>Array.isArray(o)?ve(o):Se)),epics9:(t,i)=>t.pipe(Me(`${OC}`),$t(Md),se(()=>{const{liveTranscription:{messageRecords:o}}=i.value;return o.length>=1e5?function(a){const{meeting:{meetingId:c},liveTranscription:{messageRecords:l,reducedRecordsCount:p}}=a;return void 0!==window.indexedDB?new Promise(h=>{const g=window.indexedDB.open(Ow,1);g.addEventListener("upgradeneeded",()=>{const v=g.result;if(!v.objectStoreNames.contains(xc)){const y=v.createObjectStore(xc,{keyPath:["startIndex","mid"],autoIncrement:!1});y.createIndex("mid","mid",{unique:!1}),y.transaction.oncomplete=()=>{console.log(`Create objectStore [${xc}] complete`)}}}),g.addEventListener("success",()=>{const v=g.result,y=l.length,b=.9*y,E=y-b,I=l.slice(0,b),w=p+I.length,_=v.transaction([xc],"readwrite");_.objectStore(xc).put({startIndex:p,mid:c,records:I}),_.oncomplete=()=>{h(Np({remains:E,reducedRecordsCount:w})),v.close()},_.onerror=()=>{h(""),v.close()}})}):Promise.resolve("")}(i.value):Promise.resolve("")}),ne(o=>"object"==typeof o)),epics10:(t,i)=>t.pipe(Me(`${Jd}`,`${Vn}`),ne(()=>i.value.liveTranscription.isRecordsReduced),Te(()=>{!function(){if(void 0!==window.indexedDB){const o=window.indexedDB.open(Ow,1);o.addEventListener("success",()=>{const a=o.result;a.objectStoreNames.contains(xc)&&(window.indexedDB.deleteDatabase(Ow),a.close())})}}()}),ze(Se)),epics11:(t,i)=>Ke(t,[he.AudiobridgeSetCcLangSuccess,he.AudiobridgeSetCcLangFailure]).pipe(se(o=>{const{payload:{type:a,data:c}}=o,{liveTranscription:{currentTranscriptionLang:l}}=i.value,p=[];return a===he.AudiobridgeSetCcLangSuccess&&c!==l?p.push(Hl(c)):a===he.AudiobridgeSetCcLangFailure&&p.push(Hl(void 0)),ve(p)}))}),kb={isLiveStreamEnable:!1,status:0},lx=gr({[`${kT}`]:B((t,i)=>{let{payload:o}=i;t.isLiveStreamEnable=o}),[`${_g}`]:B((t,i)=>{let{payload:o}=i;t.status=o}),[`${LT}`]:(t,i)=>{let{payload:o}=i;return o?{...t}:{...kb}}},kb);let Eu=function(t){return t[t.Ended=0]="Ended",t[t.InProgress=1]="InProgress",t[t.Connecting=2]="Connecting",t[t.Timeout=3]="Timeout",t}({});var Cu;const Pw=Ot.createAgent();let Iu=(ce((Cu=class extends us{startLiveStream(t,i,o){const{[we]:a,[_n]:c}=this,{liveStream:{isLiveStreamEnable:l,status:p}}=a();return p===Eu.InProgress?Promise.reject({type:oe,reason:"Live stream is already on"}):l?t&&i&&o?(Pw.startLiveStream(t,i,o),Ge({event:Sy,operations:[ne(h=>h===Eu.InProgress),bt(1)]},void 0,3e4).then(()=>"").catch(()=>{const{liveStream:{status:h}}=a();return h===Eu.Connecting?(F(Sy,Eu.Timeout),c(_g(Eu.Timeout)),Promise.reject({type:Cs})):Promise.resolve("")})):Promise.reject({type:Je,reason:"parameter cannot be empty"}):Promise.reject({type:oe,reason:"Live stream is not enabled"})}stopLiveStream(){const{[we]:t,[_n]:i}=this,{liveStream:{status:o}}=t();return o===Eu.InProgress&&(Pw.stopLiveStream(),F(Sy,Eu.Ended),i(_g(Eu.Ended))),Promise.resolve("")}isLiveStreamEnabled(){var t;const{[we]:i}=this;return!(null===(t=i().liveStream)||void 0===t||!t.isLiveStreamEnable)}getLiveStreamStatus(){var t;const{[we]:i}=this;return null===(t=i().liveStream)||void 0===t?void 0:t.status}}).prototype,"startLiveStream",[hr],Object.getOwnPropertyDescriptor(Cu.prototype,"startLiveStream"),Cu.prototype),ce(Cu.prototype,"stopLiveStream",[hr],Object.getOwnPropertyDescriptor(Cu.prototype,"stopLiveStream"),Cu.prototype),Cu);const bd=qr({epics0:t=>t.pipe(Me(`${fo}`),ye(i=>{const{payload:{liveStreamInfo:o}}=i;return kT(!(null==o||!o.isEnabledLiveStream))})),epics1:t=>be(t,7970).pipe(ye(i=>{const{payload:{body:{status:l}}}=i;return F(Sy,l),_g(l)}))}),{setSummaryEnable:Nw,setSmartSummaryStatus:kw,resetSummary:dx}=Qn("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:Ah,setMeetingQueryStatus:gP}=Qn("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let Vc=function(t){return t.Default="",t.Start="Start",t.Paused="Paused",t.Stopped="Stopped",t}({}),_u=function(t){return t[t.GW_IND_NONE=0]="GW_IND_NONE",t[t.GW_IND_START=1]="GW_IND_START",t[t.GW_IND_PAUSE=2]="GW_IND_PAUSE",t[t.GW_IND_STOP=3]="GW_IND_STOP",t}({}),jc=function(t){return t.Default="",t.Start="Start",t.Paused="Paused",t.Stopped="Stopped",t}({}),wu=function(t){return t[t.GW_IND_NONE=0]="GW_IND_NONE",t[t.GW_IND_START=1]="GW_IND_START",t[t.GW_IND_PAUSE=2]="GW_IND_PAUSE",t[t.GW_IND_STOP=3]="GW_IND_STOP",t}({});const Jm={summaryStatus:_u.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:wu.GW_IND_STOP,meetingQueryEnable:!1},Th=gr({[`${Nw}`]:B((t,i)=>{let{payload:o}=i;t.summaryEnable=o}),[`${kw}`]:B((t,i)=>{let{payload:o}=i;t.summaryStatus=o}),[`${Ah}`]:B((t,i)=>{let{payload:o}=i;t.meetingQueryEnable=o}),[`${gP}`]:B((t,i)=>{let{payload:o}=i;t.meetingQueryStatus=o}),[`${dx}`]:()=>({...Jm})},Jm);var Do,fn,oi,fr,Ni;const Lb=Ot.createAgent();let px=(Do=Ie("summary"),fn=Ie("summary"),oi=Ie("summary"),fr=Ie("summary"),ce((Ni=class extends us{startSummary(){const t=this[we](),{summary:{summaryEnable:i,summaryStatus:o}}=t;return i?o===_u.GW_IND_START?Promise.resolve(""):(Lb.summaryMeeting(!0),Ge(Yi,a=>a.status===Vc.Start)):Promise.reject({type:oe,reason:"The account of the meeting disabled the smart summary"})}stopSummary(){const t=this[we](),{summary:{summaryStatus:i}}=t;return i!==_u.GW_IND_START?Promise.resolve("not start summary, do nothing"):(Lb.summaryMeeting(!1),Ge(Yi,o=>o.status===Vc.Stopped))}getSummaryStatus(){const t=this[we](),{summary:{summaryStatus:i}}=t;return i===_u.GW_IND_START?Vc.Start:i===_u.GW_IND_STOP?Vc.Stopped:Vc.Default}isSummaryEnabled(){const t=this[we](),{summary:{summaryEnable:i}}=t;return i}startMeetingQuery(){const t=this[we](),{summary:{meetingQueryEnable:i,meetingQueryStatus:o}}=t;return i?o===wu.GW_IND_START?Promise.resolve(""):(Lb.startMeetingQuery(!0),Ge(Ga,a=>a.status===jc.Start)):Promise.reject({type:oe,reason:"The account of the meeting disabled the smart summary"})}stopMeetingQuery(){const t=this[we](),{summary:{meetingQueryStatus:i}}=t;return i!==wu.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(Lb.startMeetingQuery(!1),Ge(Ga,o=>o.status===jc.Stopped))}getMeetingQueryStatus(){const t=this[we](),{summary:{meetingQueryStatus:i}}=t;return i===wu.GW_IND_START?jc.Start:i===wu.GW_IND_STOP?jc.Stopped:jc.Default}isMeetingQueryEnabled(){const t=this[we](),{summary:{meetingQueryEnable:i}}=t;return i}}).prototype,"startSummary",[hr,le,Do],Object.getOwnPropertyDescriptor(Ni.prototype,"startSummary"),Ni.prototype),ce(Ni.prototype,"stopSummary",[hr,le,fn],Object.getOwnPropertyDescriptor(Ni.prototype,"stopSummary"),Ni.prototype),ce(Ni.prototype,"startMeetingQuery",[hr,le,oi],Object.getOwnPropertyDescriptor(Ni.prototype,"startMeetingQuery"),Ni.prototype),ce(Ni.prototype,"stopMeetingQuery",[hr,le,fr],Object.getOwnPropertyDescriptor(Ni.prototype,"stopMeetingQuery"),Ni.prototype),Ni);const hx=qr({moduleEpics0:t=>be(t,8007).pipe(ne(i=>{var o;return void 0!==(null===(o=i.payload.body)||void 0===o?void 0:o.supported)}),ye(i=>{const{supported:o}=i.payload.body;return F(Yi,{supported:o}),Nw(o)})),moduleEpics1:(t,i)=>be(t,8008).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.status)}),Pe(i),se(o=>{let[a,c]=o;const{status:l}=a.payload.body,{summary:{summaryStatus:p}}=c,h=[];if(l!==p)switch(l){case _u.GW_IND_START:F(Yi,{status:Vc.Start});break;case _u.GW_IND_PAUSE:F(Yi,{status:Vc.Paused});break;case _u.GW_IND_STOP:F(Yi,{status:Vc.Stopped});break;default:F(Yi,{status:""})}return h.push(kw(l)),ve(h)})),moduleEpics2:(t,i)=>be(t,8015).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.supported)}),Pe(i),ye(o=>{let[a,c]=o;const{supported:l}=a.payload.body;F(Ga,{supported:l});const{meeting:{zlkJwtToken:p}}=c;if(p){const{auto_transcription:h}=Qs(p);h&&(l?Ot.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return Ah(l)})),moduleEpics3:(t,i)=>be(t,8016).pipe(ne(o=>{var a;return void 0!==(null===(a=o.payload.body)||void 0===a?void 0:a.status)}),Pe(i),se(o=>{let[a,c]=o;const{status:l}=a.payload.body,{summary:{meetingQueryStatus:p}}=c,h=[];if(l!==p)switch(l){case wu.GW_IND_START:F(Ga,{status:jc.Start});break;case wu.GW_IND_PAUSE:F(Ga,{status:jc.Paused});break;case wu.GW_IND_STOP:F(Ga,{status:jc.Stopped});break;default:F(Ga,{status:""})}return h.push(gP(l)),ve(h)}))});var Zm;const fx={chat:{epic:dL,reducer:gV,Client:lL},logger:{epic:TL,reducer:_L,Client:class extends us{getLogs(t){return vd.getLogs(this[hn],t)}getStore(){return vd.doNotUseDirtyGetStore()}setLogOptions(t){t&&this[hn].dispatch(MC(t))}isAutoReportInAccountSettingEnabled(){const{meeting:{zlkJwtToken:t,enableAutoLog:i,collectionToggleEnable:o,zsk:a}}=this[hn].getState();return!!t||(a?i&&o:i)}reportMeetingProblem(t){var i;const{product:o,problem:a,timeOfOccurrence:c,description:l,ticket:p,isLogIncluded:h}=t,{meeting:{userId:g,confId:v,conId:y,svcUrl:b}}=this[hn].getState(),E=`'product':${o}\n'problem':${a}\n'timeOfOccurrence':${c}\n'description':${l}\n'ticketID':${p}\n'isLogIncluded':${h?"Logs included":""}\n'nodeId':${g}\n'confId':${v}\n'conId':${y}\n'svcUrl':${b}`,I=["REPORT_NOTIFICATION"];return null===(i=vd.makeLogger(I).logWithExtraProperties("",{IM_NOTIFICATION:`${E}\nTrackingId:${vd.trackingId}`}))||void 0===i?void 0:i.then(()=>{vd.reportToGlobalTracing(h?void 0:I,!0)})}reportToGlobalTracing(t){return vd.reportToGlobalTracing(t)}reportRating(t,i){const{meeting:o,media:a,socket:c}=this[hn].getState();if(o){var l,p,h,g,v;const{zlkJwtToken:y,meetingStatus:b}=o,{assetsPath:E,enforceMultipleVideos:I,enforceVirtualBackground:w,disableRenderLimits:_}=a;vd.report(`rating:${t}, feedback:${i}, appKey:${y?null===(l=Qs(y))||void 0===l?void 0:l.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${null!==(p=Re.gpu)&&void 0!==p?p:""}, browser:${Re.browser} ${Re.browserVersion}, OS:${Re.os} ${Re.osVersion}, SharedArrayBuffer:${!!window.crossOriginIsolated}, assetPath:${E}, enforceMultipleVideos:${I},disableRenderLimits:${_} enforceVirtualBackground:${w}, ${b===It.Joined?`session duration:${Math.floor((performance.now()-(null!==(h=o?.pingRWCTimestamp)&&void 0!==h?h:0))/1e3)}, rwg:${null==c||null===(g=c.rwgServerList)||void 0===g||null===(v=g[c.retryCount])||void 0===v?void 0:v.rwg}, failover count:${o?.failover.count}`:""}`,"User Rating","info"),Number(t)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:OL,reducer:RL,Client:vM},cmd:{epic:J_,reducer:K_,Client:Q_},breakoutRoom:{epic:MV,reducer:XM,Client:tx},liveTranscription:{epic:Pi,reducer:PV,Client:cx},liveStream:{epic:bd,reducer:lx,Client:Iu},summary:{epic:hx,reducer:Th,Client:px}},kV=Ot.createAgent();let LV=(ce((Zm=class extends iL{constructor(t){super(t),this.mediaStream=void 0,this[_m]=fx}getMediaStream(){return void 0===this.mediaStream&&(this.mediaStream=new YM(this[hn])),this.mediaStream}joinInstant(t,i,o,a,c,l){const{[we]:p,[_n]:h}=this,{meeting:{lang:g,meetingStatus:v},socket:{zoomSocketStatus:y}}=p();return i?v!==It.Joined&&y===Wt.Closed?(h(ul({topic:t,password:c||"",userName:o,zlk:i,lang:g,cv:a})),l&&h(jn(l)),ia(TN.JoinMeeting)):Promise.reject({type:oe,reason:"duplicated operation"}):Promise.reject({type:oe,reason:"invalid  signature"})}removeUser(t){const i=this[hn].getState(),{participants:{attendeesList:o}}=i;return o.find(c=>c.userId===t)?(kV.expel(t),Ge(ut,c=>c.some(l=>l.userId===t))):Promise.reject({type:Je,reason:"no matched user"})}}).prototype,"removeUser",[Hn,le],Object.getOwnPropertyDescriptor(Zm.prototype,"removeUser"),Zm.prototype),Zm);class xb{constructor(i){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=i,this.mic=null,this.script=i.createScriptProcessor(2048,1,1),this.script.onaudioprocess=o=>{const a=o.inputBuffer.getChannelData(0);let c,l=0;for(c=0;c<a.length;++c)l+=a[c]*a[c];this.instant=Math.sqrt(l/a.length)}}connectToSource(i){console.log("InputMicDetector is listening");try{var o;this.mic=this.context.createMediaStreamSource(i),this.mic.connect(this.script),null===(o=this.script)||void 0===o||o.connect(this.context.destination)}catch(a){console.error(a)}}stop(){var i,o;console.log("Audio Previewer stopped"),null===(i=this.mic)||void 0===i||i.disconnect(),this.mic=null,null===(o=this.script)||void 0===o||o.disconnect(),this.script=null}getMicVolume(){return this.instant}}const Fb="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class Vb{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(i){var o;if("function"!=typeof AudioContext||"function"!=typeof MediaStreamAudioDestinationNode||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:a,sampleAudioUrl:c=Fb,onAnalyseFrequency:l}=i||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),((null===(o=this.sampleAudio)||void 0===o?void 0:o.url)===c&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(c).then(h=>h.arrayBuffer()).then(h=>this.audioCtx.decodeAudioData(h)).then(h=>(this.sampleAudio={url:c,data:h},h))).then(h=>{var g,v,y;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=h,this.sourceNode.loop=!0,a&&null!==(g=this.audioPlayer)&&void 0!==g&&g.setSinkId&&this.audioPlayer.setSinkId(a),l?"function"==typeof AudioContext.prototype.createAnalyser?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=l,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),"running"!==(null===(v=this.audioCtx)||void 0===v?void 0:v.state)&&(null===(y=this.audioCtx)||void 0===y||y.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())});const p=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:p,destroy:()=>{var h;p(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),null===(h=this.audioCtx)||void 0===h||h.close(),this.audioCtx=void 0}}}testMicrophone(i){var o;if("function"!=typeof AudioContext||"function"!=typeof MediaStreamAudioDestinationNode||"function"!=typeof AudioContext.prototype.createMediaStreamSource||"function"!=typeof(null===(o=navigator.mediaDevices)||void 0===o?void 0:o.getUserMedia))return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:a,speakerId:c,recordAndPlay:l,maxRecordDuration:p,onAnalyseFrequency:h,onStartRecording:g,onStopRecording:v,onStartPlayRecording:y,onStopPlayRecording:b}=i||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const E=()=>{l&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!a||{deviceId:{exact:a}}}).then(w=>{var _,A,T,M;this.mAudioStream=w,this.mSourceNode=null===(_=this.audioCtx)||void 0===_?void 0:_.createMediaStreamSource(w),this.audioPlayer.muted=!0,h?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=h,this.initAnalyserNode(),this.analyserNode&&(null===(T=this.mSourceNode)||void 0===T||T.connect(this.analyserNode))):this.analyserCallback=void 0,l&&("function"==typeof MediaRecorder?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=P=>{P.data&&this.recorderChunks.push(P.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),v?.(),this.recorderChunks.length>0){var P;const N=new Blob(this.recorderChunks,{type:(null===(P=this.recorderChunks[0])||void 0===P?void 0:P.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(N),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,c,y,b).catch($=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn($)}),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,g?.(),this.maximumRecordingTimer=window.setTimeout(()=>{E()},p||1e4)):console.warn("Cannot record the sound due to the browser capability")),"running"!==(null===(A=this.audioCtx)||void 0===A?void 0:A.state)&&(null===(M=this.audioCtx)||void 0===M||M.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())});const I=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(h&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach(w=>{w.stop()}),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:I,stopRecording:E,destroy:()=>{var w;I(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),null===(w=this.audioCtx)||void 0===w||w.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){this.audioCtx&&(this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024),this.analyserNodeBufferDataArray=new Uint8Array(this.analyserNode.frequencyBinCount),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20))}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let i=0;for(const a of this.analyserNodeBufferDataArray)i+=a;this.analyserCallback(i/this.analyserNodeBufferDataArray.length)}}playRecording(i,o,a,c){this.recorderPlayer=new Audio,this.recorderPlayer.src=i,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&o&&this.recorderPlayer.setSinkId(o);const l=()=>{c?.(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise((p,h)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{p(!0)},this.recorderPlayer.onended=()=>{p(!0)},this.recorderPlayer.onerror=h,a?.(),this.recorderPlayer.play().catch(h))}).finally(()=>{window.URL.revokeObjectURL(i),l()})}}const ii="AudioNotStartedError";class Lw{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=i,this.tester=new Vb}start(){var i=this;return Oe(function*(){if(i.audioStream||i.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const o=yield navigator.mediaDevices.getUserMedia(i.getAudioConstraints());i.audioStream=o,i.isAudioStarted=!0}catch(o){throw o}})()}unmute(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(ii);if(i.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return i.toggleMicIsMuted(!0)})()}mute(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(ii);if(!i.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return i.toggleMicIsMuted(!1)})()}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}stop(){var i=this;return Oe(function*(){if(!i.audioStream||!i.isAudioStarted)throw new Error(ii);i.audioStream.getAudioTracks().forEach(o=>o.stop()),i.audioStream=null,i.isAudioStarted=!1})()}toggleMicIsMuted(i){var o=this;return Oe(function*(){if(i){if(!o.audioContext){const a=window.AudioContext||window.webkitAudioContext;o.audioContext=new a}o.inputMicDetector=new xb(o.audioContext),o.inputMicDetector.connectToSource(o.audioStream)}else o.inputMicDetector&&o.inputMicDetector.stop(),o.inputMicDetector=null;o.isMicUnmuted=i})()}getAudioConstraints(){return{audio:""===this.deviceId||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(i){return this.tester.testSpeaker(i)}testMicrophone(i){return this.tester.testMicrophone(i)}}const xV={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class FV{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=i,this.localPreview=new TO}start(i,o){var a=this;return Oe(function*(){if(!i)throw new Error("Video DOM element is falsy");if(a.isVideoStarted||a.videoStream)throw new Error("VideoAlreadyStartedError");a.videoParams={videoDOMElement:i,virtualBackground:o};const c=function(){var l=Oe(function*(p){if(!p||"OverconstrainedError"!==p.name&&"ConstraintNotSatisfiedError"!==p.name)throw p;console.log(`Warning: detected ${p.name} -- trying to fall back to lower aspect ratio`);try{const h=yield navigator.mediaDevices.getUserMedia(a.getVideoConstraints(!0));return a.tryPlayVideo(i,h)}catch(h){throw h}});return function(h){return l.apply(this,arguments)}}();if(i instanceof HTMLVideoElement)try{const l=yield navigator.mediaDevices.getUserMedia(a.getVideoConstraints());return a.tryPlayVideo(i,l)}catch(l){return c(l)}else{if(!(i instanceof HTMLCanvasElement))throw new Error("Cannot start video with virtual background");a.localPreview.setup().then(()=>a.localPreview.startPreview(i,{...o,deviceId:a.deviceId})).then(()=>{a.vbPreviewInProgress=!0})}})()}stop(){var i=this;return Oe(function*(){if(i.vbPreviewInProgress)yield i.localPreview.stopPreview(),i.vbPreviewInProgress=!1;else{if(!i.videoStream||!i.isVideoStarted)throw new Error("VideoNotStartedError");i.videoStream.getVideoTracks().forEach(o=>o.stop()),i.videoStream=null,i.isVideoStarted=!1}})()}switchCamera(i){var o=this;return Oe(function*(){i!==o.deviceId&&(o.deviceId=i,yield o.stop(),o.videoParams&&(yield o.start(o.videoParams.videoDOMElement,o.videoParams.virtualBackground)))})()}updateVirtualBackground(i,o){var a=this;return Oe(function*(){a.vbPreviewInProgress&&(yield a.localPreview.updatePreview(i,o))})()}getVideoConstraints(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=xV;return Sf.includes(this.deviceId)?{audio:!1,video:{facingMode:this.deviceId}}:(i?o=""===this.deviceId||{deviceId:{exact:this.deviceId}}:""!==this.deviceId&&(o.deviceId={exact:this.deviceId}),{audio:!1,video:o})}tryPlayVideo(i,o){var a=this;return Oe(function*(){if(!i)throw new Error("Video DOM element is falsy");try{a.videoStream=o,i.muted=!0,i.playsInline=!0,i.srcObject=a.videoStream,yield i.play(),a.isVideoStarted=!0}catch(c){throw c}})()}}class Du{static createClient(){if(!this.meetingClient){const i=function(){const o=function(h){void 0===h&&(h={});var g,v=new Hh.constructor(Hh.schedulerActionCtor),y=new Tn,b=function(E){g=E;var I=new Tn,w=new Tn,_=I.asObservable().pipe($t(v)),A=new OE(w.pipe($t(v)),g.getState());return y.pipe(ye(function(T){var M=T(_,A,h.dependencies);if(!M)throw new TypeError('Your root Epic "'+(T.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return M}),se(function(T){return ve(T).pipe(wE(v),$t(v))})).subscribe(g.dispatch),function(T){return function(M){var P=T(M);return w.next(g.getState()),I.next(M),P}}};return b.run=function(E){y.next(E)},b}(),{epicSubject:a,rootEpic:c}=function(){const h=new uD(UE(c1,bI,oh,NO));return{epicSubject:h,rootEpic:(g,v,y)=>h.pipe(We(g.pipe(Me(`${LD}`))),se(b=>b(g,v,y)))}}(),l=[o],p=vD(w_(),nL(function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];return function(y){return function(){var b=y.apply(void 0,arguments),E=function(){throw new Error(Kn(15))},I={getState:b.getState,dispatch:function(){return E.apply(void 0,arguments)}},w=g.map(function(_){return _(I)});return E=qh.apply(void 0,w)(b.dispatch),oN(oN({},b),{},{dispatch:E})}}}(...l)));return p.asyncReducers={},p.injectReducer=(h,g)=>{void 0===p.asyncReducers[h]&&(p.asyncReducers[h]=g,p.replaceReducer(w_(p.asyncReducers)))},p.injectEpic=h=>{a.next(h)},o.run(c),p}();this.meetingClient=new LV(i)}return this.meetingClient}static destroyClient(){if(this.meetingClient){const i=this.meetingClient[_n];this.meetingClient.leave().then(()=>{Rn(500).subscribe(()=>{i?.(LD()),gp()})}),this.meetingClient=null}}static checkFeatureRequirements(){return function(){const i=[],o=[],{isAndroidOrIOSBrowser:a,browser:c,browserVersion:l,os:p,osVersion:h,isChrome:g,isFirefox:v,isSafari:y}=Re;!a&&(g||v||y)&&YE()?i.push("Virtual Background"):o.push("Virtual Background"),(a||g)&&YE()?i.push("Share Chrome Tab Audio"):o.push("Share Chrome Tab Audio"),!a&&YE()?(i.push("Screen Share (send)"),i.push("720p Video (receive)"),i.push("Share 2nd Camera")):(o.push("Screen Share (send)"),o.push("720p Video (receive)"),o.push("Share 2nd Camera")),YE()?(i.push("Audio"),i.push("Video"),i.push("Screen Share (receive)"),i.push("Chat"),i.push("Closed Captioning"),i.push("Live Transcription"),i.push("Live Translation"),i.push("Cloud Recording"),i.push("Call Out (PSTN)"),i.push("Command Channel"),i.push("RTMP Live Streaming"),i.push("Encryption"),i.push("720p Video (send)"),i.push("Render Multiple Videos")):(o.push("Audio"),o.push("Video"),o.push("Screen Share (receive)"),o.push("Chat"),o.push("Closed Captioning"),o.push("Live Transcription"),o.push("Live Translation"),o.push("Cloud Recording"),o.push("Call Out (PSTN)"),o.push("Command Channel"),o.push("RTMP Live Streaming"),o.push("Encryption"),i.push("720p Video (send)"),i.push("Render Multiple Videos"));const b=a?`${p}${h}`:`${c}${l}`;return o.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:b,supportFeatures:i,unSupportFeatures:o}}()}static checkSystemRequirements(){return eb()}static getDevices(i){return i?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(o=>(o.getTracks().forEach(a=>a.stop()),navigator.mediaDevices.enumerateDevices())).catch(o=>(console.warn(o),navigator.mediaDevices.enumerateDevices()))}static createLocalAudioTrack(){return new Lw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}static createLocalVideoTrack(){return new FV(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}static preloadDependentAssets(i){var o;(o=Oe(function*(a){const c=a||xp,l=`${c}/${mo}`,p=[],h=[],g=`${c}/`;if(hS()){const{workers:y,wasms:b}=Gl("audio","simd",g);p.push(...y),h.push(...b)}else{const{workers:y,wasms:b}=Gl("audio","",g);p.push(...y),h.push(...b)}if(hS()&&function(){const{browser:y,browserVersion:b,isAndroidBrowser:E}=Re;return!E&&"chrome"===y.toLowerCase()&&uf(b,"100")>0&&window.crossOriginIsolated}()){const{workers:y,wasms:b}=Gl(["video","sharing"],"videoShare",g);p.push(...y),h.push(...b)}else if(hS()&&kC()){const{workers:y,wasms:b}=Gl(["video","sharing"],"simd,thread",g);p.push(...y),h.push(...b)}else if(kC()){const{workers:y,wasms:b}=Gl(["video","sharing"],"thread",g);p.push(...y),h.push(...b)}else if(hS()){const{workers:y,wasms:b}=Gl(["video","sharing"],"simd",g);p.push(...y),h.push(...b)}else{const{workers:y,wasms:b}=Gl(["video","sharing"],"",g);p.push(...y),h.push(...b)}const v=[gS(l,"script")];p.forEach(y=>{v.push(gS(y,"fetch"))}),h.forEach(y=>{v.push(gS(y,"fetch"))});try{document.head.append(...v)}catch{}}),function(a){return o.apply(this,arguments)})(i)}}Du.meetingClient=void 0,Du.VERSION=pS;var Ym="1.12.5",jb="INVALID_PARAMETERS",mP="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(Ym,"/lib"),gx="https://source.zoom.us/videosdk/".concat(Ym,"/lib"),mx="https://jssdk.zoomus.cn/videosdk/".concat(Ym,"/lib"),vP=function(t){return"string"==typeof t&&t.length>0},ki=function(t){var i="";switch(t){case"Global":i=gx;break;case"CN":i=mx;break;case"CDN":i=mP;break;default:i=t}return i},Ub=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"bid",to:"subsessionId"},{from:"phoneNumber",to:function(t){return void 0===t?{}:{phoneNumber:t}}}],yP=[].concat(Ub,[{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:function(t){return{isManager:!!t}}},{from:"userType",to:function(t){return{isPhoneUser:!(5&~t)}}},{from:"bid",to:function(t){return t?{subsessionId:t}:{}}}]),vx=yP.map(function(t){return"string"==typeof t?t:t.from});function SP(t,i){return"string"==typeof t?Gs({},"".concat(t),i):"string"==typeof t.to?Gs({},"".concat(t.to),i):t.to(i)}function Ed(t){if(t)return Ub.reduce(function(i,o){var c=SP(o,t["string"==typeof o?o:o.from]);return Ft(Ft({},i),c)},{})}function Rh(t){if(t)return Object.keys(t).reduce(function(i,o){var a=vx.indexOf(o);if(a>-1){var c=yP[a],p=SP(c,t["string"==typeof c?c:c.from]);return Ft(Ft({},i),p)}return i},{})}var Oh,Ca,qt,Dt,Uc,Bs,si,Li,ie=Symbol("stream"),yx=function(){function t(i){Dr(this,t),this[ie]=void 0,this[ie]=i}return Xe(t,[{key:"startAudio",value:function(i){return this[ie].startAudio(i)}},{key:"stopAudio",value:function(){return this[ie].stopAudio()}},{key:"muteAudio",value:function(i){return this[ie].muteAudio(i)}},{key:"unmuteAudio",value:function(i){return this[ie].unmuteAudio(i)}},{key:"inviteByPhone",value:function(i,o,a,c){return this[ie].dialOut(i,o,a,c)}},{key:"cancelInviteByPhone",value:function(i,o,a){return this[ie].cancelDialOut(i,o,a)}},{key:"hangup",value:function(){return this[ie].hangup()}},{key:"getCurrentSessionCallinInfo",value:function(){return this[ie].getDialInInfo()}},{key:"muteShareAudio",value:function(i){return this[ie].muteShareAudio(i)}},{key:"unmuteShareAudio",value:function(i){return this[ie].unmuteShareAudio(i)}},{key:"subscribeAudioStatisticData",value:function(i){return this[ie].subscribeAudioStatisticData(i)}},{key:"unsubscribeAudioStatisticData",value:function(i){return this[ie].unsubscribeAudioStatisticData(i)}},{key:"muteUserAudioLocally",value:function(i){return this[ie].muteUserAudioLocally(i)}},{key:"unmuteUserAudioLocally",value:function(i){return this[ie].unmuteUserAudioLocally(i)}},{key:"adjustUserAudioVolumeLocally",value:function(i,o){return this[ie].adjustUserAudioVolumeLocally(i,o)}},{key:"enableBackgroundNoiseSuppression",value:function(i){return this[ie].enableBackgroundNoiseSuppression(i)}},{key:"enableSyncButtonsOnHeadset",value:function(i){return this[ie].enableSyncButtonsOnHeadset(i)}},{key:"muteAllUserAudioLocally",value:function(){return this[ie].muteAllUserAudioLocally()}},{key:"unmuteAllUserAudioLocally",value:function(){return this[ie].unmuteAllUserAudioLocally()}},{key:"enableOriginalSound",value:function(i){return this[ie].enableOriginalSound(i)}},{key:"callCRCDevice",value:function(i,o){return this[ie].callCRCDevice(i,o)}},{key:"cancelCallCRCDevice",value:function(i,o){return this[ie].cancelCallCRCDevice(i,o)}},{key:"startSecondaryAudio",value:function(i,o){return this[ie].startSecondaryAudio(i,o)}},{key:"stopSecondaryAudio",value:function(){return this[ie].stopSecondaryAudio()}},{key:"muteAllAudio",value:function(){return this[ie].muteAllAudio()}},{key:"unmuteAllAudio",value:function(){return this[ie].unmuteAllAudio()}},{key:"isAudioMuted",value:function(i){return this[ie].isAudioMuted(i)}},{key:"getMicList",value:function(){return this[ie].getMicList()}},{key:"getSpeakerList",value:function(){return this[ie].getSpeakerList()}},{key:"getActiveMicrophone",value:function(){return this[ie].getActiveMicrophone()}},{key:"getActiveSpeaker",value:function(){return this[ie].getActiveSpeaker()}},{key:"switchMicrophone",value:function(i){return this[ie].switchMicrophone(i)}},{key:"switchSpeaker",value:function(i){return this[ie].switchSpeaker(i)}},{key:"isSupportPhoneFeature",value:function(){return this[ie].isSupportCallOut()}},{key:"getSupportCountryInfo",value:function(){return this[ie].getDialOutCountries()}},{key:"getInviteByPhoneStatus",value:function(){return this[ie].getDialOutStatus()}},{key:"getShareAudioStatus",value:function(){return this[ie].getShareAudioStatus()}},{key:"isOthersShareAudioMutedLocally",value:function(i){return this[ie].isOthersShareAudioMutedLocally(i)}},{key:"getAudioStatisticData",value:function(){return this[ie].getAudioStatisticData()}},{key:"isUserAudioMutedLocally",value:function(i){return this[ie].isUserAudioMutedLocally(i)}},{key:"getUserVolumeLocally",value:function(i){return this[ie].getUserVolumeLocally(i)}},{key:"isSupportMicrophoneAndShareAudioSimultaneously",value:function(){return this[ie].isSupportMicrophoneAndShareAudioSimultaneously()}},{key:"startVideo",value:function(i){return this[ie].startVideo(i)}},{key:"stopVideo",value:function(){return this[ie].stopVideo()}},{key:"renderVideo",value:function(i,o,a,c,l,p,h,g){return this[ie].renderVideo(i,o,a,c,l,p,h,g)}},{key:"stopRenderVideo",value:function(i,o,a,c){return this[ie].stopRenderVideo(i,o,a,c,arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}},{key:"updateVideoCanvasDimension",value:function(i,o,a){return this[ie].updateVideoCanvasDimension(i,o,a)}},{key:"adjustRenderedVideoPosition",value:function(i,o,a,c,l,p,h){return this[ie].adjustRenderedVideoPosition(i,o,a,c,l,p,h)}},{key:"clearVideoCanvas",value:function(i,o){return this[ie].clearVideoCanvas(i,o)}},{key:"mirrorVideo",value:function(i){return this[ie].mirrorVideo(i)}},{key:"enableHardwareAcceleration",value:function(i){return this[ie].enableHardwareAcceleration(i)}},{key:"previewVirtualBackground",value:function(i,o,a,c){return this[ie].previewVirtualBackground(i,o,a,c)}},{key:"updateVirtualBackgroundImage",value:function(i,o){return this[ie].updateVirtualBackgroundImage(i,o)}},{key:"stopPreviewVirtualBackground",value:function(){return this[ie].stopPreviewVirtualBackground()}},{key:"previewVideoMask",value:function(i,o){return this[ie].previewVideoMask(i,o)}},{key:"updateVideoMask",value:function(i){return this[ie].updateVideoMask(i)}},{key:"stopPreviewVideoMask",value:function(){return this[ie].stopPreviewVideoMask()}},{key:"switchCamera",value:function(i){return this[ie].switchCamera(i)}},{key:"subscribeVideoStatisticData",value:function(i){return this[ie].subscribeVideoStatisticData(i)}},{key:"unsubscribeVideoStatisticData",value:function(i){return this[ie].unsubscribeVideoStatisticData(i)}},{key:"attachVideo",value:function(i,o,a){return this[ie].attachVideo(i,o,a)}},{key:"detachVideo",value:function(i,o){return this[ie].detachVideo(i,o)}},{key:"spotlightVideo",value:function(i,o){return this[ie].spotlight(i,null!=o&&o)}},{key:"removeSpotlightedVideo",value:function(i){return this[ie].removeSpotlight(i)}},{key:"removeAllSpotlightedVideos",value:function(){return this[ie].removeAllSpotlights()}},{key:"isCapturingVideo",value:function(){return this[ie].isCapturingVideo()}},{key:"isCameraTaken",value:function(){return this[ie].isCameraTaken()}},{key:"getActiveVideoId",value:function(){return this[ie].getActiveVideoId()}},{key:"getActiveCamera",value:function(){return this[ie].getActiveCamera()}},{key:"getCameraList",value:function(){return this[ie].getCameraList()}},{key:"isCaptureForbidden",value:function(){return this[ie].isCaptureForbidden()}},{key:"getVideoMaxQuality",value:function(){return this[ie].getVideoMaxQuality()}},{key:"getReceivedVideoDimension",value:function(){return this[ie].getReceivedVideoDimension()}},{key:"isSupportMultipleVideos",value:function(){return this[ie].isSupportMultipleVideos()}},{key:"isSupportHDVideo",value:function(){return this[ie].isSupportHDVideo()}},{key:"isSupportVirtualBackground",value:function(){return this[ie].isSupportVirtualBackground()}},{key:"getVirtualbackgroundStatus",value:function(){return this[ie].getVirtualbackgroundStatus()}},{key:"getVideoStatisticData",value:function(){return this[ie].getVideoStatisticData()}},{key:"isRenderSelfViewWithVideoElement",value:function(){return this[ie].isRenderSelfViewWithVideoElement()}},{key:"getCapturedVideoResolution",value:function(){return this[ie].getCapturedVideoResolution()}},{key:"getVideoMaskStatus",value:function(){return this[ie].getVideoMaskStatus()}},{key:"isVideoMirrored",value:function(){return this[ie].isVideoMirrored()}},{key:"getSpotlightedUserList",value:function(){return this[ie].getSpotlightedUserList().map(function(i){return Ed(i)})}},{key:"startShareView",value:function(i,o){return this[ie].startShareView(i,o)}},{key:"stopShareView",value:function(){return this[ie].stopShareView()}},{key:"switchShareView",value:function(i){return this[ie].switchShareView(i)}},{key:"startShareScreen",value:function(i,o){return void 0!==o?.broadcastToSubsession&&Object.assign(o||{},{broadcastToBreakoutRoom:o?.broadcastToSubsession}),this[ie].startShareScreen(i,o)}},{key:"pauseShareScreen",value:function(){return this[ie].pauseShareScreen()}},{key:"resumeShareScreen",value:function(){return this[ie].resumeShareScreen()}},{key:"stopShareScreen",value:function(){return this[ie].stopShareScreen()}},{key:"lockShare",value:function(i){return this[ie].lockShare(i)}},{key:"updateSharingCanvasDimension",value:function(i,o){return this[ie].updateSharingCanvasDimension(i,o)}},{key:"switchSharingSecondaryCamera",value:function(i){return this[ie].switchSharingSecondaryCamera(i)}},{key:"setSharePrivilege",value:function(i){return this[ie].setSharePrivilege(i)}},{key:"shareToSubsession",value:function(){return this[ie].shareToBreakoutRoom()}},{key:"stopShareToSubsession",value:function(){return this[ie].stopShareToBreakoutRoom()}},{key:"enableOptimizeForSharedVideo",value:function(i){return this[ie].enableOptimizeForSharedVideo(i)}},{key:"updateSharedVideoQuality",value:function(i){return this[ie].updateSharedVideoQuality(i)}},{key:"subscribeShareStatisticData",value:function(i){return this[ie].subscribeShareStatisticData(i)}},{key:"unsubscribeShareStatisticData",value:function(i){return this[ie].unsubscribeShareStatisticData(i)}},{key:"isShareLocked",value:function(){return this[ie].isShareLocked()}},{key:"getSharePrivilege",value:function(){return this[ie].getSharePrivilege()}},{key:"getActiveShareUserId",value:function(){return this[ie].getActiveShareUserId()}},{key:"getShareStatus",value:function(){return this[ie].getShareStatus()}},{key:"getShareUserList",value:function(){return this[ie].getShareUserList().map(function(i){return Ed(i)})}},{key:"isStartShareScreenWithVideoElement",value:function(){return this[ie].isStartShareScreenWithVideoElement()}},{key:"isOptimizeForSharedVideoEnabled",value:function(){return this[ie].isOptimizeForSharedVideoEnabled()}},{key:"isSupportOptimizedForSharedVideo",value:function(){return this[ie].isSupportOptimizedForSharedVideo()}},{key:"getShareStatisticData",value:function(){return this[ie].getShareStatisticData()}},{key:"requestFarEndCameraControl",value:function(i){return this[ie].requestFarEndCameraControl(i)}},{key:"approveFarEndCameraControl",value:function(i){return this[ie].approveFarEndCameraControl(i)}},{key:"declineFarEndCameraControl",value:function(i){return this[ie].declineFarEndCameraControl(i)}},{key:"giveUpFarEndCameraControl",value:function(i){return this[ie].giveUpFarEndCameraControl(i)}},{key:"controlCamera",value:function(i){return this[ie].controlCamera(i)}},{key:"controlFarEndCamera",value:function(i){return this[ie].controlFarEndCamera(i)}},{key:"getFarEndCameraPTZCapability",value:function(i){return this[ie].getFarEndCameraPTZCapability(i)}},{key:"getCameraPTZCapability",value:function(i){return this[ie].getCameraPTZCapability(i)}},{key:"isBrowserSupportPTZ",value:function(){return this[ie].isBrowserSupportPTZ()}},{key:"getNetworkQuality",value:function(i){return this[ie].getNetworkQuality(i)}},{key:"requestRemoteControl",value:function(){return this[ie].requestRemoteControl()}},{key:"giveUpRemoteControl",value:function(){return this[ie].giveUpRemoteControl()}},{key:"startRemoteControl",value:function(i){return this[ie].startRemoteControl(i)}},{key:"grabRemotoControl",value:function(){return this[ie].grabRemotoControl()}},{key:"approveRemoteControl",value:function(i,o){return this[ie].approveRemoteControl(i,o)}},{key:"declineRemoteControl",value:function(i){return this[ie].declineRemoteControl(i)}},{key:"stopRemoteControl",value:function(){return this[ie].stopRemoteControl()}},{key:"launchRemoteControlApp",value:function(i){return this[ie].launchRemoteControlApp(i)}},{key:"isRemotelyControlApproved",value:function(){return this[ie].isRemotelyControlApproved()}},{key:"isControllingUserRemotely",value:function(){return this[ie].isControllingUserRemotely()}},{key:"isTargetShareSupportRemoteControl",value:function(i){return this[ie].isTargetShareSupportRemoteControl(i)}},{key:"getRemoteControlAppDownloadUrl",value:function(){return this[ie].getRemoteControlAppDownloadUrl()}},{key:"getRemotelyControllingUser",value:function(){return this[ie].getRemotelyControllingUser()}},{key:"isRemoteControlEnabled",value:function(){return this[ie].isRemoteControlEnabled()}}]),t}(),wr=["isCoHost"],ls=Symbol("chat"),Dn=function(){function t(i){Dr(this,t),this[ls]=void 0,this[ls]=i}return Xe(t,[{key:"send",value:function(i,o){return this[ls].send(i,o)}},{key:"sendToAll",value:function(i){return this[ls].send(i,nn.All)}},{key:"sendFile",value:function(i,o){return this[ls].sendFile(i,o)}},{key:"downloadFile",value:function(i,o,a){return this[ls].downloadFile(i,o,a)}},{key:"setPrivilege",value:function(i){return this[ls].setPrivilege(i)}},{key:"getPrivilege",value:function(){return this[ls].getPrivilege()}},{key:"getReceivers",value:function(){return this[ls].getReceivers().map(function(i){return Ft({isManager:i.isCoHost},Qc(i,wr))})}},{key:"getHistory",value:function(){return this[ls].getHistory()}},{key:"isFileTransferEnabled",value:function(){return this[ls].isFileTransferEnabled()}},{key:"getFileTransferSetting",value:function(){return this[ls].getFileTransferSetting()}}]),t}(),Ia=Symbol("recording"),Bb=function(){function t(i){Dr(this,t),this[Ia]=void 0,this[Ia]=i}return Xe(t,[{key:"canStartRecording",value:function(){return this[Ia].isRecordingEnabled()}},{key:"startCloudRecording",value:function(){return this[Ia].startRecording()}},{key:"pauseCloudRecording",value:function(){return this[Ia].pauseRecording()}},{key:"resumeCloudRecording",value:function(){return this[Ia].startRecording()}},{key:"stopCloudRecording",value:function(){return this[Ia].stopRecording()}},{key:"getCloudRecordingStatus",value:function(){return this[Ia].getRecordingStatus()}},{key:"acceptIndividualRecording",value:function(){return this[Ia].accept()}},{key:"declineIndividualRecording",value:function(){return this[Ia].decline()}}]),t}(),xw=Symbol("command"),Hb=function(){function t(i){Dr(this,t),this[xw]=void 0,this[xw]=i}return Xe(t,[{key:"send",value:function(i,o){return this[xw].send(i,o)}}]),t}(),Sx=["isInRoom"],bP=["isAutoJoinRoom","isRoomSelectionEnabled"],Yn=Symbol("breakout-room"),$b=function(){function t(i){Dr(this,t),this[Yn]=void 0,this[Yn]=i}return Xe(t,[{key:"createSubsessions",value:function(i,o){return this[Yn].createRooms(i,o).then(function(a){return a.map(function(c){return{subsessionId:c.roomId,subsessionName:c.name,userList:c.attendeeList}})})}},{key:"openSubsessions",value:function(i,o){var a=o?Ft(Ft({},o),{},{isAutoJoinRoom:o.isAutoJoinSubsession,isRoomSelectionEnabled:o.isSubsessionSelectionEnabled}):void 0,c=i.map(function(l){return{roomId:l.subsessionId,name:l.subsessionName,attendeeList:l.userList}});return this[Yn].openRooms(c,a)}},{key:"joinSubsession",value:function(i){return this[Yn].joinRoom(i)}},{key:"leaveSubsession",value:function(){return this[Yn].leaveRoom()}},{key:"askForHelp",value:function(){return this[Yn].askForHelp()}},{key:"postponeHelping",value:function(i){return this[Yn].postponeHelping(i)}},{key:"broadcast",value:function(i){return this[Yn].broadcast(i)}},{key:"assignUserToSubsession",value:function(i,o){return this[Yn].assignUserToRoom(i,o)}},{key:"moveUserToSubsession",value:function(i,o){return this[Yn].moveUserToRoom(i,o)}},{key:"moveBackToMainSession",value:function(i){return this[Yn].moveBackToMainSession(i)}},{key:"closeAllSubsessions",value:function(){return this[Yn].closeRoom()}},{key:"startBroadcastVoice",value:function(){return this[Yn].startBroadcastVoice()}},{key:"stopBroadcastVoice",value:function(){return this[Yn].stopBroadcastVoice()}},{key:"getUnassignedUserList",value:function(){return this[Yn].getUnassignedAttendeeList().map(function(i){return Ed(i)})}},{key:"getSubsessionList",value:function(){return this[Yn].getRoomList().map(function(i){return{subsessionId:i.roomId,subsessionName:i.name,userList:i.attendeeList.map(function(o){return Ft({isInSubsession:o.isInRoom},Qc(o,Sx))})}})}},{key:"getUserStatus",value:function(){return this[Yn].getAttendeeStatus()}},{key:"getSubsessionStatus",value:function(){return this[Yn].getRoomStatus()}},{key:"getCurrentSubsession",value:function(){var i=this[Yn].getCurrentRoom();return{userStatus:i.attendeeStatus,subsessionName:i.name,subsessionId:i.roomId}}},{key:"getSubsessionOptions",value:function(){var i=this[Yn].getRoomOptions();return Ft({isAutoJoinSubsession:i.isAutoJoinRoom,isSubsessionSelectionEnabled:i.isRoomSelectionEnabled},Qc(i,bP))}}]),t}(),ai=Symbol("liveTranscription"),bx=function(){function t(i){Dr(this,t),this[ai]=void 0,this[ai]=i}return Xe(t,[{key:"startLiveTranscription",value:function(){return this[ai].startLiveTranscription()}},{key:"setSpeakingLanguage",value:function(i){return this[ai].setSpeakingLanguage(i)}},{key:"setTranslationLanguage",value:function(i){return this[ai].setTranslationLanguage(i)}},{key:"getLiveTranscriptionStatus",value:function(){return this[ai].getLiveTranscriptionStatus()}},{key:"getCurrentTranscriptionLanguage",value:function(){return this[ai].getCurrentTranscriptionLanguage()}},{key:"getCurrentTranslationLanguage",value:function(){return this[ai].getCurrentTranslationLanguage()}},{key:"getLatestTranscription",value:function(){return this[ai].getLatestTranscription()}},{key:"getLatestTranslation",value:function(){return this[ai].getLatestTranslation()}},{key:"getFullTranscriptionHistory",value:function(){return this[ai].getFullTranscriptionHistory()}},{key:"disableCaptions",value:function(i){return this[ai].disableCaptions(i)}}]),t}(),Cd=Symbol("liveStream"),Ex=function(){function t(i){Dr(this,t),this[Cd]=void 0,this[Cd]=i}return Xe(t,[{key:"startLiveStream",value:function(i,o,a){return this[Cd].startLiveStream(i,o,a)}},{key:"stopLiveStream",value:function(){return this[Cd].stopLiveStream()}},{key:"isLiveStreamEnabled",value:function(){return this[Cd].isLiveStreamEnabled()}},{key:"getLiveStreamStatus",value:function(){return this[Cd].getLiveStreamStatus()}}]),t}(),Xm=Symbol("logger"),Cx=function(){function t(i,o){Dr(this,t),this[Xm]=void 0,this[Xm]=i,o&&this[Xm].setLogOptions({debugMode:o.debugMode,trackingId:o.trackingId})}return Xe(t,[{key:"reportToGlobalTracing",value:function(i){return this[Xm].reportToGlobalTracing(i)}},{key:"reportRating",value:function(i,o){return this[Xm].reportRating(i,o)}}]),t}(),Ix=["roomName"],EP=["roomId","roomName"],CP=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:function(t){var i=t.roomName,o=Qc(t,Ix);return i?Ft(Ft({},o),{},{subsessionName:i}):t}},{event:"user-added",originalEvent:"user-added",payloadTransform:function(t){return t.map(function(i){return Rh(i)})}},{event:"user-updated",originalEvent:"user-updated",payloadTransform:function(t){return t.map(function(i){return Rh(i)})}},{event:"user-removed",originalEvent:"user-removed",payloadTransform:function(t){return t.map(function(i){return Rh(i)})}},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:function(t){return{subsessionId:t.roomId,subsessionName:t.name}}},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-broadcast-voice",originalEvent:"broadcast-voice"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:function(t){return{userId:t.userId,userGuid:t.userGuid,displayName:t.displayName,subsessionId:t.roomId,subsessionName:t.roomName}}},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-invite-back-to-main-session",originalEvent:"invite-back-to-main-session"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"},{event:"subsession-user-update",originalEvent:"room-user-update",payloadTransform:function(t){return Ft({subsessionId:t.roomId,subsessionName:t.roomName},Qc(t,EP))}},{event:"active-media-failed",originalEvent:"media-internal-error"}],Hs=Symbol("summary"),Gb=function(){function t(i){Dr(this,t),this[Hs]=void 0,this[Hs]=i}return Xe(t,[{key:"startSummary",value:function(){return this[Hs].startSummary()}},{key:"stopSummary",value:function(){return this[Hs].stopSummary()}},{key:"isSummaryEnabled",value:function(){return this[Hs].isSummaryEnabled()}},{key:"getSummaryStatus",value:function(){return this[Hs].getSummaryStatus()}},{key:"startMeetingQuery",value:function(){return this[Hs].startMeetingQuery()}},{key:"stopMeetingQuery",value:function(){return this[Hs].stopMeetingQuery()}},{key:"isMeetingQueryEnabled",value:function(){return this[Hs].isMeetingQueryEnabled()}},{key:"getMeetingQueryStatus",value:function(){return this[Hs].getMeetingQueryStatus()}}]),t}(),Pt=Symbol("Client"),zb=new WeakMap,_x=function(){function t(){Dr(this,t),this[Pt]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this[Pt]=Du.createClient(),zb.set(this,new Map)}return Xe(t,[{key:"init",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",o=arguments.length>2?arguments[2]:void 0,a=ki(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global");return!1===window.isSecureContext&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),function(){var c="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(c,c),localStorage.removeItem(c),sessionStorage.setItem(c,c),sessionStorage.removeItem(c),!0}catch{return!1}}()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[Pt].init("","",{language:i,dependentAssets:a,constraints:Ft(Ft({},Du.checkSystemRequirements()),{},{screen:"object"===(typeof WebAssembly>"u"?"undefined":Vi(WebAssembly))&&"function"==typeof Worker}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary"],webEndpoint:o?.webEndpoint||"zoom.us",skipJsMedia:o?.skipJsMedia,enforceMultipleVideos:o?.enforceMultipleVideos,stayAwake:o?.stayAwake,enforceVirtualBackground:o?.enforceVirtualBackground,quicklyLeaveMeeting:o?.leaveOnPageUnload,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})}},{key:"join",value:function(i,o,a,c,l){return vP(i)&&vP(o)&&vP(a)?i.length>200?Promise.reject({type:jb,reason:"The maximum length of topic is 200"}):a.length>200?Promise.reject({type:jb,reason:"The maximum length of username is 200"}):c&&("string"!=typeof c||c.length>10)?Promise.reject({type:jb,reason:"The maximum length of password is 10"}):this[Pt].joinInstant(i,o,a,Ym,c,l):Promise.reject({type:jb,reason:"Topic, token and userName must be string and required"})}},{key:"leave",value:function(){var i;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(null===(i=zb.get(this))||void 0===i||i.clear(),this[Pt].end()):this[Pt].leave()}},{key:"on",value:function(i,o){var a=CP.find(function(v){return v.event===i});if(a){var c=a.originalEvent,l=a.payloadTransform;if(l){var p=function(v){var y=l(v);o(y)};this[Pt].on(c,p);var h=zb.get(this);if(h){h.has(i)||h.set(i,[]);var g=h.get(i);g?.push({originalCb:o,newCb:p})}}else this[Pt].on(c,o)}else this[Pt].on(i,o)}},{key:"off",value:function(i,o){var a=CP.find(function(v){return v.event===i});if(a){var c=a.originalEvent;if(a.payloadTransform){var l=zb.get(this);if(l){var p=l.get(i),h=p?.find(function(v){return v.originalCb===o});if(h&&p){this[Pt].off(c,h.newCb);var g=p?.filter(function(v){return v.originalCb!==o});l.set(i,g)}}}else this[Pt].off(c,o)}else this[Pt].off(i,o)}},{key:"getMediaStream",value:function(){return this.stream||(this.stream=new yx(this[Pt].getMediaStream())),this.stream}},{key:"getChatClient",value:function(){return this.chat||(this.chat=new Dn(this[Pt].getFeatureModule("chat"))),this.chat}},{key:"getRecordingClient",value:function(){return this.recording||(this.recording=new Bb(this[Pt].getFeatureModule("recording"))),this.recording}},{key:"getCommandClient",value:function(){return this.command||(this.command=new Hb(this[Pt].getFeatureModule("cmd"))),this.command}},{key:"getSubsessionClient",value:function(){return this.subsession||(this.subsession=new $b(this[Pt].getFeatureModule("breakoutRoom"))),this.subsession}},{key:"getLiveTranscriptionClient",value:function(){return this.liveTranscription||(this.liveTranscription=new bx(this[Pt].getFeatureModule("liveTranscription"))),this.liveTranscription}},{key:"getLoggerClient",value:function(i){return this.logger||(this.logger=new Cx(this[Pt].getFeatureModule("logger"),i)),this.logger}},{key:"getLiveStreamClient",value:function(){return this.liveStream||(this.liveStream=new Ex(this[Pt].getFeatureModule("liveStream"))),this.liveStream}},{key:"getAIClient",value:function(){return this.aiClient||(this.aiClient=new Gb(this[Pt].getFeatureModule("summary"))),this.aiClient}},{key:"getSessionInfo",value:function(){var i=this[Pt].getMeetingInfo();return{isInMeeting:i.isInMeeting||!1,password:i.password||"",topic:i.topic,userName:i.userName,userId:i.userId,sessionId:i.meetingId}}},{key:"getCurrentUserInfo",value:function(){return Ed(this[Pt].getCurrentUserInfo())}},{key:"getUser",value:function(i){return Ed(this[Pt].getParticipantsList().find(function(o){return o.userId===i}))}},{key:"getAllUser",value:function(){return this[Pt].getParticipantsList().map(function(i){return Ed(i)})}},{key:"changeName",value:function(i,o){return this[Pt].changeName(i,o)}},{key:"makeHost",value:function(i){return this[Pt].makeHost(i)}},{key:"removeUser",value:function(i){return this[Pt].removeUser(i)}},{key:"makeManager",value:function(i){return this[Pt].makeCoHost(i)}},{key:"revokeManager",value:function(i){return this[Pt].revokeCoHost(i)}},{key:"reclaimHost",value:function(){return this[Pt].reclaimHost()}},{key:"isHost",value:function(){return this[Pt].isHost()}},{key:"isOriginalHost",value:function(){return this[Pt].isOriginHost()}},{key:"getSessionHost",value:function(){return Ed(this[Pt].getMeetingHost())}},{key:"isManager",value:function(){return this[Pt].isCoHost()}}]),t}(),ev=function(){function t(){Dr(this,t)}return Xe(t,null,[{key:"createClient",value:function(){return this.videoClient||(this.videoClient=new _x),this.videoClient}},{key:"destroyClient",value:function(){this.videoClient&&(this.videoClient.leave(),this.videoClient=null)}},{key:"checkSystemRequirements",value:function(){return Du.checkSystemRequirements()}},{key:"checkFeatureRequirements",value:function(){return Du.checkFeatureRequirements()}},{key:"getDevices",value:function(i){return Du.getDevices(i)}},{key:"createLocalAudioTrack",value:function(){return Du.createLocalAudioTrack(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},{key:"createLocalVideoTrack",value:function(){return Du.createLocalVideoTrack(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},{key:"preloadDependentAssets",value:function(){Du.preloadDependentAssets(ki(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global"))}}]),t}();ev.videoClient=void 0,ev.VERSION=Ym,$e.ChatPrivilege=void 0,(Oh=$e.ChatPrivilege||($e.ChatPrivilege={}))[Oh.All=1]="All",Oh[Oh.NoOne=4]="NoOne",Oh[Oh.EveryonePublicly=5]="EveryonePublicly",$e.ChatMsgType=void 0,(Ca=$e.ChatMsgType||($e.ChatMsgType={}))[Ca.All=0]="All",$e.SubsessionAllocationPattern=void 0,(qt=$e.SubsessionAllocationPattern||($e.SubsessionAllocationPattern={}))[qt.Automatically=yp.Automatically]="Automatically",qt[qt.Manually=yp.Manually]="Manually",$e.SubsessionUserStatus=void 0,(Dt=$e.SubsessionUserStatus||($e.SubsessionUserStatus={}))[Dt.Initial=je.Initial]="Initial",Dt[Dt.Invited=je.Invited]="Invited",Dt[Dt.Joining=je.Joining]="Joining",Dt[Dt.InSubsession=je.InRoom]="InSubsession",Dt[Dt.Leaving=je.Leaving]="Leaving",Dt[Dt.MainSession=je.MainSession]="MainSession",$e.SubsessionStatus=void 0,(Uc=$e.SubsessionStatus||($e.SubsessionStatus={}))[Uc.NotStarted=dt.NotStarted]="NotStarted",Uc[Uc.InProgress=dt.InProgress]="InProgress",Uc[Uc.Closing=dt.Closing]="Closing",Uc[Uc.Closed=dt.Closed]="Closed",$e.ReconnectReason=void 0,(Bs=$e.ReconnectReason||($e.ReconnectReason={}))[Bs.Failover=nr.Failover]="Failover",Bs[Bs.JoinSubsession=nr.JoinBreakoutRoom]="JoinSubsession",Bs[Bs.MoveToSubsession=nr.MoveToBreakoutRoom]="MoveToSubsession",Bs[Bs.BackToMainSession=nr.BackToMainSession]="BackToMainSession",$e.SharePrivilege=void 0,(si=$e.SharePrivilege||($e.SharePrivilege={}))[si.Unlocked=Si.HostGrab]="Unlocked",si[si.Locked=Si.OnlyHost]="Locked",si[si.MultipleShare=Si.MultipleShare]="MultipleShare",$e.RemoteControlAppStatus=void 0,(Li=$e.RemoteControlAppStatus||($e.RemoteControlAppStatus={}))[Li.Unknown=Sn.Unknown]="Unknown",Li[Li.Uninstalled=Sn.Uninstalled]="Uninstalled",Li[Li.Installed=Sn.Installed]="Installed",Li[Li.Unlaunched=Zv.Unlaunched]="Unlaunched",Li[Li.Launched=Zv.Launched]="Launched",$e.ApprovedState=sp,$e.AskHostHelpResponse=_s,$e.AudioChangeAction=Qi,$e.CRCProtocol=YD,$e.CRCReturnCode=up,$e.CameraControlCmd=c0,$e.ChatFileDownloadStatus=Wo,$e.ChatFileUploadStatus=rr,$e.ConnectionState=Wi,$e.DialoutState=jt,$e.FarEndCameraControlDeclinedReason=Kv,$e.LeaveAudioSource=lr,$e.LiveStreamStatus=Eu,$e.LiveTranscriptionLanguage=ix,$e.LiveTranscriptionLanguageCode=hP,$e.LiveTranscriptionMessageSource=bu,$e.MobileVideoFacingMode=Ua,$e.MutedSource=yi,$e.PassiveStopShareReason=ml,$e.RecordingStatus=vr,$e.RemoteControlSessionStatus=yl,$e.ShareStatus=_t,$e.VideoActiveState=gl,$e.VideoCapturingState=qv,$e.VideoQuality=qo,$e.default=ev,Object.defineProperty($e,"__esModule",{value:!0})}(Lh)},293:Ao=>{function Lh(Oe,$e,Kc,Ft,Vi,Dr,Bo){try{var Xe=Oe[Dr](Bo),Gs=Xe.value}catch(Qc){return void Kc(Qc)}Xe.done?$e(Gs):Promise.resolve(Gs).then(Ft,Vi)}Ao.exports=function Td(Oe){return function(){var $e=this,Kc=arguments;return new Promise(function(Ft,Vi){var Dr=Oe.apply($e,Kc);function Bo(Gs){Lh(Dr,Ft,Vi,Bo,Xe,"next",Gs)}function Xe(Gs){Lh(Dr,Ft,Vi,Bo,Xe,"throw",Gs)}Bo(void 0)})}},Ao.exports.__esModule=!0,Ao.exports.default=Ao.exports}},Ao=>{Ao(Ao.s=922)}]);